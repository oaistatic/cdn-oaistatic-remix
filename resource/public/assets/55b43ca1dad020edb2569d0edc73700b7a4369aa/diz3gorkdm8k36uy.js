import{j as e,M as R,c as k,r as l}from"./i8w88cc8b3gds516.js";import{cX as C,O as j,cY as O,bE as y,cZ as A,c_ as M,c$ as b,d0 as F,d1 as P,d2 as _,d3 as H,d4 as B,d5 as D}from"./jg63sxiyqeyvfv9f.js";import{b as x}from"./mwkkzpk83u6e8doo.js";import{ds as I,an as T,ar as U,eb as X,dn as W}from"./eh26o1l35t2fnjj4.js";import"./dyuarriie396ezxd.js";import"./53nax822pkd7iwth.js";import"./ft5z2r2wosrho43b.js";function Y({currentGizmoId:t,onClick:o}){const{isSidebarFlyoutOpen:r,onSidebarFlyoutOpenChange:i}=C(),s=r(j.Snorlax);return e.jsx("div",{className:"group flex w-full items-center justify-start screen-arch:mt-1",children:e.jsx(I,{onOpenChange:a=>i(j.Snorlax,a),side:"right",sideOffset:4,open:s,contentAlign:"end",triggerButton:e.jsxs("button",{className:T("flex flex-1 select-none items-center gap-2.5 rounded-lg px-2 py-1.5 text-sm tracking-condensed text-token-text-secondary ease-[var(--spring-bounce)] hover:bg-token-sidebar-surface-secondary focus:ring-0 screen-arch:py-[7px] screen-arch:text-body screen-arch:hover:bg-token-main-surface-secondary motion-safe:active:scale-[98%] motion-safe:active:transition-transform",s&&"bg-token-main-surface-secondary"),onClick:o,children:[e.jsx("div",{className:"h-6 w-6",children:e.jsx("div",{className:"relative flex h-full items-center justify-center text-token-text-primary",children:e.jsx(O,{className:"icon-md font-semibold text-token-sidebar-icon"})})}),e.jsx("span",{className:"text-left",children:e.jsx(R,{...y.seeMoreProjectItems})})]}),size:"auto",children:e.jsx("div",{className:"max-h-[50dvh] w-80 overflow-x-auto px-2 [scrollbar-gutter:stable]",children:e.jsx(U,{children:e.jsx(A,{currentGizmoId:t,inSidebar:!0,customListItem:x})})})})})}function Z({snorlaxes:t,currentGizmoId:o}){return e.jsx(e.Fragment,{children:t.map(r=>e.jsx(x,{gizmo:r.gizmo,isActive:r.gizmo.gizmo.id===o},r.gizmo.gizmo.id))})}function te({currentGizmoId:t,includeRevisedSidebarIa:o}){const r=k(),i=l.useRef(!1),{snorlaxes:s,data:a,isLoading:n,isError:v,refetch:u,hasNextPage:N}=M(),h=s.slice(0,b),d=l.useRef(!1),[z,g]=l.useState(!0),f=l.useCallback(function(E){E&&g(!1),u()},[u,g]),w=s&&(s?.length>b||N),S=(s??[]).length===0,m=v||a===void 0&&!n&&d.current,L=X()&&!m&&(a===void 0||n);a===void 0&&!n&&!d.current&&(d.current=!0,f(!1));const p=s?.find(c=>c.gizmo.gizmo.id===t);return s?.length>0&&!i.current&&(F({namespace:P.ChatPageLoad})?.logTiming("render_snorlax_sidebar"),i.current=!0),e.jsxs(e.Fragment,{children:[m&&e.jsx(_,{showRetry:z,refetch:f}),!m&&!n&&e.jsxs(H,{condensed:o,header:e.jsxs(e.Fragment,{children:[r.formatMessage(y.projectsHeading),!S&&e.jsx(B,{})]}),isLastInGroup:!0,ulClassName:"screen-arch:mb-3",children:[e.jsx(Z,{snorlaxes:h,currentGizmoId:t}),p&&!h.some(c=>c.gizmo.gizmo.id===t)&&e.jsx(x,{gizmo:p.gizmo,isActive:!0}),w&&e.jsx(Y,{currentGizmoId:t}),!n&&S&&e.jsx(D,{})]}),L&&e.jsx(W,{className:"sticky top-4 z-30 mt-4 justify-self-center"})]})}export{te as SnorlaxSidebarList};
//# sourceMappingURL=diz3gorkdm8k36uy.js.map
