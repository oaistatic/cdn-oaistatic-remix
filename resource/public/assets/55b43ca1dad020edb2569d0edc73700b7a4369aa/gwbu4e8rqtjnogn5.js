import{f as p,e as P,X as d,r as s,ae as R,j as l}from"./i8w88cc8b3gds516.js";import{bt as h}from"./jg63sxiyqeyvfv9f.js";import{aP as A,a5 as C,dn as g,bB as E,bC as y,aa as O,fR as L,P as M,j as T}from"./eh26o1l35t2fnjj4.js";import{C as j}from"./gs4pg1yggvcqks5g.js";const m={pro:"chatgptpro",plus:"chatgptplusplan"},f=Object.keys(j),w={oiw216z:"sora_redirect"};function N(){const[_]=p(),a=P(),r=A(),{plan:t}=d(),e=_.get("checkout_from"),c=s.useRef(!1),o=C(),n=s.useMemo(()=>o?.subscriptionAnalyticsParams,[o]);if(!t||!(t in m))throw R("/");return s.useEffect(()=>{if(c.current)return;c.current=!0,(async()=>{const u=e&&f.includes(e)?w[e]:"purchase_plan_redirect";try{e&&f.includes(e)&&E.setItem(y.CheckoutFrom,e);const i=await O.getCheckoutLink(r,{plan_name:m[t],billing_details:{currency:L}});M.logEvent(T.accountPaymentRedirect,{...n,plan:t,location:u}),window.location.href=i.url}catch{h(a,u)}})()},[a,r,t,e,n]),l.jsx("div",{className:"flex h-full w-full items-center justify-center",children:l.jsx(g,{})})}export{N as default};
//# sourceMappingURL=gwbu4e8rqtjnogn5.js.map
