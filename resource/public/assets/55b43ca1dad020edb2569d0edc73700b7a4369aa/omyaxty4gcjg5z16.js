import{e as p,r as l,c as g,j as e,M as d}from"./i8w88cc8b3gds516.js";import{ap as f,a5 as m,dn as v,bn as G,f as y,eb as j,fF as M}from"./eh26o1l35t2fnjj4.js";import{o as P,fn as T,fy as C,fw as N}from"./jg63sxiyqeyvfv9f.js";import{C as w,b as S,c as z,a as E}from"./i8svd71fvah1tt8i.js";import{G as A}from"./i4747znwwuhacfc2.js";import{E as L,P as k}from"./dyuarriie396ezxd.js";import"./jzhplvlpjjzcf6w8.js";import"./mwkkzpk83u6e8doo.js";import"./53nax822pkd7iwth.js";import"./ft5z2r2wosrho43b.js";import"./jv2eknshvxtq04lj.js";import"./cty1v3jstgrcswrf.js";import"./bbqpe4qtq6w5lm6e.js";import"./diz3gorkdm8k36uy.js";const _=20,x=f.div`border-b-2 border-b-black pb-3 dark:border-b-white`,h=f.div`cursor-pointer border-b-2 border-b-transparent pb-3 text-token-text-secondary`;function I(){const s=m(),n=p(),t=s?.isWorkspaceAccount(),[a,r]=l.useState("mine");P({resetThreadAction:()=>{n("/")}});const o=g();if(s==null)return null;const c=e.jsx(d,{id:"1pqG1A",defaultMessage:"Created by me"}),i=e.jsx(d,{id:"2oQjZs",defaultMessage:"Shared with me"});return e.jsx("div",{className:"relative",children:e.jsxs("div",{className:"mx-auto max-w-3xl px-4 py-12 pt-0",children:[e.jsx("h1",{className:"mb-8 text-xl font-semibold md:text-2xl",children:e.jsx(d,{id:"dgQTc/",defaultMessage:"My GPTs"})}),t&&(a==="mine"?e.jsxs("div",{className:"mb-4 flex flex-row space-x-4",children:[e.jsx(x,{children:c}),e.jsx(h,{onClick:()=>r("shared_with_me"),children:i})]}):e.jsxs("div",{className:"mb-4 flex flex-row space-x-4",children:[e.jsx(h,{onClick:()=>r("mine"),children:c}),e.jsx(x,{children:i})]})),a==="mine"&&e.jsx(w,{type:S.Enabled}),e.jsx(B,{emptyMessage:a==="shared_with_me"?o.formatMessage({id:"zG4NW2",defaultMessage:"No GPTs have been shared with you yet"}):void 0,cutId:a},a)]})})}function B({cutId:s,emptyMessage:n}){const[t,a]=l.useState(!0),{data:r,hasNextPage:o,fetchNextPage:c,isLoading:i}=T({cutId:s,limit:_,enabled:t});return i&&r==null?e.jsx("div",{className:"my-8 flex justify-center",children:e.jsx(v,{})}):!i&&r?.pages?.[0].list.items.length===0&&!o?e.jsx("span",{children:n}):e.jsxs("div",{children:[e.jsx("div",{children:r?.pages.flatMap(b=>b.list.items.map(({resource:u})=>e.jsx(z,{gizmoResource:u},u.gizmo.id)))}),!t||o||i?e.jsx(G,{color:"secondary",onClick:()=>{t?c():a(!0)},loading:i,fullWidth:!0,children:e.jsx(d,{...F.discoveryLoadMore})}):null]})}const F=y({discoveryLoadMore:{id:"gizmo.mygpts.loadMore",defaultMessage:"Load more"}});function R({children:s}){const n=j();return m()==null?null:e.jsxs("div",{children:[s,!n&&e.jsx("div",{className:"fixed bottom-3 right-3",children:e.jsx(C,{})})]})}const ee=()=>(M(),null);function se(){const s=m(),n=s?.canCreateGPTs(),t=p(),a=j();if(l.useEffect(()=>{s!=null&&!n&&t("/gpts")},[s,n,t]),!s?.canCreateGPTs())return null;const r=e.jsx(R,{children:e.jsx(I,{})});return a?e.jsx(E,{children:r}):e.jsx(A,{header:e.jsxs(N,{children:[e.jsx(L,{}),e.jsx("div",{className:"ml-auto",children:e.jsx(k,{})})]}),children:r})}export{ee as clientLoader,se as default};
//# sourceMappingURL=omyaxty4gcjg5z16.js.map
