import{r as c,j as n}from"./i8w88cc8b3gds516.js";import{dR as p,dS as h,dT as f,dU as x,dV as S,dW as _,dX as w}from"./jg63sxiyqeyvfv9f.js";import{J as g,a as A}from"./fqvmdqxedgfcj4co.js";import{h as b,r as j}from"./eh26o1l35t2fnjj4.js";function E(r,i){const t=i.find(s=>s.message.author.role===b.Assistant),e=j.getTree(r),a=(t?e.getParentPromptNode(t.nodeId):null)?.message.metadata,o=a?.real_author_type==="automation"?a?.real_author_id:null,l=a?.real_author_title,m=p(s=>h.getAutomation(o??"",s));return c.useEffect(()=>{o&&!m&&f.getAutomation(o).then(s=>{x.setAutomation(o,s)})},[m,o]),{automationId:o,automation:m,automationTitle:l}}function v({clientThreadId:r,messages:i}){const{automationId:t,automation:e,automationTitle:d}=E(r,i),[a,u]=c.useState(!1);return c.useEffect(()=>{t&&S.count(_.JAWBONE,"jawbone_automation_source_header.open")},[t]),t?n.jsxs("div",{className:"mb-1 flex items-center gap-1.5 text-sm text-token-text-secondary hover:text-token-text-primary",children:[n.jsx(w,{className:"icon-sm"}),n.jsx("button",{onClick:()=>{u(!0)},children:e?.title??d}),a&&n.jsx(g,{initialScheduleComponents:e.schedule_components,nextRunTimes:e.next_run_times,children:n.jsx(A,{item:e,onClose:()=>{u(!1)}})})]}):null}export{v as AutomationSourceHeader};
//# sourceMappingURL=cugsqf18bce1nyqa.js.map
