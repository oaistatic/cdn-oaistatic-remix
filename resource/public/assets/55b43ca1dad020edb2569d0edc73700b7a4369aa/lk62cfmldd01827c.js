import{c as O,r as c,e as H,j as e,M as x,k as w,a2 as R,d as V,f as z}from"./i8w88cc8b3gds516.js";import{T as _,m as K,L as q}from"./jzddjdljwyzxkvxz.js";import{bU as Q,cT as X,an as P,P as y,Q as b,U as I,cV as M,bn as F,j as G,S as Y,g8 as $,f as J,y as Z,bM as ee}from"./eh26o1l35t2fnjj4.js";import{c as te}from"./dg4u551riw1km98k.js";import{dp as W,dq as se,be as ne,dr as oe,ds as ie,dt as ae,du as re,i as k,dv as N,dw as S,dx as U,dy as le,f as ce,h as ue,bw as de}from"./jg63sxiyqeyvfv9f.js";import"./isjdmfmhzv09v01t.js";function ge({auth0Provider:t,nextUrl:i,isStorageComplianceEnabled:a}){const s=W(),n=O(),[o,r]=c.useState(!1),d=se(),p=H(),A=ne(m.signUp),{value:g}=Q("2131161815"),h=oe(),E=ie(),j=ae(),T=re(),u=E(),l=j(),f=T(),{country:L}=X(),B=!s||g&&!o,C=()=>{y.logLogInButtonClicked({provider:t,location:"Login page"}),o||setTimeout(()=>{r(!0)},500),w.signIn(t,{callbackUrl:i},{prompt:"login",...k(M()),...u||h?{[N]:"true"}:{},...l?{[S]:"true"}:{},...L?{country_code:L}:{},...f?{[U]:"true"}:{}})};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"relative flex grow flex-col items-center justify-between bg-white px-5 py-8 text-black dark:bg-black dark:text-white sm:rounded-t-[30px] md:rounded-none md:px-6",children:[!s&&e.jsx("nav",{className:"flex w-full justify-start px-6 pb-8 md:hidden md:px-6 lg:px-8",children:e.jsx("h1",{"aria-label":n.formatMessage(m.ariaLabel),children:e.jsx("div",{className:"flex cursor-default items-center text-[20px] font-bold leading-none lg:text-[22px]",children:e.jsx("div",{children:_})})})}),e.jsxs("div",{className:"relative flex w-full grow flex-col items-center justify-center",children:[e.jsx("h2",{className:"text-center text-[20px] leading-[1.2] md:text-[32px] md:leading-8",children:s?e.jsx("div",{children:_}):e.jsx(x,{...m.pageTitle})}),e.jsx("div",{className:"mt-5 w-full max-w-[440px]",children:e.jsx(e.Fragment,{children:e.jsxs("div",{className:P("grid gap-x-3 gap-y-2",s?"mx-16 gap-y-4 sm:grid-cols-1 sm:gap-y-4":"sm:grid-cols-2 sm:gap-y-0"),children:[e.jsx(v,{blue:!0,loading:o,testid:"login-button",onClick:C,children:e.jsx(x,{...m.logIn})}),s&&o&&e.jsx(v,{ghost:!0,testid:"login-tryagain-button",onClick:C,children:e.jsx(x,{...m.logInTryAgain})}),B&&e.jsx(v,{blue:!0,testid:"signup-button",onClick:()=>{y.logSignUpButtonClicked({provider:"auth0",location:"Login page"}),b.setCookie(I.SignupRedirectUrl,i,{maxAge:60*60*3}),w.signIn(t,{callbackUrl:i},{prompt:"login",screen_hint:"signup",...k(M()),...u||h?{[N]:"true"}:{},...l?{[S]:"true"}:{},...L?{country_code:L}:{},...f?{[U]:"true"}:{}})},children:e.jsx(x,{...A})})]})})}),d?e.jsx(F,{color:"ghost",className:"mt-2 sm:mt-5",onClick:D=>{D.preventDefault(),y.logEvent(G.authTryItFirstLinkClicked),Y.logEvent("chatgpt_auth_try_it_first_link_clicked"),p("/")},children:e.jsx(x,{...m.tryItFirst})}):null]}),e.jsxs("div",{className:"mt-10 flex flex-col justify-center",children:[e.jsx("div",{className:"flex justify-center text-gray-300 md:mb-3",children:e.jsx($,{className:"h-[22px] w-auto"})}),e.jsx(te,{isStorageComplianceEnabled:a})]})]})})}function v({icon:t,children:i,className:a,onClick:s,testid:n,blue:o=!1,ghost:r=!1,loading:d=!1}){return e.jsxs(F,{color:o?"blue":r?"ghost":"primary",loading:d,size:"large","data-testid":n,onClick:s,className:a,children:[t?e.jsx("div",{className:P("h-5 w-5 justify-self-start",{}),style:{backgroundImage:t}}):null,e.jsx("span",{children:i})]})}const m=J({pageTitle:{id:"Login.pageTitle",defaultMessage:"Get started"},ariaLabel:{id:"Login.ariaLabel",defaultMessage:"ChatGPT by OpenAI"},welcome:{id:"Login.welcome",defaultMessage:"Welcome to ChatGPT"},logIn:{id:"Login.logIn",defaultMessage:"Log in"},logInTryAgain:{id:"Login.logInTryAgain",defaultMessage:"Try again"},signUp:{id:"Login.signUp",defaultMessage:"Sign up"},continueWithGoogle:{id:"Login.continueWithGoogle",defaultMessage:"Continue with Google"},continueWithMicrosoft:{id:"Login.continueWithMicrosoft",defaultMessage:"Continue with Microsoft"},useDevAuth:{id:"Login.useDevAuth",defaultMessage:"Use dev auth"},useProdAuth:{id:"Login.useProdAuth",defaultMessage:"Use prod auth"},orTryAnotherWay:{id:"Login.orTryAnotherWay",defaultMessage:"Or try another way"},logInWithOpenAI:{id:"Login.logInWithOpenAI",defaultMessage:"Log in with your OpenAI account to continue"},tryItFirst:{id:"Login.tryItFirst",defaultMessage:"Try it first"}});function he({auth0Provider:t,cfConnectingIp:i,isStorageComplianceEnabled:a}){const{hash:s}=V(),[n]=z(),o=n.get("next"),r=(o?.startsWith("/")?o:"/")+s,d=O(),p=Z(),A=c.useRef(!1),g=n.get("sso"),h=g?n.get("connection"):void 0,j=le()(),u=ce()??(ue(n,!0,j)||t);return c.useEffect(()=>{sessionStorage.setItem(de,u.toString())},[u]),c.useEffect(()=>{if(g){const l=b.getCookie(I.DeviceId)?.toString();w.signIn(u,{callbackUrl:r},{...l?{device_id:l}:{},...h?{connection:h}:{},...k(l)})}},[r,g,h,u]),c.useEffect(()=>{y.logEvent(G.loggedOutOpenedAuthLogin,{cfConnectingIp:i})},[i]),c.useEffect(()=>{window.location.hash==="#pricing"&&b.setCookie(I.ShowPaymentModal,!0,{maxAge:6*60*60})},[]),c.useEffect(()=>{if(A.current)return;A.current=!0;const l=n.get("inv_ws_name"),f=n.get("inv_email");l&&f&&p.success(d.formatMessage(K.invitedToastMessage,{workspace_name:l,email:f}),{hasCloseButton:!0,duration:600})},[n,d,p]),g?null:e.jsx(me,{auth0Provider:u,nextUrl:r,isStorageComplianceEnabled:a})}const me=({auth0Provider:t,nextUrl:i,isStorageComplianceEnabled:a})=>e.jsxs(e.Fragment,{children:[e.jsx(fe,{auth0Provider:t,nextUrl:i,isStorageComplianceEnabled:a}),!1]});function fe({auth0Provider:t,nextUrl:i,isStorageComplianceEnabled:a}){const s=W(),n=ee(),o=c.useRef(null);return c.useEffect(()=>{if(s)return;o.current==null&&(o.current=document.body.style.backgroundColor);const r=n?"#00002E":"#FFFFDB";return document.body.style.backgroundColor=r,()=>{o.current!=null&&(document.body.style.backgroundColor=o.current)}},[n,s]),e.jsxs("div",{className:P("flex min-h-full w-screen flex-col sm:supports-[min-height:100dvh]:min-h-[100dvh] md:grid",s?"md:grid-cols-1":"md:grid-cols-2 lg:grid-cols-[60%_40%]"),children:[!s&&e.jsx(q,{}),e.jsx(ge,{auth0Provider:t,nextUrl:i,isStorageComplianceEnabled:a})]})}function ve(){const t=R();return e.jsx(he,{...t})}export{ve as default};
//# sourceMappingURL=lk62cfmldd01827c.js.map
