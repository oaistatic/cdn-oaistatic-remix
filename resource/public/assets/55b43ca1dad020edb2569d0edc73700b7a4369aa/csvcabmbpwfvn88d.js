const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/b462196z94kk6i82.js","assets/i8w88cc8b3gds516.js","assets/n3f3nqcdnta9m7mu.js","assets/jg63sxiyqeyvfv9f.js","assets/eh26o1l35t2fnjj4.js","assets/root-inht5vcp.css","assets/conversation-small-nranh1cg.css","assets/dyuarriie396ezxd.js","assets/ctlsvvj6folqh10x.js","assets/hlm6hsp0qis3d7zg.js","assets/j14akxnqigsmgi7w.js","assets/ln72qaf6x6k87xpg.js","assets/h5ki4u1sjcr6cdl0.js","assets/e7ldcb1pybd2xac9.js"])))=>i.map(i=>d[i]);
import{j as e,r as u}from"./i8w88cc8b3gds516.js";import{gi as V,gj as G,gk as K,gl as Q,ck as J,gm as X,gn as Y,go as Z,gp as w,gq as ee,gr as se,gs as ae,gt as re,gu as te,Y as ne,gv as oe,gw as _,gx as ie,bf as L,gy as ce,gz as de,gA as le,fu as he,W as me,gB as ue,gC as pe,cI as Ce,cJ as xe,cK as ge,cM as Te,cL as ve,cN as Se}from"./jg63sxiyqeyvfv9f.js";import{aM as A,aN as B,gy as W,H as je,bz as fe,d$ as ye,g1 as be,ar as z,fn as r,an as p,ai as Ie,X as Ne,ah as we,df as Le,b$ as Me,K as Ee,gz as He,b4 as ke}from"./eh26o1l35t2fnjj4.js";import{S as Fe,u as U,E as De,C as R,c as Pe,T as Re,d as _e}from"./ctlsvvj6folqh10x.js";import{f as M,u as Ae}from"./dyuarriie396ezxd.js";import{C as Be}from"./ft5z2r2wosrho43b.js";import{C as We}from"./jzhplvlpjjzcf6w8.js";function ze({clientThreadId:a,currentModelId:t,isModelLoaded:d,onRequestCompletion:s,chatgptHomepageDisclaimer:i}){return e.jsx(Fe,{clientThreadId:a,currentModelId:t,isModelLoaded:d,onRequestCompletion:s,chatgptHomepageDisclaimer:i})}const Ue=A(()=>B(()=>import("./b462196z94kk6i82.js"),__vite__mapDeps([0,1,2,3,4,5,6,7])).then(a=>a.ChatScreenContentModals));function qe({disableEmptyState:a,fullWidth:t,renderEmptyState:d}){const{clientThreadId:s,currentModelId:i,conversationLeafId:n,isCompanionWindow:x,isEmbeddedInFocusedView:o,onChangeItemInView:l,onChangeRating:h,onRequestCompletion:m,onRequestMoreCompletions:f,isModelLoaded:S,prefetchSearch:y}=u.useContext(M),C=W(s,n),T=je(s,fe.getScrollToMessageId),j={clientThreadId:s,conversationLeafId:n,currentModelId:i,onChangeItemInView:l,onChangeRating:h,onRequestMoreCompletions:f,onRequestCompletion:m,showAvatar:!1},b=ye(s),I=V({clientThreadId:s,currentLeafId:n,handleRequestCompletion:m,prefetchSearchPromise:y}),v=b||I||a,g=be(),{initialConversationTurns:E,continuedConversationTurns:H}=G(C,g),{canUseNewHomepage:k,showEmptyState:q}=U({clientThreadId:s,currentLeafId:n}),$=C>=2;K($);const{setTargetedContent:F}=Q(),O=J(i),D=X(s);Y(C,s,n),u.useEffect(()=>{o||F(void 0)},[s,F,o]);const P=Z(s,n);if(q){if(d!=null)return d();if(k&&!v){const c=x?null:e.jsx("div",{className:"text-center text-xs text-token-text-secondary",children:e.jsx(w,{clientThreadId:s})});return e.jsx(ze,{clientThreadId:s,currentModelId:i,isModelLoaded:S,onRequestCompletion:m,chatgptHomepageDisclaimer:c})}else if(!k&&!v)return e.jsx(De,{clientThreadId:s,currentModelId:i,isModelLoaded:S,onRequestCompletion:m,showChatgptHomepage:!O,chatgptHomepageDisclaimer:e.jsx(w,{clientThreadId:s})})}return e.jsxs(e.Fragment,{children:[g&&e.jsx(ee,{}),g&&H.length===0&&e.jsx(se,{}),e.jsx(z,{children:e.jsxs(u.Suspense,{fallback:null,children:[e.jsx(ae,{}),E.length>0&&e.jsx("ol",{className:r.conversationTurnList,onCopy:D,children:E.map(({turnIndex:c,isFinalTurn:N})=>e.jsx("li",{className:p(r.conversationTurnWrapper,t&&"w-full"),children:u.createElement(R,{...j,key:`${s}-${c}`,turnIndex:c,isFinalTurn:N,scrollToMessageId:T,dateHeaderType:P(c)})},c))}),g&&e.jsx(re,{}),e.jsx("ol",{className:r.conversationTurnList,onCopy:D,children:H.map(({turnIndex:c,isFinalTurn:N})=>e.jsx("li",{className:p(r.conversationTurnWrapper,t&&"w-full"),children:u.createElement(R,{...j,key:`${s}-${c}`,turnIndex:c,isFinalTurn:N,scrollToMessageId:T,dateHeaderType:P(c)})},c))})]})}),e.jsx(Ue,{}),C>0&&e.jsx(te,{})]})}function $e({renderEmptyState:a}){return e.jsx(qe,{renderEmptyState:a})}const Oe=A(()=>B(()=>import("./ctlsvvj6folqh10x.js").then(a=>a.e),__vite__mapDeps([8,4,1,5,3,6,9,7,10,11,12,13])).then(a=>a.ChatScreenComposerAlerts));function Ve(){const{clientThreadId:a,currentModelId:t,isCompanionWindow:d,onRequestCompletion:s}=u.useContext(M),i=ne(a),n=Ie(a),o=W(a,n)>=2,l=Ne(a,n),h=we(a)&&!o&&oe(i),{setComposerFooterElement:m}=u.useContext(_);return e.jsx("div",{className:r.footer,children:e.jsxs(ie,{style:{"--bar-gap":"0.5rem","--bar-background-color":"transparent"},children:[e.jsxs(L,{type:"secondary",className:"relative",children:[o&&e.jsx(ce,{className:r.scrollButton}),e.jsx(Oe,{})]}),e.jsxs(L,{type:"primary",ref:m,name:"composer-bar",className:"bottom-[var(--screen-keyboard-bottom,env(keyboard-inset-bottom,0px))] has-thread-error:bg-token-main-surface-primary has-thread-error:pt-8",children:[e.jsx(Pe,{clientThreadId:a,currentModelId:t,isNewThread:h,noWrap:!0,onRequestCompletion:s,showPromptStarters:h||!l}),!d&&e.jsx("div",{className:"text-center text-xs text-token-text-secondary keyboard-open:hidden",children:e.jsx(w,{clientThreadId:a})})]})]})})}function Ge(){const{clientThreadId:a,isLoggedInUser:t,onNewThread:d}=u.useContext(M),s=Le(a),i=de(s),{value:n}=Me("1358499025"),x=n&&t&&!s,{useStore:o}=le(),l=o(h=>h.isSidebarOpen);return e.jsxs(L,{leading:!0,type:"primary",className:r.header,name:"thread-header",children:[e.jsxs("div",{className:r.headerLeading,children:[t&&e.jsx(he,{className:p(l&&"invisible")}),!i&&(!t||!l)&&e.jsx(Be,{onNewThread:d,className:p(t&&"hidden @lg/thread:inline-flex",l&&"invisible"),location:"thread"}),!x&&e.jsx("div",{className:p(r.threadDropdown),children:e.jsx(Re,{clientThreadId:a})})]}),e.jsx("div",{className:r.headerTrailing,children:e.jsx(z,{children:e.jsx(_e,{clientThreadId:a})})})]})}function ss({hideHeader:a=!1,hideFooter:t=!1,hideTools:d=!1,embedded:s=!1,renderEmptyState:i,ref:n}){const{data:x}=Ee(),{clientThreadId:o,currentModelId:l,conversationLeafId:h,isCompanionWindow:m,isInstalledApp:f,onRequestCompletion:S,routeType:y}=Ae(),{canUseNewHomepage:C,showEmptyState:T}=U({clientThreadId:o,currentLeafId:h}),j=me(x?.models,l),[b,I]=ue({name:"composer-bar",track:"height"}),v=pe(o),g=t||T&&C;return He(o),e.jsx(ke.Provider,{value:S,children:e.jsx(Ce,{children:e.jsxs(xe,{clientThreadId:o,currentLeafId:h,children:[e.jsx(ge,{children:v!=null&&e.jsx("title",{children:v})}),e.jsx(Te,{clientThreadId:o,className:p(s&&"h-full","flex-1"),currentModelConfig:j,children:e.jsxs(_.Provider,{value:{setComposerFooterElement:I},children:[e.jsx(ve,{anchor:"vertical",className:p(r.screen,T&&C&&r.screenEmptyState,m&&r.screenCompanionWindow,f&&r.screenInstalledApp,s&&r.screenEmbedded),contentClassName:p(y==="snorlax"&&"mx-auto max-w-screen-md"),primaryScrollContainer:!0,name:"thread",leading:!a&&e.jsx(Ge,{}),style:b,ref:n,trackLeading:!0,trackTrailing:!0,trailing:!g&&e.jsx(Ve,{}),children:e.jsx($e,{renderEmptyState:i})}),!m&&!d&&e.jsxs(e.Fragment,{children:[e.jsx(We,{}),e.jsx(Se,{})]})]})})]})})})}export{ss as C,Ge as a,$e as b};
//# sourceMappingURL=csvcabmbpwfvn88d.js.map
