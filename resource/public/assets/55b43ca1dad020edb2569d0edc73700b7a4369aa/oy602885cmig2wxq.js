const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/jezzfj5p0m6iqns7.js","assets/i8w88cc8b3gds516.js","assets/jg63sxiyqeyvfv9f.js","assets/eh26o1l35t2fnjj4.js","assets/root-inht5vcp.css","assets/conversation-small-nranh1cg.css","assets/csrl3w0fj8safzqi.js","assets/hexd96uzgi4jb5l2.js","assets/nxfut771jrp9zvqt.js","assets/hs5tlpw8ekg8n8pe.js","assets/h2nc3qmtjg2iytti.js","assets/kqwdyvkaaavvn8k3.js","assets/ic47xq5w4y1obgxq.js","assets/n2sybeqm169dymt4.js","assets/hupck0mwkpjjv2tm.js","assets/d15pccfai4sxnie0.js","assets/f26tq0bcmxctgqq5.js","assets/BusinessesMap-g8qqrkxo.css"])))=>i.map(i=>d[i]);
import{r as m,j as a,R as Ut,c as D,M as w,g as it,ak as Yt,ad as Ce,ac as ke}from"./i8w88cc8b3gds516.js";import{bM as U,b9 as ee,an as N,j as v,cn as Wt,ce as Bt,cp as q,cb as Zt,f as pe,aO as qt,c0 as Gt,dp as ct,eK as te,c3 as Vt,D as lt,ap as dt,bn as ut,ds as Xt,bm as Kt,aM as Jt,aN as Qt,b$ as es,fd as ge,gL as ts,N as ss,P as le,af as ht,hT as ns,hZ as as,eA as mt,hp as rs}from"./eh26o1l35t2fnjj4.js";import{a as os,b as is}from"./c70tulx9zqykyr6q.js";import{s as H,c as _e,A as ft,d as pt,R as xe,u as gt,e as cs,g as ls,b as ds,i as us,C as hs,j as ms,k as fs,S as Se,D as ps,l as gs,m as xs}from"./csrl3w0fj8safzqi.js";import{u as bs,b as ys,i as vs}from"./d15pccfai4sxnie0.js";import{a as ws}from"./nxfut771jrp9zvqt.js";import{qs as $s,qt as xt,qu as js,qv as Ns,E as F,qw as Cs,qx as ks,kW as Z,qy as _s,bP as Ss,bQ as Ps,qz as Ds,n8 as Ts,hK as Ms,cm as bt,cn as yt,cd as Pe,cc as As,F as vt,S as Es,l as De,qA as Is,qB as Te,a5 as Ls,dh as M,qC as Fs,fM as Rs,nY as zs,hC as Hs,qD as wt,ou as Os}from"./jg63sxiyqeyvfv9f.js";import{w as be,s as $t,f as Us,a as Ys,h as Ws,M as ye,u as Bs,r as Zs,b as qs}from"./hexd96uzgi4jb5l2.js";import{b as W}from"./n2sybeqm169dymt4.js";import{v as Me,C as Gs,A as Vs,a as Xs,L as Ks,B as Js,p as Qs,b as en,e as tn,P as sn,f as nn,i as an,g as rn}from"./gu9x9uhdpum7obxj.js";import{g as on}from"./kqwdyvkaaavvn8k3.js";import{g as cn,d as ln,b as jt,I as dn}from"./hs5tlpw8ekg8n8pe.js";import{N as Ae}from"./e7ldcb1pybd2xac9.js";import{S as un}from"./bxo0vudykvsyb7bg.js";import{c as Nt}from"./n8m3m0h2ftmj7gzg.js";import"./h2nc3qmtjg2iytti.js";import"./ic47xq5w4y1obgxq.js";const hn=Nt("ChevronDownFilled","1em",["M15.8 7.73c.28.3.27.78-.03 1.06l-5.25 5a.75.75 0 0 1-1.04 0l-5.25-5a.75.75 0 0 1 1.04-1.08L10 12.2l4.73-4.5a.75.75 0 0 1 1.06.02Z"]),mn=Nt("ChevronLeftFilled","1em",["M12.27 15.8a.75.75 0 0 1-1.06-.03l-5-5.25a.75.75 0 0 1 0-1.04l5-5.25a.75.75 0 1 1 1.08 1.04L7.8 10l4.5 4.73c.29.3.28.78-.02 1.06Z"]),fn=["area","base","basefont","bgsound","br","col","command","embed","frame","hr","image","img","input","keygen","link","meta","param","source","track","wbr"],Ee={}.hasOwnProperty;function pn(e,s){const t=s||{};function n(r,...o){let i=n.invalid;const c=n.handlers;if(r&&Ee.call(r,e)){const l=String(r[e]);i=Ee.call(c,l)?c[l]:n.unknown}if(i)return i.call(this,r,...o)}return n.handlers=t.handlers||{},n.invalid=t.invalid,n.unknown=t.unknown,n}const gn=/^>|^->|<!--|-->|--!>|<!-$/g,xn=[">"],bn=["<",">"];function yn(e,s,t,n){return n.settings.bogusComments?"<?"+H(e.value,Object.assign({},n.settings.characterReferences,{subset:xn}))+">":"<!--"+e.value.replace(gn,r)+"-->";function r(o){return H(o,Object.assign({},n.settings.characterReferences,{subset:bn}))}}function vn(e,s,t,n){return"<!"+(n.settings.upperDoctype?"DOCTYPE":"doctype")+(n.settings.tightDoctype?"":" ")+"html>"}const _=kt(1),Ct=kt(-1),wn=[];function kt(e){return s;function s(t,n,r){const o=t?t.children:wn;let i=(n||0)+e,c=o[i];if(!r)for(;c&&be(c);)i+=e,c=o[i];return c}}const $n={}.hasOwnProperty;function _t(e){return s;function s(t,n,r){return $n.call(e,t.tagName)&&e[t.tagName](t,n,r)}}const ve=_t({body:Nn,caption:se,colgroup:se,dd:Sn,dt:_n,head:se,html:jn,li:kn,optgroup:Pn,option:Dn,p:Cn,rp:Ie,rt:Ie,tbody:Mn,td:Le,tfoot:An,th:Le,thead:Tn,tr:En});function se(e,s,t){const n=_(t,s,!0);return!n||n.type!=="comment"&&!(n.type==="text"&&be(n.value.charAt(0)))}function jn(e,s,t){const n=_(t,s);return!n||n.type!=="comment"}function Nn(e,s,t){const n=_(t,s);return!n||n.type!=="comment"}function Cn(e,s,t){const n=_(t,s);return n?n.type==="element"&&(n.tagName==="address"||n.tagName==="article"||n.tagName==="aside"||n.tagName==="blockquote"||n.tagName==="details"||n.tagName==="div"||n.tagName==="dl"||n.tagName==="fieldset"||n.tagName==="figcaption"||n.tagName==="figure"||n.tagName==="footer"||n.tagName==="form"||n.tagName==="h1"||n.tagName==="h2"||n.tagName==="h3"||n.tagName==="h4"||n.tagName==="h5"||n.tagName==="h6"||n.tagName==="header"||n.tagName==="hgroup"||n.tagName==="hr"||n.tagName==="main"||n.tagName==="menu"||n.tagName==="nav"||n.tagName==="ol"||n.tagName==="p"||n.tagName==="pre"||n.tagName==="section"||n.tagName==="table"||n.tagName==="ul"):!t||!(t.type==="element"&&(t.tagName==="a"||t.tagName==="audio"||t.tagName==="del"||t.tagName==="ins"||t.tagName==="map"||t.tagName==="noscript"||t.tagName==="video"))}function kn(e,s,t){const n=_(t,s);return!n||n.type==="element"&&n.tagName==="li"}function _n(e,s,t){const n=_(t,s);return!!(n&&n.type==="element"&&(n.tagName==="dt"||n.tagName==="dd"))}function Sn(e,s,t){const n=_(t,s);return!n||n.type==="element"&&(n.tagName==="dt"||n.tagName==="dd")}function Ie(e,s,t){const n=_(t,s);return!n||n.type==="element"&&(n.tagName==="rp"||n.tagName==="rt")}function Pn(e,s,t){const n=_(t,s);return!n||n.type==="element"&&n.tagName==="optgroup"}function Dn(e,s,t){const n=_(t,s);return!n||n.type==="element"&&(n.tagName==="option"||n.tagName==="optgroup")}function Tn(e,s,t){const n=_(t,s);return!!(n&&n.type==="element"&&(n.tagName==="tbody"||n.tagName==="tfoot"))}function Mn(e,s,t){const n=_(t,s);return!n||n.type==="element"&&(n.tagName==="tbody"||n.tagName==="tfoot")}function An(e,s,t){return!_(t,s)}function En(e,s,t){const n=_(t,s);return!n||n.type==="element"&&n.tagName==="tr"}function Le(e,s,t){const n=_(t,s);return!n||n.type==="element"&&(n.tagName==="td"||n.tagName==="th")}const In=_t({body:Rn,colgroup:zn,head:Fn,html:Ln,tbody:Hn});function Ln(e){const s=_(e,-1);return!s||s.type!=="comment"}function Fn(e){const s=new Set;for(const n of e.children)if(n.type==="element"&&(n.tagName==="base"||n.tagName==="title")){if(s.has(n.tagName))return!1;s.add(n.tagName)}const t=e.children[0];return!t||t.type==="element"}function Rn(e){const s=_(e,-1,!0);return!s||s.type!=="comment"&&!(s.type==="text"&&be(s.value.charAt(0)))&&!(s.type==="element"&&(s.tagName==="meta"||s.tagName==="link"||s.tagName==="script"||s.tagName==="style"||s.tagName==="template"))}function zn(e,s,t){const n=Ct(t,s),r=_(e,-1,!0);return t&&n&&n.type==="element"&&n.tagName==="colgroup"&&ve(n,t.children.indexOf(n),t)?!1:!!(r&&r.type==="element"&&r.tagName==="col")}function Hn(e,s,t){const n=Ct(t,s),r=_(e,-1);return t&&n&&n.type==="element"&&(n.tagName==="thead"||n.tagName==="tbody")&&ve(n,t.children.indexOf(n),t)?!1:!!(r&&r.type==="element"&&r.tagName==="tr")}const G={name:[[`	
\f\r &/=>`.split(""),`	
\f\r "&'/=>\``.split("")],[`\0	
\f\r "&'/<=>`.split(""),`\0	
\f\r "&'/<=>\``.split("")]],unquoted:[[`	
\f\r &>`.split(""),`\0	
\f\r "&'<=>\``.split("")],[`\0	
\f\r "&'<=>\``.split(""),`\0	
\f\r "&'<=>\``.split("")]],single:[["&'".split(""),"\"&'`".split("")],["\0&'".split(""),"\0\"&'`".split("")]],double:[['"&'.split(""),"\"&'`".split("")],['\0"&'.split(""),"\0\"&'`".split("")]]};function On(e,s,t,n){const r=n.schema,o=r.space==="svg"?!1:n.settings.omitOptionalTags;let i=r.space==="svg"?n.settings.closeEmptyElements:n.settings.voids.includes(e.tagName.toLowerCase());const c=[];let l;r.space==="html"&&e.tagName==="svg"&&(n.schema=$t);const u=Un(n,e.properties),d=n.all(r.space==="html"&&e.tagName==="template"?e.content:e);return n.schema=r,d&&(i=!1),(u||!o||!In(e,s,t))&&(c.push("<",e.tagName,u?" "+u:""),i&&(r.space==="svg"||n.settings.closeSelfClosing)&&(l=u.charAt(u.length-1),(!n.settings.tightSelfClosing||l==="/"||l&&l!=='"'&&l!=="'")&&c.push(" "),c.push("/")),c.push(">")),c.push(d),!i&&(!o||!ve(e,s,t))&&c.push("</"+e.tagName+">"),c.join("")}function Un(e,s){const t=[];let n=-1,r;if(s){for(r in s)if(s[r]!==null&&s[r]!==void 0){const o=Yn(e,r,s[r]);o&&t.push(o)}}for(;++n<t.length;){const o=e.settings.tightAttributes?t[n].charAt(t[n].length-1):void 0;n!==t.length-1&&o!=='"'&&o!=="'"&&(t[n]+=" ")}return t.join("")}function Yn(e,s,t){const n=Us(e.schema,s),r=e.settings.allowParseErrors&&e.schema.space==="html"?0:1,o=e.settings.allowDangerousCharacters?0:1;let i=e.quote,c;if(n.overloadedBoolean&&(t===n.attribute||t==="")?t=!0:(n.boolean||n.overloadedBoolean&&typeof t!="string")&&(t=!!t),t==null||t===!1||typeof t=="number"&&Number.isNaN(t))return"";const l=H(n.attribute,Object.assign({},e.settings.characterReferences,{subset:G.name[r][o]}));return t===!0||(t=Array.isArray(t)?(n.commaSeparated?Ys:$s)(t,{padLeft:!e.settings.tightCommaSeparatedLists}):String(t),e.settings.collapseEmptyAttributes&&!t)?l:(e.settings.preferUnquoted&&(c=H(t,Object.assign({},e.settings.characterReferences,{attribute:!0,subset:G.unquoted[r][o]}))),c!==t&&(e.settings.quoteSmart&&_e(t,i)>_e(t,e.alternative)&&(i=e.alternative),c=i+H(t,Object.assign({},e.settings.characterReferences,{subset:(i==="'"?G.single:G.double)[r][o],attribute:!0}))+i),l+(c&&"="+c))}const Wn=["<","&"];function St(e,s,t,n){return t&&t.type==="element"&&(t.tagName==="script"||t.tagName==="style")?e.value:H(e.value,Object.assign({},n.settings.characterReferences,{subset:Wn}))}function Bn(e,s,t,n){return n.settings.allowDangerousHtml?e.value:St(e,s,t,n)}function Zn(e,s,t,n){return n.all(e)}const qn=pn("type",{invalid:Gn,unknown:Vn,handlers:{comment:yn,doctype:vn,element:On,raw:Bn,root:Zn,text:St}});function Gn(e){throw new Error("Expected node, not `"+e+"`")}function Vn(e){const s=e;throw new Error("Cannot compile unknown node `"+s.type+"`")}const Xn={},Kn={},Jn=[];function Qn(e,s){const t=s||Xn,n=t.quote||'"',r=n==='"'?"'":'"';if(n!=='"'&&n!=="'")throw new Error("Invalid quote `"+n+"`, expected `'` or `\"`");return{one:ea,all:ta,settings:{omitOptionalTags:t.omitOptionalTags||!1,allowParseErrors:t.allowParseErrors||!1,allowDangerousCharacters:t.allowDangerousCharacters||!1,quoteSmart:t.quoteSmart||!1,preferUnquoted:t.preferUnquoted||!1,tightAttributes:t.tightAttributes||!1,upperDoctype:t.upperDoctype||!1,tightDoctype:t.tightDoctype||!1,bogusComments:t.bogusComments||!1,tightCommaSeparatedLists:t.tightCommaSeparatedLists||!1,tightSelfClosing:t.tightSelfClosing||!1,collapseEmptyAttributes:t.collapseEmptyAttributes||!1,allowDangerousHtml:t.allowDangerousHtml||!1,voids:t.voids||fn,characterReferences:t.characterReferences||Kn,closeSelfClosing:t.closeSelfClosing||!1,closeEmptyElements:t.closeEmptyElements||!1},schema:t.space==="svg"?$t:Ws,quote:n,alternative:r}.one(Array.isArray(e)?{type:"root",children:e}:e,void 0,void 0)}function ea(e,s,t){return qn(e,s,t,this)}function ta(e){const s=[],t=e&&e.children||Jn;let n=-1;for(;++n<t.length;)s[n]=this.one(t[n],n,e);return s.join("")}function sa(e){const s=this,t={...s.data("settings"),...e};s.compiler=n;function n(r){return Qn(r,t)}}function na(e){return e&&/^turn[0-9]+ifs[0-9]+$/.test(e)}function aa({attributions:e,attributionsDebug:s,children:t}){const n=xt(),r=U(),o=m.useMemo(()=>e?.map((d,h)=>({...d,originalIndex:h}))?.toSorted((d,h)=>(h.probability??0)-(d.probability??0)),[e]),i=js(),c=Ns(),u=s&&(s.influence_temperature!==i||s.use_sigmoid_likelihood!==c)&&e&&(c?Cs(e,i):ks(e,i));return!o||!n?t:a.jsx(ee,{label:a.jsxs("div",{className:"text-left text-xs font-normal text-token-text-primary",children:[a.jsx("div",{className:"font-bold",children:"Attributions (Debug)"}),a.jsxs("div",{className:"grid grid-cols-[200px,1fr,1fr] gap-1",children:[a.jsx("div",{children:"Source"}),a.jsxs("div",{children:["τ=",s?.influence_temperature]}),a.jsx("div",{children:u&&`τ=${i}`}),o.map((d,h)=>{const b=d.source_type==="prior",x=b?"text-red-500":d.url?"":"text-gray-500",f=d.probability&&`${(d.probability*100).toFixed(2)}%`,j=u&&u[d.originalIndex].probability,S=j&&`${(j*100).toFixed(2)}%`;return a.jsxs(m.Fragment,{children:[a.jsx("div",{className:N("flex flex-col",x),children:b?a.jsx("div",{className:"line-clamp-1 font-bold",children:"Model Prior"}):d.url?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex gap-1",children:[a.jsx("div",{className:"line-clamp-1 font-bold",children:a.jsx(ft,{url:d.url})}),"(",d.source_type,")"]}),a.jsx(F,{href:d.url,className:"line-clamp-1 text-xs",children:d.url})]}):a.jsxs("div",{className:"text-xxs line-clamp-1",children:["(",d.source_type,")"]})}),a.jsx("div",{className:x,children:f}),a.jsx("div",{className:x,children:S})]},h)})]})]}),theme:r?"default":"white",delayDuration:0,className:"inline",side:"left",interactive:!0,children:t})}function ra({attribution:e}){const s=m.useContext(Z),t=_s(s?.message.id,e.attributable_index),n=xt();return a.jsx(ia,{highlightHue:t,isDebugMode:n,content:e.alt??"",attributableIndex:e.attributable_index,attributions:e.attributions??void 0,attributionsDebug:e.attributions_debug??void 0})}function oa({content:e,highlightHue:s,isDebugMode:t,attributableIndex:n,attributions:r,attributionsDebug:o}){const i=U(),c=s!=null?i?`hsl(${s}, 20%, 30%)`:`hsl(${s}, 40%, 92%)`:void 0;return a.jsxs("span",{className:N("relative",t&&"hover:border hover:border-red-500/50"),style:{backgroundColor:c},children:[t&&a.jsx("span",{className:"absolute -top-4 left-0 whitespace-nowrap text-xs text-red-500",children:a.jsx(ee,{label:"Attribution Index",side:"top",children:n})}),a.jsx(aa,{attributions:r,attributionsDebug:o,children:a.jsx(ye,{rehypePlugins:pt,remarkPlugins:xe,urlTransform:gt,components:{p:({children:l})=>a.jsx(a.Fragment,{children:l})},children:e})})]})}const ia=Ut.memo(oa);function Fe(e,s){try{return BigInt(e).toLocaleString(s)}catch{const t=Number(e);return e.includes("e")||e.includes("E")?t.toExponential():t.toLocaleString(s,{maximumFractionDigits:6})}}function ca({data:e,trackContentReferenceEvent:s}){m.useEffect(()=>{s(v.searchContentReferenceShown,"search_content_reference_shown",e.type)},[s,e.type]);const{currentLocale:t}=Wt();return e.expression&&e.result!=null?a.jsxs("div",{className:"no-scrollbar overflow-auto sm:overflow-hidden",children:[a.jsxs("div",{className:"pb-1 text-lg font-semibold",children:[e.prefix&&a.jsx("span",{children:e.prefix}),a.jsx("span",{children:Fe(e.result,t)}),e.suffix&&a.jsx("span",{children:e.suffix})]}),a.jsx("div",{className:"tracking-wide text-token-text-primary",children:`${e.expression}=${Fe(e.result,t)}`})]}):null}function la(e){return a.jsxs(Bt,{width:"19",height:"15",viewBox:"0 0 19 15",fill:"none",...e,children:[a.jsx("path",{d:"M4.42 0.75H2.8625H2.75C1.64543 0.75 0.75 1.64543 0.75 2.75V11.65C0.75 12.7546 1.64543 13.65 2.75 13.65H2.8625C2.8625 13.65 2.8625 13.65 2.8625 13.65C2.8625 13.65 4.00751 13.65 4.42 13.65M13.98 13.65H15.5375H15.65C16.7546 13.65 17.65 12.7546 17.65 11.65V2.75C17.65 1.64543 16.7546 0.75 15.65 0.75H15.5375H13.98",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),a.jsx("path",{d:"M5.55283 4.21963C5.25993 3.92674 4.78506 3.92674 4.49217 4.21963C4.19927 4.51252 4.19927 4.9874 4.49217 5.28029L6.36184 7.14996L4.49217 9.01963C4.19927 9.31252 4.19927 9.7874 4.49217 10.0803C4.78506 10.3732 5.25993 10.3732 5.55283 10.0803L7.95283 7.68029C8.24572 7.3874 8.24572 6.91252 7.95283 6.61963L5.55283 4.21963Z",fill:"currentColor",stroke:"currentColor",strokeWidth:"0.2",strokeLinecap:"round",strokeLinejoin:"round"}),a.jsx("path",{d:"M9.77753 8.75003C9.3357 8.75003 8.97753 9.10821 8.97753 9.55003C8.97753 9.99186 9.3357 10.35 9.77753 10.35H13.2775C13.7194 10.35 14.0775 9.99186 14.0775 9.55003C14.0775 9.10821 13.7194 8.75003 13.2775 8.75003H9.77753Z",fill:"currentColor",stroke:"currentColor",strokeWidth:"0.1"})]})}function da({codeMessage:e,codeExecutionOutputMessage:s,onDismiss:t,FormattedText:n}){const r=D();return a.jsx(q.Root,{isOpen:!0,onClose:t,children:a.jsx(q.Overlay,{children:a.jsxs(q.Content,{className:"flex max-h-[75vh] max-w-lg flex-col overflow-hidden",children:[a.jsx(q.Header,{title:r.formatMessage(ua.title),type:"success",closeButton:a.jsx(Zt,{onClick:t})}),a.jsxs("div",{className:"flex flex-1 flex-col overflow-auto bg-black",children:[a.jsx("div",{children:a.jsx(Ss,{FormattedText:n,message:e})}),a.jsx("div",{children:a.jsx(Ps,{message:s})})]})]})})})}const ua=pe({title:{id:"CodeExecutionOutputModal.title",defaultMessage:"Analysis"}});function ha({displayInfo:e,FormattedText:s,trackContentReferenceEvent:t}){const[n,r]=m.useState(!1),o=D();return m.useEffect(()=>{t(v.searchContentReferenceShown,"search_content_reference_shown",e.type)},[t,e.type]),a.jsxs(a.Fragment,{children:[a.jsx(ee,{label:o.formatMessage(ma.viewAnalysis),side:"top",sideOffset:4,withArrow:!1,delayDuration:150,children:a.jsx("button",{onClick:()=>r(!0),children:a.jsx(la,{className:"-mt-0.5 ml-0.5 inline-block text-token-link hover:text-token-link-hover"})})}),n&&a.jsx(da,{FormattedText:s,codeMessage:e.codeMessage,codeExecutionOutputMessage:e.codeExecutionOutputMessage,onDismiss:()=>r(!1)})]})}const ma=pe({viewAnalysis:{id:"viewAnalysis",defaultMessage:"View analysis"}}),Re=24;function fa(e){const s=e.split(".");let t=e;return s.length>1&&s.slice(0,-1).some(n=>n.length>0)&&(t=s.slice(0,-1).join(".")),t.length>Re&&(t=t.slice(0,Re-1)+"…"),t}function pa({fileRef:e,index:s,trackContentReferenceEvent:t}){const n=Ds(),r=m.useContext(Z),o=m.useMemo(()=>({source:e.source,index:s}),[e.source,s]);m.useEffect(()=>{t(v.fileCitationShown,"file_citation_shown","file",o)},[]);const i=m.useCallback(d=>{d?t(v.fileCitationHovered,"file_citation_hovered","file",o):t(v.fileCitationUnhovered,"file_citation_unhovered","file",o)},[o,t]),c=m.useCallback(()=>{t(v.fileCitationClicked,"file_citation_clicked","file",o)},[o,t]),l=m.useCallback(()=>n(e.id,e.name),[n,e.id,e.name]),u=qt(r?.analyticsMetadata.clientThreadId??Gt);return Ts(u)?u.gizmo_id&&Ms(u.gizmo_id)?a.jsx("span",{className:N(cs,"select-none"),title:e.name,children:fa(e.name)}):null:a.jsx(ga,{fileItem:e,onClickDownloadFile:l,trackTooltipOpenChange:i,trackCloudLinkClick:c})}function ga({fileItem:e,className:s,trackTooltipOpenChange:t,trackCloudLinkClick:n,onClickDownloadFile:r}){const o=bt(e.cloud_doc_url??""),i=o?.type??a.jsx(w,{id:"bqY3sN",defaultMessage:"File"}),c=o?.Icon??yt,l=a.jsx(c,{alt:i,className:"h-[16px] w-[16px] object-contain"}),u=N("ms-1 flex h-[22px] items-center rounded-xl px-2 relative bottom-[-2px]","bg-[#f4f4f4] !text-token-text-secondary hover:bg-token-text-primary hover:!text-token-main-surface-secondary dark:bg-token-main-surface-secondary dark:hover:bg-token-text-primary",s),d=a.jsx("span",{className:"relative inline-flex items-center",children:e.cloud_doc_url?a.jsx(F,{href:e.cloud_doc_url,className:u,onClick:n,children:l}):a.jsx("button",{onClick:r,className:u,children:l})});return a.jsx(xa,{fileItem:e,icon:a.jsx(c,{alt:i,className:"mr-2 h-[16px] w-[16px] object-contain"}),contentType:i,trackTooltipOpenChange:t,children:d})}function xa({fileItem:e,children:s,className:t,icon:n,contentType:r,trackTooltipOpenChange:o}){const i=U();return a.jsx(ee,{label:a.jsxs(F,{href:e.cloud_doc_url,className:N("flex max-w-80 flex-col gap-1 text-left text-xs font-normal text-token-text-primary !no-underline",t),children:[a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx("div",{className:"h-4 w-4 shrink-0 overflow-hidden rounded-full",children:n}),a.jsx("div",{className:"truncate text-token-text-primary",children:r})]}),a.jsx("div",{className:"line-clamp-2 text-sm font-medium",children:e.name}),e.text&&a.jsx("div",{className:"line-clamp-2 text-sm text-token-text-secondary",children:e.text})]}),onOpenChange:o,side:"bottom",sideOffset:10,withArrow:!1,delayDuration:150,theme:i?"default":"white",align:"start",customPaddingClassName:"p-3",cornerRadius:"xl",customBorderClassName:"border-token-border-light border",wide:!0,children:s})}function ba(e,s){return new Date(e).toLocaleDateString(s,{month:"long",day:"numeric",year:"numeric"})}function ya({metadata:e,trackContentReferenceEvent:s}){return e.items.length===0?null:a.jsx("div",{className:"mt-6 flex flex-col gap-3",children:e.items.map((t,n)=>a.jsx(va,{item:t,index:n,trackContentReferenceEvent:s},n))})}function va({item:e,index:s,trackContentReferenceEvent:t}){const n=D(),r={title:e.name,description:e.description,index:s};m.useEffect(()=>{t(v.contextualAnswersContentReferenceShown,"contextual_answers_content_reference_shown","file_navlist",r)},[]);const o=bt(e.cloud_doc_url??""),i=o?.Icon??yt,c=o?.type??a.jsx(w,{id:"bqY3sN",defaultMessage:"File"});return a.jsxs(F,{className:"group/nav-list relative flex items-center gap-6 py-1.5",href:e.cloud_doc_url??"/",onClick:()=>{t(v.contextualAnswersContentReferenceClicked,"contextual_answers_content_reference_clicked","file_navlist",r)},children:[a.jsx("div",{className:"absolute bottom-0 left-0 top-0 w-[3px] rounded-b-lg rounded-t-lg bg-black/10"}),a.jsxs("div",{className:"ml-4 flex grow flex-col gap-1 overflow-hidden text-ellipsis",children:[a.jsxs("div",{className:"not-prose flex items-center gap-1.5 text-sm text-token-text-primary",children:[a.jsx(i,{className:"icon-md object-contain"}),a.jsx("div",{className:"line-clamp-2 text-sm text-token-text-primary",children:c})]}),a.jsx("div",{className:"line-clamp-2 font-semibold text-token-link decoration-token-link group-hover/nav-list:underline",children:e.name}),a.jsx("div",{className:"line-clamp-2 text-sm font-normal leading-snug text-token-text-primary",children:e.description}),e.last_modified_time&&a.jsx("div",{className:"text-sm text-token-text-secondary",children:ba(e.last_modified_time,n.locale)})]})]})}var de={exports:{}};(function(e,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=t;function t(n){if(n===null||n===!0||n===!1)return NaN;var r=Number(n);return isNaN(r)?r:r<0?Math.ceil(r):Math.floor(r)}e.exports=s.default})(de,de.exports);var wa=de.exports;const $a=it(wa);var ue={exports:{}};(function(e,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=t;function t(n){var r=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()));return r.setUTCFullYear(n.getFullYear()),n.getTime()-r.getTime()}e.exports=s.default})(ue,ue.exports);var ja=ue.exports;const ze=it(ja);function Na(e,s){var t=Sa(s);return t.formatToParts?ka(t,e):_a(t,e)}var Ca={year:0,month:1,day:2,hour:3,minute:4,second:5};function ka(e,s){try{for(var t=e.formatToParts(s),n=[],r=0;r<t.length;r++){var o=Ca[t[r].type];o>=0&&(n[o]=parseInt(t[r].value,10))}return n}catch(i){if(i instanceof RangeError)return[NaN];throw i}}function _a(e,s){var t=e.format(s),n=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(t);return[n[3],n[1],n[2],n[4],n[5],n[6]]}var ne={};function Sa(e){if(!ne[e]){var s=new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:"America/New_York",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date("2014-06-25T04:00:00.123Z")),t=s==="06/25/2014, 00:00:00"||s==="‎06‎/‎25‎/‎2014‎ ‎00‎:‎00‎:‎00";ne[e]=t?new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:e,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:e,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})}return ne[e]}function Pt(e,s,t,n,r,o,i){var c=new Date(0);return c.setUTCFullYear(e,s,t),c.setUTCHours(n,r,o,i),c}var He=36e5,Pa=6e4,ae={timezone:/([Z+-].*)$/,timezoneZ:/^(Z)$/,timezoneHH:/^([+-]\d{2})$/,timezoneHHMM:/^([+-])(\d{2}):?(\d{2})$/};function Dt(e,s,t){var n,r;if(!e||(n=ae.timezoneZ.exec(e),n))return 0;var o;if(n=ae.timezoneHH.exec(e),n)return o=parseInt(n[1],10),Oe(o)?-(o*He):NaN;if(n=ae.timezoneHHMM.exec(e),n){o=parseInt(n[2],10);var i=parseInt(n[3],10);return Oe(o,i)?(r=Math.abs(o)*He+i*Pa,n[1]==="+"?-r:r):NaN}if(Ma(e)){s=new Date(s||Date.now());var c=t?s:Da(s),l=he(c,e),u=t?l:Ta(s,l,e);return-u}return NaN}function Da(e){return Pt(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())}function he(e,s){var t=Na(e,s),n=Pt(t[0],t[1]-1,t[2],t[3]%24,t[4],t[5],0).getTime(),r=e.getTime(),o=r%1e3;return r-=o>=0?o:1e3+o,n-r}function Ta(e,s,t){var n=e.getTime(),r=n-s,o=he(new Date(r),t);if(s===o)return s;r-=o-s;var i=he(new Date(r),t);return o===i?o:Math.max(o,i)}function Oe(e,s){return-23<=e&&e<=23&&(s==null||0<=s&&s<=59)}var Ue={};function Ma(e){if(Ue[e])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:e}),Ue[e]=!0,!0}catch{return!1}}var Aa=/(Z|[+-]\d{2}(?::?\d{2})?| UTC| [a-zA-Z]+\/[a-zA-Z_]+(?:\/[a-zA-Z_]+)?)$/,re=36e5,Ye=6e4,Ea=2,P={dateTimePattern:/^([0-9W+-]+)(T| )(.*)/,datePattern:/^([0-9W+-]+)(.*)/,plainTime:/:/,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timeZone:Aa};function me(e,s){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");if(e===null)return new Date(NaN);var t={},n=t.additionalDigits==null?Ea:$a(t.additionalDigits);if(n!==2&&n!==1&&n!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]")return new Date(e.getTime());if(typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]")return new Date(e);if(!(typeof e=="string"||Object.prototype.toString.call(e)==="[object String]"))return new Date(NaN);var r=Ia(e),o=La(r.date,n),i=o.year,c=o.restDateString,l=Fa(c,i);if(isNaN(l))return new Date(NaN);if(l){var u=l.getTime(),d=0,h;if(r.time&&(d=Ra(r.time),isNaN(d)))return new Date(NaN);if(r.timeZone||t.timeZone){if(h=Dt(r.timeZone||t.timeZone,new Date(u+d)),isNaN(h))return new Date(NaN)}else h=ze(new Date(u+d)),h=ze(new Date(u+d+h));return new Date(u+d+h)}else return new Date(NaN)}function Ia(e){var s={},t=P.dateTimePattern.exec(e),n;if(t?(s.date=t[1],n=t[3]):(t=P.datePattern.exec(e),t?(s.date=t[1],n=t[2]):(s.date=null,n=e)),n){var r=P.timeZone.exec(n);r?(s.time=n.replace(r[1],""),s.timeZone=r[1].trim()):s.time=n}return s}function La(e,s){var t=P.YYY[s],n=P.YYYYY[s],r;if(r=P.YYYY.exec(e)||n.exec(e),r){var o=r[1];return{year:parseInt(o,10),restDateString:e.slice(o.length)}}if(r=P.YY.exec(e)||t.exec(e),r){var i=r[1];return{year:parseInt(i,10)*100,restDateString:e.slice(i.length)}}return{year:null}}function Fa(e,s){if(s===null)return null;var t,n,r,o;if(e.length===0)return n=new Date(0),n.setUTCFullYear(s),n;if(t=P.MM.exec(e),t)return n=new Date(0),r=parseInt(t[1],10)-1,Be(s,r)?(n.setUTCFullYear(s,r),n):new Date(NaN);if(t=P.DDD.exec(e),t){n=new Date(0);var i=parseInt(t[1],10);return Oa(s,i)?(n.setUTCFullYear(s,0,i),n):new Date(NaN)}if(t=P.MMDD.exec(e),t){n=new Date(0),r=parseInt(t[1],10)-1;var c=parseInt(t[2],10);return Be(s,r,c)?(n.setUTCFullYear(s,r,c),n):new Date(NaN)}if(t=P.Www.exec(e),t)return o=parseInt(t[1],10)-1,Ze(s,o)?We(s,o):new Date(NaN);if(t=P.WwwD.exec(e),t){o=parseInt(t[1],10)-1;var l=parseInt(t[2],10)-1;return Ze(s,o,l)?We(s,o,l):new Date(NaN)}return null}function Ra(e){var s,t,n;if(s=P.HH.exec(e),s)return t=parseFloat(s[1].replace(",",".")),oe(t)?t%24*re:NaN;if(s=P.HHMM.exec(e),s)return t=parseInt(s[1],10),n=parseFloat(s[2].replace(",",".")),oe(t,n)?t%24*re+n*Ye:NaN;if(s=P.HHMMSS.exec(e),s){t=parseInt(s[1],10),n=parseInt(s[2],10);var r=parseFloat(s[3].replace(",","."));return oe(t,n,r)?t%24*re+n*Ye+r*1e3:NaN}return null}function We(e,s,t){s=s||0,t=t||0;var n=new Date(0);n.setUTCFullYear(e,0,4);var r=n.getUTCDay()||7,o=s*7+t+1-r;return n.setUTCDate(n.getUTCDate()+o),n}var za=[31,28,31,30,31,30,31,31,30,31,30,31],Ha=[31,29,31,30,31,30,31,31,30,31,30,31];function Tt(e){return e%400===0||e%4===0&&e%100!==0}function Be(e,s,t){if(s<0||s>11)return!1;if(t!=null){if(t<1)return!1;var n=Tt(e);if(n&&t>Ha[s]||!n&&t>za[s])return!1}return!0}function Oa(e,s){if(s<1)return!1;var t=Tt(e);return!(t&&s>366||!t&&s>365)}function Ze(e,s,t){return!(s<0||s>52||t!=null&&(t<0||t>6))}function oe(e,s,t){return!(e!=null&&(e<0||e>=25)||s!=null&&(s<0||s>=60)||t!=null&&(t<0||t>=60))}function O(e,s,t){var n=me(e,t),r=Dt(s,n,!0),o=new Date(n.getTime()-r),i=new Date(0);return i.setFullYear(o.getUTCFullYear(),o.getUTCMonth(),o.getUTCDate()),i.setHours(o.getUTCHours(),o.getUTCMinutes(),o.getUTCSeconds(),o.getUTCMilliseconds()),i}var ie={line:{color:"#F66",width:1,dashPattern:[]},sync:{enabled:!0,group:1,suppressTooltips:!1},zoom:{enabled:!0,zoomboxBackgroundColor:"rgba(66,133,244,0.2)",zoomboxBorderColor:"#48F",zoomButtonText:"Reset Zoom",zoomButtonClass:"reset-zoom"},snap:{enabled:!1},callbacks:{beforeZoom:function(e,s){return!0},afterZoom:function(e,s){}}},Ua={id:"crosshair",afterInit:function(e){if(e.config.options.scales.x){var s=e.config.options.scales.x.type;if(!(s!=="linear"&&s!=="time"&&s!=="category"&&s!=="logarithmic")){e.options.plugins.crosshair===void 0&&(e.options.plugins.crosshair=ie),e.crosshair={enabled:!1,suppressUpdate:!1,x:null,originalData:[],originalXRange:{},dragStarted:!1,dragStartX:null,dragEndX:null,suppressTooltips:!1,ignoreNextEvents:0,reset:(function(){this.resetZoom(e,!1,!1)}).bind(this)};var t=this.getOption(e,"sync","enabled");t&&(e.crosshair.syncEventHandler=(function(n){this.handleSyncEvent(e,n)}).bind(this),e.crosshair.resetZoomEventHandler=(function(n){var r=this.getOption(e,"sync","group");n.chartId!==e.id&&n.syncGroup===r&&this.resetZoom(e,!0)}).bind(this),window.addEventListener("sync-event",e.crosshair.syncEventHandler),window.addEventListener("reset-zoom-event",e.crosshair.resetZoomEventHandler)),e.panZoom=this.panZoom.bind(this,e)}}},afterDestroy:function(e){var s=this.getOption(e,"sync","enabled");s&&(window.removeEventListener("sync-event",e.crosshair.syncEventHandler),window.removeEventListener("reset-zoom-event",e.crosshair.resetZoomEventHandler))},panZoom:function(e,s){if(e.crosshair.originalData.length!==0){var t=e.crosshair.end-e.crosshair.start,n=e.crosshair.min,r=e.crosshair.max;s<0?(e.crosshair.start=Math.max(e.crosshair.start+s,n),e.crosshair.end=e.crosshair.start===n?n+t:e.crosshair.end+s):(e.crosshair.end=Math.min(e.crosshair.end+s,e.crosshair.max),e.crosshair.start=e.crosshair.end===r?r-t:e.crosshair.start+s),this.doZoom(e,e.crosshair.start,e.crosshair.end)}},getOption:function(e,s,t){return Me(e.options.plugins.crosshair[s]?e.options.plugins.crosshair[s][t]:void 0,ie[s][t])},getXScale:function(e){return e.data.datasets.length?e.scales[e.getDatasetMeta(0).xAxisID]:null},getYScale:function(e){return e.scales[e.getDatasetMeta(0).yAxisID]},handleSyncEvent:function(e,s){var t=this.getOption(e,"sync","group");if(s.chartId!==e.id&&s.syncGroup===t){var n=this.getXScale(e);if(n){var r=s.original.native.buttons===void 0?s.original.native.which:s.original.native.buttons;s.original.type==="mouseup"&&(r=0);var o={type:s.original.type=="click"?"mousemove":s.original.type,chart:e,x:n.getPixelForValue(s.xValue),y:s.original.y,native:{buttons:r},stop:!0};e._eventHandler(o)}}},afterEvent:function(e,s){if(e.config.options.scales.x.length==0)return;let t=s.event;var n=e.config.options.scales.x.type;if(!(n!=="linear"&&n!=="time"&&n!=="category"&&xscaleType!=="logarithmic")){var r=this.getXScale(e);if(r){if(e.crosshair.ignoreNextEvents>0){e.crosshair.ignoreNextEvents-=1;return}var o=t.native.buttons===void 0?t.native.which:t.native.buttons;t.native.type==="mouseup"&&(o=0);var i=this.getOption(e,"sync","enabled"),c=this.getOption(e,"sync","group");if(!t.stop&&i){var s=new CustomEvent("sync-event");s.chartId=e.id,s.syncGroup=c,s.original=t,s.xValue=r.getValueForPixel(t.x),window.dispatchEvent(s)}var l=this.getOption(e,"sync","suppressTooltips");if(e.crosshair.suppressTooltips=t.stop&&l,e.crosshair.enabled=t.type!=="mouseout"&&t.x>r.getPixelForValue(r.min)&&t.x<r.getPixelForValue(r.max),!e.crosshair.enabled&&!e.crosshair.suppressUpdate)return t.x>r.getPixelForValue(r.max)&&(e.crosshair.suppressUpdate=!0,e.update("none")),e.crosshair.dragStarted=!1,!1;e.crosshair.suppressUpdate=!1;var u=this.getOption(e,"zoom","enabled");if(o===1&&!e.crosshair.dragStarted&&u&&(e.crosshair.dragStartX=t.x,e.crosshair.dragStarted=!0),e.crosshair.dragStarted&&o===0){e.crosshair.dragStarted=!1;var d=r.getValueForPixel(e.crosshair.dragStartX),h=r.getValueForPixel(e.crosshair.x);Math.abs(e.crosshair.dragStartX-e.crosshair.x)>1&&this.doZoom(e,d,h),e.update("none")}e.crosshair.x=t.x,e.draw()}}},afterDraw:function(e){if(e.crosshair.enabled)return e.crosshair.dragStarted?this.drawZoombox(e):(this.drawTraceLine(e),this.interpolateValues(e),this.drawTracePoints(e)),!0},beforeTooltipDraw:function(e){return!e.crosshair.dragStarted&&!e.crosshair.suppressTooltips},resetZoom:function(e){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(t){if(e.crosshair.originalData.length>0)for(var n=0;n<e.data.datasets.length;n++){var r=e.data.datasets[n];r.data=e.crosshair.originalData.shift(0)}e.crosshair.originalXRange.min?(e.options.scales.x.min=e.crosshair.originalXRange.min,e.crosshair.originalXRange.min=null):delete e.options.scales.x.min,e.crosshair.originalXRange.max?(e.options.scales.x.max=e.crosshair.originalXRange.max,e.crosshair.originalXRange.max=null):delete e.options.scales.x.max}e.crosshair.button&&e.crosshair.button.parentNode&&(e.crosshair.button.parentNode.removeChild(e.crosshair.button),e.crosshair.button=!1);var o=this.getOption(e,"sync","enabled");if(!s&&t&&o){var i=this.getOption(e,"sync","group"),c=new CustomEvent("reset-zoom-event");c.chartId=e.id,c.syncGroup=i,window.dispatchEvent(c)}t&&e.update("none")},doZoom:function(e,s,t){if(s>t){var n=s;s=t,t=n}var r=Me(e.options.plugins.crosshair.callbacks?e.options.plugins.crosshair.callbacks.beforeZoom:void 0,ie.callbacks.beforeZoom);if(!r(s,t))return!1;if(e.crosshair.dragStarted=!1,e.options.scales.x.min&&e.crosshair.originalData.length===0&&(e.crosshair.originalXRange.min=e.options.scales.x.min),e.options.scales.x.max&&e.crosshair.originalData.length===0&&(e.crosshair.originalXRange.max=e.options.scales.x.max),!e.crosshair.button){var o=document.createElement("button"),i=this.getOption(e,"zoom","zoomButtonText"),c=this.getOption(e,"zoom","zoomButtonClass"),l=document.createTextNode(i);o.appendChild(l),o.className=c,o.addEventListener("click",(function(){this.resetZoom(e)}).bind(this)),e.canvas.parentNode.appendChild(o),e.crosshair.button=o}e.options.scales.x.min=s,e.options.scales.x.max=t;var u=e.crosshair.originalData.length===0,d=e.config.options.scales.x.type!=="category";if(d)for(var h=0;h<e.data.datasets.length;h++){var b=[],x=0,f=!1,j=!1;u&&(e.crosshair.originalData[h]=e.data.datasets[h].data);for(var S=e.crosshair.originalData[h],g=0;g<S.length;g++){var k=S[g],C=k.x!==void 0?k.x:NaN;C>=s&&!f&&x>0&&(b.push(S[x-1]),f=!0),C>=s&&C<=t&&b.push(k),C>t&&!j&&x<S.length&&(b.push(k),j=!0),x+=1}e.data.datasets[h].data=b}if(e.crosshair.start=s,e.crosshair.end=t,u){var p=this.getXScale(e);e.crosshair.min=p.min,e.crosshair.max=p.max}e.crosshair.ignoreNextEvents=2,e.update("none");var y=this.getOption(e,"callbacks","afterZoom");y(s,t)},drawZoombox:function(e){var s=this.getYScale(e),t=this.getOption(e,"zoom","zoomboxBorderColor"),n=this.getOption(e,"zoom","zoomboxBackgroundColor");e.ctx.beginPath(),e.ctx.rect(e.crosshair.dragStartX,s.getPixelForValue(s.max),e.crosshair.x-e.crosshair.dragStartX,s.getPixelForValue(s.min)-s.getPixelForValue(s.max)),e.ctx.lineWidth=1,e.ctx.strokeStyle=t,e.ctx.fillStyle=n,e.ctx.fill(),e.ctx.fillStyle="",e.ctx.stroke(),e.ctx.closePath()},drawTraceLine:function(e){var s=this.getYScale(e),t=this.getOption(e,"line","width"),n=this.getOption(e,"line","color"),r=this.getOption(e,"line","dashPattern"),o=this.getOption(e,"snap","enabled"),i=e.crosshair.x;o&&e._active.length&&(i=e._active[0].element.x),e.ctx.beginPath(),e.ctx.setLineDash(r),e.ctx.moveTo(i,s.getPixelForValue(s.max)),e.ctx.lineWidth=t,e.ctx.strokeStyle=n,e.ctx.lineTo(i,s.getPixelForValue(s.min)),e.ctx.stroke(),e.ctx.setLineDash([])},drawTracePoints:function(e){for(var s=0;s<e.data.datasets.length;s++){var t=e.data.datasets[s],n=e.getDatasetMeta(s),r=e.scales[n.yAxisID];n.hidden||!t.interpolate||(e.ctx.beginPath(),e.ctx.arc(e.crosshair.x,r.getPixelForValue(t.interpolatedValue),3,0,2*Math.PI,!1),e.ctx.fillStyle="white",e.ctx.lineWidth=2,e.ctx.strokeStyle=t.borderColor,e.ctx.fill(),e.ctx.stroke())}},interpolateValues:function(e){for(var s=0;s<e.data.datasets.length;s++){var t=e.data.datasets[s],n=e.getDatasetMeta(s),r=e.scales[n.xAxisID],o=r.getValueForPixel(e.crosshair.x);if(!(n.hidden||!t.interpolate)){var i=t.data,c=i.findIndex(function(h){return h.x>=o}),l=i[c-1],u=i[c];if(e.data.datasets[s].steppedLine&&l)t.interpolatedValue=l.y;else if(l&&u){var d=(u.y-l.y)/(u.x-l.x);t.interpolatedValue=l.y+(o-l.x)*d}else t.interpolatedValue=NaN}}}};const X=(e=1)=>`rgba(48, 166, 51, ${e})`,K=(e=1)=>`rgba(241, 77, 66, ${e})`,qe="text-[#30a633]",Ge="text-[#f14d42]",Ya=["1d","5d","1m","6m","ytd","1y","5y","max"];function Wa({histories:e,selectedInterval:s,onSelectHistoryInterval:t}){const n=Object.keys(e?.quotes??{});return a.jsx("div",{className:"inline-flex items-start justify-between rounded-[10px] bg-[#f4f4f4] p-[3px] text-xs font-semibold text-token-text-tertiary shadow-[inset_0_0.5px_1px_0_rgba(0,0,0,0.05)] dark:bg-[#393939] sm:justify-start sm:gap-1",children:n.map(r=>a.jsx("button",{onClick:()=>{t?.(r)},className:N("border border-transparent px-3 py-1.5 text-xs font-semibold uppercase hover:text-token-text-secondary",{"rounded-lg !border-token-border-xlight bg-token-main-surface-primary text-token-text-primary shadow-xxs dark:!border-token-border-light":s===r}),children:Mt[r].label},r))})}const Mt={"1d":{label:"1D",formatTimestampLabel:Ve,formatTimestampTooltip:Ve,maxTicksLimit:6,lineTension:.1},"5d":{label:"5D",formatTimestampLabel:Xe,formatTimestampTooltip:Za,maxTicksLimit:6,lineTension:.1},"1m":{label:"1M",formatTimestampLabel:Xe,formatTimestampTooltip:qa,maxTicksLimit:6,lineTension:.1,useUtc:!0},"6m":{label:"6M",formatTimestampLabel:ce,formatTimestampTooltip:Y,maxTicksLimit:5,lineTension:.1,useUtc:!0},ytd:{label:"YTD",formatTimestampLabel:ce,formatTimestampTooltip:Y,maxTicksLimit:5,lineTension:.1,useUtc:!0},"1y":{label:"1Y",formatTimestampLabel:ce,formatTimestampTooltip:Y,maxTicksLimit:5,lineTension:.2,useUtc:!0},"5y":{label:"5Y",formatTimestampLabel:Ke,formatTimestampTooltip:Y,maxTicksLimit:5,lineTension:.2,useUtc:!0},max:{label:"max",formatTimestampLabel:Ke,formatTimestampTooltip:Y,maxTicksLimit:5,lineTension:.2,useUtc:!0}};function Ba(e){return e?Ya.filter(t=>t in e.quotes).find(t=>e.quotes[t].length>0):void 0}function z(e,s){return O(new Date(e*1e3),s??"America/New_York")}function Ve(e,s,t){const n=z(s,t);return e.formatTime(n,{hour:"numeric",minute:"numeric"})}function Za(e,s,t){const n=z(s,t);return e.formatDate(n,{weekday:"short",month:"short",day:"numeric",hour:"numeric",minute:"numeric"})}function Y(e,s,t){const n=z(s,t);return e.formatDate(n,{month:"short",day:"numeric",year:"numeric"})}function ce(e,s,t){const n=z(s,t);return e.formatDate(n,{month:"short",year:"numeric"})}function Xe(e,s,t){const n=z(s,t);return e.formatDate(n,{month:"short",day:"numeric"})}function qa(e,s,t){const n=z(s,t);return e.formatDate(n,{weekday:"short",month:"short",day:"numeric"})}function Ke(e,s,t){const n=z(s,t);return e.formatDate(n,{year:"numeric"})}Gs.register(Vs,Xs,Ks,Js,Qs,en,tn,sn,nn,Ua,an);const Ga=100;function Va({isUp:e,histories:s,selectedInterval:t,setHighlightedPrice:n,latestTradingPeriod:r,timezone:o}){return a.jsx(a.Fragment,{children:s&&t&&r?a.jsx(Xa,{isUp:e,histories:s,selectedInterval:t,latestTradingPeriod:r,timezone:o,setHighlightedPrice:n}):a.jsx(W,{className:"h-full",index:1,width:100})})}function Xa({isUp:e,histories:s,selectedInterval:t,latestTradingPeriod:n,timezone:r,setHighlightedPrice:o}){const[i,c]=m.useState(null),[l,u]=m.useState(!1),d=t==="1d",h=m.useMemo(()=>{let p=s.quotes[t].filter(y=>y.close>=0);if(d&&n){const y=n.regular.start_timestamp,$=n.regular.end_timestamp;if(p=p.filter(T=>T.timestamp>=y&&T.timestamp<=$),p.length===0||p[p.length-1].timestamp<$){let I=p.length>0?p[p.length-1].timestamp:y-600;for(;I<$;)I+=600,p.push({timestamp:I,close:null})}}return p},[s,t,d,n]),b=Mt[t],{formatTimestampTooltip:x,maxTicksLimit:f,useUtc:j=!1}=b,S=D(),g=ct(),k=U(),C=m.useMemo(()=>{const{formatTimestampLabel:p,lineTension:y}=b;return{labels:h.map($=>p(S,$.timestamp,j?"UTC":r)),datasets:[{data:h.map($=>$.close),borderColor:e?X():K(),pointRadius:0,pointHoverRadius:4,pointStyle:"circle",pointBackgroundColor:e?X():K(),pointHoverBorderWidth:2,pointHoverBorderColor:"rgba(255, 255, 255, 1)",backgroundColor:function($){const{ctx:T,chartArea:I}=$.chart;if(I)return Ja(T,I,e)},fill:!0,borderWidth:2,lineTension:y??.4}]}},[b,h,e,j,r,S]);return a.jsx("div",{className:"flex h-full flex-col gap-6",children:a.jsxs("div",{className:"relative h-full",onMouseEnter:()=>u(!0),onMouseLeave:()=>{u(!1),o(null)},children:[a.jsx(rn,{options:{responsive:!0,maintainAspectRatio:!1,interaction:{intersect:!1,mode:"index"},hover:{mode:l?"index":"point"},animation:!1,scales:{x:{afterBuildTicks:p=>{if(p.ticks.length>f)if(d)p.ticks=p.ticks.filter((y,$)=>h[$].timestamp%(g?3600:7200)===0);else{const y=Math.ceil(p.ticks.length/(f-1));p.ticks=p.ticks.filter(($,T)=>T>0&&(T%y===0||T===p.ticks.length-1))}},grid:{display:!1},ticks:{align:"end"}},y:{ticks:{maxTicksLimit:7},border:{display:!1},grid:{color:k?"rgba(255, 255, 255, 0.1)":"rgba(229, 229, 229, 0.5)"}}},plugins:{datalabels:{display:!1},legend:{display:!1},tooltip:{enabled:!1,animation:!1,displayColors:!1,callbacks:{title:function(p){const y=p[0];if(!y)return"";const $=h[y.dataIndex]?.timestamp;return $?x(S,$,j?"UTC":r):""}},external:({tooltip:p})=>{l&&p.opacity>0&&o(B(p.dataPoints?.[0]?.parsed?.y??0)),c(y=>{const $=p.chart.width,T=p.caretX>$-Ga;return!y||y.x!==p.caretX||y.y!==p.caretY||y.opacity!==p.opacity||y.flip!==T?{...y,x:p.caretX,y:p.caretY,dateLabel:p.title?.[0],value:B(p.dataPoints?.[0]?.parsed?.y??0),opacity:p.opacity,flip:T}:y})}},dropShadow:!1,crosshair:{line:{color:k?"rgba(255, 255, 255, 0.3)":"rgba(0, 0, 0, 0.3)",width:.5},zoom:{enabled:!1}}}},data:C}),a.jsx(Ka,{tooltipData:i})]})})}function Ka({tooltipData:e}){return!e||!e.opacity?null:a.jsx("div",{style:{left:e.x-5,top:10,transform:"translate(-50%, -50%)"},className:N("pointer-events-none absolute translate-y-[-100%] whitespace-nowrap rounded-lg bg-black px-2 py-1 font-mono font-semibold text-token-main-surface-primary dark:bg-token-main-surface-secondary dark:text-white"),children:a.jsx("div",{className:"text-xs",children:e.dateLabel})})}function Ja(e,s,t){const n=e.createLinearGradient(0,s.top,0,s.bottom);return n.addColorStop(0,t?X(.4):K(.4)),n.addColorStop(1,t?X(0):K(0)),n}function B(e){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e)}function Qa({data:e,priceChange:s,highlightedPrice:t,extendedPriceChange:n,url:r}){function o(i,c="intraday",l=null){const{isUp:u,changePercentage:d,changeLabel:h,changeAmount:b}=i,x=Math.abs(d).toFixed(2),f=B(b);return a.jsxs("span",{className:"flex min-w-0 items-center gap-1",children:[c==="extended_hours"&&l!=null&&a.jsx("span",{className:"font-semibold",children:a.jsx(w,{id:"HWwWpW",defaultMessage:"{price}",values:{price:l}})}),a.jsx("span",{className:N("font-semibold",u?qe:Ge),children:a.jsx(w,{id:"3x4Lkl",defaultMessage:"{sign}{changeAmount}",values:{changeAmount:f,sign:u?"+":""}})}),a.jsx("span",{className:N("font-semibold",u?qe:Ge),children:a.jsx(w,{id:"MbfF1T",defaultMessage:"({sign}{changePercentage}%)",values:{changePercentage:x,sign:u?"+":"-"}})}),c==="extended_hours"?a.jsx("span",{className:"min-w-0 truncate text-token-text-primary",children:h}):a.jsx("span",{className:"min-w-0 truncate text-token-text-primary",children:h})]})}return a.jsxs("div",{children:[a.jsx("div",{className:"mt-2 text-sm",children:e?a.jsx(w,{id:"+2WHuv",defaultMessage:"{name} ({ticker})",values:{name:e.asset.name,ticker:e.asset.ticker}}):a.jsx("div",{className:"w-32",children:a.jsx(W,{index:9,width:100})})}),a.jsx("div",{className:"text-sm text-token-text-tertiary",children:e?a.jsx(a.Fragment,{children:r!=null&&a.jsxs(a.Fragment,{children:[" · ",a.jsx(F,{href:r,className:"text-token-link hover:underline",children:on(r,"hostname")})]})}):a.jsx("div",{className:"mt-2 w-36",children:a.jsx(W,{index:6,width:100})})}),a.jsx("div",{className:"mt-2 flex text-4xl",children:e?a.jsx(w,{id:"s+1uly",defaultMessage:"{price}",values:{price:t??B(e.price.price)}}):a.jsx("div",{className:"w-32",children:a.jsx(W,{index:0,width:100})})}),a.jsx("div",{className:"mt-2 flex items-center justify-start gap-1 text-sm",children:s?o(s):a.jsx("div",{className:"mt-2 w-40",children:a.jsx(W,{index:3,width:100})})}),a.jsx("div",{className:"mt-0.5 flex items-center justify-start gap-1 text-sm",children:e?.price?.extended_price!=null&&n!=null&&o(n,"extended_hours",B(e.price.extended_price))})]})}function er({contentReference:e,trackContentReferenceEvent:s}){const t=D();m.useEffect(()=>{s(v.searchContentReferenceShown,"search_content_reference_shown","stock")},[s]);const n=Ba(e?.stock?.histories),r=e?.stock,[o,i]=m.useState(n),[c,l]=m.useState(null),u=o==="1d",d=r?.histories?.quotes?.[o??""]?.[0],h=o&&o in V?o:void 0,b=r&&(d&&!u?{changePercentage:(r.price.price-d.close)/d.close*100,changeAmount:r.price.price-d.close,changeLabel:h?t.formatMessage(V[h]):"",isUp:r.price.price>d.close}:r.price.change_percent&&r.price.change?{changePercentage:r.price.change_percent*100,changeAmount:r.price.change,changeLabel:sr(r.price.latest_trade_timestamp,r.asset.timezone,t),isUp:r.price.change?r.price.change>0:!1}:null),x=r&&r.price.extended_price!=null&&r.price.extended_change_percent!=null&&r.price.extended_change!=null?{changePercentage:r.price.extended_change_percent*100,changeAmount:r.price.extended_change,changeLabel:t.formatMessage(tr(r.price.market_status)??V.extended),isUp:r.price.extended_change>0}:null;return a.jsxs("div",{className:"flex h-[480px] flex-col gap-8",children:[a.jsxs("div",{className:"flex flex-wrap items-end justify-between",children:[a.jsx(Qa,{data:r??null,highlightedPrice:c,priceChange:b??null,extendedPriceChange:x??null,url:e?.url??null}),a.jsx("div",{className:"mt-4",children:a.jsx(Wa,{selectedInterval:o,onSelectHistoryInterval:i,histories:r?.histories})})]}),a.jsx("div",{className:"h-full",children:a.jsx(Va,{isUp:b?.isUp??!1,selectedInterval:o,histories:r?.histories,setHighlightedPrice:l,onSelectHistoryInterval:f=>i(f),latestTradingPeriod:r?.asset.latest_trading_period,timezone:r?.asset.timezone??null})})]})}function tr(e){if(e==null)return null;const s=e.toLowerCase();return s==="premarket"||s==="open"?te({id:"By+pvF",defaultMessage:"Pre-Market"}):s==="afterhours"||s==="closed"?te({id:"aLCg3c",defaultMessage:"After Hours"}):te({id:"2p526c",defaultMessage:"Extended Hours"})}function sr(e,s,t){function n(r,o){const c=O(new Date,o),l=t.formatDate(c,{year:"numeric",month:"2-digit",day:"2-digit"}),u=me(r*1e3),d=O(u,o),h=t.formatDate(d,{year:"numeric",month:"2-digit",day:"2-digit"});return l===h}if(!e||!s||n(e,s))return t.formatMessage(V["1d"]);{const r=me(e*1e3),o=O(r,s);return t.formatDate(o,{month:"long",day:"numeric"})}}const V=pe({"1d":{id:"SMdcuo",defaultMessage:"Today"},extended:{id:"2p526c",defaultMessage:"Extended Hours"},"5d":{id:"HCA6lr",defaultMessage:"Past 5 days"},"1m":{id:"DJpPMq",defaultMessage:"Past month"},"6m":{id:"1mUJ2L",defaultMessage:"Past 6 months"},ytd:{id:"b9KkhV",defaultMessage:"Year to date"},"1y":{id:"XnvD9A",defaultMessage:"Past year"},"5y":{id:"DfI1RB",defaultMessage:"Past 5 years"},max:{id:"WzOhuU",defaultMessage:"Max"}}),nr=4;function ar({metadata:e,analyticsMetadata:s,trackContentReferenceEvent:t}){const n=Vt(),r=e.images,o=r.map(d=>d.thumbnail_url),i=Yt({queries:o.map(d=>cn(d)),combine:d=>{const h=new Set;return d.forEach((b,x)=>{b.isSuccess&&h.add(o[x])}),h}}),c=r.filter(d=>i.has(d.thumbnail_url)),l=e.images.length;if(l===0)return null;if(l===1){const d=e.images[0];return a.jsx(Je,{image:d,imageSource:Pe.Turn,analyticsMetadata:s,trackContentReferenceEvent:t,className:"float-image z-10 float-right clear-right mb-7 ml-7 mt-1 min-w-32 max-w-[22%] overflow-hidden rounded-xl border-[0.5px] border-token-border-light"},d.content_url)}const u=n?c.length:Math.min(c.length,nr);return a.jsx("div",{className:"no-scrollbar mb-6 mt-1 flex min-h-36 flex-nowrap gap-0.5 overflow-auto sm:gap-1 sm:overflow-hidden xl:min-h-44",children:c.slice(0,u).map((d,h)=>a.jsx("div",{className:N("relative aspect-square max-h-48 w-32 shrink-0 overflow-hidden rounded-xl border-[0.5px] border-token-border-light sm:w-[calc((100%-1rem)/4)] md:shrink",h===0&&"rounded-l-xl",h===u-1&&"rounded-r-xl"),children:a.jsx(Je,{image:d,imageSource:Pe.Turn,analyticsMetadata:s,trackContentReferenceEvent:t,className:"h-full w-full"},d.thumbnail_url)},d.thumbnail_url))})}const rr=m.memo(ar,(e,s)=>e.numImageResults===s.numImageResults&&e.analyticsMetadata===s.analyticsMetadata&&e.trackContentReferenceEvent===s.trackContentReferenceEvent&&e.metadata.images.length===s.metadata.images.length&&e.metadata.images.every((t,n)=>t.content_url===s.metadata.images[n].content_url));function Je({image:e,imageSource:s,className:t,imgClassName:n,style:r,analyticsMetadata:o,trackContentReferenceEvent:i}){const c=ln(e),{isSuccess:l}=jt(c),u=m.useMemo(()=>({image_url:c,title:e?.title}),[c,e?.title]);m.useEffect(()=>{e&&l&&i(v.searchContentReferenceShown,"search_content_reference_shown","image_v2",u)},[i,e,l,u]);const d=As.useStore();return a.jsx("button",{className:N("relative aspect-square overflow-hidden",t),style:r,onClick:()=>{i(v.searchContentReferenceClicked,"search_content_reference_clicked","image_v2",u),d.setCurrentImage(e?{image:e,source:s,analyticsMetadata:o}:void 0)},children:e?l?a.jsx(dn,{children:a.jsx("img",{src:c,alt:e?.content_url,className:N("m-0 h-full w-full bg-token-main-surface-tertiary object-cover",n)})}):a.jsx("div",{className:"h-full w-full animate-pulse bg-token-main-surface-tertiary"}):a.jsx("div",{className:"aspect-square h-full w-full animate-pulse bg-token-main-surface-tertiary"})})}const or={google_maps:{title:"Google Maps"}};function ir({metadata:e,trackContentReferenceEvent:s}){m.useEffect(()=>{s(v.searchContentReferenceShown,"search_content_reference_shown",e.type)},[s,e.type]);const t=or[e.provider]?.title??"Maps";return a.jsx("span",{children:a.jsx(w,{id:"ZSUz1k",defaultMessage:" ({link}) ",values:{link:a.jsx(F,{href:e.url,children:t})}})})}function cr({metadata:e,trackContentReferenceEvent:s}){return e.items.length===0?null:a.jsxs("div",{className:"mt-6 flex flex-col gap-3",children:[e.title&&a.jsx("div",{className:"-mb-1 font-semibold text-token-text-primary",children:e.title}),e.items.map((t,n)=>a.jsx(lr,{item:t,index:n,trackContentReferenceEvent:s},n))]})}function lr({item:e,index:s,trackContentReferenceEvent:t}){const{isSuccess:n}=jt(e.thumbnail_url??void 0),r={url:e.url,title:e.title,index:s};m.useEffect(()=>{t(v.searchContentReferenceShown,"search_content_reference_shown","nav_list",r)},[]);const i=D().locale,c=e.pub_date!=null?new Date(e.pub_date*1e3):null,l=new Intl.RelativeTimeFormat(i,{numeric:"auto"}),u=c?Math.max(Math.floor((Date.now()-c.getTime())/(1e3*60*60*24)),0):null;let d=u!=null?l.format(-u,"day"):null;return i.startsWith("en")&&d&&(d=d.charAt(0).toUpperCase()+d.slice(1)),a.jsxs(F,{className:"group/nav-list relative flex items-center gap-6 py-1.5",href:e.url,onClick:()=>{t(v.searchContentReferenceClicked,"search_content_reference_clicked","nav_list",r)},children:[a.jsx("div",{className:"absolute bottom-0 left-0 top-0 w-[3px] rounded-b-lg rounded-t-lg bg-black/10"}),a.jsxs("div",{className:"ml-4 flex grow flex-col gap-1 overflow-hidden text-ellipsis",children:[a.jsxs("div",{className:"flex items-center gap-1.5 text-sm text-token-text-primary",children:[a.jsx(vt,{url:e.url,size:32,minSize:16,className:"icon-sm my-0 rounded-full"}),e.attribution??a.jsx(ft,{url:e.url})]}),a.jsx("div",{className:"line-clamp-2 font-semibold text-token-link decoration-token-link group-hover/nav-list:underline",children:e.title}),d&&a.jsx("div",{className:"text-xs text-token-text-tertiary",children:d})]}),n&&e.thumbnail_url&&a.jsx("div",{className:"h-16 w-16 flex-shrink-0 self-start overflow-hidden",children:a.jsx("img",{src:e.thumbnail_url,className:"m-0 h-full w-full rounded-lg object-cover",alt:e.title})})]})}const dr=5;function ur({sourcesFootnote:e,onShowSearchResults:s,trackContentReferenceEvent:t}){const n={urls:e.sources.map(r=>r.url).toString(),has_images:e.has_images};return m.useEffect(()=>{t(v.searchContentReferenceShown,"search_content_reference_shown","sources_footnote",n)},[]),a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"absolute h-[60px]",children:a.jsxs("button",{className:N("not-prose group/footnote mb-2 mt-3 flex w-fit items-center gap-1.5 rounded-xl border border-token-border-light bg-token-main-surface-primary py-2 hover:bg-token-main-surface-secondary","pl-3 pr-2.5"),onClick:()=>{t(v.searchContentReferenceClicked,"search_content_reference_clicked","sources_footnote",n),s(Es.Sources,e.sources.length>0?De.Citations:De.SearchResults)},children:[a.jsx("div",{className:"flex items-center gap-0.5 text-sm font-medium",children:a.jsx(w,{id:"/48IOP",defaultMessage:"Sources"})}),e.sources.length>0&&a.jsx("div",{className:"flex flex-row-reverse",children:e.sources.slice(0,dr).reverse().map((r,o)=>a.jsx("div",{className:N("flex items-center overflow-hidden rounded-full border-token-main-surface-primary bg-token-main-surface-primary","-mr-1.5 first:mr-0","border-2","group-hover/footnote:border-token-main-surface-secondary","relative"),children:a.jsx(vt,{url:r.url,size:32,minSize:16,className:"icon-md"})},o))})]})}),a.jsx("div",{className:"h-[60px]"})]})}const hr=e=>m.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:20,height:20,viewBox:"0 0 20 20",fill:"none",...e},m.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.96625 12.2557C5.29168 12.5811 5.81932 12.5811 6.14476 12.2557L9.99995 8.40052L13.8551 12.2557C14.1806 12.5811 14.7082 12.5811 15.0336 12.2557C15.3591 11.9303 15.3591 11.4026 15.0336 11.0772L10.5892 6.63275C10.2638 6.30731 9.73613 6.30731 9.41069 6.63275L4.96625 11.0772C4.64081 11.4026 4.64081 11.9303 4.96625 12.2557Z",fill:"currentColor"}));function E(e,s){const t=Is(e),n=s<0?"-":"+",r=Math.abs(s),o=Math.floor(r/3600).toString().padStart(2,"0"),i=Math.floor(r%3600/60).toString().padStart(2,"0"),c=`${n}${o}:${i}`;return O(t,c)}function fe(e,s){if(Te(s))return a.jsx(w,{id:"wxni9H",defaultMessage:"Today"});const t=new Date;return t.setTime(t.getTime()+7*24*60*60*1e3),s<t&&s>new Date||Te(s)?e.formatDate(s,{weekday:"long"}):e.formatDate(s,{weekday:"short",month:"short",day:"numeric"})}const mr="webp",fr=250,pr=187,gr="srgb",xr=4,br="uchar",yr=72,vr=!1,wr=!1,$r=!0,jr="{{.assetPrefix}}/assets/missing-logo-h96s4tk9.webp",Qe={format:mr,width:fr,height:pr,space:gr,channels:xr,depth:br,density:yr,isProgressive:vr,hasProfile:wr,hasAlpha:$r,src:jr};function At({team:e,className:s}){const[t,n]=m.useState(e.logo??Qe.src),r=()=>{lt.addError("Unable to load sports widget logo",{name:e.name,logo:e.logo}),n(Qe.src)};return a.jsx("img",{src:t,alt:e.name,className:s,onError:r})}const et=6;function Nr({scheduleRef:e,trackContentReferenceEvent:s}){const[t,n]=m.useState(!0),r=D(),o=e.games.length>0;if(m.useEffect(()=>{o&&s(v.searchContentReferenceShown,"search_content_reference_shown","sports",{hasSchedule:!0})},[o]),!o)return null;const c=(r.formatDateToParts(new Date,{timeZoneName:"long"}).find(h=>h.type==="timeZoneName")?.value??Intl.DateTimeFormat().resolvedOptions().timeZone).replace(/Daylight|Standard/g,"");let l=e.games;const u=h=>Math.abs(new Date().getTime()-new Date(h.date).getTime());u(l[0])>u(l[l.length-1])&&(l=l.slice().reverse());const d=t?l.slice(0,et):l;return a.jsxs("div",{className:"not-prose mb-3",children:[a.jsx("div",{className:"font-semibold",children:a.jsx(w,{id:"LA6z9q",defaultMessage:"{league} Schedule",values:{league:e.league.display_name}})}),a.jsx("div",{className:"text-sm text-token-text-secondary",children:c}),d.length===1?a.jsx("div",{children:a.jsx(Ce,{children:a.jsx(ke.div,{initial:{opacity:0,y:15},animate:{opacity:1,y:0},exit:{opacity:0,y:-15},transition:{duration:.2},children:a.jsx("div",{className:"mt-3 rounded-xl border border-token-border-medium py-3",children:a.jsx(kr,{game:d[0]})})})})}):a.jsx("div",{className:"grid grid-cols-1 pt-3 lg:grid-cols-2",children:a.jsx(Ce,{children:d.map((h,b)=>a.jsx(ke.div,{initial:{opacity:0,y:15},animate:{opacity:1,y:0,transition:{delay:b*.04}},exit:{opacity:0,y:-15},transition:{duration:.2},children:a.jsx("div",{className:N("border-b border-token-border-medium py-3",b%2===0&&"lg:border-r lg:pr-4",b%2===1&&"lg:pl-4",Math.floor(b/2)===Math.ceil(l.length/2)-1&&"lg:border-b-0",b===l.length-1&&"border-b-0"),children:a.jsx(Cr,{game:h})})},b))})}),l.length>et&&a.jsx("div",{className:"mt-2 flex items-center justify-between",children:a.jsx("button",{className:"flex items-center text-sm font-semibold",onClick:()=>n(!t),children:t?a.jsx(w,{id:"BH/Ee5",defaultMessage:"Show more {icon}",values:{icon:a.jsx(Ls,{className:"mb-[-2px]"})}}):a.jsx(w,{id:"Z9BlEu",defaultMessage:"Show less {icon}",values:{icon:a.jsx(hr,{className:"mb-[-2px]"})}})})})]})}function Cr({game:e}){const s=It(e),t=[e.first_team_info,e.second_team_info],n=t.find(c=>c.location==="home")??e.first_team_info,r=t.find(c=>c.location==="away")??e.second_team_info,o=s?.team.name===n?.team.name,i=s?.team.name===r?.team.name;return a.jsxs("div",{className:"flex w-full gap-1.5 py-3 text-base",children:[a.jsxs("div",{className:"flex flex-auto flex-col items-start gap-1 pr-3",children:[a.jsx(J,{team:r.team,isWinner:i,logoSize:"small"}),a.jsx(J,{team:n.team,isWinner:o,logoSize:"small"})]}),a.jsxs("div",{className:"flex flex-none flex-col items-start gap-1",children:[a.jsx(Q,{score:r.score,isWinner:i}),a.jsx(Q,{score:n.score,isWinner:o})]}),a.jsx("div",{className:"flex min-w-24 flex-none flex-col items-end justify-center gap-1 text-sm",children:a.jsx(Lt,{game:e})})]})}function kr({game:e}){const s=It(e),t=[e.first_team_info,e.second_team_info],n=t.find(c=>c.location==="home")??e.first_team_info,r=t.find(c=>c.location==="away")??e.second_team_info,o=s?.team.name===n?.team.name,i=s?.team.name===r?.team.name;return a.jsxs("div",{className:"flex w-full py-3 text-base",children:[a.jsx("div",{className:"flex flex-1 items-center justify-center px-2",children:a.jsx(J,{team:n.team,isWinner:o})}),a.jsx("div",{className:"mr-8 flex items-center justify-end",children:a.jsx(Q,{score:n.score,isWinner:o,className:"text-lg font-semibold"})}),a.jsx("div",{className:"flex w-24 shrink flex-col items-center justify-center gap-1 align-middle text-sm",children:a.jsx(Lt,{game:e})}),a.jsx("div",{className:"ml-8 flex items-center justify-start",children:a.jsx(Q,{score:r.score,isWinner:i,className:"text-lg font-semibold"})}),a.jsx("div",{className:"flex flex-1 items-center justify-center px-2",children:a.jsx(J,{team:r.team,isWinner:i})})]})}function Et(e){return e.live?"live":new Date(e.date)<new Date?"complete":"scheduled"}function It(e){return Et(e)!=="complete"||e.first_team_info.score==null||e.second_team_info.score==null?null:e.first_team_info.score>e.second_team_info.score?e.first_team_info:e.second_team_info}function J({team:e,isWinner:s,logoSize:t}){return a.jsxs("span",{className:N("flex items-center gap-1",s&&"font-semibold","max-w-64 lg:max-w-52 xl:max-w-64"),children:[e.logo&&a.jsx(At,{team:{name:e.name,logo:e.logo},className:N(t==="small"?"w-6":"w-8")}),a.jsx("span",{className:"truncate",children:e.name})]})}function Q({score:e,isWinner:s,className:t}){return e==null?null:a.jsx("span",{className:N(s&&"font-semibold",t),children:e})}function Lt({game:e}){const s=D();switch(Et(e)){case"live":return a.jsxs(a.Fragment,{children:[a.jsx(_r,{}),a.jsx("div",{children:e.details})]});case"complete":return a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"font-semibold",children:a.jsx(w,{id:"q/iMZL",defaultMessage:"Final"})}),a.jsx("div",{className:"text-token-text-secondary",children:fe(s,new Date(e.date))})]});case"scheduled":{const t=new Date(e.date);return isNaN(t.getTime())?null:a.jsxs(a.Fragment,{children:[a.jsx("div",{children:fe(s,t)}),a.jsx("div",{className:"text-token-text-secondary",children:s.formatDate(t,{timeStyle:"short"})})]})}}}function _r(){return a.jsx("div",{className:"rounded-[4px] bg-token-surface-error px-1.5 py-1 text-xs font-semibold text-white",children:a.jsx(w,{id:"vObALn",defaultMessage:"Live"})})}function Sr({standingsRef:e,trackContentReferenceEvent:s}){const[t,n]=m.useState(0),r=e.conferences.length>0;m.useEffect(()=>{r&&s(v.searchContentReferenceShown,"search_content_reference_shown","sports",{hasStandings:!0})},[r]);const o=e.conferences[t],i=e.conferences.length>1?e.conferences.map((c,l)=>a.jsx("button",{className:N(t===l?"text-token-text-primary":"text-token-text-tertiary","text-sm font-semibold"),onClick:()=>n(l),children:c.name},c.name)):null;return a.jsxs(a.Fragment,{children:[i&&a.jsx("div",{className:"flex gap-4",children:i}),a.jsx("div",{className:"mt-3",children:o.divisions.map(c=>c.name?a.jsx("div",{className:"mt-3",children:a.jsx(tt,{division:c,teamsColumnHeader:c.name})},c.name):a.jsx(tt,{division:c}))})]})}function tt({division:e,teamsColumnHeader:s}){const t=e.headers.map(n=>n.key);return a.jsxs(M.Root,{size:"compact",className:"not-prose",children:[a.jsxs(M.Header,{children:[a.jsx(Pr,{children:s??a.jsx(w,{id:"kKSGje",defaultMessage:"Team"})}),e.headers.map(n=>a.jsx(Ft,{textAlign:"center",className:"min-w-11 !px-0",children:a.jsx(st,{data:n})},n.key))]}),a.jsx(M.Body,{children:e.teams.map(({team:n,data:r},o)=>{const i=r.reduce((c,l)=>(c[l.key]=l,c),{});return a.jsxs(M.Row,{children:[a.jsx(M.Cell,{className:"w-full !border-0 !py-0 !pl-0",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"mr-2 w-4 whitespace-nowrap tabular-nums text-token-text-tertiary",children:o+1}),a.jsxs("div",{className:"flex items-center justify-start gap-2",children:[a.jsx(At,{team:n,className:"w-6"}),a.jsx("span",{className:"whitespace-nowrap text-base",children:n.name})]})]})}),t.map(c=>a.jsx(M.Cell,{className:"min-w-11 whitespace-nowrap !border-0 !px-0 !py-0 text-left tabular-nums",textAlign:"center",children:a.jsx(st,{data:i[c]})},c))]},n.name)})})]})}function st({data:e}){switch(e.type){case"text":return a.jsx(a.Fragment,{children:e.text});default:return a.jsx(a.Fragment,{children:e.alt})}}const Ft=dt(M.HeaderCell)`text-token-text-secondary !font-normal text-sm !static !bg-transparent !border-token-border-light !border-t-0 !border-l-0 !border-r-0`,Pr=dt(Ft)`text-token-text-primary !pl-0`;function Dr({metadata:e,trackContentReferenceEvent:s}){m.useEffect(()=>{s(v.searchContentReferenceShown,"search_content_reference_shown",e.type)},[s,e.type]);const t=D(),n=O(e.utc_time,e.utc_offset),r=t.formatDate(n,{hour:"numeric",minute:"numeric"});return a.jsx("span",{children:r})}function Tr({metadata:e,trackContentReferenceEvent:s}){return m.useEffect(()=>{s(v.searchContentReferenceShown,"search_content_reference_shown",e.type)},[s,e.type]),a.jsx("div",{children:e.url?a.jsx(ls,{webpageItem:{url:e.url,title:e.description,pub_date:null,snippet:"",attributions:null},className:"inline-flex flex-col",children:a.jsx(F,{href:e.url,className:"!font-semibold",children:e.description})}):a.jsx("div",{className:"!font-semibold",children:e.description})})}function Mr({url:e,className:s}){let t;const n="aspect-video w-full rounded-lg",r=Ar(e);r&&(t=a.jsx(Er,{videoId:r,className:n}));const o=Ir(e);return o&&(t=a.jsx(Lr,{videoId:o,className:n})),t?a.jsx("div",{className:s,children:t}):null}function Ar(e){const s=/^(?:https?:\/\/)?(?:www\.)?(?:youtube\.com\/(?:[^/\n\s]+\/\S+\/|(?:v|e(?:mbed)?)\/|\S*?[?&]v=)|youtu\.be\/)([a-zA-Z0-9_-]{11})/,t=e.match(s);return t?t[1]:null}function Er({videoId:e,className:s}){return a.jsx("iframe",{className:s,src:`https://www.youtube.com/embed/${e}`,frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",referrerPolicy:"strict-origin-when-cross-origin",allowFullScreen:!0})}function Ir(e){const s=/vimeo\.com\/(?:channels\/(?:\w+\/)?|groups\/[^/]+\/videos\/|video\/|)(\d+)/,t=e.match(s);return t?t[1]:null}function Lr({videoId:e,className:s}){return a.jsx(a.Fragment,{children:a.jsx("iframe",{className:s,src:`https://player.vimeo.com/video/${e}`,frameBorder:"0",allow:"autoplay; fullscreen; picture-in-picture",allowFullScreen:!0})})}function Fr({video:e,trackContentReferenceEvent:s}){const t={url:e.url,title:e.title};return m.useEffect(()=>{s(v.searchContentReferenceShown,"search_content_reference_shown",e.type,t)},[]),e.url==null||e.url===""?null:a.jsx("div",{className:"not-prose mb-3 flex flex-col gap-4 text-base",children:a.jsx(Mr,{url:e.url})})}const Rr=e=>m.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},m.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.34354 4.92894C6.7341 5.31946 6.7341 5.95263 6.34354 6.34315C3.21906 9.46735 3.21906 14.5327 6.34354 17.6569C6.7341 18.0474 6.7341 18.6806 6.34354 19.0711C5.95298 19.4616 5.31976 19.4616 4.9292 19.0711C1.0236 15.1658 1.0236 8.83418 4.9292 4.92894C5.31976 4.53842 5.95298 4.53842 6.34354 4.92894ZM17.6583 4.92894C18.0488 4.53842 18.682 4.53842 19.0726 4.92894C22.9782 8.83418 22.9782 15.1658 19.0726 19.0711C18.682 19.4616 18.0488 19.4616 17.6583 19.0711C17.2677 18.6806 17.2677 18.0474 17.6583 17.6569C20.7827 14.5327 20.7827 9.46735 17.6583 6.34315C17.2677 5.95263 17.2677 5.31946 17.6583 4.92894Z",fill:"currentColor"}),m.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.17222 7.75737C9.56278 8.14789 9.56278 8.78106 9.17222 9.17158C7.60998 10.7337 7.60998 13.2663 9.17222 14.8284C9.56278 15.219 9.56278 15.8521 9.17222 16.2426C8.78166 16.6332 8.14844 16.6332 7.75788 16.2426C5.41452 13.8995 5.41452 10.1005 7.75788 7.75737C8.14844 7.36684 8.78166 7.36684 9.17222 7.75737ZM14.8296 7.75737C15.2201 7.36684 15.8534 7.36684 16.2439 7.75737C18.5873 10.1005 18.5873 13.8995 16.2439 16.2426C15.8534 16.6332 15.2201 16.6332 14.8296 16.2426C14.439 15.8521 14.439 15.219 14.8296 14.8284C16.3918 13.2663 16.3918 10.7337 14.8296 9.17158C14.439 8.78106 14.439 8.14789 14.8296 7.75737Z",fill:"currentColor"}),m.createElement("path",{d:"M14.0011 12C14.0011 13.1046 13.1056 14 12.0009 14C10.8962 14 10.0007 13.1046 10.0007 12C10.0007 10.8954 10.8962 10 12.0009 10C13.1056 10 14.0011 10.8954 14.0011 12Z",fill:"currentColor"})),zr="webp",Hr=96,Or=96,Ur="srgb",Yr=4,Wr="uchar",Br=288,Zr=!1,qr=!1,Gr=!0,Vr="{{.assetPrefix}}/assets/cloud-foggy-o4a3hmky.webp",Xr={format:zr,width:Hr,height:Or,space:Ur,channels:Yr,depth:Wr,density:Br,isProgressive:Zr,hasProfile:qr,hasAlpha:Gr,src:Vr},Kr="webp",Jr=96,Qr=96,eo="srgb",to=4,so="uchar",no=288,ao=!1,ro=!1,oo=!0,io="{{.assetPrefix}}/assets/cloudy-co8vwrk7.webp",co={format:Kr,width:Jr,height:Qr,space:eo,channels:to,depth:so,density:no,isProgressive:ao,hasProfile:ro,hasAlpha:oo,src:io},lo="webp",uo=96,ho=96,mo="srgb",fo=4,po="uchar",go=288,xo=!1,bo=!1,yo=!0,vo="{{.assetPrefix}}/assets/heavy-snow-mke52kag.webp",wo={format:lo,width:uo,height:ho,space:mo,channels:fo,depth:po,density:go,isProgressive:xo,hasProfile:bo,hasAlpha:yo,src:vo},$o="webp",jo=96,No=96,Co="srgb",ko=4,_o="uchar",So=288,Po=!1,Do=!1,To=!0,Mo="{{.assetPrefix}}/assets/light-snow-mcy1l7t9.webp",Ao={format:$o,width:jo,height:No,space:Co,channels:ko,depth:_o,density:So,isProgressive:Po,hasProfile:Do,hasAlpha:To,src:Mo},Eo="webp",Io=96,Lo=96,Fo="srgb",Ro=4,zo="uchar",Ho=288,Oo=!1,Uo=!1,Yo=!0,Wo="{{.assetPrefix}}/assets/moon-drizzle-cplxr2ub.webp",Bo={format:Eo,width:Io,height:Lo,space:Fo,channels:Ro,depth:zo,density:Ho,isProgressive:Oo,hasProfile:Uo,hasAlpha:Yo,src:Wo},Zo="webp",qo=96,Go=96,Vo="srgb",Xo=4,Ko="uchar",Jo=288,Qo=!1,ei=!1,ti=!0,si="{{.assetPrefix}}/assets/moon-hazy-jvgt25bp.webp",ni={format:Zo,width:qo,height:Go,space:Vo,channels:Xo,depth:Ko,density:Jo,isProgressive:Qo,hasProfile:ei,hasAlpha:ti,src:si},ai="webp",ri=96,oi=96,ii="srgb",ci=4,li="uchar",di=288,ui=!1,hi=!1,mi=!0,fi="{{.assetPrefix}}/assets/moon-mostly-cloudy-cia3do0v.webp",pi={format:ai,width:ri,height:oi,space:ii,channels:ci,depth:li,density:di,isProgressive:ui,hasProfile:hi,hasAlpha:mi,src:fi},gi="webp",xi=96,bi=96,yi="srgb",vi=4,wi="uchar",$i=288,ji=!1,Ni=!1,Ci=!0,ki="{{.assetPrefix}}/assets/moon-mostly-sunny-n3mh1b6a.webp",_i={format:gi,width:xi,height:bi,space:yi,channels:vi,depth:wi,density:$i,isProgressive:ji,hasProfile:Ni,hasAlpha:Ci,src:ki},Si="webp",Pi=96,Di=96,Ti="srgb",Mi=4,Ai="uchar",Ei=288,Ii=!1,Li=!1,Fi=!0,Ri="{{.assetPrefix}}/assets/moon-shower-ntzhti9o.webp",zi={format:Si,width:Pi,height:Di,space:Ti,channels:Mi,depth:Ai,density:Ei,isProgressive:Ii,hasProfile:Li,hasAlpha:Fi,src:Ri},Hi="webp",Oi=96,Ui=96,Yi="srgb",Wi=4,Bi="uchar",Zi=288,qi=!1,Gi=!1,Vi=!0,Xi="{{.assetPrefix}}/assets/moon-sunny-eg2emh4d.webp",Ki={format:Hi,width:Oi,height:Ui,space:Yi,channels:Wi,depth:Bi,density:Zi,isProgressive:qi,hasProfile:Gi,hasAlpha:Vi,src:Xi},Ji="webp",Qi=96,ec=96,tc="srgb",sc=4,nc="uchar",ac=288,rc=!1,oc=!1,ic=!0,cc="{{.assetPrefix}}/assets/rain-thunder-bx7a0l5g.webp",lc={format:Ji,width:Qi,height:ec,space:tc,channels:sc,depth:nc,density:ac,isProgressive:rc,hasProfile:oc,hasAlpha:ic,src:cc},dc="webp",uc=96,hc=96,mc="srgb",fc=4,pc="uchar",gc=288,xc=!1,bc=!1,yc=!0,vc="{{.assetPrefix}}/assets/rain-cxs76xuj.webp",wc={format:dc,width:uc,height:hc,space:mc,channels:fc,depth:pc,density:gc,isProgressive:xc,hasProfile:bc,hasAlpha:yc,src:vc},$c="webp",jc=96,Nc=96,Cc="srgb",kc=4,_c="uchar",Sc=288,Pc=!1,Dc=!1,Tc=!0,Mc="{{.assetPrefix}}/assets/sleet-gc63vwmo.webp",Ac={format:$c,width:jc,height:Nc,space:Cc,channels:kc,depth:_c,density:Sc,isProgressive:Pc,hasProfile:Dc,hasAlpha:Tc,src:Mc},Ec="webp",Ic=96,Lc=96,Fc="srgb",Rc=4,zc="uchar",Hc=288,Oc=!1,Uc=!1,Yc=!0,Wc="{{.assetPrefix}}/assets/snow-d0k6tmmc.webp",Bc={format:Ec,width:Ic,height:Lc,space:Fc,channels:Rc,depth:zc,density:Hc,isProgressive:Oc,hasProfile:Uc,hasAlpha:Yc,src:Wc},Zc="webp",qc=96,Gc=96,Vc="srgb",Xc=4,Kc="uchar",Jc=288,Qc=!1,el=!1,tl=!0,sl="{{.assetPrefix}}/assets/sun-drizzle-g94obr5e.webp",nl={format:Zc,width:qc,height:Gc,space:Vc,channels:Xc,depth:Kc,density:Jc,isProgressive:Qc,hasProfile:el,hasAlpha:tl,src:sl},al="webp",rl=96,ol=96,il="srgb",cl=4,ll="uchar",dl=288,ul=!1,hl=!1,ml=!0,fl="{{.assetPrefix}}/assets/sun-hazy-c3z1j0hy.webp",pl={format:al,width:rl,height:ol,space:il,channels:cl,depth:ll,density:dl,isProgressive:ul,hasProfile:hl,hasAlpha:ml,src:fl},gl="webp",xl=96,bl=96,yl="srgb",vl=4,wl="uchar",$l=288,jl=!1,Nl=!1,Cl=!0,kl="{{.assetPrefix}}/assets/sun-mostly-cloudy-d4o4zkga.webp",_l={format:gl,width:xl,height:bl,space:yl,channels:vl,depth:wl,density:$l,isProgressive:jl,hasProfile:Nl,hasAlpha:Cl,src:kl},Sl="webp",Pl=96,Dl=96,Tl="srgb",Ml=4,Al="uchar",El=288,Il=!1,Ll=!1,Fl=!0,Rl="{{.assetPrefix}}/assets/sun-mostly-sunny-livrdkgu.webp",zl={format:Sl,width:Pl,height:Dl,space:Tl,channels:Ml,depth:Al,density:El,isProgressive:Il,hasProfile:Ll,hasAlpha:Fl,src:Rl},Hl="webp",Ol=96,Ul=96,Yl="srgb",Wl=4,Bl="uchar",Zl=288,ql=!1,Gl=!1,Vl=!0,Xl="{{.assetPrefix}}/assets/sun-shower-lvtjthah.webp",Kl={format:Hl,width:Ol,height:Ul,space:Yl,channels:Wl,depth:Bl,density:Zl,isProgressive:ql,hasProfile:Gl,hasAlpha:Vl,src:Xl},Jl="webp",Ql=96,ed=96,td="srgb",sd=4,nd="uchar",ad=288,rd=!1,od=!1,id=!0,cd="{{.assetPrefix}}/assets/sun-sunny-kqjpjzd8.webp",ld={format:Jl,width:Ql,height:ed,space:td,channels:sd,depth:nd,density:ad,isProgressive:rd,hasProfile:od,hasAlpha:id,src:cd},dd="webp",ud=96,hd=96,md="srgb",fd=4,pd="uchar",gd=288,xd=!1,bd=!1,yd=!0,vd="{{.assetPrefix}}/assets/thunder-jgjqg9ai.webp",wd={format:dd,width:ud,height:hd,space:md,channels:fd,depth:pd,density:gd,isProgressive:xd,hasProfile:bd,hasAlpha:yd,src:vd},$d="webp",jd=96,Nd=96,Cd="srgb",kd=4,_d="uchar",Sd=288,Pd=!1,Dd=!1,Td=!0,Md="{{.assetPrefix}}/assets/tornado-opa24tq3.webp",Ad={format:$d,width:jd,height:Nd,space:Cd,channels:kd,depth:_d,density:Sd,isProgressive:Pd,hasProfile:Dd,hasAlpha:Td,src:Md},Ed="webp",Id=96,Ld=96,Fd="srgb",Rd=4,zd="uchar",Hd=288,Od=!1,Ud=!1,Yd=!0,Wd="{{.assetPrefix}}/assets/windy-mw0a3u21.webp",Bd={format:Ed,width:Id,height:Ld,space:Fd,channels:Rd,depth:zd,density:Hd,isProgressive:Od,hasProfile:Ud,hasAlpha:Yd,src:Wd},Zd="webp",qd=96,Gd=96,Vd="srgb",Xd=4,Kd="uchar",Jd=288,Qd=!1,eu=!1,tu=!0,su="{{.assetPrefix}}/assets/cloud-foggy-fhg0jn0w.webp",nu={format:Zd,width:qd,height:Gd,space:Vd,channels:Xd,depth:Kd,density:Jd,isProgressive:Qd,hasProfile:eu,hasAlpha:tu,src:su},au="webp",ru=96,ou=96,iu="srgb",cu=4,lu="uchar",du=288,uu=!1,hu=!1,mu=!0,fu="{{.assetPrefix}}/assets/cloudy-disd26f3.webp",pu={format:au,width:ru,height:ou,space:iu,channels:cu,depth:lu,density:du,isProgressive:uu,hasProfile:hu,hasAlpha:mu,src:fu},gu="webp",xu=96,bu=96,yu="srgb",vu=4,wu="uchar",$u=288,ju=!1,Nu=!1,Cu=!0,ku="{{.assetPrefix}}/assets/heavy-snow-g6jjwo2d.webp",_u={format:gu,width:xu,height:bu,space:yu,channels:vu,depth:wu,density:$u,isProgressive:ju,hasProfile:Nu,hasAlpha:Cu,src:ku},Su="webp",Pu=96,Du=96,Tu="srgb",Mu=4,Au="uchar",Eu=288,Iu=!1,Lu=!1,Fu=!0,Ru="{{.assetPrefix}}/assets/light-snow-iz0efpkh.webp",zu={format:Su,width:Pu,height:Du,space:Tu,channels:Mu,depth:Au,density:Eu,isProgressive:Iu,hasProfile:Lu,hasAlpha:Fu,src:Ru},Hu="webp",Ou=96,Uu=96,Yu="srgb",Wu=4,Bu="uchar",Zu=288,qu=!1,Gu=!1,Vu=!0,Xu="{{.assetPrefix}}/assets/moon-drizzle-b1nfv39c.webp",Ku={format:Hu,width:Ou,height:Uu,space:Yu,channels:Wu,depth:Bu,density:Zu,isProgressive:qu,hasProfile:Gu,hasAlpha:Vu,src:Xu},Ju="webp",Qu=96,eh=96,th="srgb",sh=4,nh="uchar",ah=288,rh=!1,oh=!1,ih=!0,ch="{{.assetPrefix}}/assets/moon-hazy-nfnzea7a.webp",lh={format:Ju,width:Qu,height:eh,space:th,channels:sh,depth:nh,density:ah,isProgressive:rh,hasProfile:oh,hasAlpha:ih,src:ch},dh="webp",uh=96,hh=96,mh="srgb",fh=4,ph="uchar",gh=288,xh=!1,bh=!1,yh=!0,vh="{{.assetPrefix}}/assets/moon-mostly-cloudy-e56e3z55.webp",wh={format:dh,width:uh,height:hh,space:mh,channels:fh,depth:ph,density:gh,isProgressive:xh,hasProfile:bh,hasAlpha:yh,src:vh},$h="webp",jh=96,Nh=96,Ch="srgb",kh=4,_h="uchar",Sh=288,Ph=!1,Dh=!1,Th=!0,Mh="{{.assetPrefix}}/assets/moon-mostly-sunny-ffu4gzf4.webp",Ah={format:$h,width:jh,height:Nh,space:Ch,channels:kh,depth:_h,density:Sh,isProgressive:Ph,hasProfile:Dh,hasAlpha:Th,src:Mh},Eh="webp",Ih=96,Lh=96,Fh="srgb",Rh=4,zh="uchar",Hh=288,Oh=!1,Uh=!1,Yh=!0,Wh="{{.assetPrefix}}/assets/moon-shower-e5dy9u48.webp",Bh={format:Eh,width:Ih,height:Lh,space:Fh,channels:Rh,depth:zh,density:Hh,isProgressive:Oh,hasProfile:Uh,hasAlpha:Yh,src:Wh},Zh="webp",qh=96,Gh=96,Vh="srgb",Xh=4,Kh="uchar",Jh=288,Qh=!1,em=!1,tm=!0,sm="{{.assetPrefix}}/assets/moon-sunny-d9o08xiw.webp",nm={format:Zh,width:qh,height:Gh,space:Vh,channels:Xh,depth:Kh,density:Jh,isProgressive:Qh,hasProfile:em,hasAlpha:tm,src:sm},am="webp",rm=96,om=96,im="srgb",cm=4,lm="uchar",dm=288,um=!1,hm=!1,mm=!0,fm="{{.assetPrefix}}/assets/rain-thunder-eplemvu1.webp",pm={format:am,width:rm,height:om,space:im,channels:cm,depth:lm,density:dm,isProgressive:um,hasProfile:hm,hasAlpha:mm,src:fm},gm="webp",xm=96,bm=96,ym="srgb",vm=4,wm="uchar",$m=288,jm=!1,Nm=!1,Cm=!0,km="{{.assetPrefix}}/assets/rain-ogayr6kt.webp",_m={format:gm,width:xm,height:bm,space:ym,channels:vm,depth:wm,density:$m,isProgressive:jm,hasProfile:Nm,hasAlpha:Cm,src:km},Sm="webp",Pm=96,Dm=96,Tm="srgb",Mm=4,Am="uchar",Em=288,Im=!1,Lm=!1,Fm=!0,Rm="{{.assetPrefix}}/assets/sleet-o8noil7l.webp",zm={format:Sm,width:Pm,height:Dm,space:Tm,channels:Mm,depth:Am,density:Em,isProgressive:Im,hasProfile:Lm,hasAlpha:Fm,src:Rm},Hm="webp",Om=96,Um=96,Ym="srgb",Wm=4,Bm="uchar",Zm=288,qm=!1,Gm=!1,Vm=!0,Xm="{{.assetPrefix}}/assets/snow-lq4cl3uc.webp",Km={format:Hm,width:Om,height:Um,space:Ym,channels:Wm,depth:Bm,density:Zm,isProgressive:qm,hasProfile:Gm,hasAlpha:Vm,src:Xm},Jm="webp",Qm=96,ef=96,tf="srgb",sf=4,nf="uchar",af=288,rf=!1,of=!1,cf=!0,lf="{{.assetPrefix}}/assets/sun-drizzle-htsohv65.webp",df={format:Jm,width:Qm,height:ef,space:tf,channels:sf,depth:nf,density:af,isProgressive:rf,hasProfile:of,hasAlpha:cf,src:lf},uf="webp",hf=96,mf=96,ff="srgb",pf=4,gf="uchar",xf=288,bf=!1,yf=!1,vf=!0,wf="{{.assetPrefix}}/assets/sun-hazy-nfj7clcd.webp",$f={format:uf,width:hf,height:mf,space:ff,channels:pf,depth:gf,density:xf,isProgressive:bf,hasProfile:yf,hasAlpha:vf,src:wf},jf="webp",Nf=96,Cf=96,kf="srgb",_f=4,Sf="uchar",Pf=288,Df=!1,Tf=!1,Mf=!0,Af="{{.assetPrefix}}/assets/sun-mostly-cloudy-e3pqqgs7.webp",Ef={format:jf,width:Nf,height:Cf,space:kf,channels:_f,depth:Sf,density:Pf,isProgressive:Df,hasProfile:Tf,hasAlpha:Mf,src:Af},If="webp",Lf=96,Ff=96,Rf="srgb",zf=4,Hf="uchar",Of=288,Uf=!1,Yf=!1,Wf=!0,Bf="{{.assetPrefix}}/assets/sun-mostly-sunny-o99k1c7a.webp",Zf={format:If,width:Lf,height:Ff,space:Rf,channels:zf,depth:Hf,density:Of,isProgressive:Uf,hasProfile:Yf,hasAlpha:Wf,src:Bf},qf="webp",Gf=96,Vf=96,Xf="srgb",Kf=4,Jf="uchar",Qf=288,ep=!1,tp=!1,sp=!0,np="{{.assetPrefix}}/assets/sun-shower-ldwl4jbp.webp",ap={format:qf,width:Gf,height:Vf,space:Xf,channels:Kf,depth:Jf,density:Qf,isProgressive:ep,hasProfile:tp,hasAlpha:sp,src:np},rp="webp",op=96,ip=96,cp="srgb",lp=4,dp="uchar",up=!1,hp=!1,mp=!0,fp="{{.assetPrefix}}/assets/sun-sunny-kqjpjzd8.webp",pp={format:rp,width:op,height:ip,space:cp,channels:lp,depth:dp,isProgressive:up,hasProfile:hp,hasAlpha:mp,src:fp},gp="webp",xp=96,bp=96,yp="srgb",vp=4,wp="uchar",$p=288,jp=!1,Np=!1,Cp=!0,kp="{{.assetPrefix}}/assets/thunder-xzn1cku3.webp",_p={format:gp,width:xp,height:bp,space:yp,channels:vp,depth:wp,density:$p,isProgressive:jp,hasProfile:Np,hasAlpha:Cp,src:kp},Sp="webp",Pp=96,Dp=96,Tp="srgb",Mp=4,Ap="uchar",Ep=288,Ip=!1,Lp=!1,Fp=!0,Rp="{{.assetPrefix}}/assets/tornado-diqu61wg.webp",zp={format:Sp,width:Pp,height:Dp,space:Tp,channels:Mp,depth:Ap,density:Ep,isProgressive:Ip,hasProfile:Lp,hasAlpha:Fp,src:Rp},Hp="webp",Op=96,Up=96,Yp="srgb",Wp=4,Bp="uchar",Zp=288,qp=!1,Gp=!1,Vp=!0,Xp="{{.assetPrefix}}/assets/windy-n2v8wtyp.webp",Kp={format:Hp,width:Op,height:Up,space:Yp,channels:Wp,depth:Bp,density:Zp,isProgressive:qp,hasProfile:Gp,hasAlpha:Vp,src:Xp},Jp={foggy:{default:Xr},cloudy:{default:co},"heavy-snow":{default:wo},"light-snow":{default:Ao},sleet:{default:Ac},drizzle:{default:nl,night:Bo},hazy:{default:pl,night:ni},"mostly-cloudy":{default:_l,night:pi},"mostly-sunny":{default:zl,night:_i},shower:{default:Kl,night:zi},sunny:{default:ld,night:Ki},"rain-thunder":{default:lc},rain:{default:wc},snow:{default:Bc},thunder:{default:wd},tornado:{default:Ad},windy:{default:Bd}},Qp={foggy:{default:nu},cloudy:{default:pu},"heavy-snow":{default:_u},"light-snow":{default:zu},sleet:{default:zm},drizzle:{default:df,night:Ku},hazy:{default:$f,night:lh},"mostly-cloudy":{default:Ef,night:wh},"mostly-sunny":{default:Zf,night:Ah},shower:{default:ap,night:Bh},sunny:{default:pp,night:nm},"rain-thunder":{default:pm},rain:{default:_m},snow:{default:Km},thunder:{default:_p},tornado:{default:zp},windy:{default:Kp}};function eg({weatherCode:e,isDarkMode:s,isNight:t}){const n=s?Qp:Jp,r=tg(e),o=n[r];return o.night&&t?o.night:o.default}function tg(e){switch(e){case 1:case 33:return"sunny";case 2:case 3:case 34:case 35:case 36:return"mostly-sunny";case 4:case 6:case 13:case 14:case 38:return"mostly-cloudy";case 5:case 37:return"hazy";case 7:case 8:return"cloudy";case 11:return"foggy";case 12:case 39:case 40:return"shower";case 15:case 16:case 17:case 41:case 42:return"thunder";case 18:return"rain";case 19:case 20:case 21:case 43:return"light-snow";case 22:case 23:case 44:return"snow";case 24:case 25:case 26:case 29:return"sleet";case 32:return"windy";default:return"cloudy"}}const sg="C";function ng(e,s){return Math.round(e==="F"?s*9/5+32:(s-32)*5/9)}function nt(e,s,t=sg){return e===t?`${Math.round(s)}°`:`${ng(e,s)}°`}const ag=7,at=8,rg=m.memo(function({weatherResults:s,dateRange:t,turnIndex:n,trackContentReferenceEvent:r}){const[o,i]=gg(),c=cg(s);m.useEffect(()=>{r(v.searchContentReferenceShown,"search_content_reference_shown","forecast")},[r]);const{daily:l,hourly:u,historical:d}=s;let h="daily";if(t||u&&l.length<2)h="hourly";else if(l.length>0)h="daily";else if(d&&d?.length>0)h="historical";else return null;return a.jsxs("div",{className:"relative",children:[c?a.jsxs(a.Fragment,{children:[a.jsx(ig,{weatherResults:s}),a.jsx(lg,{weatherResults:s,temperatureUnit:o,setTemperatureUnit:i})]}):a.jsx("div",{className:"absolute right-0 top-3 z-10 rounded bg-token-main-surface-primary",children:a.jsx(Rt,{onTemperatureUnitChange:i,temperatureUnit:o})}),a.jsx(mg,{turnIndex:n}),h==="hourly"&&a.jsx(dg,{weatherResults:s,temperatureUnit:o,dateRange:t}),h==="daily"&&a.jsx(ug,{dailyForecast:l.slice(0,ag),temperatureUnit:o}),h==="historical"&&a.jsx(hg,{historical:d,temperatureUnit:o})]})});function og({weatherAlert:e}){const[s,t]=m.useState(!1),n=D(),r=ct(),o=E(e.start_timestamp,e.utc_offset_sec),i=e.end_timestamp?E(e.end_timestamp,e.utc_offset_sec):null,c=a.jsxs(a.Fragment,{children:[a.jsx("div",{children:a.jsx(w,{id:"JnuGPS",defaultMessage:"{start}{separator}{end}",values:{start:n.formatDate(o,{weekday:"short",month:"short",day:"numeric",hour:"numeric",minute:"numeric"}),separator:i?" - ":"",end:i?n.formatDate(i,{weekday:"short",month:"short",day:"numeric",hour:"numeric",minute:"numeric"}):""}})}),a.jsx("div",{children:e.summary})]});return a.jsxs("button",{className:"my-2 flex w-full flex-col gap-2 rounded-xl border border-red-200 bg-red-100 px-4 py-3 text-left text-sm text-red-800",onClick:()=>t(!s),children:[a.jsxs("div",{className:"flex w-full items-center gap-4",children:[a.jsx(un,{className:"h-9 w-9 shrink-0"}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("div",{className:"font-bold",children:a.jsx(w,{id:"y+fy/l",defaultMessage:"Severe Weather: {name}",values:{name:e.name}})}),r&&c]}),a.jsx("div",{className:"flex-grow"}),a.jsx("div",{className:"opacity-30",children:s?a.jsx(mn,{className:"icon-lg"}):a.jsx(hn,{className:"icon-lg"})})]}),s&&e.details&&a.jsxs(a.Fragment,{children:[!r&&c,a.jsx("div",{className:"mt-1 whitespace-pre-wrap",children:e.details.trim()})]})]})}function ig({weatherResults:e}){const{severe:s}=e;return s?a.jsx("div",{className:"my-2",children:s.map((t,n)=>a.jsx(og,{weatherAlert:t},n))}):null}function cg(e){const{historical:s,daily:t,hourly:n,current:r}=e;if(!r)return!1;let o=!1;const i=E(r.timestamp,r.utc_offset_sec);for(const c of[s,t,n])c&&(o=o||c?.some(l=>Fs(i,E(l.timestamp,l.utc_offset_sec))));return o}function lg({weatherResults:e,temperatureUnit:s,setTemperatureUnit:t}){const n=D(),{current:r}=e;if(!r)return null;const o=r.temperature.current,i=r.description,c=o!=null&&i&&" · ";return a.jsxs("div",{className:"not-prose flex items-center gap-4",children:[a.jsxs("div",{className:"flex-grow",children:[a.jsxs("div",{className:"text-lg font-semibold",children:[o!=null&&a.jsx(w,{id:"FiwByI",defaultMessage:"Currently {temperature}",values:{temperature:R(n,o,s)}}),c,i.description]}),a.jsx("div",{className:"text-token-text-secondary",children:pg(e.location)})]}),a.jsxs("div",{className:"flex",children:[a.jsx(Rt,{onTemperatureUnitChange:t,temperatureUnit:s}),a.jsx($e,{weatherDescriptionData:i,isNight:r.night})]})]})}function we({children:e}){return a.jsx("div",{className:"no-scrollbar not-prose mt-1 overflow-auto sm:overflow-hidden",children:a.jsx(M.Root,{className:"min-w-0",children:a.jsx(M.Body,{className:"border-b-[0.5px] border-token-border-medium [&_tr:last-child]:border-b-0",children:e})})})}function dg({weatherResults:e,temperatureUnit:s,dateRange:t}){const n=D(),{hourly:r,current:o}=e;let i=r??[];t&&(i=i.filter(d=>d.timestamp>=t.start_timestamp&&d.timestamp<t.end_timestamp));const[c,l]=m.useState(!1),u=i.length>at;if(!c&&u){const d=i[0],h=E(d.timestamp,d.utc_offset_sec);let b=!1;if(o){const x=E(o.timestamp,o.utc_offset_sec);h.getTime()-x.getTime()>8*60*60*1e3&&i.length>18&&(i=i.slice(7,18),b=!0)}b||(i=i.slice(0,at))}return a.jsxs(we,{children:[i.map((d,h)=>a.jsxs(M.Row,{children:[a.jsxs(A,{className:"w-44",children:[a.jsx($e,{weatherDescriptionData:d.description,isNight:d.night,size:"small"}),a.jsx("div",{className:"ml-3 whitespace-nowrap",children:a.jsx("span",{className:"lowercase",children:fg(n,d)})})]}),a.jsx(A,{className:"w-[60px] tabular-nums",children:a.jsx("div",{children:R(n,d.temperature.current,s)})}),a.jsx(A,{children:d.description.description})]},h)),u&&a.jsx(M.Row,{children:a.jsx(A,{className:"w-44",children:a.jsx(ut,{color:"secondary",onClick:()=>l(!c),size:"small",children:c?a.jsx(w,{id:"KoC8Ym",defaultMessage:"Show less"}):a.jsx(w,{id:"X8F8Y/",defaultMessage:"Show more"})})})})]})}function ug({dailyForecast:e,temperatureUnit:s}){const t=D();return a.jsx(we,{children:e.map((n,r)=>a.jsxs(M.Row,{children:[a.jsxs(A,{className:"w-[7.5rem] min-w-[7.5rem]",children:[a.jsx($e,{weatherDescriptionData:n.description,isNight:n.night,size:"small"}),a.jsx("div",{className:"ml-3 whitespace-nowrap",children:fe(t,E(n.timestamp,n.utc_offset_sec))})]}),a.jsxs(A,{className:"tabular-nums",children:[a.jsx("div",{children:R(t,n.temperature.max,s)}),a.jsx("div",{className:"ml-1 text-token-text-secondary",children:R(t,n.temperature.min,s)})]}),a.jsx(A,{className:"min-w-80",children:n.description.description})]},r))})}function hg({historical:e,temperatureUnit:s}){const t=D();return e?a.jsx(we,{children:e.map((n,r)=>{const o=E(n.timestamp,n.utc_offset_sec);return a.jsxs(M.Row,{children:[a.jsx(A,{className:"w-[250px]",children:a.jsx("div",{className:"ml-3 whitespace-nowrap",children:t.formatDate(o,{weekday:"long",month:"short",day:"numeric"})})}),a.jsx(A,{className:"tabular-nums",children:n.temperature.max&&n.temperature.min?a.jsxs(a.Fragment,{children:[a.jsx("div",{children:R(t,n.temperature.max,s)}),a.jsx("div",{className:"ml-1 text-token-text-secondary",children:R(t,n.temperature.min,s)})]}):a.jsx("div",{children:R(t,n.temperature.current,s)})}),a.jsx(A,{})]},r)})}):null}function A({className:e,children:s}){return a.jsx(M.Cell,{className:N("!border-l-0 !border-r-0 !border-token-border-xlight !py-2 !pl-4 !pr-3 first:!pl-0 last:!pr-0",e),divClassName:"items-start leading-relaxed",children:s})}function mg({turnIndex:e}){const s=ws(n=>n.thread?.turns[e]?.use_location),[t]=bs();return!t.useLocation&&s?a.jsx("div",{className:"mt-3",children:a.jsx(ut,{color:"secondary",icon:Rr,onClick:()=>{ys.setSettingsModalOpen(!0)},children:a.jsx(w,{id:"f47VEc",defaultMessage:"Share precise location"})})}):null}function Rt({temperatureUnit:e,onTemperatureUnitChange:s}){const t=n=>e===n?"font-bold":"font-light";return a.jsx(Xt,{size:"small",triggerButton:a.jsx("button",{className:"flex items-center justify-center p-1.5 text-token-text-tertiary hover:text-token-text-primary",children:a.jsx(Rs,{className:"icon-sm-heavy"})}),children:a.jsxs(Kt.Item,{onClick:()=>{s(e==="C"?"F":"C")},className:"text-token-text-primary",children:[a.jsx(w,{id:"bQIoe/",defaultMessage:"Temperature"}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:t("F"),children:a.jsx(w,{id:"bvDeBB",defaultMessage:"°F"})}),a.jsx("div",{className:"mx-1 h-4 border-l border-gray-300"}),a.jsx("div",{className:t("C"),children:a.jsx(w,{id:"iNiz6O",defaultMessage:"°C"})})]})]})})}function $e({weatherDescriptionData:e,isNight:s=!1,size:t="normal"}){const n=U(),r=t==="small"?30:50;return a.jsx("img",{draggable:!1,alt:e.description,src:eg({weatherCode:e.id,isDarkMode:n,isNight:s}).src,width:r,height:r})}function fg(e,s){const t=E(s.timestamp,s.utc_offset_sec);return e.formatDate(t,{hour:"numeric"})}function R(e,s,t){return s==null?"-":nt(t?t??"F":zt(e),s)}function zt(e){const s=["en-US","en-BZ","en-BS","en-KY","en-PW"],t=e.locale||"en-US";return s.includes(t)?"F":"C"}function pg(e){const s=e.name.split(",").map(t=>t.trim());return e.country&&!s.includes(e.country)&&s.push(e.country),s.join(", ")}const gg=()=>{const e=D(),[s,t]=vs("USER_TEMPERATURE_UNIT",zt(e),n=>["F","C"].includes(n));return[s,t]},xg=Jt(()=>Qt(()=>import("./jezzfj5p0m6iqns7.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17])).then(e=>e.BusinessesMap));function bg({index:e,FormattedText:s,node:t}){const n=parseInt(e,10),r=m.useContext(Z),{value:o}=es("756982148"),i=m.useRef(new Set),c=(k,C,p)=>(y,$,T,I,Ot)=>{if(C&&C.messageId&&ts(C.messageId)){const je={...ss(C),type:T,index:p?.toString(),...I??{}},Ne=`${y}-${JSON.stringify(je)}`;(!i.current.has(Ne)||y!==k)&&(i.current.add(Ne),le.logEventWithStatsig(y,$,je),Ot?.(C))}},l=m.useCallback((k,C,p,y,$)=>{c(v.searchContentReferenceShown,r?.analyticsMetadata,n)(k,C,p,y,$)},[r?.analyticsMetadata,n]),u=m.useCallback((k,C,p,y,$)=>{c(v.contextualAnswersContentReferenceShown,r?.analyticsMetadata,n)(k,C,p,y,$)},[r?.analyticsMetadata,n]);if(r==null)return null;const{contentReferences:d,onShowSearchResults:h,numImageResults:b,analyticsMetadata:x}=r,f=d?.[n],j=x?.clientThreadId==null,S=zs(r.message);if(!f||x.turnIndex===void 0||f.type===void 0)return null;let g=null;switch(f.type){case"title_citation":g=a.jsx(Tr,{metadata:f,trackContentReferenceEvent:l});break;case"location_search":g=a.jsx(ir,{metadata:f,trackContentReferenceEvent:l});break;case"time":g=a.jsx(Dr,{metadata:f,trackContentReferenceEvent:l});break;case"image_v2":g=a.jsx(rr,{metadata:f,numImageResults:b??0,analyticsMetadata:x,trackContentReferenceEvent:l});break;case"nav_list":g=a.jsx(cr,{metadata:f,trackContentReferenceEvent:l});break;case"file_navlist":g=a.jsx(ya,{metadata:f,trackContentReferenceEvent:u});break;case"file":g=a.jsx(pa,{fileRef:f,index:n,trackContentReferenceEvent:l});break;case"grouped_webpages_model_predicted_fallback":g=a.jsx(us,{isSearchResponse:S,webpageRef:f,node:t,trackContentReferenceEvent:l,messageId:r.message.id});break;case"grouped_webpages":g=a.jsx(ds,{isSearchResponse:S,webpageRef:f,node:t,trackContentReferenceEvent:l,messageId:r.message.id});break;case"tldr":g=o?a.jsx(Ae,{navigation:{...f,type:"navigation",domains:[{title:f.page_title,subtitle:f.display_title,domain:f.breadcrumbs[0],url:f.url,sub_domains:[]}]},onShowSearchResults:h,trackContentReferenceEvent:l}):a.jsx(Hs,{tldr:f,trackContentReferenceEvent:l});break;case"navigation":g=a.jsx(Ae,{navigation:f,onShowSearchResults:h,trackContentReferenceEvent:l});break;case"stock":g=a.jsx(er,{contentReference:f,trackContentReferenceEvent:l});break;case"calculator":g=a.jsx(ca,{data:f,trackContentReferenceEvent:l});break;case"code_execution":g=a.jsx(ha,{FormattedText:s,displayInfo:f,trackContentReferenceEvent:l});break;case"forecast":g=f?.forecast&&a.jsx(rg,{weatherResults:f.forecast,dateRange:f.date_range,turnIndex:x.turnIndex,trackContentReferenceEvent:l});break;case"businesses_map":g=a.jsx(xg,{contentReference:f,trackContentReferenceEvent:l});break;case"products":g=!1;break;case"video":g=a.jsx(Fr,{video:f,trackContentReferenceEvent:l});break;case"sources_footnote":g=a.jsx(ur,{sourcesFootnote:f,onShowSearchResults:h,trackContentReferenceEvent:l,isSearchGptApp:j});break;case"sports_standings":g=a.jsx(Sr,{standingsRef:f,trackContentReferenceEvent:l});break;case"sports_schedule":g=a.jsx(Nr,{scheduleRef:f,trackContentReferenceEvent:l});break;case"attribution":g=a.jsx(ra,{attribution:f});break;case"debug":g=a.jsx(a.Fragment,{children:Object.entries(f).map(([k,C])=>a.jsx("sub",{className:"ml-1 w-fit rounded-md border-2 border-solid border-orange-500 px-1 leading-none",children:C},k))});break}return a.jsx(ge,{name:"content-reference-renderer",fallback:k=>(l(v.searchContentReferenceFailed,"search_content_reference_failed",f.type),lt.addError("Error rendering content reference",k),f?.alt?a.jsx(ye,{components:{img:({src:C,alt:p})=>a.jsx("img",{src:C,alt:p,className:"max-h-28"})},children:f.alt}):a.jsx("span",{className:`errored-object-${f.type}`})),children:g})}function L(e){const{addListStyles:s,children:t,node:n,tag:r,...o}=e,i=wt(),[c,l]=m.useState(s?{"--marker-color":"transparent"}:{});return m.useEffect(()=>{n&&l(i.createBlockstyles(i.batch)),s&&n?.tagName==="li"&&l(i.createMarkerStyles(n))},[s,n,i]),m.cloneElement(r,{...o,children:n?i.processChildren({children:t,element:n}):t,style:{...o.style,...c}})}const yg={p:e=>a.jsx(L,{tag:a.jsx("p",{}),...e}),h1:e=>a.jsx(L,{tag:a.jsx("h1",{}),...e}),h2:e=>a.jsx(L,{tag:a.jsx("h2",{}),...e}),h3:e=>a.jsx(L,{tag:a.jsx("h3",{}),...e}),h4:e=>a.jsx(L,{tag:a.jsx("h4",{}),...e}),h5:e=>a.jsx(L,{tag:a.jsx("h5",{}),...e}),h6:e=>a.jsx(L,{tag:a.jsx("h6",{}),...e}),li:e=>a.jsx(L,{tag:a.jsx("li",{}),addListStyles:!0,...e})},rt={},ot={};function Ht(e,s,t=!0){const n=os(s,500);return is(e,n,t)}function vg({node:e,onClick:s,clientThreadId:t,messageId:n,href:r,...o}){let i=s;const c=e?.properties?.href,l=ht(),u=wt(),[d,h]=m.useState(u.getStaticStyles(e)),[b,x]=m.useState(o.children),f=m.useRef(void 0);f.current=o.children,m.useEffect(()=>{e&&(x(u.processChildren({children:f.current,element:e})),h(u.createBlockstyles(u.batch)))},[e,u]);const j=m.useContext(Z),S=mt(t),g=Ht(S,r,j?.useSafeUrls);return n!=null&&typeof c=="string"&&c.includes("/bing/redirect")&&(rt[n]||(le.logEvent(v.browsingShowBingLink,{id:n,content:c}),rt[n]=!0),i=k=>{ot[n]||(le.logEvent(v.browsingClickBingLink,{id:n,content:c}),ot[n]=!0),s?.(k)}),a.jsx("a",{onClick:i,...o,href:g,rel:l?"noopener noreferrer":"noopener",style:{...o.style,...d},children:b})}function wg(e){const{src:s,clientThreadId:t,...n}=e,r=mt(t),o=m.useContext(Z),i=Ht(r,s,o?.useSafeUrls);return i==null?a.jsx("div",{}):a.jsx("img",{...n,src:i})}function $g(e){return a.jsx(bg,{...e,FormattedText:jg})}function jg({size:e="medium",children:s,className:t,clientThreadId:n,messageId:r,isStreamingOrProcessing:o,interpolateCitations:i=!1,componentOverrides:c}){const l=U(),u=ht(),d=Os(),h=m.useMemo(()=>({pre:({children:x})=>a.jsx("pre",{className:"!overflow-visible",children:x}),code:x=>a.jsx(hs,{...x,clientThreadId:n}),[ns]:$g,[ms]:fs,a:x=>{const{node:f,children:j,...S}=x,g=f?.properties?.href;return typeof g=="string"&&g.startsWith(Se)?u?a.jsx(ps,{...S}):n!=null&&r!=null?a.jsx(gs,{...S,clientThreadId:n,messageId:r,href:g,children:j}):null:g&&typeof g=="string"&&na(g)?j:a.jsx(vg,{...x,clientThreadId:n,messageId:r,interpolateCitations:i})},td:({children:x})=>a.jsx("td",{children:m.Children.map(x,(f,j)=>f==="<br>"?a.jsx("br",{},j):f)}),img:({node:x,...f})=>{const j=x?.properties?.src;return typeof j=="string"&&(j.startsWith(Se)||j.startsWith("attachment:"))?null:a.jsx(wg,{...f,clientThreadId:n})},...c}),[c,n,r,i,u]),b=m.useMemo(()=>({...h,...d&&o?yg:{}}),[h,o,d]);return a.jsx(ge,{name:"formatted_text_error",fallback:()=>a.jsx(a.Fragment,{children:s}),children:a.jsx(kg,{rehypePlugins:pt,remarkPlugins:xe,className:N(t,"markdown prose w-full break-words dark:prose-invert",l?"dark":"light",e==="small"&&"prose-xs"),urlTransform:gt,components:b,children:s})})}function Ng(e,s){return e===rs.SystemHint?a.jsx("span",{className:"hint-pill",children:s}):null}function Wg({text:e,customSymbolOffsets:s}){return a.jsx(ge,{name:"formatted_text_error",fallback:()=>a.jsx(a.Fragment,{children:e}),children:a.jsx(Cg,{text:e,customSymbolOffsets:s})})}const Cg=({text:e,customSymbolOffsets:s=[]})=>{const t=/(```[\s\S]*?```|`[^`\n]+`|```[\s\S]*|`[^`\n]*\n|`[^`\n]*$)/g;let n=0;const r=e.split(t).flatMap((o,i)=>{const c=n;if(n+=o.length,o.startsWith("```")&&o.endsWith("```"))return a.jsx("pre",{className:"overflow-x-auto",children:a.jsx("code",{children:o.slice(3,-3).trim()})},i);if(o.startsWith("```"))return a.jsx("pre",{className:"overflow-x-auto",children:a.jsx("code",{children:o.slice(3).trim()})},i);if(o.startsWith("`")&&o.endsWith("`"))return a.jsx("code",{children:o.slice(1,-1)},i);if(o.startsWith("`"))return a.jsx("code",{children:o.slice(1)},i);{const l=s.map(u=>as(u)).find(u=>c<=u.startIndex&&u.endIndex<=n);if(l){const u=l.startIndex-c,d=l.endIndex-c,h=o.slice(0,u),b=o.slice(d),x=o.slice(u,d);return[h,Ng(l.symbol,x),b].filter(f=>!!f)}return o}});return a.jsx("div",{className:"whitespace-pre-wrap",children:r})};async function Bg(e){const t=await Bs().use(Zs).use(xe).use(qs).use(xs).use(sa).process(e);return String(t)}const kg=m.memo(ye);export{jg as FormattedText,Wg as UserFormattedText,Bg as markdownToHtml};
//# sourceMappingURL=oy602885cmig2wxq.js.map
