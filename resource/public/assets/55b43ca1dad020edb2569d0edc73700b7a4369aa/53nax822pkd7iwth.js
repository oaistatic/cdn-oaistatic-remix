const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/ncfzfuqhqc05drql.js","assets/i8w88cc8b3gds516.js","assets/jg63sxiyqeyvfv9f.js","assets/eh26o1l35t2fnjj4.js","assets/root-inht5vcp.css","assets/conversation-small-nranh1cg.css","assets/h8fh22ghfssio8x5.js","assets/d3y72ugnrmac5z1v.js","assets/jahe3ggfyk20o7ht.js","assets/fzrn137102spawew.js","assets/e9lafxuzyeh4418f.js","assets/hmbip9k0fcw739ar.js","assets/buoyb8jniswedxm6.js","assets/c4bxzbp1808foto4.js"])))=>i.map(i=>d[i]);
import{c as k,u as Q,r as p,j as e,ac as J,M as i,e as V}from"./i8w88cc8b3gds516.js";import{ap as L,aa as O,S as j,P as h,j as P,an as v,gq as X,bW as Y,f as S,aM as Z,aN as ee,y as ae,aP as te,W as se,J as ne,eb as re,I as ie,cr as E,dn as oe,ae as le,aW as B,gr as ce,ar as de,Q as ue,U as me,g5 as ge,a5 as fe,bn as F}from"./eh26o1l35t2fnjj4.js";import{eE as M,eF as pe,eG as he,eH as A,U as W,A as xe,eI as ye,eJ as ve,bt as be,eK as Me,eL as je,eM as Pe,bd as Te,be as Ce}from"./jg63sxiyqeyvfv9f.js";import{U as R,c as Ie}from"./dyuarriie396ezxd.js";function ke({showFreeTrialLoadingPayment:a,handleGetPaymentLink:n}){const s=k(),r=()=>{a||(M(!0),n())},o=y=>{y.stopPropagation(),pe(!0),he(!0)},{data:t,isLoading:d,isSuccess:l}=Q({queryKey:["claimedReferralInvite"],queryFn:()=>O.getClaimedReferralInvite(),refetchOnMount:!1,refetchOnWindowFocus:!1,refetchInterval:!1,refetchOnReconnect:!1}),c=t?.invite_code,[b,x]=p.useState(!1);if(p.useEffect(()=>{c&&!b&&l&&(x(!0),j.logEvent("chatgpt_referral_show_claimed_sidebar_menu_promo"),h.logEvent(P.chatgptReferralShowClaimedSidebartMenuPromo))},[c,x,b,l]),!c||d||!l)return null;const m=c.invite_metadata.invite_data,T=m?.referral_trial_duration_months?m?.referral_trial_duration_months>1?s.formatMessage(I.monthsOfBenefit,{referralTrialDurationMonths:m?.referral_trial_duration_months}):s.formatMessage(I.daysOfBenefit,{referralTrialDurationDays:m?.referral_trial_duration_days}):null;return e.jsx(J.div,{className:v("relative",{"cursor-progress opacity-50":a}),layout:"position",initial:{y:-10,opacity:1},animate:{y:0,opacity:1,transition:{duration:.1,ease:"easeIn"}},children:e.jsxs(Se,{className:v(a&&"opacity-75"),onClick:r,children:[e.jsxs("div",{className:"flex w-full flex-row items-center justify-start gap-3",children:[e.jsx(X,{className:"icon-sm shrink-0"}),e.jsx(i,{...I.freeTrialCta,values:{duration:T}})]}),!a&&e.jsx(Y,{onClick:o,className:"icon-md shrink-0 rounded-full p-0.5 text-token-text-tertiary opacity-50 transition-colors duration-200 hover:bg-[#0077FF] hover:text-red-500 group-hover:opacity-100"}),e.jsx("span",{className:"absolute top-11 h-0 w-0 border-l-8 border-r-8 border-t-8 border-l-transparent border-r-transparent border-t-[#0077FF] transition-colors duration-200 group-hover:border-t-[#0077FF]"})]})})}const Se=L.a`group relative mb-1 rounded-md hover:[#0077FF] bg-[#0077FF] flex px-3 min-h-[44px] py-1 items-center gap-3 transition-colors duration-200 dark:text-white cursor-pointer text-sm`,I=S({freeTrialCta:{id:"PaymentMenuItems.freeTrialCta",defaultMessage:"Get {duration}!"},monthsOfBenefit:{id:"FreeTrialMenuItem.monthsOfBenefit",defaultMessage:"{referralTrialDurationMonths, plural, one {one month free} other {# months free}}"},daysOfBenefit:{id:"FreeTrialMenuItem.daysOfBenefit",defaultMessage:"{referralTrialDurationDays, plural, one {one day free} other {# days free}}"}}),Ne=Z(()=>ee(()=>import("./ncfzfuqhqc05drql.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13])));function we(){const a=k(),n=ae(),s=te(),{isLoading:r,data:o}=se(),t=ne(o),d=t?.hasPaidSubscription()??!1,l=t?.hasClaimedFreeTrial()??!1,c=p.useMemo(()=>t?.subscriptionAnalyticsParams,[t]),b=re(),x=async()=>{M(!0),h.logEvent(P.clickAccountPaymentCheckout,c);try{const g=await O.getCheckoutLink(s);window.location.href=g.url}catch{n.warning(a.formatMessage(u.paymentErrorWarning),{hasCloseButton:!0}),M(!1)}finally{}},m=()=>{y||(M(!0),x())},T=A(g=>g.didCloseFreeTrial),y=A(g=>g.showFreeTrialLoadingPayment),N=!T&&l,D=t?.wasPaidCustomer()??!1;let C=t?.isWorkspaceAccount()??!1;const G=t?.hasPaidSubscription()??!1,w=t?.isPlus()??!1,_=o&&ie(o),{layer:H}=E("2670443078");let U=w;!C&&!w&&_&&H.get("is_gating_fix_enabled",!1)&&(U=_,C=!0);const q=!r&&!C,K=V(),$=()=>{h.logEvent(P.clickSidebarAccountPaymentMenuItem,c),be(K,"Sidebar account payment menu item")};var z=t?.isTeam()??!1;return e.jsxs(e.Fragment,{children:[!d&&N&&e.jsx(ke,{showFreeTrialLoadingPayment:y,handleGetPaymentLink:x}),z?e.jsx(_e,{currentWorkspace:t}):null,q&&e.jsx(R,{onClick:N?m:$,className:v("rounded-lg",b?"":"m-0 px-2"),children:e.jsx("span",{className:"flex w-full flex-row flex-wrap-reverse justify-between",children:e.jsx("div",{className:"flex items-center gap-2",children:e.jsx(Ue,{wasPaidCustomer:D,showFreeTrialLoadingPayment:y,hasPlusSubscription:U,hasPaidSubscription:G})})})})]})}const _e=({currentWorkspace:a})=>e.jsxs(e.Fragment,{children:[e.jsx(R,{onClick:()=>{W.openModal(xe.InviteUsersToWorkspace),h.logEvent(P.accountMemberInviteButton,{location:"payment-menu-click"}),j.logEvent("chatgpt_invite_users_to_workspace",0,{action:"OpenAdminInviteModal",location:"payment-menu-click",text:"AddTeammatesWithInfo",step:"OpenModal"})},className:"m-0 rounded-lg px-2",children:e.jsx("span",{className:"flex w-full flex-row flex-wrap-reverse justify-between",children:e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"flex h-7 w-7 items-center justify-center rounded-full border border-token-border-light",children:e.jsx(ye,{className:"icon-sm shrink-0"})}),e.jsx("div",{className:"flex flex-col",children:e.jsxs(e.Fragment,{children:[e.jsx("span",{children:e.jsx(i,{...u.addTeammates})}),e.jsx("span",{className:"line-clamp-1 text-xs text-token-text-tertiary",children:e.jsx(i,{...u.addTeammatesUpsell})})]})})]})})})}),a!=null?e.jsx(Ne,{workspace:a}):null]}),Ue=({wasPaidCustomer:a,showFreeTrialLoadingPayment:n,hasPlusSubscription:s,hasPaidSubscription:r})=>n?e.jsx(oe,{className:"icon-sm shrink-0"}):r&&!s?null:e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"flex h-7 w-7 shrink-0 items-center justify-center rounded-full border border-token-border-light",children:e.jsx(ve,{className:"icon-sm"})}),e.jsx("div",{className:"flex flex-col",children:a?e.jsx(i,{...u.renewPlus}):e.jsxs(e.Fragment,{children:[e.jsx("span",{children:s?e.jsx(i,{...u.viewPlans}):!r&&e.jsx(i,{...u.upgradePlan})}),e.jsx("span",{className:"line-clamp-1 text-xs text-token-text-tertiary",children:s?e.jsx(i,{...u.upgradeToProOrTeamUpsell}):!r&&e.jsx(i,{...u.upgradeToPlusUpsell})})]})})]}),u=S({upgradePlan:{id:"PaymentMenuItems.upgradePlan",defaultMessage:"Upgrade plan"},createATeamWorkspace:{id:"PaymentMenuItems.createATeamWorkspace",defaultMessage:"Add Team workspace"},viewPlans:{id:"PaymentMenuItems.viewPlans",defaultMessage:"View plans"},upgradeToTeamUpsell:{id:"PaymentMenuItems.upgradeToTeamUpsell",defaultMessage:"Collaborate on a Team plan"},upgradeToProOrTeamUpsell:{id:"PaymentMenuItems.upgradeToProOrTeamUpsell",defaultMessage:"Unlimited access, team features, and more"},upgradeToPlusUpsell:{id:"PaymentMenuItems.upgradeToPlusUpsell.0",defaultMessage:"More access to the best models"},renewPlus:{id:"PaymentMenuItems.renewPlus",defaultMessage:"Renew Plus"},inviteReferral:{id:"PaymentMenuItems.inviteReferral",defaultMessage:"Refer a friend"},addTeammates:{id:"PaymentMenuItems.addTeammates.0",defaultMessage:"Add teammates"},addTeammatesUpsell:{id:"PaymentMenuItems.addTeammatesUpsell.0",defaultMessage:"Invite coworkers to ChatGPT"},inviteMembers:{id:"PaymentMenuItems.inviteMembers.0",defaultMessage:"Invite members"},paymentErrorWarning:{id:"PaymentMenuItems.paymentErrorWarning",defaultMessage:"The payments page encountered an error. Please try again. If the problem continues, please visit help.openai.com."}});function Re({navHeader:a,children:n,className:s}){const r=k(),o=p.useRef(null),t=le(),{isUnauthenticated:d}=B(),{layer:l}=E("1578749296"),c=l.get("is_sticky_toggle_off",!1);return p.useEffect(()=>{c&&W.toggleDesktopNavCollapsed()},[c]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:"draggable relative h-full w-full flex-1 items-start border-white/20",children:[e.jsx(ce,{asChild:!0,children:e.jsx("h2",{children:e.jsx(i,{...f.chatHistoryLabel})})}),e.jsxs("nav",{className:v("flex h-full w-full flex-col px-3",s),"aria-label":r.formatMessage(f.chatHistoryLabel),children:[a,e.jsx(Le,{ref:o,$disableScroll:t&&!d,children:n}),e.jsx(de,{children:e.jsx(Fe,{})})]})]})})}function Fe(){const[a]=p.useState(()=>{const t=ue.getCookie(me.Workspace);return typeof t=="string"&&t!==ge}),n=fe(),s=n?.data==null,{isUnauthenticated:r}=B(),{openSettings:o}=Me();return a&&s||!n?null:r?e.jsx(Ae,{}):e.jsxs("div",{className:v("flex flex-col py-2 empty:hidden dark:border-white/20"),children:[e.jsx(je,{}),e.jsx(we,{}),e.jsx("div",{className:"flex w-full items-center md:hidden",children:e.jsx("div",{className:"max-w-[100%] grow",children:e.jsx(Ie,{onClickSettings:()=>o()})})})]})}const Ae=()=>{const a=Pe(),n=Te(),s=Ce(f.unauthSignupCta),r=()=>{n({authType:"login",callback:l=>{h.logLogInButtonClicked({location:"Sidebar bottom unit",provider:l}),j.logEvent("chatgpt_sidebar_login_button_clicked")}})},o=()=>{n({authType:"signup",callback:l=>{h.logSignUpButtonClicked({location:"Sidebar bottom unit",provider:l}),j.logEvent("chatgpt_sidebar_signup_button_clicked")}})},t=e.jsx(F,{as:"button",size:"medium",color:a?"secondary":"primary","data-testid":"signup-button",onClick:o,children:e.jsx(i,{...s})},"signup-button"),d=e.jsx(F,{as:"button",size:"medium",color:a?"primary":"secondary","data-testid":"login-button",onClick:r,children:e.jsx(i,{...f.unauthLoginCta})},"login-button");return e.jsxs("div",{className:"p-2",children:[e.jsxs("div",{className:"mb-4 mt-2",children:[e.jsx("p",{className:"mb-1 text-sm font-semibold text-token-text-primary",children:e.jsx(i,{...a?f.logInOrSignUp:f.signUpOrLogIn})}),e.jsx("p",{className:"text-sm text-token-text-secondary",children:e.jsx(i,{id:"4qlPtW",defaultMessage:"Get smarter responses, upload files and images, and more."})})]}),e.jsx("div",{className:"flex flex-row items-start gap-2",children:a?[d,t]:[t,d]})]})},Le=L.div`flex-col flex-1 transition-opacity duration-500 relative -mr-2 pr-2
  ${({$disableScroll:a})=>a?"overflow-y-hidden opacity-20 pointer-events-none":"overflow-y-auto"}`,f=S({chatHistoryLabel:{id:"NavigationContent.chatHistoryLabel",defaultMessage:"Chat history"},closeSidebar:{id:"NavigationContent.closeSidebar",defaultMessage:"Close sidebar"},signInToChat:{id:"NavigationContent.signInToChat",defaultMessage:"Sign in to ChatGPT"},signUpOrLogIn:{id:"NavigationContent.signUpOrLogIn",defaultMessage:"Sign up or log in"},logInOrSignUp:{id:"NavigationContent.logInOrSignUp",defaultMessage:"Log in or sign up"},unauthSignupCta:{id:"NavigationContent.unauthSignupCta",defaultMessage:"Sign up"},unauthLoginCta:{id:"NavigationContent.unauthLoginCta",defaultMessage:"Log in"}});export{Re as N,we as P,Ae as U};
//# sourceMappingURL=53nax822pkd7iwth.js.map
