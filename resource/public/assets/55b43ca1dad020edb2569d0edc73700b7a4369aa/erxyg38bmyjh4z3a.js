import{X as w,f as F,e as P,r as a,a as I,j as e}from"./i8w88cc8b3gds516.js";import{Z as S,ab as b,r as p,fF as E,fG as M}from"./eh26o1l35t2fnjj4.js";import{t as f,a as r,u as B,s as O,C,b as R,g as h,T as N}from"./jg63sxiyqeyvfv9f.js";import{T as Q,C as q}from"./mqhuv03xnczyej49.js";import{C as v,T as A}from"./dqp4qy11fpzrg014.js";import{C as D}from"./dyuarriie396ezxd.js";import"./e34qym7psp0g3xzr.js";import"./ln72qaf6x6k87xpg.js";import"./n2sybeqm169dymt4.js";import"./bu3dsffychuyne68.js";import"./h2nc3qmtjg2iytti.js";import"./dzq0v9msooejtdz0.js";import"./ens1ascotkzlvvvm.js";import"./fzrn137102spawew.js";import"./hmbip9k0fcw739ar.js";import"./h5ki4u1sjcr6cdl0.js";import"./e7ldcb1pybd2xac9.js";import"./c3ew5w7qbxkccpqx.js";import"./gdsmqpdlbx03h3zp.js";import"./itdemlts8gcqwi6k.js";import"./c70tulx9zqykyr6q.js";import"./f26tq0bcmxctgqq5.js";const ie=()=>(E(),null);function ce(){const c=w(),[o]=F(),d=P(),x=f(c.conversationId),n=r(o.get("readonly"),!1),T=r(o.get("isFullScreen"),!1),m=r(o.get("header"),!0),l=S(()=>M()),y=r(o.get("hideBottomComposer"),!!n),s=f(c.canmoreId),t=x,i=B();a.useEffect(()=>{O({type:C.Textdoc,textdocId:s})},[s]),R(t,{kind:b.PrimaryAssistant});const u=I();if(a.useEffect(()=>(p.retainThread(t),()=>{setTimeout(()=>{u.invalidateQueries({queryKey:["conversation",t]})},0),p.releaseThread(t)}),[t,u]),a.useEffect(()=>{s||d("/")},[s,d]),a.useEffect(()=>{h().sendMessage({type:v.Loaded})},[s]),!s||i?.type!==C.Textdoc)return null;const g=()=>{h().sendMessage({type:v.Close})},j=n&&!m;return e.jsxs("div",{className:"h-full w-full overflow-hidden contain-content",children:[e.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1, maximum-scale=1"}),e.jsx(D,{clientThreadId:t,children:e.jsx(N,{clientThreadId:t,children:j?e.jsxs(e.Fragment,{children:[e.jsx(Q,{disableScroll:!l,textdocId:i.textdocId}),e.jsx(q,{})]}):e.jsx(A,{isEmbedded:!0,isFullScreen:T,hideHeader:!m,hideBottomComposer:y,isReadonlyFromQueryParam:n,hideRunCode:!l,clientThreadId:t,focusedTextdoc:i,onClose:g},"textdocContent")})})]})}export{ie as clientLoader,ce as default};
//# sourceMappingURL=erxyg38bmyjh4z3a.js.map
