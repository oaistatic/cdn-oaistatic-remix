const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/dcu7j4pmkkzl9fbg.js","assets/lklglvrzltpv3f05.js","assets/ltrr4mhf6s4m7a72.js","assets/root-bh5spu2n.css","assets/dzdyz5bl3nzi5cph.js"])))=>i.map(i=>d[i]);
import{aN as Q,aO as X,ew as $,L as K,y as R,ba as w,f as ee,S as k,fi as F,d9 as te,ao as E}from"./ltrr4mhf6s4m7a72.js";import{j as e,c as L,r as I,a as se,ac as O,ad as ae,e as ne,L as N,M as A}from"./lklglvrzltpv3f05.js";import{cT as oe,cU as z,bZ as ie,cV as re,cW as le,cX as de,cY as ce,cZ as me,c_ as D,c$ as xe,d0 as ue,aZ as U,d1 as pe,d2 as ve,d3 as fe,d4 as he,d5 as ge,d6 as je,d7 as b,d8 as _e,be as P,d9 as Ie,bJ as we,co as ye,bA as Se,da as be,ca as H,aM as Ce,db as Me}from"./ntw4l0fkgqdiln85.js";import{u as W}from"./hzzlkn5ny7a6v61q.js";const ke=Q(()=>X(()=>import("./dcu7j4pmkkzl9fbg.js"),__vite__mapDeps([0,1,2,3,4])).then(t=>t.SnorlaxFolderAnimation),{loading:({color:t})=>e.jsx(Z,{color:t})}),Ne={open:{opacity:1,y:0,transition:{duration:.15,ease:"easeOut"}},closed:{opacity:0,y:-5,transition:{duration:.15,ease:"easeIn"}}};function ze({color:t,folderState:n,gizmoId:u,sidebarSnorlaxFolderStore:v}){const r=L(),[l,p]=I.useState(!1);return e.jsx(w,{side:"top",sideOffset:4,delayDuration:600,label:n==="open"?r.formatMessage(P.hideChatsForProjectTooltip):r.formatMessage(P.showChatsForProjectTooltip),children:e.jsx("button",{onClick:g=>{g.preventDefault(),n==="open"?v.collapseProject(u):v.expandProject(u)},className:"-m-0.5 flex rounded-xl p-0.5 text-token-text-secondary hover:bg-token-sidebar-surface-tertiary",onMouseEnter:()=>{p(!0)},onMouseLeave:()=>{p(!1)},children:e.jsx("div",{className:"h-6 w-6",children:e.jsx("div",{className:"relative flex h-full items-center justify-center text-token-text-primary",children:e.jsx(ke,{isOpen:n==="open",isHovered:l,color:t})})})})})}function Z({color:t}){return e.jsx("div",{className:"flex h-6 w-6 shrink-0 items-center justify-center text-token-text-primary",children:e.jsx(oe,{className:"h-3/4 w-3/4",style:{color:t}})})}function Fe({gizmo:t,historyDisabled:n,section:u,onClick:v,isActive:r,hideOverflowMenu:l=!1,elementRef:p}){const{clientThreadId:g}=W(),d=$(g),c=L(),[m,y]=I.useState(!1),[j,o]=I.useState(!1),s=t.gizmo.id,x=z.useStore(),a=z.useState(i=>z.selectFolderState(i,s)),S=K(),q=!!t.gizmo.tags?.includes(ie.FirstParty),V=R(),Y=se(),f=re(),{items:C=[],hasNextPage:J}=le(t.gizmo.id),h=de(s),T=ce(s,t.gizmo.display.theme);let M=!1;r&&h&&!(a==="open"&&d)&&(M=!0),I.useEffect(()=>{a!=="open"&&r&&d&&x.expandProject(s)},[r,d,x,s]);let _;if(t!=null)_=t.gizmo.display.name||me;else{if(S==null)return null;n?_=c.formatMessage(D.clearChat):S.canInteractWithGizmos()?_=Ie:_=c.formatMessage({id:"GizmoSidebarListItem.newChat",defaultMessage:"New chat"})}const G=f!=null&&f.kind==="conversation"&&(f.gizmoId==null||f.gizmoId!=s);return e.jsxs(e.Fragment,{children:[e.jsx(O.div,{onMouseEnter:()=>{o(!0)},onMouseLeave:()=>{o(!1)},onDrop:i=>{i.preventDefault(),G&&(xe(V,c,Y,f.conversationId,s,f.gizmoId),o(!1))},onDragOver:i=>{i.preventDefault(),G&&o(!0)},onDragLeave:()=>{o(!1)},children:e.jsx(ue,{loggingGizmoId:t?.gizmo.id??"primary",href:U(t),onClick:v,showActiveIndicator:M,isHovered:j,icon:h&&C.length>0?e.jsx(ze,{color:T,folderState:a,gizmoId:s,sidebarSnorlaxFolderStore:x}):h?e.jsx(Z,{color:T}):e.jsx(pe,{isFirstParty:q,src:t?.gizmo.display.profile_picture_url,className:"h-6 w-6 shrink-0"}),isMenuOpen:m,label:_,rightIcon:u===ve.Workspace&&e.jsx(w,{side:"right",label:c.formatMessage(B.workspaceRecommended,{workspace_name:S?.name??"Your Workspace"}),children:e.jsx(fe,{className:"icon-md text-token-text-secondary",alt:c.formatMessage(B.workspaceRecommended,{workspace_name:S?.name??"Your Workspace"})})}),hoverRightIcon:e.jsxs("div",{className:"flex gap-2",children:[(j||m)&&!l&&(h?e.jsx("div",{className:"text-token-text-tertiary",onClick:i=>{i.preventDefault()},children:e.jsx(he,{gizmo:t,isOpen:m,setIsOpen:y})}):e.jsx("div",{className:"text-token-text-tertiary",onClick:i=>{i.preventDefault()},children:e.jsx(ge,{gizmo:t,isOpen:m,setIsOpen:y,section:u})})),!h&&!l&&e.jsx(w,{side:"right",label:c.formatMessage(n?D.clearChat:D.newChat),className:"flex items-center",children:e.jsx("button",{className:m?"text-token-text-tertiary":"invisible text-token-text-secondary hover:text-token-text-primary group-hover:visible",children:n?e.jsx(je,{className:"icon-md"}):e.jsx(b,{className:"icon-md"})})})]}),elementRef:p})}),e.jsx(ae,{initial:!1,children:h&&a==="open"&&C.length>0&&e.jsx(O.div,{initial:"closed",animate:"open",exit:"closed",variants:Ne,className:"overflow-hidden",children:e.jsx(_e,{gizmoResource:t,serverThreadId:d,isOnProjectPage:M,conversations:C,hasNextPage:J})},"nested-conversations")})]})}const B=ee({workspaceRecommended:{id:"gizmo.workspaceRecommended",defaultMessage:"Recommended at {workspace_name}"}});function Ee({onNewThread:t,className:n,location:u}){const v=ne(),r=L(),[l,p]=I.useState(!1),{clientThreadId:g,currentModelId:d}=W(),c=we(),m=ye(),y=d==null||m[d]===void 0?c.title:m[d].title,j=Se(g),o=j?be(j):void 0,s=o?U(o):void 0,x=r.formatMessage({id:"Al9vf7",defaultMessage:"New chat"});return o===void 0||s===void 0?e.jsx(w,{label:x,open:l?!1:void 0,className:n,children:e.jsx(N,{to:"/",onClick:a=>{t?(a.preventDefault(),t()):k.logEvent("chatgpt_web_thread_tap_new_thread")},tabIndex:0,children:e.jsx(H,{className:F.sidebarIcon,icon:e.jsx(b,{}),tabIndex:-1,label:x,style:{viewTransitionName:u==="sidebar"?"var(--vt_new_chat_sidebar)":"var(--vt_new_chat_thread)"}})})}):e.jsx(w,{label:x,open:l?!1:void 0,className:n,children:e.jsx(te,{side:"bottom",open:l,sideOffset:4,onOpenChange:p,contentAlign:"start",triggerButton:e.jsx(H,{className:F.sidebarIcon,icon:e.jsx(b,{}),onClick:()=>{p(!0)},label:x,style:{viewTransitionName:"var(--vt_new_chat_thread)"}}),size:"auto",children:e.jsxs("div",{className:"flex max-h-[50dvh] flex-col gap-2 overflow-x-auto px-2",children:[e.jsxs(N,{to:"/",className:"flex items-center gap-2 p-2 hover:bg-token-main-surface-secondary",onClick:a=>{s!==null?(a.preventDefault(),Ce(v,s)):t?(a.preventDefault(),t()):k.logEvent("chatgpt_web_thread_tap_new_thread")},tabIndex:0,children:[e.jsx(Me,{className:"icon-md w-5 text-token-text-secondary"}),e.jsx("div",{className:E("grow overflow-hidden whitespace-nowrap"),dir:"auto",children:e.jsx(A,{id:"hDZn23",defaultMessage:"New Chat ({gpt_display_name})",values:{gpt_display_name:o.gizmo.display.name}})})]}),e.jsxs(N,{to:"/",className:"flex items-center gap-2 p-2 hover:bg-token-main-surface-secondary",onClick:a=>{t?(a.preventDefault(),t()):k.logEvent("chatgpt_web_thread_tap_new_thread")},children:[e.jsx(b,{className:"icon-md w-5 text-token-text-secondary"}),e.jsx("div",{className:E("grow overflow-hidden whitespace-nowrap"),dir:"auto",children:e.jsx(A,{id:"vpqOJy",defaultMessage:"New Chat ({model_title})",values:{model_title:y}})})]})]})})})}export{Ee as C,Fe as G};
//# sourceMappingURL=p8eg3euad9gvin3k.js.map
