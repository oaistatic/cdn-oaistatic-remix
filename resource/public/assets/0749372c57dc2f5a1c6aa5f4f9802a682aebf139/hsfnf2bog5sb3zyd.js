import{r as c,j as e,c as S,M as g,h as O,e as b,f as D}from"./lklglvrzltpv3f05.js";import{dn as A,fS as U,f9 as G,fW as H,cJ as B,d6 as W,dZ as X,d_ as z,dY as w,X as q,c6 as p,dI as Y,j3 as Q,jT as K,dX as N,fQ as Z,jU as V,fU as $,jV as k,dc as ee,d$ as C,e0 as E,jW as se,aL as te,fy as ae,gb as J,cq as ne,cu as oe,fB as re,jX as ie,cx as ce,cy as le,P as de}from"./ntw4l0fkgqdiln85.js";import{C as ue}from"./kqs0d9q6go77jiiq.js";import{d as me}from"./m5cd4p680vhusvsg.js";import{f as fe,g as ge,a as xe}from"./hzzlkn5ny7a6v61q.js";import{S as he}from"./heefrlxlra66lmjs.js";import{y as T,d5 as L,ao as v,ez as pe,eo as a,bb as R,fi as _,d4 as je,d$ as ye,da as P}from"./ltrr4mhf6s4m7a72.js";import{c as j,S as ve,d as be,J as we,a as Se}from"./n56psomdxg8obhd8.js";import{S as Me,A as Ne,a as ke}from"./l1x9lopzxo1y9eiz.js";import{C as Ce}from"./i9ntb1zjwbcuz2uj.js";import"./gruuolgwd1up46vp.js";import"./jebvbwlsp750x4d4.js";import"./m9aklkujr89s52e5.js";import"./p8eg3euad9gvin3k.js";import"./emuaj61pmpol8zzg.js";import"./dz00r7qlzgek59uu.js";import"./bwsmtgh34vk8igjb.js";import"./vyarha3ckzwu9yf1.js";import"./lnovrxcizvfadwta.js";import"./c84k0nbcah46qpzd.js";const Ee=s=>c.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",...s},c.createElement("path",{fill:"currentColor",d:"M2 12C2 6.477 6.477 2 12 2s10 4.477 10 10-4.477 10-10 10S2 17.523 2 12Zm6.25-2.75v5.5c0 .802.448 1 1 1H10c.552 0 1-.198 1-1v-5.5a1 1 0 0 0-1-1h-.75a1 1 0 0 0-1 1Zm5.75-1a1 1 0 0 0-1 1v5.5c0 .802.448 1 1 1h.75c.552 0 1-.198 1-1v-5.5a1 1 0 0 0-1-1H14Z"}));function I({label:s,icon:t,disabled:n=!1,onClick:o}){return e.jsxs("button",{className:"flex w-full items-center gap-2 rounded p-2 hover:bg-token-main-surface-secondary",disabled:n,onClick:o,children:[e.jsx("div",{className:"flex h-7 w-7 items-center justify-center",children:t}),e.jsx("div",{className:"text-sm",children:s})]})}function _e({automation:s,updateForceShowActions:t,onClickEdit:n,onClickDelete:o}){return s.next_run_times.length===0?e.jsx(Pe,{onClickDelete:o}):e.jsx(Ie,{automation:s,updateForceShowActions:t,onClickEdit:n,onClickDelete:o})}function Pe({onClickDelete:s}){return e.jsx("div",{children:e.jsx(F,{onClick:s,children:e.jsx(A,{className:"icon-md"})})})}function Ie({automation:s,updateForceShowActions:t,onClickEdit:n,onClickDelete:o}){const r=S(),i=T(),[l,d]=c.useState(s.is_enabled);c.useEffect(()=>d(s.is_enabled),[s.is_enabled]);const{mutate:u}=U({automation_id:s.id,onError:m=>{i.danger(r.formatMessage(m?j.messages.enableFailure:j.messages.pauseFailure)),d(!m)}}),[f,x]=c.useState(!1);return e.jsxs("div",{className:"flex",children:[e.jsx(F,{onClick:n,children:e.jsx(G,{className:"icon-sidebar"})}),e.jsx(H,{alignAgainstAnchor:"start",sideOffset:4,triggerButton:e.jsx("button",{className:"rounded-md p-2 hover:bg-token-main-surface-secondary",children:e.jsx(B,{className:"icon-sidebar"})}),open:f,onOpenChange:m=>{t(m),x(m)},children:e.jsxs("div",{children:[e.jsx(I,{label:l?e.jsx(g,{...j.messages.pause}):e.jsx(g,{...j.messages.resume}),icon:l?e.jsx(ve,{className:"icon-md"}):e.jsx(Me,{className:"icon-md"}),onClick:()=>{d(!l),u({is_enabled:!l}),x(!1)}}),e.jsx(I,{label:e.jsx(g,{...j.messages.delete}),icon:e.jsx(A,{className:"icon-md"}),onClick:o})]})})]})}function F({children:s,...t}){return e.jsx("button",{className:"rounded-md p-2 hover:bg-token-main-surface-secondary",...t,children:s})}function Ae({automation:s}){return s.next_run_times.length===0?s.last_run_time?e.jsx("div",{className:"text-sm text-token-text-secondary",children:e.jsx(Ne,{dateString:s.last_run_time})}):null:s.schedule_components?e.jsx(Je,{automation:s}):null}function Je({automation:s}){return e.jsxs("div",{className:"flex items-center gap-1 text-sm text-token-text-secondary",children:[Te(s)&&e.jsx(W,{className:"icon-sm"}),e.jsx(ke,{item:s,useShortForm:!0})]})}function Te(s){return s.schedule_components?.frequency!=="once"}function Le({filter:s}){const{isLoading:t,isFetchingNextPage:n,hasNextPage:o,fetchNextPage:r}=O({queryKey:["automations",s],queryFn:async({pageParam:i})=>{const l=await X.getAutomations(i,s);return z.initJawbonesFromServerData(l.items,l.cursor,s),l},initialPageParam:w.getCursor(s),getNextPageParam:i=>i.cursor??void 0});return t||n?e.jsx(L,{}):o?e.jsxs("button",{className:"flex cursor-pointer items-center gap-1",onClick:()=>{r()},children:[e.jsx(q,{className:"icon-sidebar text-token-text-secondary"}),e.jsx("div",{className:"text-sm text-token-text-secondary",children:e.jsx(g,{...p.seeMore})})]}):null}function Re({icon:s,title:t,onClickTitle:n,details:o,actions:r,showActions:i}){return e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"text-token-text-tertiary",children:s}),e.jsx("div",{className:v("flex-1 py-4 text-sm",n&&"cursor-pointer"),onClick:n,children:t}),e.jsx("div",{children:i?r:o})]})}function Fe({label:s,activeIndex:t}){return e.jsx("div",{className:v("mx-4 border-b border-token-border-light pb-4 text-base font-medium",t===0&&"border-transparent"),children:s})}function Oe({automation:s}){return s.is_enabled?s.target_time_utc?e.jsx(Q,{className:"icon-sidebar"}):e.jsx(pe,{className:"icon-sidebar"}):e.jsx(Ee,{className:"icon-sidebar"})}function De({automation:s,index:t,activeIndex:n}){const o=b(),[r,i]=c.useState(!1),l=c.useCallback(y=>{i(y)},[]),d=t===n,u=t+1===n,[f,x]=c.useState(!1),[m,h]=c.useState(!1);return e.jsxs("div",{className:v("rounded-2xl",d&&"bg-[#f4f4f4] dark:bg-token-main-surface-secondary"),children:[e.jsx("div",{className:v("mx-4 border-b border-token-border-light",d&&"border-transparent",u&&"border-transparent"),children:e.jsx(Re,{icon:e.jsx(Oe,{automation:s}),title:s.title,onClickTitle:()=>{s.conversation_id&&o(Y(s.conversation_id))},details:e.jsx(Ae,{automation:s}),actions:e.jsx(_e,{automation:s,updateForceShowActions:l,onClickEdit:()=>x(!0),onClickDelete:()=>h(!0)}),showActions:d||r})}),m&&e.jsx(be,{item:s,onClose:()=>h(!1),onConfirm:()=>h(!1)}),f&&e.jsx(we,{initialScheduleComponents:s.schedule_components,nextRunTimes:s.next_run_times,children:e.jsx(Se,{item:s,onClose:()=>x(!1)})})]})}function Ue({label:s,filter:t,automations:n,isActiveSection:o}){const[r,i]=c.useState(void 0);c.useEffect(()=>{o||i(void 0)},[o]);const l=c.useMemo(()=>t==="scheduled"?Ge(n):n,[n,t]);return e.jsxs("div",{children:[e.jsx(Fe,{label:s,activeIndex:r}),e.jsxs("div",{className:"flex flex-col",children:[l.map((d,u)=>e.jsx("div",{onMouseEnter:()=>i(u),onMouseLeave:()=>i(void 0),children:e.jsx(De,{automation:d,activeIndex:o?r:void 0,index:u})},d.id)),e.jsx("div",{className:"p-4",children:e.jsx(Le,{filter:t})})]})]})}function Ge(s){return[...s].sort((t,n)=>{const o=t.next_run_times&&t.next_run_times.length?new Date(t.next_run_times[0]).getTime():NaN,r=n.next_run_times&&n.next_run_times.length?new Date(n.next_run_times[0]).getTime():NaN;return!isNaN(o)&&!isNaN(r)?o-r:isNaN(o)?1:-1})}const He=[{title:a({id:"px0KEi",defaultMessage:"Summarize AI news every week"}),prompt:a({id:"YTP/VT",defaultMessage:"On Fridays at 2 PM, send me a summary of the latest news in AI. Keep it brief, and keep an eye out for especially-surprising stories."}),category:"news"},{title:a({id:"qnUdUt",defaultMessage:"Practice French with me daily"}),prompt:a({id:"zNE69X",defaultMessage:"Let’s do a daily French lesson — remind me each day, in the afternoon, and then help me practice."}),category:"teach-or-explain"},{title:a({id:"eiy5Ij",defaultMessage:"Remind me about mom’s birthday"}),prompt:a({id:"aZA3OR",defaultMessage:"I don’t want to forget Mom’s birthday. It’s on..."}),category:"misc"},{title:a({id:"GC/Co1",defaultMessage:"Each evening, check the next day’s weather"}),prompt:a({id:"aSUv3a",defaultMessage:"Every evening, sometime after 8 PM, check the next day’s weather and let me know if it’s going to rain."}),category:"weather"},{title:a({id:"meGwc1",defaultMessage:"Send me a daily horoscope"}),prompt:a({id:"6VmLLW",defaultMessage:"Send me a daily horoscope, sometime before breakfast — just a quick summary. My sign is..."}),category:"misc"},{title:a({id:"HL4R0g",defaultMessage:"Make sure I relax this weekend"}),prompt:a({id:"ju8rN+",defaultMessage:"On Friday night, send me a short list of ways to relax — based on everything you know about my interests."}),category:"idea"},{title:a({id:"Q1bJy8",defaultMessage:"Check for cheap flights to Tokyo"}),prompt:a({id:"QohXcp",defaultMessage:"Once a week, check for cheap (below ~$400) flights from SFO to Tokyo — and let me know if you find any."}),category:"travel"},{title:a({id:"+kI94E",defaultMessage:"Don’t let me forget to stretch every day"}),prompt:a({id:"NW0Zk3",defaultMessage:"Don’t let me forget to stretch — send me a reminder every weekday afternoon."}),category:"misc"},{title:a({id:"rHJEnj",defaultMessage:"Suggest a morning mindfulness exercise"}),prompt:a({id:"ah43oC",defaultMessage:"Early each weekday morning, suggest a 5-minute mindfulness exercise for me. It could be guided breathing, a short body scan, or whatever."}),category:"idea"},{title:a({id:"IbEosX",defaultMessage:"Find a fresh, healthy recipe each Monday"}),prompt:a({id:"GRTGDW",defaultMessage:"Every Monday afternoon, suggest one new, simple, and wholesome recipe I can try that week. Include ingredients, instructions, and a little note on why this particular recipe is special."}),category:"teach-or-explain"},{title:a({id:"J/AIWp",defaultMessage:"Give me a tip for using ChatGPT every Tuesday"}),prompt:a({id:"5KLHO8",defaultMessage:"Every Tuesday afternoon, send me a tip about how to get the most out of ChatGPT. Call them ”Tuesday Tips,” because I’ve always been a fan of alliteration."}),category:"genius"},{title:a({id:"Y/bfH8",defaultMessage:"Keep an eye out for CRJ tour dates"}),prompt:a({id:"HwHQzy",defaultMessage:"Check for Carly Rae Jepsen tour dates around me — let me know when she announces any!"}),category:"local"},{title:a({id:"VfFpl5",defaultMessage:"Send me a daily workout plan"}),prompt:a({id:"ystKC5",defaultMessage:"Every day, send me a workout plan — and take into account what we did the previous day."}),category:"work"},{title:a({id:"fSkvJe",defaultMessage:"Ask how my New Year’s resolutions are going"}),prompt:a({id:"9b5IwU",defaultMessage:"Every month, ask about my New Year’s resolutions — make sure I’m staying on top of them!"}),category:"misc"},{title:a({id:"mYtv9W",defaultMessage:"Remind me to journal every night"}),prompt:a({id:"7SI5Sz",defaultMessage:"Remind me to write in my journal, every night after 7 PM."}),category:"teach-or-explain"},{title:a({id:"f8jyRA",defaultMessage:"Once a month, check for cool local events"}),prompt:a({id:"03RCfs",defaultMessage:"Once a month, check for cool local events — like art show openings, music performances, and the like — and summarize them for me."}),category:"local"},{title:a({id:"a7JMfM",defaultMessage:"Pull together a few date ideas, every Thursday"}),prompt:a({id:"bIMHpo",defaultMessage:"Pull together a few date ideas for me, and send them every Thursday. (What can I say, I’m a romantic!)"}),category:"local"},{title:a({id:"YXkXqR",defaultMessage:"Tell me an ongoing bedtime story"}),prompt:a({id:"h6sw9I",defaultMessage:"Every night, before 9 PM, I want you to write the next (brief) chapter in an ongoing sci-fi story for me."}),category:"write"}];function Be(){const{isLoadingScheduled:s,isLoadingPaused:t,isLoadingFinished:n}=K(),o=N(w.getAllJawbonesGrouped),r=N(w.getHasJawbones);return!r&&(s||t||n)?e.jsx(We,{}):r?e.jsx(Xe,{groupedAutomations:o}):e.jsx(ze,{})}function M(){return null}function We(){return e.jsx("div",{className:"my-16 h-full",children:e.jsxs("div",{className:"mx-auto h-full max-w-screen-md",children:[e.jsx(M,{}),e.jsx("div",{className:"flex w-full justify-center",children:e.jsx(L,{})})]})})}function Xe({groupedAutomations:s}){const t=S(),n=T(),[o,r]=D(),i=o.get("unsubscribe_id")??"",{mutate:l}=Z({automation_id:i});c.useEffect(()=>{i.length>0&&l(!1,{onSuccess:()=>{n.success(t.formatMessage({id:"nig4gX",defaultMessage:"Unsubscribed from email notifications"})),r(f=>(f.delete("unsubscribe_id"),f))},onError:()=>{n.danger(t.formatMessage({id:"nXv+ij",defaultMessage:"Failed to unsubscribe from e-mail notifications"}))}})},[i,l,r,n,t]);const[d,u]=c.useState(void 0);return e.jsx("div",{className:"my-16 h-full",children:e.jsxs("div",{className:"mx-auto h-full max-w-screen-md",children:[e.jsx(M,{}),e.jsx("div",{className:"flex flex-col gap-10",children:Object.entries(s).map(([f,{label:x,filter:m,automations:h}],y)=>h.length>0&&e.jsx("div",{onMouseEnter:()=>u(y),onMouseLeave:()=>u(void 0),children:e.jsx(Ue,{filter:m,label:t.formatMessage(x),automations:h,isActiveSection:d===y})},f))})]})})}function ze(){const s=S(),t=V(!0),n=b(),o=c.useMemo(()=>[...He].sort(()=>.5-Math.random()).slice(0,3),[]);return R("1902899872")?e.jsxs("div",{className:"mx-auto flex h-full max-w-2xl flex-col items-center justify-center gap-8",children:[e.jsxs("div",{className:"flex flex-col items-center justify-center gap-2",children:[e.jsx(M,{}),e.jsx($,{className:"icon-2xl"}),e.jsxs("div",{className:"flex flex-col items-center justify-center gap-1",children:[e.jsx("div",{className:"text-base font-medium",children:e.jsx(g,{...p.emptyStateTitle})}),e.jsx("div",{className:"text-sm text-token-text-secondary",children:e.jsx(g,{...p.emptyStateDescription})})]})]}),e.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-2",children:[o.map((i,l)=>e.jsx(k,{label:s.formatMessage(i.title),icon:e.jsx(ee,{category:i.category,useV2Colors:!0}),onClick:()=>{C.count(E.JAWBONE,"jawbone_null_state.click_prompt"),n({pathname:"/",search:`?prompt=${encodeURIComponent(s.formatMessage(i.prompt))}`})}},l)),e.jsx(k,{label:s.formatMessage(p.emptyStateTryYourOwn),rightIcon:e.jsx(he,{className:"icon-md text-token-text-secondary"}),onClick:()=>{C.count(E.JAWBONE,"jawbone_null_state.click_empty_prompt"),t({location:"tasks-page",modelId:se})}})]})]}):null}function qe({children:s}){const{isLoggedInUser:t}=c.useContext(fe);return e.jsx(te,{leading:!0,type:"primary",className:_.header,children:e.jsxs("div",{className:_.headerLeading,children:[t&&e.jsx(ae,{}),s]})})}function xs(){const{isLoading:s}=R("2304807207"),t=J(),n=b();return c.useEffect(()=>{!s&&!t&&n("/")},[s,t,n]),s||!t?null:e.jsx(Ye,{})}function Ye(){const[s,t]=c.useState(()=>je()),n=J(),o=b();c.useEffect(()=>{n||o("/")},[n,o]);const r=ye(),i=e.jsx(ne,{children:e.jsx(oe,{anchor:"vertical",className:P.screen,leading:r?e.jsx(qe,{children:e.jsx("div",{className:"px-3 text-xl font-medium",children:e.jsx(g,{...p.pageTitle})})}):e.jsxs(re,{children:[e.jsxs("div",{className:"flex items-center overflow-hidden",children:[e.jsx(ge,{clientThreadId:s}),e.jsx("div",{className:"px-3 text-xl font-medium text-token-text-secondary",children:e.jsx(g,{...p.pageTitle})}),e.jsx(ie,{})]}),e.jsx(me,{clientThreadId:s})]}),children:e.jsx(Be,{})})});return e.jsx(ce,{children:e.jsx(xe,{clientThreadId:s,setClientThreadId:t,children:r?e.jsx(le,{children:e.jsx(de,{className:P.application,sidebar:e.jsx(Ce,{}),thread:i})}):e.jsx(ue,{clientThreadId:s,setClientThreadId:t,threadContent:i})})})}export{xs as default};
//# sourceMappingURL=hsfnf2bog5sb3zyd.js.map
