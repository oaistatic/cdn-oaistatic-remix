const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/j44n4sr6m4ols605.js","assets/lklglvrzltpv3f05.js","assets/588xx36j2cp3onfx.js","assets/ltrr4mhf6s4m7a72.js","assets/root-bh5spu2n.css","assets/bwsmtgh34vk8igjb.js","assets/b7a3ebwp9zr2v92r.js","assets/dr57lemhlw0ufzb2.js","assets/isjdmfmhzv09v01t.js","assets/btagl6w1gub4aw61.js","assets/bi3oqldx34qj805e.js","assets/l6o7kknkh2c8b31f.js","assets/hk41gcw8y8nzc13q.js","assets/m5j2h3o7mzg7czxx.js","assets/ccbvqxrwvcpykpsk.js","assets/i319krasmy4ol4lq.js","assets/bygcqg9ufhsq2txx.js","assets/kqwdyvkaaavvn8k3.js","assets/abdi060vkh3h3l2t.js","assets/j76sukxeyhhq4acx.js","assets/dpfgxywq6uvi6u98.js","assets/lnovrxcizvfadwta.js","assets/od0q70ax7x1slg7q.js","assets/d4su7smarm0gzmcj.js","assets/fzc89a2s4dhona2z.js","assets/hzqr5if7i3daaxip.js","assets/c4bxzbp1808foto4.js","assets/o3413c8kkk6norde.js","assets/ADAVisualizationComponent-mi6em660.css","assets/mxks5hcbp66vri4a.js","assets/iro7h84l3u0i9whz.js","assets/dmls56e1re49jwsn.js","assets/goovv48mvycq7wwm.js","assets/dzdyz5bl3nzi5cph.js","assets/hq69z4ryh8uml18t.js","assets/dlzuukwspjdpx4u1.js","assets/f0ldvca0aj4bxibi.js","assets/bq1sll4r2n6do1o3.js","assets/jnq729oa9h58uw5g.js","assets/bfokqe6zr9j5kqp8.js","assets/oj1mgpwaxus4k3qs.js","assets/cyqh5pewhk34cwzb.js","assets/f3wqh5wbtzeabanv.js","assets/o18iaccqpxf4wdc1.js","assets/dz00r7qlzgek59uu.js","assets/eoh3qcov0jni3wda.js","assets/j2h13udkl1zlckh2.js","assets/egqiifu2w883tusr.js","assets/fzrn137102spawew.js","assets/e9lafxuzyeh4418f.js","assets/j9pn3dpqp3dnyeg5.js","assets/eldr6gji3lhie26v.js","assets/k2lb722xh4lhsrhu.js","assets/cg1ggceqk9ockf3h.js","assets/ve8i8plaqaug1tfx.js","assets/f940fsjggqf82j7i.js","assets/m5cd4p680vhusvsg.js","assets/hzzlkn5ny7a6v61q.js","assets/vyarha3ckzwu9yf1.js","assets/gq026xk7aw334p7f.js","assets/df0qxunm628pb8pz.js","assets/et8bgtraglvdyxgt.js","assets/lr2wtvbk3k0uolp8.js","assets/iyesubpiejb9ptnn.js","assets/bvshov8dgilwekkj.js","assets/btrex5plair14xg9.js","assets/ehkxyh1470vw43v4.js","assets/ckygfojr7gh4ys1w.js","assets/gzp99d3yjsamuheq.js","assets/bsxj1qnf5qq972mc.js","assets/n3y554bzx6zip8aa.js","assets/bh91sj5txs08nvqu.js"])))=>i.map(i=>d[i]);
import{c as Me,k as u1,i as Bi,p as J2,a as GP,b as WP,_ as H8,d as ns,e as V8,f as V,g as Vn,R as K,C as X0,D as te,h as ie,P as S,j as k,l as Mr,T as ue,m as zt,n as G8,M as je,o as Pr,q as d1,r as F,u as Ba,s as rs,t as vi,v as f1,w as p1,x as X2,y as Ne,S as z,z as zP,A as qr,B as Ui,E as qP,F as W8,G as m1,H as ja,I as eh,J as ZP,K as as,L as Se,N as q,O as YP,Q as th,U as nh,V as Tu,W as z8,X as en,Y as Yt,Z as KP,$ as QP,a0 as ea,a1 as rh,a2 as vn,a3 as em,a4 as ge,a5 as lp,a6 as tm,a7 as q8,a8 as JP,a9 as Ao,aa as yi,ab as XP,ac as Ra,ad as Oe,ae as Tn,af as yr,ag as ia,ah,ai as eO,aj as os,ak as g1,al as oh,am as h1,an as Hi,ao as P,ap as Z8,aq as he,ar as tO,as as Vi,at as Y8,au as Qa,av as K8,aw as Q8,ax as Or,ay as Rt,az as rt,aA as Gi,aB as nO,aC as rO,aD as aO,aE as oO,aF as sO,aG as iO,aH as lO,aI as cO,aJ as Wi,aK as uO,aL as J8,aM as X8,aN as Ke,aO as qe,aP as ss,aQ as lr,aR as dO,aS as v1,aT as fO,aU as sh,aV as Po,aW as ih,aX as Lt,aY as Cr,aZ as Vr,a_ as Vt,a$ as vt,b0 as _r,b1 as Sc,b2 as y1,b3 as zi,b4 as Dn,b5 as Ua,b6 as pO,b7 as is,b8 as C1,b9 as la,ba as ot,bb as ct,bc as eC,bd as ls,be as x1,bf as qi,bg as mO,bh as lh,bi as tC,bj as $t,bk as nC,bl as rC,bm as re,bn as aC,bo as cs,bp as ca,bq as gO,br as hO,bs as vO,bt as yO,bu as _e,bv as CO,bw as xO,bx as bO,by as wO,bz as _O,bA as zo,bB as Tt,bC as Ue,bD as SO,bE as b1,bF as cr,bG as De,bH as MO,bI as oC,bJ as TO,bK as sC,bL as Ci,bM as Ha,bN as EO,bO as iC,bP as Te,bQ as Ye,bR as lC,bS as xn,bT as ce,bU as Eu,bV as cC,bW as ch,bX as w1,bY as kO,bZ as _1,b_ as AO,b$ as PO,c0 as OO,c1 as S1,c2 as M1,c3 as T1,c4 as NO,c5 as uC,c6 as E1,c7 as dC,c8 as fC,c9 as pC,ca as k1,cb as mC,cc as ai,cd as Zi,ce as R9,cf as IO,cg as us,ch as uh,ci as jO,cj as gC,ck as A1,cl as Mc,cm as RO,cn as hC,co as nm,cp as vC,cq as rm,cr as LO,cs as $O,ct as DO,cu as FO,cv as P1,cw as BO,cx as dh,cy as yC,cz as UO,cA as L9,cB as $9,cC as HO,cD as VO,cE as GO,cF as fh,cG as WO,cH as zO,cI as qO,cJ as ZO,cK as am,cL as CC,cM as xC,cN as YO,cO as KO,cP as QO,cQ as bC,cR as JO,cS as XO,cT as ph,cU as wC,cV as _C,cW as mh,cX as eN,cY as tN,cZ as nN,c_ as rN,c$ as aN,d0 as SC,d1 as Ct,d2 as oN,d3 as gh,d4 as sN,d5 as yn,d6 as ua,d7 as iN,d8 as lN,d9 as O1,da as cN,db as D9,dc as Fn,dd as da,de as uN,df as N1,dg as MC,dh as dN,di as fN,dj as pN,dk as mN,dl as gN,dm as hN,dn as I1,dp as hh,dq as sr,dr as TC,ds as EC,dt as vN,du as vh,dv as yN,dw as CN,dx as kC,dy as xN,dz as bN,dA as AC,dB as wN,dC as _N,dD as SN,dE as PC,dF as ku,dG as MN,dH as TN,dI as EN,dJ as kN,dK as OC,dL as AN,dM as NC,dN as IC,dO as PN,dP as F9,dQ as ON,dR as Tc,dS as B9,dT as Yi,dU as j1,dV as NN,dW as IN,dX as jN,dY as R1,dZ as jC,d_ as RN,d$ as Ja,e0 as LN,e1 as $N,e2 as DN,e3 as FN,e4 as BN,e5 as RC,e6 as LC,e7 as UN,e8 as HN,e9 as L1,ea as $C,eb as VN,ec as DC,ed as GN,ee as WN,ef as zN,eg as qN,eh as FC,ei as ZN,ej as YN,ek as BC,el as an,em as KN,en as L,eo as oi,ep as QN,eq as Ca,er as Cn,es as JN,et as XN,eu as eI,ev as UC,ew as HC,ex as tI,ey as U9,ez as VC,eA as Dl,eB as $1,eC as mr,eD as hr,eE as He,eF as GC,eG as WC,eH as zC,eI as qC,eJ as yh,eK as nI,eL as rI,eM as ZC,eN as aI,eO as oI,eP as sI,eQ as iI,eR as lI,eS as cI,eT as uI,eU as dI,eV as fI,eW as pI,eX as YC,eY as H9,eZ as mI,e_ as Fl,e$ as gI,f0 as hI,f1 as KC,f2 as vI,f3 as yI,f4 as CI,f5 as Do,f6 as xI,f7 as Ch,f8 as bI,f9 as wI,fa as _I,fb as SI,fc as om,fd as MI,fe as TI,ff as EI,fg as V9,fh as cp,fi as G9,fj as Mn,fk as Bl}from"./ltrr4mhf6s4m7a72.js";import{g as ve,r as d,u as ye,a as be,b as Ve,c as U,v as fa,q as Xa,d as ds,e as Ge,f as fs,j as i,h as ps,i as qt,R as J,M as b,k as xh,l as W9,m as bh,L as Tr,_ as kI,n as ms,o as gs,p as z9,s as q9,t as AI}from"./lklglvrzltpv3f05.js";function QC(e){return e!=null}const D1=(e,t)=>e.includes(t),PI=(e,t,n=[])=>{if(e==null)return n;const r=Array.isArray(e)?e:[e];return t?r.map(t):r},JC=(e,t=[])=>n=>PI(n,e,t),XC=(e,t=void 0)=>typeof e!="object"||e==null||Array.isArray(e)?t:e,ex=(e,t)=>{const n=XC(e),r={};for(const a in t)r[a]=t[a](n?.[a]);return r},xr=e=>t=>ex(t,e),ta=(e,t="")=>typeof e=="object"||e==null?t:String(e),OI=(e,t=0)=>{if(typeof e=="object"||e==null)return t;const n=Number(e);return isNaN(n)?t:n},NI=(e,t=!1)=>{if(typeof e=="boolean")return e;if(typeof e=="number"){if(e===0)return!1;if(e===1)return!0}if(typeof e=="string"){const n=e.toLowerCase();if(n==="false")return!1;if(n==="true")return!0}return t},tx=(e,t,n=t[0])=>D1(t,e)?e:n,II=(e,t=e[0])=>n=>tx(n,e,t),na=e=>t=>t===void 0?void 0:e(t);var F1=(e=>(e[e.Textdoc=0]="Textdoc",e[e.ADAVisualization=1]="ADAVisualization",e[e.Sonic=2]="Sonic",e))(F1||{});const Er=Me(()=>({focusedObject:null,fromMessageId:null})),ike=(e,t)=>{const n=Er.getState();t!==n.fromMessageId&&Er.setState({focusedObject:e,fromMessageId:t})},wh=e=>{Er.setState({focusedObject:e,fromMessageId:null})},Va=e=>{const t=Er.getState(),{focusedObject:n}=t;(!n||n.type!==0||n.textdocId!==e)&&nx(e)},nx=e=>{wh({type:0,textdocId:e})},jI=(e,t,n)=>{wh({type:0,textdocId:e,history:t,showChangesAtVersion:n})},RI=(e,t,n)=>{wh({type:0,textdocId:e,showChangesAtVersion:t,history:n??void 0})},rx=()=>{Er.setState({focusedObject:null})},lke=()=>{Er.setState({focusedObject:null,fromMessageId:null})};function LI(e){return function(){return e}}var ax=LI;function $I(e){return function(t,n,r){for(var a=-1,o=Object(t),s=r(t),l=s.length;l--;){var c=s[e?l:++a];if(n(o[c],c,o)===!1)break}return t}}var DI=$I,FI=DI,BI=FI(),UI=BI,HI=UI,VI=u1;function GI(e,t){return e&&HI(e,t,VI)}var _h=GI,WI=_h;function zI(e,t,n,r){return WI(e,function(a,o,s){t(r,n(a),o,s)}),r}var qI=zI,ZI=qI;function YI(e,t){return function(n,r){return ZI(n,e,t(r),{})}}var KI=YI,QI=ax,JI=KI,XI=Bi,ej=Object.prototype,tj=ej.toString,nj=JI(function(e,t,n){t!=null&&typeof t.toString!="function"&&(t=tj.call(t)),e[t]=n},QI(XI)),rj=nj;const aj=ve(rj);function Sh(e,t){if(!e||t==null)return null;const{resolveTempTextdocId:n}=e,r=n?.[t]??t;let a=e.textdocById[r]??e.textdocById[t]??null;if(!a&&n){const o=aj(n);a=e.textdocById[o[r]]??null}return a}var ox={exports:{}},sx={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t($,I){var O=$.length;$.push(I);e:for(;0<O;){var Q=O-1>>>1,oe=$[Q];if(0<a(oe,I))$[Q]=I,$[O]=oe,O=Q;else break e}}function n($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var I=$[0],O=$.pop();if(O!==I){$[0]=O;e:for(var Q=0,oe=$.length,ne=oe>>>1;Q<ne;){var ee=2*(Q+1)-1,Y=$[ee],W=ee+1,de=$[W];if(0>a(Y,O))W<oe&&0>a(de,Y)?($[Q]=de,$[W]=O,Q=W):($[Q]=Y,$[ee]=O,Q=ee);else if(W<oe&&0>a(de,O))$[Q]=de,$[W]=O,Q=W;else break e}}return I}function a($,I){var O=$.sortIndex-I.sortIndex;return O!==0?O:$.id-I.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var s=Date,l=s.now();e.unstable_now=function(){return s.now()-l}}var c=[],u=[],f=1,p=null,m=3,g=!1,h=!1,v=!1,y=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w($){for(var I=n(u);I!==null;){if(I.callback===null)r(u);else if(I.startTime<=$)r(u),I.sortIndex=I.expirationTime,t(c,I);else break;I=n(u)}}function _($){if(v=!1,w($),!h)if(n(c)!==null)h=!0,X(E);else{var I=n(u);I!==null&&ae(_,I.startTime-$)}}function E($,I){h=!1,v&&(v=!1,x(A),A=-1),g=!0;var O=m;try{for(w(I),p=n(c);p!==null&&(!(p.expirationTime>I)||$&&!B());){var Q=p.callback;if(typeof Q=="function"){p.callback=null,m=p.priorityLevel;var oe=Q(p.expirationTime<=I);I=e.unstable_now(),typeof oe=="function"?p.callback=oe:p===n(c)&&r(c),w(I)}else r(c);p=n(c)}if(p!==null)var ne=!0;else{var ee=n(u);ee!==null&&ae(_,ee.startTime-I),ne=!1}return ne}finally{p=null,m=O,g=!1}}var T=!1,M=null,A=-1,D=5,j=-1;function B(){return!(e.unstable_now()-j<D)}function N(){if(M!==null){var $=e.unstable_now();j=$;var I=!0;try{I=M(!0,$)}finally{I?H():(T=!1,M=null)}}else T=!1}var H;if(typeof C=="function")H=function(){C(N)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,G=R.port2;R.port1.onmessage=N,H=function(){G.postMessage(null)}}else H=function(){y(N,0)};function X($){M=$,T||(T=!0,H())}function ae($,I){A=y(function(){$(e.unstable_now())},I)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function($){$.callback=null},e.unstable_continueExecution=function(){h||g||(h=!0,X(E))},e.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<$?Math.floor(1e3/$):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function($){switch(m){case 1:case 2:case 3:var I=3;break;default:I=m}var O=m;m=I;try{return $()}finally{m=O}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function($,I){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var O=m;m=$;try{return I()}finally{m=O}},e.unstable_scheduleCallback=function($,I,O){var Q=e.unstable_now();switch(typeof O=="object"&&O!==null?(O=O.delay,O=typeof O=="number"&&0<O?Q+O:Q):O=Q,$){case 1:var oe=-1;break;case 2:oe=250;break;case 5:oe=1073741823;break;case 4:oe=1e4;break;default:oe=5e3}return oe=O+oe,$={id:f++,callback:I,priorityLevel:$,startTime:O,expirationTime:oe,sortIndex:-1},O>Q?($.sortIndex=O,t(u,$),n(c)===null&&$===n(u)&&(v?(x(A),A=-1):v=!0,ae(_,O-Q))):($.sortIndex=oe,t(c,$),h||g||(h=!0,X(E))),$},e.unstable_shouldYield=B,e.unstable_wrapCallback=function($){var I=m;return function(){var O=m;m=I;try{return $.apply(this,arguments)}finally{m=O}}}})(sx);ox.exports=sx;var up=ox.exports;const Au=Symbol(),oj=Symbol(),sj=typeof window>"u"||/ServerSideRendering/.test(window.navigator&&window.navigator.userAgent),ix=sj?d.useEffect:d.useLayoutEffect,ij=up.unstable_runWithPriority?e=>{try{up.unstable_runWithPriority(up.unstable_NormalPriority,e)}catch(t){if(t.message==="Not implemented.")e();else throw t}}:e=>e(),lj=e=>({value:n,children:r})=>{const a=d.useRef(n),o=d.useRef(0),[s,l]=d.useState(null);s&&(s(n),l(null));const c=d.useRef();if(!c.current){const u=new Set,f=(p,m)=>{o.current+=1;const g={n:o.current};m?.suspense&&(g.n*=-1,g.p=new Promise(h=>{l(()=>v=>{g.v=v,delete g.p,h(v)})})),u.forEach(h=>h(g)),p()};c.current={[Au]:{v:a,n:o,l:u,u:f}}}return ix(()=>{a.current=n,o.current+=1,ij(()=>{c.current[Au].l.forEach(u=>{u({n:o.current,v:n})})})},[n]),d.createElement(e,{value:c.current},r)};function cj(e){const t=d.createContext({[Au]:{v:{current:e},n:{current:-1},l:new Set,u:n=>n()}});return t[oj]=t.Provider,t.Provider=lj(t.Provider),delete t.Consumer,t}function uj(e,t){const n=d.useContext(e)[Au],{v:{current:r},n:{current:a},l:o}=n,s=t(r),[l,c]=d.useReducer((u,f)=>{if(!f)return[r,s];if("p"in f)throw f.p;if(f.n===a)return Object.is(u[1],s)?u:[r,s];try{if("v"in f){if(Object.is(u[0],f.v))return u;const p=t(f.v);return Object.is(u[1],p)?u:[f.v,p]}}catch{}return[...u]},[r,s]);return Object.is(l[1],s)||c(),ix(()=>(o.add(c),()=>{o.delete(c)}),[o]),l[1]}var sm=(e=>(e.NATIVE="native",e.LAST_TURN="last_turn",e))(sm||{});const lx=cj(null);function dj(){return{lastCanvasAssistantMessageById:{},resolveTempCommentId:{},resolveTempTextdocId:{},latestTextdocId:null}}function cx(e){return{fetchError:null,isFetchingFromPersistence:!1,textdocById:{},allTextdocIdSet:{},streamingSource:null,...e??dj()}}function Zr(e,t){return J2(e,t)}function si(e,t,n=!0){const r=e.textdocById[t.textdocId];if(r)e.textdocById[t.textdocId]=r,r.metadata.type=t.type,r.metadata.title=t.title,r.metadata.updatedAt=t.createdAt,r.metadata.contentReferences=t.metadata?.content_references,n?r.versions.push(t):r.versions[r.versions.length-1]=t;else{const a={metadata:{textdocId:t.textdocId,type:t.type,title:t.title,createdAt:t.createdAt,updatedAt:t.createdAt,contentReferences:t.metadata?.content_references},versions:[t]};e.allTextdocIdSet[t.textdocId]=t.textdocId,e.textdocById[t.textdocId]=a}}function An(e=GP){return uj(lx,e)}function fj(){return An(e=>e?.isFetchingFromPersistence)}function cke(){return An(e=>e?.resolveTempCommentId)}function pj(){return An(e=>e?.latestTextdocId??null)}function uke(){return An(e=>e?.streamingSource??null)}function dke(e){return An(t=>Sh(t,e))}function B1(e){return An(t=>Sh(t,e)?.metadata??null)}function ux(){const e=An(t=>t?.allTextdocIdSet);return e?Object.keys(e):null}function mj(){return An(e=>e?Object.keys(e.allTextdocIdSet).length>1:!1)}function gj({textdocId:e,assistantMessage:t}){return An(n=>{const r=n?.lastCanvasAssistantMessageById;return r==null||e==null?!0:r[e]==null||r[e]===t?.message.id})}function dx(){return Er(e=>e.focusedObject)}function fke(){const e=Er(t=>t.focusedObject);return e?.type!==F1.Textdoc?null:e}function hj(){const e=Er(t=>t.focusedObject);return e?.type!==F1.Textdoc?null:e.history??null}function Ki(){return dx()!=null}function Mh(e){const t=dx();return An(n=>{if(!e||t?.type!==F1.Textdoc)return!1;const r=n?.resolveTempTextdocId??{},a=r[t.textdocId]??t.textdocId,o=r[e]??e;return a===o})}var Pu=(e=>(e.Unknown="unknown",e.ShowToast="show_toast",e.CanvasMessage="canvas_message",e.TurnComplete="turn_complete",e))(Pu||{});const vj={canvas_message:xr({message:XC}),turn_complete:xr({}),unknown:xr({}),show_toast:xr({text:ta})},Z9=II(Object.values(Pu));function yj(e){const{type:t}=ex(e,{type:Z9}),n=Z9(t);return{type:n,...vj[n](e)}}function Y9(e,t){xj(n=>{n.type===e&&t(n)})}function Cj(e){const t=atob(e),n=new Uint8Array(t.length);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return new TextDecoder("utf-8").decode(n)}function xj(e){d.useEffect(()=>WP(window,{message:n=>{const r=n.data;if(!(typeof r!="object"||r?.type!=="canmore_native"))try{const a=Cj(r.msg),o=yj(JSON.parse(a));e(o)}catch{console.warn(`Unknown message from native app: ${r.msg}`)}}}),[e])}function fx(){let e;const t=bj();switch(t){case"android":e=window.CanmoreNative;break;case"ios":e=window.webkit?.messageHandlers.canmoreNative;break;case"web":e=void 0;break}return{platform:t,isNative:t!=="web",bridge:e,sendMessage:n=>e?.postMessage(btoa(JSON.stringify(n)))}}function bj(){return typeof window.CanmoreNative<"u"?"android":typeof window.webkit<"u"&&typeof window.webkit.messageHandlers.canmoreNative<"u"?"ios":"web"}const wj=new RegExp("((?:\\n|\\r)+)((?:\\s{2,}|\\t)+)?|(```)|([#*_-]+)|([(){}[\\]]+)|([\\x21-\\x2F\\x3A-\\x40\\x5B-\\x60\\x7B-\\x7E]+)|(\\b(?:await|break|case|catch|class|continue|default|define|except|extends|export|finally|implements|import|include|print|private|protected|public|return|span|switch|system|template|throw|type|using|while)\\b)|(\\b(?:async|breakpoint|cin|cmd|console|const|constexpr|cout|def|defn|div|env|fn|func|function|href|html|img|interface|lambda|namespace|println|src|stdout|struct|var|workdir|yield)\\b)","gi"),_j=[80.33911781017851,19.194942847935266,-78.96158351597562,31.404985863148777,48.13976028814005,82.48501866379408,15.781632991361631,67.81666324403915],Sj=-9.860574779222393;function Mj(e){return Tj(Ej(e),_j,Sj)>0}function Tj(e,t,n){let r=n;for(let a=0;a<e.length;a++)r+=e[a]*t[a];return r}function Ej(e){const t=[0,0,0,0,0,0,0,0];if(!e)return t;let n;for(;(n=wj.exec(e))!=null;)for(let r=0;r<t.length;r++)n[r+1]&&(t[r]+=n[r+1].length);for(let r=0;r<t.length;r++)t[r]/=e.length;return t}var kj=H8,Aj=function(){return kj.Date.now()},Pj=Aj,Oj=/\s/;function Nj(e){for(var t=e.length;t--&&Oj.test(e.charAt(t)););return t}var Ij=Nj,jj=Ij,Rj=/^\s+/;function Lj(e){return e&&e.slice(0,jj(e)+1).replace(Rj,"")}var $j=Lj,Dj=$j,K9=ns,Fj=V8,Q9=NaN,Bj=/^[-+]0x[0-9a-f]+$/i,Uj=/^0b[01]+$/i,Hj=/^0o[0-7]+$/i,Vj=parseInt;function Gj(e){if(typeof e=="number")return e;if(Fj(e))return Q9;if(K9(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=K9(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=Dj(e);var n=Uj.test(e);return n||Hj.test(e)?Vj(e.slice(2),n?2:8):Bj.test(e)?Q9:+e}var Th=Gj,Wj=ns,dp=Pj,J9=Th,zj="Expected a function",qj=Math.max,Zj=Math.min;function Yj(e,t,n){var r,a,o,s,l,c,u=0,f=!1,p=!1,m=!0;if(typeof e!="function")throw new TypeError(zj);t=J9(t)||0,Wj(n)&&(f=!!n.leading,p="maxWait"in n,o=p?qj(J9(n.maxWait)||0,t):o,m="trailing"in n?!!n.trailing:m);function g(T){var M=r,A=a;return r=a=void 0,u=T,s=e.apply(A,M),s}function h(T){return u=T,l=setTimeout(x,t),f?g(T):s}function v(T){var M=T-c,A=T-u,D=t-M;return p?Zj(D,o-A):D}function y(T){var M=T-c,A=T-u;return c===void 0||M>=t||M<0||p&&A>=o}function x(){var T=dp();if(y(T))return C(T);l=setTimeout(x,v(T))}function C(T){return l=void 0,m&&r?g(T):(r=a=void 0,s)}function w(){l!==void 0&&clearTimeout(l),u=0,r=c=a=l=void 0}function _(){return l===void 0?s:C(dp())}function E(){var T=dp(),M=y(T);if(r=arguments,a=this,c=T,M){if(l===void 0)return h(c);if(p)return clearTimeout(l),l=setTimeout(x,t),g(c)}return l===void 0&&(l=setTimeout(x,t)),s}return E.cancel=w,E.flush=_,E}var px=Yj;const mx=ve(px),gx=4e4,Kj="max-length-toast",hx=mx((e,t,n,r=1.5)=>e.warning(t,{description:n,duration:r,id:Kj}),500,{leading:!0,trailing:!1});function pke(e,t,n){hx(e,t.formatMessage(Ou.exceededMaxLengthTitle),t.formatMessage(Ou.exceededMaxLengthDescription),n)}function Qj(e,t,n){hx(e,t.formatMessage(Ou.exceededMaxLengthTitle),t.formatMessage(Ou.exceededMaxLengthForTruncatedMessageDescription),n)}const Ou=V({exceededMaxLengthDescription:{id:"FQSdxE",defaultMessage:"The document is longer than a canvas can currently handle. To edit, please reduce the length."},exceededMaxLengthForTruncatedMessageDescription:{id:"q/2M6n",defaultMessage:"The document was truncated because it was too long."},exceededMaxLengthTitle:{id:"NFtrBL",defaultMessage:"Document exceeds max length"}}),Eh="temp";function vx(e,t){return`${Eh}-tdc-${t}-${e}`}function kh(e){return`${Eh}-td-${e}`}function Jj(){return`${Eh}-td-user:${Date.now()}`}var Yr=(e=>(e.INFERRING="inferring",e.PENDING="pending",e.SENT="sent",e))(Yr||{}),yx=(e=>(e.MODEL="model",e.SYSTEM_HINT_CANVAS="system_hint_canvas",e.SYSTEM_HINT_CANVAS_APPS="system_hint_canvas_apps",e.USER_CREATED_COMPOSER="user_created_composer",e.MESSAGE_CODE_SNIPPET="message_code_snippet",e.MESSAGE="message",e))(yx||{});const br=-1;var mn=(e=>(e.CREATING="creating",e.REWRITING="rewriting",e.COMMENTING="commenting",e.UPDATING="updating",e.COMPLETE="complete",e.ATTACHED_PENDING="attached_pending",e.ATTACHED_SENT="attached_sent",e))(mn||{});const mke=e=>e?.status!=="complete"&&e?.status!=="attached_pending"&&e?.status!=="attached_sent",gke=e=>e?.status==="rewriting",hke=e=>e?.status==="creating",vke=e=>e?.status==="attached_pending"||e?.status==="attached_sent",yke=e=>e?.status==="attached_pending";var xi=(e=>(e.DOCUMENT="document",e.CODE_BASH="code/bash",e.CODE_ZSH="code/zsh",e.CODE_JAVASCRIPT="code/javascript",e.CODE_TYPESCRIPT="code/typescript",e.CODE_HTML="code/html",e.CODE_CSS="code/css",e.CODE_PYTHON="code/python",e.CODE_JSON="code/json",e.CODE_SQL="code/sql",e.CODE_GO="code/go",e.CODE_YAML="code/yaml",e.CODE_JAVA="code/java",e.CODE_RUST="code/rust",e.CODE_CPP="code/cpp",e.CODE_SWIFT="code/swift",e.CODE_PHP="code/php",e.CODE_XML="code/xml",e.CODE_RUBY="code/ruby",e.CODE_HASKELL="code/haskell",e.CODE_KOTLIN="code/kotlin",e.CODE_CSHARP="code/csharp",e.CODE_C="code/c",e.CODE_OBJECTIVEC="code/objectivec",e.CODE_R="code/r",e.CODE_LUA="code/lua",e.CODE_DART="code/dart",e.CODE_SCALA="code/scala",e.CODE_PERL="code/perl",e.CODE_COMMONLISP="code/commonlisp",e.CODE_CLOJURE="code/clojure",e.CODE_OCAML="code/ocaml",e.CODE_POWERSHELL="code/powershell",e.CODE_VERILOG="code/verilog",e.CODE_DOCKERFILE="code/dockerfile",e.CODE_VUE="code/vue",e.CODE_REACT="code/react",e.CODE_OTHER="code/other",e.LOADING="loading",e))(xi||{});function Nu(e){return e.startsWith("code/")}function U1(e){const t=tx(e,Object.values(xi),null);if(t)return t;if(e==="webview")return"code/html";if(e.startsWith("code"))switch(e){case"code/js":return"code/javascript";default:return"code/other"}return"document"}var lt=(e=>(e.CREATE="create",e.REWRITE="rewrite",e.EDIT="edit",e.ADD_COMMENT="add_comment",e.REMOVE_COMMENT="remove_comment",e))(lt||{}),Cx=(e=>(e.ACCEPT="accept",e.DISMISS="dismiss",e))(Cx||{}),im=(e=>(e.ACCEPT_INITIATED="accept_initiated",e.DISMISSED="dismissed",e.PENDING="pending",e))(im||{}),Xj=(e=>(e.ADDED="added",e.REMOVED="removed",e))(Xj||{}),eR=(e=>(e.ACCEPT_COMMENT="accept_comment",e.ASK_CHATGPT="ask_chatgpt",e.ACCELERATOR="accelerator",e.CONSOLE="console",e.FULL_SCREEN_SUBMIT="full_screen_submit",e))(eR||{}),X9=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function tR(e,t){return!!(e===t||X9(e)&&X9(t))}function nR(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!tR(e[n],t[n]))return!1;return!0}function hs(e,t){t===void 0&&(t=nR);var n=null;function r(){for(var a=[],o=0;o<arguments.length;o++)a[o]=arguments[o];if(n&&n.lastThis===this&&t(a,n.lastArgs))return n.lastResult;var s=e.apply(this,a);return n={lastResult:s,lastArgs:a,lastThis:this},s}return r.clear=function(){n=null},r}const vs=Me(Vn(()=>({attachedTempTextdocs:{}}))),{setState:fo}=vs,rR=7e3,xx={createTempTextdoc:(e,t,n)=>{const r=Jj();fo(l=>{l.attachedTempTextdocs[r]={tempTextdocId:r,createdAt:Date.now(),status:Yr.INFERRING,type:Mj(e)?xi.CODE_OTHER:xi.DOCUMENT,title:t,content:e,create_source:n}});let a=!1;const o=new Promise(l=>setTimeout(l,rR)).then(()=>{a=!0}),s=K.safePost("/conversation/textdocs/infer_metadata",{requestBody:{content:e.slice(0,gx)}}).then(({name:l,type:c})=>{a||fo(u=>{u.attachedTempTextdocs[r]&&(u.attachedTempTextdocs[r].title=l,u.attachedTempTextdocs[r].type=U1(c))})});return Promise.race([o,s]).finally(()=>{fo(l=>{l.attachedTempTextdocs[r]&&(l.attachedTempTextdocs[r].status=Yr.PENDING)})}),r},replaceTempTextdocContent:(e,t)=>{fo(n=>{n.attachedTempTextdocs[e].content=t})},markAllAsSent:()=>{fo(e=>{for(const t of Object.keys(e.attachedTempTextdocs))e.attachedTempTextdocs[t].status===Yr.PENDING?e.attachedTempTextdocs[t].status=Yr.SENT:delete e.attachedTempTextdocs[t]})},removeTempTextdoc:e=>{fo(t=>{delete t.attachedTempTextdocs[e]})}},Qi=hs(({attachedTempTextdocs:e})=>e),aR=hs(e=>Object.values(e)),Ah=hs(e=>Object.values(e).filter(t=>t.status!==Yr.SENT)),Cke=()=>Ah(Qi(vs.getState())),oR=()=>vs(e=>aR(Qi(e))),xke=()=>vs(e=>Ah(Qi(e))),bke=e=>vs(t=>{if(e)return Qi(t)[e]}),wke=()=>vs(e=>Ah(Qi(e)).length>0),sR=e=>{const[t,n]=d.useState(null),r=d.useCallback(o=>{n(s=>{if(!s)return[o];const l=[...s];for(let c=0;c<s.length;c++)l[c].message.id===o.message.id?l[c]=o:c===l.length-1&&l.push(o);return l})},[]),a=d.useCallback(()=>n(null),[]);return Y9(Pu.TurnComplete,async()=>{await e(),a()}),Y9(Pu.CanvasMessage,async({message:o})=>{const s=o,{message:{recipient:l,author:c}}=s;(l?.startsWith(X0)||c.name?.startsWith(X0))&&r(s)}),t};function iR(e,t){return e.replace(new RegExp("\\\\(\\d+)|\\\\g<(?:(\\d+)|(\\D[^>]*))>|((?<!\\\\)\\\\(?:g(?:<[^>]*)?)?$)","gi"),(n,r,a,o,s)=>{if(r==="0")return"\\0";const l=r??a;if(l)return t[OI(l)]??"";if(o)return t.groups?.[o]??"";if(s)return"";throw new Error("Unreachable")})}function lR(e,t){let n="",r=0,a=0,o=0,s=0,l=!1;const c=y=>{r+=y},u=y=>{r>a&&(n+=e.slice(a,r)),r=a=r+y},f=y=>{u(0),n+=y},p=()=>{f("\\"),c(1)},m=y=>{if(r+y<e.length)return e[r+y]},g=(y,x=0)=>r+x<e.length&&y===e[r+x],h=y=>{const x=e.indexOf(y,r);if(x===-1)u(e.length-r);else return x-r},v=y=>{let x=1;if(m(y)==="\\"){const w=m(y+1);x=w==="U"?10:w==="u"?6:w==="x"?4:2}const C=r+y+x>e.length;return C&&u(e.length-r),C};for(;r<e.length;){if(g("\\")){if(v(0))continue;const C=m(1)??"";if(C==="a")u(2),f("\\x07");else if(C==="A")u(2),f("^");else if(C==="z")u(2),f("$");else if(C==="Z")u(2),f("(?=\\n?$)");else if(C==="U"){const w=e.slice(r+2,r+10);u(10),f(`\\u{${parseInt(w,16).toString(16)}}`)}else if(C==="u")c(6);else if(C==="x")c(4);else{let w;l?w=/[0bdDsSwWfnrtv()[\]{}|/\\^-]/.test(C):/[1-9]/.test(C)?w=parseInt(C,10)<=s:w=/[0bBdDsSwWfnrtv()[\]{}|/\\^$.?*+]/.test(C),w?c(2):u(1)}continue}if(g("]")){l?(l=!1,c(1)):p();continue}else if(l){if(g("-")&&v(1))continue;/[()[\]{}|/\\]/.test(e[r])?p():c(1);continue}else if(g("[")){l=!0,c(1),g("]")&&p();continue}if(g("|")&&v(1))continue;if(g("{")){const C=/^\{(?:\d+(?:,\d*)?(\}|$)|$)/.exec(e.slice(r));r>0&&C?.[1]==="}"?c(C[0].length):r>0&&C&&t?u(C[0].length):p();continue}else if(g("}")){p();continue}if(g("+")){const C=m(-1);C&&/[*+?}]/.test(C)&&m(-2)!=="\\"?u(1):c(1);continue}if(g(")")){o>0?(o--,c(1)):p();continue}if(!g("(")){c(1);continue}if(v(1))continue;if(m(1)!=="?"){o++,s++,c(1);continue}if(v(2))continue;const y=m(2);if(!y){u(2);continue}if(y==="#"){const C=h(")");C&&u(1+C);continue}if(y==="P"){if(m(3)==="="){const C=h(")");if(C){const w=e.slice(r+4,r+C);u(1+C),f(`\\k<${w}>`)}}else{const C=h(">");if(C){const w=e.slice(r+4,r+C);if(u(1+C),v(0))continue;f(`(?<${w}>`),o++}}continue}if(/[-a-z]/.test(y)){const C=e.indexOf(":",r)>=0,w=h(C?":":")");if(w&&u(1+w),C){if(v(0))continue;f("(?:"),o++}continue}if(y===">"){if(u(3),v(0))continue;f("(?:"),o++;continue}const x=y==="<"?4:3;v(x)||(c(x),o++)}for(n+=e.slice(a,e.length),l&&(n+="]");o-- >0;)n+=")";return n.length>0?n:"(?!)"}function ev(e){const t=[/^`{1,3}\s*$/,/^```[^\n]*\n?/],n=[/\n?`{1,3}\s*$/];for(const r of t)if(r.test(e)){e=e.replace(r,"");break}for(const r of n)if(r.test(e)){e=e.replace(r,"");break}return e}function Iu(e,t){return t!=null||e!=null?{modelSelectionPositionRange:t,modelCursorPosition:e}:void 0}function cR(e,t,n){const r=[],a=t.start-t.end+n;for(const o of e){const s=uR(o.at,t,a);s&&r.push(s===o.at?o:{...o,at:s})}return r}function uR(e,t,n){return t.start>=e.end?e:t.start<=e.start&&t.end>=e.end?null:t.end<=e.start?n===0?e:{start:e.start+n,end:e.end+n}:t.start<=e.start?{start:t.end+n,end:e.end+n}:t.end>=e.end?{start:e.start,end:t.start}:{start:e.start,end:e.end+n}}const dR=/[*_-\s\d.\\`]+$/;function lm(e,t){return t?e.replace(dR,""):e}function bx(e,t){return Zr(e,n=>{for(const r of t){if(r.kind===lt.CREATE){const a=pR(r);si(n,a)}else{const a=n.textdocById[r.textdocId];if(!a){te.addError("Attempted to apply canmore operation to an unknown target id",{textdocOp:r});continue}const o=a.versions[a.versions.length-1],s=wx(o,r);si(n,s,fR(o,r))}r.textdocId&&(n.latestTextdocId=r.textdocId)}})}function fR(e,t){if(t.author.role===ie.User)return e.messageId?!0:t.createdAt-e.createdAt>3600;switch(t.kind){case lt.REWRITE:return!0;case lt.EDIT:return t.messageId!==e.messageId;case lt.ADD_COMMENT:return!1;case lt.REMOVE_COMMENT:return!1}}function pR(e){const t=!!e.isPartial,n=lm(e.content,t);return{textdocId:e.textdocId,versionInt:e.versionInt??null,messageId:e.messageId??null,title:e.title,type:e.type,content:n,createdAt:e.createdAt,status:t?mn.CREATING:mn.COMPLETE,comments:[],modelCursor:Iu(e.author.role===ie.Assistant&&e.isPartial?n.length:void 0)}}function mR(e,t){if(!e.isPartial)return;if(e.isPartialRange)return Iu(void 0,e.at);const n=e.at.start+t.length;return Iu(n)}function wx(e,t){switch(t.kind){case lt.REMOVE_COMMENT:return{...e,versionInt:t.versionInt??e.versionInt,comments:e.comments.map(n=>n.id===t.commentId?{...n,status:t.reason===Cx.ACCEPT?im.ACCEPT_INITIATED:im.DISMISSED}:n)};case lt.REWRITE:{const n=e.status!==mn.COMPLETE||t.isPartial===!0,r=lm(t.content,n),a=t.author.role===ie.Assistant&&t.isPartial?r.length:void 0;return{...e,versionInt:t.versionInt??e.versionInt,messageId:t.messageId??null,content:r,createdAt:t.createdAt,comments:t.comments??e.comments,status:t.isPartial?mn.REWRITING:mn.COMPLETE,modelCursor:Iu(a)}}case lt.EDIT:{const n=t.isPartial&&t.isPartialRange?e.content.slice(t.at.start,t.at.end):lm(t.content,t.isPartial===!0),r=e.content.slice(0,t.at.start)+n+e.content.slice(t.at.end);return{...e,versionInt:t.versionInt??e.versionInt,messageId:t.messageId??null,content:r,createdAt:t.createdAt,status:t.isPartial?mn.UPDATING:mn.COMPLETE,comments:cR(e.comments,t.at,n.length),modelCursor:mR(t,n)}}case lt.ADD_COMMENT:{const n={id:t.id??t.tempId,tempId:t.tempId,at:t.at,content:t.content??""},r=e.comments.concat(n);return{...e,versionInt:t.versionInt??e.versionInt,messageId:t.messageId??null,createdAt:t.createdAt,status:t.isPartial?mn.COMMENTING:mn.COMPLETE,comments:r}}}}function gR(e){let t="";const n=e.length;let r=0,a=0;for(;r<n;){let o=e.charCodeAt(r);if(o!==92){r++;continue}if(a<r&&(t+=e.slice(a,r)),r++,r>=n){t+="\\";break}switch(o=e.charCodeAt(r),o){case 110:t+=`
`,r++;break;case 116:t+="	",r++;break;case 114:t+="\r",r++;break;case 98:t+="\b",r++;break;case 102:t+="\f",r++;break;case 118:t+="\v",r++;break;case 48:t+="\0",r++;break;case 39:t+="'",r++;break;case 34:t+='"',r++;break;case 92:t+="\\",r++;break;case 120:if(r+2<n){const s=parseInt(e.slice(r+1,r+3),16);if(!isNaN(s)){t+=String.fromCharCode(s),r+=3;break}}t+="\\x",r++;break;case 117:if(r+1<n)if(e.charAt(r+1)==="{"){const s=e.indexOf("}",r+2);if(s!==-1){const l=parseInt(e.slice(r+2,s),16);if(!isNaN(l)&&l<=1114111){t+=String.fromCodePoint(l),r=s+1;break}}}else{const s=parseInt(e.slice(r+1,r+5),16);if(!isNaN(s)){t+=String.fromCharCode(s),r+=5;break}}t+="\\u",r++;break;default:t+="\\"+e.charAt(r),r++;break}a=r}return a<n&&(t+=e.slice(a)),t}function H1(e,t){S.logEvent(e,{platform:fx().platform,...t??{}})}function hR(e,t,n){S.logEventWithStatsig(e,t,{platform:fx().platform,...n})}function vR(e,t,n){H1(e,{distributionValue:t,...n??{}})}function yR(e,t){H1(k.canvasButtonClicked,{buttonName:e,...t??{}})}function CR(e){if(e instanceof Error){const{name:t,message:n,stack:r,cause:a}=e;return{name:t,message:n,stack:r,cause:a}}return e}function xR(e,t,n){H1(k.canvasError,{message:e,error:t==null?e:CR(t),attributes:n}),te.addError(t)}const V1={logButtonClick:yR,logEvent:H1,logEventWithStatsig:hR,logError:xR,logDistribution:vR},tv=e=>e===" "||e===`
`||e==="\r"||e==="	";function bR(e,t=!1){let n=0,r=null;const a=[];if(!e)return[void 0,a];if(t)return[l(),a];try{return[JSON.parse(e),null]}catch(h){return r=h,[l(),a]}function o(){for(;n<e.length&&tv(e[n]);)n++;return n<e.length}function s(h){return o()&&e[n]===h?(n++,!0):!1}function l(){if(o())switch(e[n]){case"{":return p();case"[":return m();case'"':{const[h]=u();return h}case"f":return g("false",!1);case"t":return g("true",!0);case"n":return g("null",null);case"-":case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":return f()}throw r}function c(h,v=!1){return v?gR(h):h}function u(h=!1){const v=n+1;let y=!1;for(n++;n<e.length;){const x=e[n++];if(x==="\\"){if(y=!0,n===e.length||e[n]==="u"&&n+4>=e.length){const C=n-1;return n=e.length,[c(e.slice(v,C),y),!1]}n++;continue}if(x==='"'){let C=n;for(;C<e.length&&tv(e[C]);)C++;if(e[C]==null||e[C]===","||e[C]==="]"||e[C]==="}"||h&&e[C]===":")return[c(e.slice(v,n-1),y),!0]}}return[c(e.slice(v,n),y),!1]}function f(){const h=n;for(;n<e.length&&/[0-9.eE+-]/.test(e[n]);)n++;const v=Number(e.slice(h,n));if(isNaN(v)){if(o())throw r;return 0}return v}function p(){n++;const h={};if(s("}"))return h;for(;o();){const[v,y]=u(!0);if(!y||(a.push(v),!o()))break;if(!s(":"))throw r;if(!o()||(h[v]=l(),!o()))break;if(s("}")){a.pop();break}if(!s(","))throw r;a.pop()}return h}function m(){n++;const h=[];if(s("]"))return h;for(a.push(0);o()&&(h.push(l()),!!o());){if(s("]")){a.pop();break}if(!s(","))throw r;a[a.length-1]=h.length}return h}function g(h,v){const y=n+h.length;if(y<=e.length?e.slice(n,y)===h:h.startsWith(e.slice(n)))return n=y,v;throw r}}function fp(e,t,n=!1){try{const[r,a]=bR(e);return[t(r),a]}catch(r){return n&&V1.logError("JSON parsing",r),[void 0,[]]}}function Ls(e,t){return e!=null&&t.every((n,r)=>e[r]===n)}const wR=xr({type:na(ta),name:na(ta),content:na(ta)}),_R=xr({updates:JC(xr({pattern:na(ta),multiple:na(NI),replacement:na(ta)}))}),SR=xr({comments:JC(xr({pattern:na(ta),comment:na(ta)}))});function _x(e){const t=e.author.name;if(!G8(t))return null;const n=e?.metadata?.canvas;return{function:t,status:TR(e),textdocId:n?.textdoc_id,type:n?.textdoc_type&&U1(n.textdoc_type),versionInt:ER(n),commentIds:n?.comment_ids}}function Sx(e,t,n){const{id:r,author:a,recipient:o,create_time:s}=t;if(!s)throw new Error("Expected a create_time");const l=Mr(t),c=n&&_x(n);if(t?.metadata?.is_redacted||c?.status===ue.REDACTED||l==="The output of this plugin was redacted.")return{function:o,status:ue.REDACTED,messageId:r,author:a,createdAt:s};switch(o){case zt.CreateTextdoc:{const[u,f]=fp(l,wR),p=c?.type??(!u?.type||Ls(f,["type"])?void 0:U1(u.type));return{function:zt.CreateTextdoc,status:c?.status??pp(e,t,f!=null),messageId:r,author:a,createdAt:s,textdocId:c?.textdocId,versionInt:c?.versionInt,title:u?.name,type:p,content:u?.content}}case zt.UpdateTextdoc:{const[u,f]=fp(l,_R,!e),p=u?.updates.map((m,g)=>({...m,isPartialPattern:Ls(f,["updates",g,"pattern"]),isPartial:Ls(f,["updates",g])}));return{function:zt.UpdateTextdoc,status:c?.status??pp(e,t,f!=null),messageId:r,author:a,createdAt:s,textdocId:c?.textdocId,versionInt:c?.versionInt,updates:p}}case zt.CommentTextdoc:{const[u,f]=fp(l,SR,!e),p=c?.commentIds,m=u?.comments.map((g,h)=>({...g,id:p?.[h],isPartialPattern:Ls(f,["comments",h,"pattern"]),isPartial:Ls(f,["comments",h])}));return{function:zt.CommentTextdoc,status:c?.status??pp(e,t,f!=null),messageId:r,author:a,createdAt:s,textdocId:c?.textdocId,versionInt:c?.versionInt,comments:m}}}}function Ph(e){return G8(e?.recipient)}function MR(e,t=0){for(let n=t;n<e.length;n++)if(Ph(e[n].message))return!0;return!1}function pp(e,t,n){return t?.metadata?.finish_details?.type==="interrupted"?ue.CANCELED:e?n?ue.STREAMING:ue.WAITING:ue.FAILED}function TR(e){if(e?.metadata?.is_redacted)return ue.REDACTED;if(e?.content.content_type===je.SystemError)return ue.FAILED;const t=e?.metadata?.canvas;return t!=null&&t.is_failure!==!0?ue.COMPLETE:ue.FAILED}function ER(e){return e?.version??e?.version_int}const kR=5;function Mx(e){let t=null;for(let n=0;n<e.length;n++){const{message:r}=e[n];if(Ph(r)){const a=n+1<e.length&&e[n+1].message.author.name===r.recipient?e[n+1].message:null;a&&n++,t?t.push([r,a]):t=[[r,a]]}}return t}function AR(e,t,n){let r=null;const a=Mx(n);if(!a)return r;for(const[o,s]of a){const l=Sx(e,o,s),c=PR(t,l);c&&(t&&(t=bx(t,c)),r?r=r.concat(c):r=c)}return r}const mp=hs((e,t,n)=>{te.addError(t,n)},([e],[t])=>e===t);function PR(e,t){if(t.status===ue.FAILED||t.status===ue.CANCELED)return null;if(t.function===zt.CreateTextdoc){if(!t.type)return null;const o=kh(t.messageId),s=t.content&&Nu(t.type)?ev(t.content):t.content;return[{kind:lt.CREATE,textdocId:t.textdocId??o,versionInt:t.versionInt,messageId:t.messageId,author:t.author,createdAt:t.createdAt,tempTextdocId:o,title:t.title??"",type:t.type,content:s??"",isPartial:t.status===ue.STREAMING}]}const n=e?.latestTextdocId,r=t?.textdocId??n;if(t.status===ue.COMPLETE&&(n?t?.textdocId&&t.textdocId!==n&&mp(t.messageId,"Attempted to parse canmore operation with incorrect client latest target id",{latestTextdocId:n,toolCall:t}):mp(t.messageId,"Attempted to parse canmore operation but latestTextdocId is unset",{toolCall:t})),!r)return null;const a=Pr(Sh(e,r)?.versions);if(!a)return t.status===ue.COMPLETE&&mp(t.messageId,"Attempted to parse canmore operation against unknown target id",{textdocId:r}),null;switch(t.function){case zt.UpdateTextdoc:{const o=[],s=t.updates??[];for(let l=0;l<s.length;l++){const c=s[l];if(c.isPartialPattern&&c.pattern&&c.pattern.length<kR)continue;if(c.pattern===".*"){const p=c.replacement?Nu(a.type)?ev(c.replacement):c.replacement:"";return[{kind:lt.REWRITE,textdocId:r,versionInt:t.versionInt,messageId:t.messageId,createdAt:t.createdAt,author:t.author,content:p,isPartial:t.status===ue.STREAMING&&c.isPartial,comments:[]}]}const u=rv(c.pattern,c.isPartialPattern,c.multiple);if(!u)continue;let f=!1;for(const p of nv(a.content,u,c.multiple)){f=!0;const m=av(p),g=c.replacement&&iR(c.replacement,p);for(const h of o)if(h.at.end<=m.start){if(!h.isPartialRange){const v=h.at.start-h.at.end+h.content.length;m.start+=v,m.end+=v}}else h.at.start<m.end;o.push({kind:lt.EDIT,textdocId:r,versionInt:t.versionInt,messageId:t.messageId,author:t.author,createdAt:t.createdAt,at:m,content:g??"",isPartialRange:t.status===ue.STREAMING&&c.isPartialPattern,isPartial:t.status===ue.STREAMING&&c.isPartial})}if(!c.isPartialPattern&&!f)return null}return o.length>0?o:null}case zt.CommentTextdoc:{const o=[],s=t.comments??[];for(let l=0;l<s.length;l++){const c=s[l],u=rv(c.pattern,c.isPartialPattern);if(!u)continue;let f=!1;for(const p of nv(a.content,u)){f=!0;const m=av(p);m.end>m.start&&o.push({kind:lt.ADD_COMMENT,textdocId:r,versionInt:t.versionInt,messageId:t.messageId,author:t.author,createdAt:t.createdAt,id:c.id,tempId:vx(t.messageId,l),at:m,content:c.comment??"",isPartialRange:t.status===ue.STREAMING&&c.isPartialPattern,isPartial:t.status===ue.STREAMING&&c.isPartial})}if(!c.isPartialPattern&&!f)return null}return o.length>0?o:null}}}function*nv(e,t,n=!1){if(n)yield*e.matchAll(t);else{const r=e.match(t);r&&(yield r)}}function rv(e,t,n=!1){if(e)try{const r=lR(e,t);return new RegExp(r,n?"gsv":"sv")}catch(r){console.warn("Assistant returned invalid Regexp, dropping",{pattern:e,error:r})}}function av(e){return{start:e.index,end:e.index+e[0].length}}const Oh=()=>({lastFlushedAt:null,lastTriggeredAt:null}),Nh=Me(Vn(()=>({userEdits:{},timestamps:{}}))),{setState:G1}=Nh,_ke=e=>Nh(({timestamps:t})=>(t[e]?.lastTriggeredAt??0)>(t[e]?.lastFlushedAt??0)),Ske=e=>{G1(t=>{t.timestamps[e]??=Oh(),t.timestamps[e].lastTriggeredAt=Date.now()})},Mke=({textdocId:e,basedOnVersionInt:t,content:n,comments:r})=>{G1(a=>{a.timestamps[e]??=Oh(),a.timestamps[e].lastFlushedAt=Date.now(),a.userEdits[e]??=[],a.userEdits[e].push({content:n,basedOnVersionInt:t,nextVersionInt:null,isPending:!0,comments:r})})},Tke=({textdocId:e,basedOnVersionInt:t,newVersion:n})=>{G1(r=>{r.userEdits[e]??=[];for(const a of r.userEdits[e])if(a.basedOnVersionInt===t){a.isPending=!1,a.nextVersionInt=n;break}})},OR=e=>{G1(t=>{for(const{textdocId:n,versionInt:r}of e){const a=t.userEdits[n];a&&(t.userEdits[n]=a.filter(o=>o.basedOnVersionInt>(r??br)),a.length===0&&(t.timestamps[n]=Oh()))}})},NR=hs(({userEdits:e})=>e),IR=hs(e=>{const t=new Map;for(const[n,r]of Object.entries(e)){const a=Pr(r);if(!a)continue;const{content:o,comments:s,nextVersionInt:l,basedOnVersionInt:c}=a;t.set(n,{textdocId:n,comments:s,content:o,versionInt:l??c})}return t}),jR=()=>Nh(e=>IR(NR(e)));function Ih(e){for(let t=e.length-1;t>=0;t--){const n=e[t];if(n.message.author.role===ie.Assistant&&n.message.recipient?.startsWith(d1.CANMORE))return n}}function Tx(e){for(let t=e.length-1;t>=0;t--){const n=e[t].message.author;if(n.role===ie.Tool&&n.name?.startsWith(X0))return e[t]}}const cm=e=>e.variantIds.length===2,RR=(e,t,n=!1)=>e.role===ie.Root?!1:e.role===ie.System||e.role===ie.Developer||t.every(r=>r.message.metadata?.is_visually_hidden_from_conversation)?n:!0,Eke=e=>e.some(t=>{if(t.message.metadata?.is_visually_hidden_from_conversation||t.message.author.role===ie.Tool||t.message.author.role===ie.System||t.message.recipient!=="all")return!1;const n=t.message.content;return(n.content_type===je.Text||n.content_type===je.MultimodalText)&&n.parts.some(r=>typeof r=="string"&&r.length>0)}),ov=(e,t)=>{for(const a of t){const o=a.message.metadata?.canvas;if(o?.user_created_temp_textdoc_id&&o?.textdoc_id){const{user_created_temp_textdoc_id:s,textdoc_id:l}=o;e=Zr(e,c=>{c.latestTextdocId=l,c.resolveTempTextdocId[s]=l})}}const n=Ih(t);for(let a=t.length-1;a>=0;a--){const{message:{metadata:o}}=t[a],s=o?.canvas,l=o?.open_in_canvas_view?.id??s?.textdoc_id;if(l){e=Zr(e,c=>{c.latestTextdocId=l??null,n&&(c.lastCanvasAssistantMessageById[l]=n.message.id)});break}}const r=Mx(t);if(!r)return e;for(const[a,o]of r){const s=o&&_x(o);s&&(e=Zr(e,l=>{if(s.function===zt.CreateTextdoc){const{textdocId:c}=s;c&&(l.resolveTempTextdocId[kh(a.id)]=c)}else if(s.function===zt.CommentTextdoc){const{commentIds:c=[]}=s;for(let u=0;u<c.length;u++){const f=c[u],p=vx(a.id,u);l.resolveTempCommentId[f]=p}}}))}return e},LR=(e,t,n)=>{if(!cm(n))return ov(t,n.messages);const r=F.getTree(e),{variantIds:a}=n;for(const o of a){const s=r.getLeafFromNode(o).id,l=Pr(F.getThreadConversationTurns(e,s));l&&(t=ov(t,l.messages))}return t};function $R(){return new WeakMap}function Ex(e,t,n,r){const a=n[r];let o=t.get(a);if(!o){const s=r===0?cx():Ex(e,t,n,r-1);o=LR(e,s,a),t.set(a,o)}return o}function DR(e,t,n){return n.length===0?null:Ex(e,t,n,n.length-1)}function FR(e,t){const[n]=d.useState($R);return d.useMemo(()=>DR(e,n,t),[n,e,t])}function kx(e,t){const n=[];let r=0,a=0;for(const o of t)n[a]=r,r+=o.length,a+=1;return n[a]=r,e.map(o=>{const{start:s,end:l}=o;return{start:n[s],end:n[l]}})}function BR(e,t){const n=[];let r=0,a=0;for(const o of t)n[r]=a,o.length===2?(n[r+1]=a,r+=2):r+=1,a+=1;return n[r]=a,e.map(o=>{const{start:s,end:l}=o;return{start:n[s],end:n[l]}})}function um(e,t){const n=e.map(({content:o,id:s,start:l,end:c})=>({id:s,at:{start:l,end:c},content:o})),r=n.map(o=>o.at),a=kx(r,t);return n.map((o,s)=>({...o,at:a[s]}))}function kke(e,t){const n=e.map(o=>o.at),r=BR(n,t);return e.map((o,s)=>({...o,at:r[s]})).map(({content:o,id:s,at:l})=>({id:s,start:l.start,end:l.end,content:o}))}const UR=(e,t)=>{const n=kx(t,e),r=[];for(let o=0;o<n.length;o++){const{start:s}=n[o];let l=0;const c=n.slice(0,o).entries();for(const[u,f]of c)if(s>f.start||s>f.end){const p=f.end-f.start,m=t[u].content.length;l+=m-p}r.push(l)}const a=[];for(let o=0;o<n.length;o++){const{content:s}=t[o],l=n[o],{start:c}=l,u=r[o],f={start:c+u,end:c+u+s.length};a.push({id:`edit-${o}`,content:s,positionBefore:l,positionAfter:f})}return a},HR=(e,t)=>K.safeGet("/textdoc/{textdoc_id}/diff/{version}",{parameters:{path:{textdoc_id:e,version:t}}});function VR(e,t){const n=e.filter(r=>r.op_type==="edit");return UR(t,n)}const GR=async(e,t)=>{if(t===1)return null;const{content_before:n,content_after:r,comments_before:a,comments_after:o,operations:s}=await HR(e,t??-1);return{edits:VR(s,n),contentBefore:n,contentAfter:r,commentsBefore:um(a,n),commentsAfter:um(o,r)}},Ax=(e,t)=>({queryKey:[e,t,"edit"],enabled:t!=null,gcTime:1e3*60*5,queryFn:()=>GR(e,t)});function Ake(e,t){const{data:n=null,isLoading:r}=ye(Ax(e,t));return{data:n,isLoading:r}}function Px(){const e=be();return d.useCallback(async(t,n)=>{await e.prefetchQuery(Ax(t,n))},[e])}const Ox=Me(()=>({optimisticRestore:null})),{setState:Ec,getState:WR}=Ox;function zR(e){Ec(t=>{if(t.optimisticRestore){for(const{textdocId:n,versionInt:r}of e)if(t.optimisticRestore.textdocId===n&&t.optimisticRestore.versionInt!==-1&&(t.optimisticRestore.versionInt??br)<=(r??br))return{optimisticRestore:null}}return t})}function Nx(){return Ox(e=>e.optimisticRestore)}function Pke(e,t,n){const r=be(),{mutateAsync:a}=Ve({mutationKey:["canvas","textdoc","persist"],mutationFn:qR,retry:2,onSuccess:()=>{e&&r.invalidateQueries({queryKey:[e,"textdocs"]})}}),o=Nx(),s=d.useCallback(async()=>{if(!t||!n||t.versionInt==null||n.versionInt==null||WR().optimisticRestore!=null)return;const{textdocId:l,versionInt:c}=t,u=n.versionInt,f={...n,versionInt:-1};Ec(()=>({optimisticRestore:f})),nx(l);try{const p=await a({textdocId:l,versionInt:c,restoreFromVersionInt:u});Ec(m=>({optimisticRestore:m.optimisticRestore&&{...m.optimisticRestore,versionInt:p}}))}catch{Ec(()=>({optimisticRestore:null})),jI(l,{version:u})}},[t,n,a]);return{optimisticRestoredTextdocVersion:o,restoreHistoricalTextdocVersion:s}}async function qR({textdocId:e,versionInt:t,restoreFromVersionInt:n}){return(await K.safePost("/textdoc/{textdoc_id}/restore",{parameters:{path:{textdoc_id:e}},requestBody:{version:t,restore_from_version:n}})).version}const ZR=async({lastVersion:e,textdocId:t,commentId:n,reason:r})=>(await K.safeDelete("/textdoc/{textdoc_id}/{version}/comment/{comment_id}",{parameters:{query:{reason:r},path:{textdoc_id:t,version:String(e),comment_id:n}}})).version,dm=Me(()=>({persistingOp:null,ops:[]})),{setState:kc,getState:YR}=dm,KR=()=>{const e=dm(({ops:n})=>n),t=dm(({persistingOp:n})=>n);return d.useMemo(()=>[...e,t].filter(QC),[e,t])},QR=e=>{kc(t=>{let n=t.ops;for(const{textdocId:r,versionInt:a}of e)n=n.filter(o=>o.textdocId!==r||(o.versionInt??br)>(a??br));return{ops:n}})},Oke=e=>d.useCallback(async(t,n)=>{const r=!!YR().persistingOp,a=e?.versionInt,o=e?.textdocId;if(r||a==null||o==null)return!1;const s={kind:lt.REMOVE_COMMENT,textdocId:o,author:{role:ie.User},versionInt:a,createdAt:Date.now()/1e3,commentId:t,reason:n};kc(({ops:l})=>({ops:l,isPersisting:!0,persistingOp:s}));try{const l=await ZR({lastVersion:a,textdocId:o,commentId:t,reason:n});return kc(({ops:c})=>({ops:[...c,{...s,versionInt:l}],isPersisting:!1,persistingOp:null})),l}catch{return kc(({ops:l})=>({ops:l,isPersisting:!1,persistingOp:null})),!1}},[e]),JR=e=>K.safeGet("/conversation/{conversation_id}/textdocs",{parameters:{path:{conversation_id:e}}}),XR=async e=>{const t=await JR(e),n=new Map(t?.map(o=>[o.id,o])),r=[];for(const{id:o,content:s,version:l,textdoc_type:c,title:u,comments:f,metadata:p}of t)r.push({textdocId:o,messageId:null,type:U1(c),comments:um(f,s),status:mn.COMPLETE,title:u,content:s,versionInt:l,createdAt:0,metadata:{content_references:p?.content_references}});return{persistedTextdocVersionById:new Map(r.map(o=>[o.textdocId,o])),persistedTextdocVersions:r,persistedTextdocById:n}};function eL(e){const t=Ba(()=>F.getServerThreadId(e)),n=!!t,{data:r,error:a,isLoading:o,isFetching:s,refetch:l}=ye({queryKey:[t,"textdocs"],enabled:n,gcTime:0,queryFn:()=>t&&XR(t)});return d.useEffect(()=>{if(!r)return;const{persistedTextdocVersions:c}=r;QR(c),OR(c),zR(c)},[r]),[{...r,error:a,isEnabled:n,isLoading:o,isFetching:s},l]}const fm=new Set,Ix=e=>{d.useEffect(()=>(fm.add(e),()=>{fm.delete(e)}),[e])},sv=e=>{for(const t of fm)try{t({error:e})}catch(n){te.addError(n)}};var ju=(e=>(e[e.INITIALIZING=0]="INITIALIZING",e[e.READY=1]="READY",e[e.REFETCHING=2]="REFETCHING",e))(ju||{});function tL(e){const[{error:t,persistedTextdocVersionById:n=null,isEnabled:r,isLoading:a,isFetching:o},s]=eL(e),l=Px();Ix(()=>{const u=F.getThreadCurrentLeafId(e),f=F.getThreadConversationTurns(e,u),m=Pr(f)?.messages??[],g=Tx(m),h=m.some(v=>v.message.metadata?.canvas?.user_created_temp_textdoc_id!=null);if(g){const v=g.message.metadata?.canvas?.textdoc_id,y=g.message.metadata?.canvas?.version;v!=null&&y!=null&&l(v,y)}(g||h)&&s()});let c=0;return n&&o?c=2:(!r||n&&!o&&!a)&&(c=1),d.useMemo(()=>({status:c,fetchError:t,textdocVersionById:n,refetch:s}),[c,t,n,s])}function nL(e,t,n,r){for(var a=e.length,o=n+(r?1:-1);r?o--:++o<a;)if(t(e[o],o,e))return o;return-1}var jx=nL,rL=Th,iv=1/0,aL=17976931348623157e292;function oL(e){if(!e)return e===0?e:0;if(e=rL(e),e===iv||e===-iv){var t=e<0?-1:1;return t*aL}return e===e?e:0}var sL=oL,iL=sL;function lL(e){var t=iL(e),n=t%1;return t===t?n?t-n:t:0}var cL=lL,uL=jx,dL=rs,fL=cL,pL=Math.max,mL=Math.min;function gL(e,t,n){var r=e==null?0:e.length;if(!r)return-1;var a=r-1;return n!==void 0&&(a=fL(n),a=n<0?pL(r+a,0):mL(a,r-1)),uL(e,dL(t),a,!0)}var Rx=gL;const hL=ve(Rx),lv=e=>{if(!e)return;const{messages:t}=e,n=hL(t??[],({message:a})=>a.author.role===ie.System||a.author.role===ie.Developer),r=n===-1?t:t?.slice(n+1);if(r&&MR(r))return r},vL=({lastTurn:e,clientThreadId:t,isRequestActive:n,persistedTextdocStoreStatus:r})=>{const[a,o]=d.useState(!0),s=n||!a||r===ju.REFETCHING,l=d.useMemo(()=>{if(!e||!cm(e))return null;const u=F.getTree(t),{variantIds:f}=e;return f.map(p=>{const m=u.getLeafFromNode(p).id;return Pr(F.getThreadConversationTurns(t,m))})},[t,e]);return[d.useMemo(()=>!s||!e?null:cm(e)?l?.flatMap(lv).filter(QC)??null:lv(e)??null,[s,e,l]),o]};var yL=px,CL=ns,xL="Expected a function";function bL(e,t,n){var r=!0,a=!0;if(typeof e!="function")throw new TypeError(xL);return CL(n)&&(r="leading"in n?!!n.leading:r,a="trailing"in n?!!n.trailing:a),yL(e,t,{leading:r,maxWait:t,trailing:a})}var wL=bL;const Lx=ve(wL);function Ru(e){return e.map(t=>typeof t=="string"?t:"").join("")}function _L(e){return e.map(t=>t.type==="text"?t.text:"").join(`
`)}function jh(e,t){const n=[];let r=0;for(let a=0;a<e.length;a++){const o=e[a];if(typeof o=="string")if(t!=null&&t<r+o.length){n.push({type:"text",text:o.slice(0,t-r)});break}else n.push({type:"text",text:o}),r+=o.length;else if(o.content_type===vi.ImageAssetPointer){const s=a>0?n[a-1]:null;s?.type==="images"?s.imageAssets.push(o):n.push({type:"images",imageAssets:[o]})}else o.content_type===vi.AudioTranscription&&n.push({type:"transcription",text:o.text})}return n}function SL({isUserTurn:e,parts:t}){if(!e)return jh(t);const n={text:[],images:[]};for(let a=0;a<t.length;a++){const o=t[a];typeof o=="string"?o.trim().length>0&&n.text.push({type:"text",text:o}):o.content_type===vi.AudioTranscription?n.text.push({type:"transcription",text:o.text}):o.content_type===vi.ImageAssetPointer&&n.images.push(o)}const r=[];return n.images.length>0&&r.unshift({type:"images",imageAssets:n.images}),r.push(...n.text.map(a=>({type:a.type,text:a.text}))),r}function $x(e){const t=e&&new Date(e),n=t&&new Date(t);return n?`after ${n.getHours()%12||12}:${n.getMinutes()<10?"0":""}${n.getMinutes()} ${n.getHours()>=12?"PM":"AM"}`:"later"}class Dx{constructor(t,n,r,a){this.targetLength=t,this.isActivelyStreaming=n,this.onUpdate=a,this.bufferedLength=r?0:this.targetLength,r&&!r.isComplete()&&(r.nextBuffer=this,this.prevBuffer=r)}sentLength=null;sentIsComplete=null;bufferedLength;requestUpdateRaf=null;prevBuffer;nextBuffer;setTargetLength(t,n){t<this.bufferedLength&&(this.bufferedLength=t),this.targetLength=t,this.isActivelyStreaming=n,this.shouldUpdate()&&this.updateBufferedState()}shouldUpdate(){return!this.prevBuffer&&(this.isBuffering()||this.sentIsComplete!==this.isComplete())}isBuffering(){return this.bufferedLength<this.targetLength}isComplete(){return!this.prevBuffer&&!this.isActivelyStreaming&&!this.isBuffering()}getTotalRemainingLength(){let t=this.targetLength,n=this.nextBuffer;for(;n;)t+=n.targetLength,n=n.nextBuffer;return t-this.bufferedLength}requestUpdate(){this.requestUpdateRaf||this.sentLength===this.bufferedLength&&this.sentIsComplete===this.isComplete()||(this.requestUpdateRaf=window.requestAnimationFrame(()=>{this.requestUpdateRaf=null;const t=this.isComplete();this.sentLength=this.bufferedLength,this.sentIsComplete=t,this.onUpdate(this.bufferedLength,t),t&&this.resolveDependency()}))}resolveDependency(){if(this.nextBuffer){const t=this.nextBuffer;this.nextBuffer=t.prevBuffer=void 0,t.shouldUpdate()&&t.updateBufferedState()}}destroy(){this.resolveDependency(),this.requestUpdateRaf&&(window.cancelAnimationFrame(this.requestUpdateRaf),this.requestUpdateRaf=null)}}class ii extends Dx{static MAX_BUFFERING_LAG_MS=500;static MIN_BUFFERING_CHAR_PER_MS=1/30;frameRequestId;prevAddFrameTime;updateBufferedState(){if(!this.frameRequestId){const t=this.getTotalRemainingLength(),n=Math.max(ii.MIN_BUFFERING_CHAR_PER_MS,t/ii.MAX_BUFFERING_LAG_MS);this.frameRequestId=window.requestAnimationFrame(r=>{this.frameRequestId=void 0;const a=this.prevAddFrameTime===void 0?2/ii.MIN_BUFFERING_CHAR_PER_MS:r-this.prevAddFrameTime,o=Math.floor(n*a);o>0&&(this.prevAddFrameTime=r,this.bufferedLength=Math.min(this.bufferedLength+o,this.targetLength)),this.requestUpdate(),this.shouldUpdate()&&this.updateBufferedState()})}}destroy(){super.destroy(),this.frameRequestId&&window.cancelAnimationFrame(this.frameRequestId)}}class Fx extends Dx{constructor(t,n,r,a){super(Ru(t).length,r,a,(o,s)=>n(jh(this.textMessageParts,o),s)),this.textMessageParts=t}onMessagePartsUpdated(t,n){this.textMessageParts=t,this.setTargetLength(Ru(t).length,n)}}class Kr extends Fx{constructor(t,n,r,a){super(t,n,r,a),this.updateReactComponentDisplay=n}static MIN_CHARS_BEHIND_TO_CATCHUP=20;static CATCHUP_TIME_MS=300;static UPDATE_FREQUENCY_MS=30;displayNextChunkTimeout;updateBufferedState(){const t=this.getTotalRemainingLength(),n=t<Kr.MIN_CHARS_BEHIND_TO_CATCHUP?this.targetLength-this.bufferedLength:Math.ceil(t*Kr.UPDATE_FREQUENCY_MS/Kr.CATCHUP_TIME_MS);this.bufferedLength=Math.min(this.bufferedLength+n,this.targetLength),this.requestUpdate(),this.displayNextChunkTimeout||(this.displayNextChunkTimeout=window.setTimeout(()=>{this.displayNextChunkTimeout=void 0,this.shouldUpdate()&&this.updateBufferedState()},Kr.UPDATE_FREQUENCY_MS))}destroy(){super.destroy(),window.clearTimeout(this.displayNextChunkTimeout)}}const Ul=15,gp=8;class ML extends Fx{constructor(t,n,r,a,o){super(t,n,r,a),this.updateReactComponentDisplay=n,this.concatenatedText=Ru(this.textMessageParts),this.debug=o?.debug??!1,this.streamStartMs=0,this.averageMsPerChar=0,this.debug&&console.debug(["PunctuationBuffer:",`[lagFactors: ${JSON.stringify(this.LAG_FACTORS,null,2)}]`].join(`
`))}LAG_FACTORS={".":Ul,"!":Ul,"?":Ul,"\n":Ul,",":gp,":":gp,";":gp,DEFAULT_LAG_FACTOR:.9,BUFFER_FACTOR:.08,...typeof window<"u"&&window.__PUNCTUATION_BUFFER_LAG_FACTORS};concatenatedText;displayNextCharTimeout;debug;streamStartMs;averageMsPerChar;displayNextChar(){this.displayNextCharTimeout=void 0,this.shouldUpdate()&&(this.bufferedLength++,this.requestUpdate(),this.displayNextCharTimeout=window.setTimeout(()=>this.displayNextChar(),this._getNextCharDelayMs()))}updateBufferedState(){this.concatenatedText=Ru(this.textMessageParts),this.streamStartMs===0?this.streamStartMs=Date.now():this.averageMsPerChar=(Date.now()-this.streamStartMs)/this.targetLength,this.displayNextCharTimeout||this.displayNextChar()}destroy(){super.destroy(),window.clearTimeout(this.displayNextCharTimeout)}_getNextCharDelayMs(){const t=this.concatenatedText[this.bufferedLength-1],n=this.getTotalRemainingLength(),r=1/Math.max(n*this.LAG_FACTORS.BUFFER_FACTOR,1),a=(this.LAG_FACTORS[t]??this.LAG_FACTORS.DEFAULT_LAG_FACTOR)*r,o=this.averageMsPerChar*a;return this.debug&&this._throttledDebugLog(["PunctuationBuffer:",`[lagMs: ${o}]`,`[lastChar: "${t}"]`,`[averageMsPerChar: ${this.averageMsPerChar}]`,`[lagFactor: ${a}]`,`[bufferLagFactor: ${r}]`,`[remainingLength: ${n}]`,"==="].join(`
`)),o}_throttledDebugLog=Lx(t=>{console.debug(t)},500,{leading:!0,trailing:!0})}function TL(e){return e.type==="text"}class cv{buffer;text;constructor(t,n,r="",a,o){this.buffer=new t([r],(s,l)=>{const c=s.filter(TL).map(u=>u.text).join("");n(c,l)},a,o),this.text=r}setText(t,n=!0){this.text=t,this.buffer.onMessagePartsUpdated([this.text],n)}isBuffering(){return this.buffer.isBuffering()}isComplete(){return this.buffer.isComplete()}destroy(){return this.buffer.destroy()}}function EL(e,t,n,r){for(var a=-1,o=e==null?0:e.length;++a<o;){var s=e[a];t(r,s,n(s),e)}return r}var kL=EL,AL=f1;function PL(e,t){return function(n,r){if(n==null)return n;if(!AL(n))return e(n,r);for(var a=n.length,o=t?a:-1,s=Object(n);(t?o--:++o<a)&&r(s[o],o,s)!==!1;);return n}}var OL=PL,NL=_h,IL=OL,jL=IL(NL),Bx=jL,RL=Bx;function LL(e,t,n,r){return RL(e,function(a,o,s){t(r,a,n(a),s)}),r}var $L=LL,DL=kL,FL=$L,BL=rs,UL=p1;function HL(e,t){return function(n,r){var a=UL(n)?DL:FL,o=t?t():{};return a(n,e,BL(r),o)}}var Ux=HL,VL=X2,GL=Ux,WL=Object.prototype,zL=WL.hasOwnProperty,qL=GL(function(e,t,n){zL.call(e,n)?e[n].push(t):VL(e,n,[t])}),ZL=qL;const Rh=ve(ZL);function YL(e,t,n){const[r,a]=d.useState(null),o=t?.length??0,s=o>0,l=d.useRef(new Map);return d.useEffect(()=>{if(t)for(const c of t){const{messageId:u}=c;if(u==null||l.current.has(u))continue;const f=new KL((p,m)=>{if(a(g=>({...g,[u]:p})),!!m){for(const[g,h]of l.current.entries())if(g!==u&&!h.isComplete())return;n(!0)}});l.current.set(u,f)}},[o]),d.useEffect(()=>{const c=l.current;return()=>{for(const u of c.values())u.destroy()}},[s]),d.useEffect(()=>{if(!s)return a(null);const c=Rh(t,"messageId");for(const[u,f]of Object.entries(c)){const p=l.current.get(u);p&&p.setTextdocOps(f,!e)}},[s,e,t]),d.useMemo(()=>!s||!r?null:Object.values(r).flatMap(c=>c??[]),[s,r])}class KL{constructor(t){this.onUpdate=t}bufferedOps=[];isFinishedStreaming=!1;rangeBuffers=[];textBuffers=[];completeCounters=[];lastBuffer;destroy(){for(const t of this.rangeBuffers)t?.destroy();for(const t of this.textBuffers)t?.destroy();this.isFinishedStreaming=!0,this.rangeBuffers=[],this.textBuffers=[],this.completeCounters=[],this.lastBuffer=void 0}isBuffering(){return!((this.lastBuffer?.isComplete()??!0)&&(Pr(this.completeCounters)?.isComplete()??!0))}getNonEmptyBufferedOpsOrNull(){return this.bufferedOps&&this.bufferedOps.length>0?this.bufferedOps:null}isComplete(){return this.isFinishedStreaming&&!this.isBuffering()}setTextdocOps(t,n){if(this.isFinishedStreaming=n,t)for(let r=0;r<t.length;r++){const a=t[r];if(a.author.role===ie.Assistant)switch(a.kind){case lt.CREATE:case lt.REWRITE:this.setAllContentOpAtIndex(a,r);break;case lt.EDIT:case lt.ADD_COMMENT:this.setRangeAndContentOpAtIndex(a,r);break;default:this.setUnbufferedOpAtIndex(a,r)}else this.setUnbufferedOpAtIndex(a,r)}n&&(t?this.isBuffering()||this.onUpdate(this.getNonEmptyBufferedOpsOrNull(),!0):(this.destroy(),this.update(()=>null)))}update(t){const n=this.bufferedOps;this.bufferedOps=J2(n,t),this.bufferedOps!==n&&this.onUpdate(this.getNonEmptyBufferedOpsOrNull(),this.isComplete())}getBufferedAllContentOp(t,n,r){let a=t[r];return a||(a={...n,content:""},t[r]=a),a}setAllContentOpAtIndex(t,n){const{content:r,isPartial:a=!1}=t;let o=this.textBuffers[n];o?(o.setText(r,a),t.kind===lt.CREATE&&this.update(s=>{const l=this.getBufferedAllContentOp(s,t,n);l.textdocId=t.textdocId})):(o=new cv(Kr,(s,l)=>{this.update(c=>{const u=this.getBufferedAllContentOp(c,t,n);u.content=s,u.isPartial=!l})},r,a,this.lastBuffer),this.textBuffers[n]=o,this.lastBuffer=o.buffer)}getBufferedRangeAndContentOp(t,n,r){let a=t[r];return a||(a={...n,at:{start:n.at.start,end:n.at.start},content:"",isPartial:!0,isPartialRange:!0},t[r]=a),a}setRangeAndContentOpAtIndex(t,n){const{at:r,content:a,isPartialRange:o=!1,isPartial:s=!1}=t;let l=this.completeCounters[n];l||(l=new QL(()=>{this.update(f=>{const p=this.getBufferedRangeAndContentOp(f,t,n);p.isPartial=!1})}),l.update("original",!1),this.completeCounters[n]=l);let c=this.rangeBuffers[n];c?(this.update(f=>{const p=this.getBufferedRangeAndContentOp(f,t,n);if(p.at.start!==r.start){const m=p.at.end-p.at.start;p.at={start:r.start,end:r.start+m}}}),c.setTargetLength(r.end-r.start,o)):(c=new ii(0,o,this.lastBuffer,(f,p)=>{this.update(m=>{const g=this.getBufferedRangeAndContentOp(m,t,n);g.at.end=g.at.start+f,g.isPartialRange=!p}),l.update("range",p)}),this.rangeBuffers[n]=c,this.lastBuffer=c,l.update("range",!1));let u=this.textBuffers[n];u?u.setText(a??"",s):(u=new cv(Kr,(f,p)=>{this.update(m=>{const g=this.getBufferedRangeAndContentOp(m,t,n);g.content=f}),l.update("content",p)},a,s,this.lastBuffer),this.textBuffers[n]=u,this.lastBuffer=u.buffer,l.update("content",!1)),l.update("original",!s)}setUnbufferedOpAtIndex(t,n){this.update(r=>{r[n]=t})}}class QL{keyStates=new Set;onComplete;constructor(t){this.onComplete=t}isComplete(){return this.onComplete==null}update(t,n){if(!n)this.keyStates.add(t);else if(this.keyStates.delete(t),this.keyStates.size===0&&this.onComplete){const r=this.onComplete;this.onComplete=null,r()}}}function JL(e){const t=U(),n=Ne();Ix(()=>{const r=F.getThreadCurrentLeafId(e),a=F.getThreadConversationTurns(e,r),o=Pr(a);if(o==null)return;const s=Ih(o.messages);s==null||s.message.metadata?.finish_details?.type!=="max_tokens"||Qj(n,t,4)})}const Nke="g-YyyyMT9XH",XL="g-2fkFE8rbu";var e$=(e=>(e[e.USER=1]="USER",e[e.GROUP=2]="GROUP",e[e.WORKSPACE=3]="WORKSPACE",e[e.ALL=4]="ALL",e[e.PROJECT=5]="PROJECT",e[e.ORGANIZATION=6]="ORGANIZATION",e[e.SYSTEM=7]="SYSTEM",e[e.AGENT=8]="AGENT",e))(e$||{});const Hx={can_read:!0,can_view_config:!1,can_write:!1,can_delete:!1,can_export:!1,can_share:!1},Ike={can_read:!0,can_view_config:!0,can_write:!1,can_delete:!1,can_export:!1,can_share:!1},Gt={Private:"private",User:"user",Group:"group",WorkspaceLink:"workspace_link",Workspace:"workspace",Link:"link",Marketplace:"marketplace"};var Ji=(e=>(e.FirstParty="first_party",e.UsesFunctionCalls="uses_function_calls",e.Reportable="reportable",e.Private="private",e.Workspace="workspace",e.Public="public",e.Beta="beta",e.Pinned="pinned",e.WorkspaceDisabled="workspace_disabled",e.Unreviewable="unreviewable",e))(Ji||{});const jke=e=>e.gizmo.tags?.includes("first_party"),Rke=e=>!e.gizmo.tags?.includes("unreviewable");var Lh=(e=>(e.PROJECT="snorlax",e.GPT="gpt",e))(Lh||{}),$h=(e=>(e.FILE_SERVICE="fs",e))($h||{});function Lke(e){return e.type===1||e.type===2}const uv=[1,2,3,4];function $ke(e){return e.length===0?null:e.reduce((t,n)=>uv.indexOf(n.type)<uv.indexOf(t.type)?t:n,e[0])}function Dke(e,t,n){return t=t.filter(r=>r.type===Gt.User||r.type===Gt.Group),e===Gt.Private||e===Gt.User||e===Gt.Group?[{type:Gt.Private,capabilities:Hx},...t]:[...t,{type:e,capabilities:n}]}class Vx{constructor(t){this.response=t}}var t$=(e=>(e.ENGLISH="en",e.GLOBAL="global",e))(t$||{}),Oo=(e=>(e.FirstParty="first_party",e.SidebarKeep="sidebar_keep",e.Mine="mine",e.Recent="recent",e.Workspace="workspace",e))(Oo||{});function kn(e){return e.slice(0,4)==="g-p-"}function n$(e){return e!=null&&!kn(e)}function dv(e){return!n$(e)}function r$(e){return kn(e.gizmo.id)}function Fke(e){return e.files.length===0&&e.gizmo.instructions.length===0&&z.checkGate("408434742")}function Bke(e,t){return e!=="gpt-4o"&&r$(t)&&(t.files.length>0||t.gizmo.instructions)&&!z.checkGate("1007669172")}const W1="client-correlated-secret";function fv(){const e=localStorage.getItem(W1);return e==null?e:crypto.subtle.importKey("jwk",JSON.parse(e),{name:"HMAC",hash:{name:"SHA-512"}},!0,["sign","verify"])}async function Gx(){fv()==null&&localStorage.setItem(W1,JSON.stringify(await crypto.subtle.exportKey("jwk",await crypto.subtle.generateKey({name:"HMAC",hash:{name:"SHA-512"}},!0,["sign","verify"]))));const t=fv();if(t==null)throw new Error("Failed to get key from storage");return t}function a$(e){const t=new Uint8Array(e.length/2);for(let n=0;n<t.length;n++)t[n]=parseInt(e.substr(n*2,2),16);return t.buffer}function o$(e){return[...new Uint8Array(e)].map(t=>t.toString(16).padStart(2,"0")).join("")}function s$(e){const t=new URL(e),n=ye({queryKey:[W1,"generate-challenge",e.search],queryFn:async()=>o$(await crypto.subtle.sign("HMAC",await Gx(),new TextEncoder().encode(e.search))),staleTime:0});if(n.data!==void 0)return t.hash=n.data,t}function i$(){const e=location?.search,t=location?.hash;return ye({queryKey:[W1,"verify-challenge",e,t],queryFn:async()=>typeof e!="string"||typeof t!="string"?!1:crypto.subtle.verify("HMAC",await Gx(),a$(t.slice(1)),new TextEncoder().encode(e))}).data?new URLSearchParams(e):void 0}function l$(e){return e===void 0}var c$=l$;const u$=ve(c$);class bi{turn_id;trigger;result;time_since_prompt_sent_ms;stream_update_event_count=0;first_token_lat;last_model_message_received;time_since_last_event_ms;model_slug;tools_used;gizmo_id;promptSentTimestamp;logger;request_id;completed=!1;num_images_attached=0;num_files_attached=0;bytes_received=0;model_message_update_count=0;stream_encoding;stream_buffering=!0;gizmo_type;constructor({gizmoType:t}={}){this.turn_id=fa(),this.promptSentTimestamp=Date.now(),this.tools_used=new Set,this.logger=zP.createLogger("turn-analytics","info","http"),t&&(this.gizmo_type=t)}onCompletionStarted(t,n){switch(t){case"next":this.trigger="submit";break;case"variant":this.trigger="reroll";break;case"continue":this.trigger="continue";break}this.model_slug=n}onBytesReceived(t){this.bytes_received+=t?.length??0}updateAttachmentCount(t){t.forEach(n=>{n.author.role==="user"&&n.metadata?.attachments?.forEach(r=>{r.height&&r.width?this.num_images_attached+=1:this.num_files_attached+=1})})}onReceivedRequestId(t){this.request_id=t}onMessageUpdate(t,n,r,a){this.model_slug=this.model_slug??t,this.gizmo_id=this.gizmo_id??n,a===ie.Tool&&r&&this.tools_used.add(r),a!==ie.User&&a!==ie.System&&a!==ie.Developer&&a!==ie.Root&&(this.model_message_update_count+=1,this.last_model_message_received=Date.now()),this.first_token_lat||(this.first_token_lat=Date.now()-this.promptSentTimestamp)}onUpdateEventCount(){this.stream_update_event_count+=1}handleRawError(t,n){let r;n===400||t==="NetworkError when attempting to fetch resource."||t==="The network connection was lost."?r="network_error":t==="Request timed out"?r="timeout":r="request_failed",this.logCompletion({type:qr.Error,error:{reason:r,message:t,...n&&{status_code:n}}})}createLogPayload(){const t={turn_id:this.turn_id,trigger:this.trigger,result:Ui(this.result?.type),...this.result?.type===qr.Error?{error:this.result.error}:void 0,time_since_prompt_sent_ms:this.time_since_prompt_sent_ms,stream_update_event_count:this.stream_update_event_count,model_message_update_count:this.model_message_update_count,time_since_last_event_ms:this.time_since_last_event_ms,first_token_lat:this.first_token_lat,bytes_received:this.bytes_received,stream_encoding:this.stream_encoding,stream_buffering:this.stream_buffering,model_slug:this.model_slug,tools_used:[...this.tools_used],gizmo_id:this.gizmo_id,attachments:{files:this.num_files_attached,images:this.num_images_attached,total:this.num_files_attached+this.num_images_attached},gizmo_type:this.gizmo_type};return{request_id:this.request_id,turn_analytics:t}}createStatsigPayload(){return qP({turn_id:String(this.turn_id),trigger:this.trigger,result:this.result?.type,error:JSON.stringify(this.result?.type===qr.Error?{error:this.result.error}:void 0),time_since_prompt_sent_ms:String(this.time_since_prompt_sent_ms),stream_update_event_count:String(this.stream_update_event_count),model_message_update_count:String(this.model_message_update_count),time_since_last_event_ms:JSON.stringify(this.time_since_last_event_ms),first_token_lat:String(this.first_token_lat),bytes_received:String(this.bytes_received),stream_encoding:this.stream_encoding,stream_buffering:this.stream_buffering,model_slug:this.model_slug,tools_used:[...this.tools_used].join(", "),gizmo_id:this.gizmo_id,attachments:JSON.stringify({files:this.num_files_attached,images:this.num_images_attached,total:this.num_files_attached+this.num_images_attached}),gizmo_type:this.gizmo_type},u$)}logCompletion(t){this.completed||(this.completed=!0,this.time_since_prompt_sent_ms=Date.now()-this.promptSentTimestamp,this.result=t,this.last_model_message_received&&(this.time_since_last_event_ms=Date.now()-this.last_model_message_received),t.type===qr.Error?this.logger.error("Turn exchange complete",this.createLogPayload()):this.logger.info("Turn exchange complete",this.createLogPayload()),z.logEvent("chatgpt_conversation_turn_turn_exchange_complete",null,this.createStatsigPayload()))}}const Uke="text-davinci-002-render-sha",Hke="gpt-4",Vke="gpt-4o",Lu=W8({slug:m1,max_tokens:4097,title:"Default",description:"",tags:[ja.GPT_3_5],product_features:{}}),d$=({default_model:e,tagline:t,color:n,human_category_name:r,category:a,human_category_short_name:o,human_category_shorter_name:s,subscription_level:l,short_explainer:c,subcategory:u,title:f,is_beta:p,supported_features:m,...g})=>({color:n,tagline:t,defaultModel:e,label:r,shortLabel:o,description:c,shorterLabel:s??o,subscriptionLevel:l,categoryId:a,subcategory:u,isBeta:p,title:f,supportedFeatures:m,...g}),f$=({icon:e,icon_filled_src:t,icon_outline_src:n})=>({iconName:e,iconFilledSrc:t,iconOutlineSrc:n}),p$=({group:e,human_group_name:t,human_group_short_name:n,model_ids:r})=>({group:e,label:t,shortLabel:n,modelIds:r});function m$(){return Xa({retry:5,queryKey:["modelIcons"],queryFn:async()=>await q.getModelIcons().then(e=>Object.fromEntries(Object.entries(e).map(([t,n])=>[t,f$(n)])))})}function g$(e){return Xa({retry:5,queryKey:["models",{isHistoryDisabled:e}],queryFn:async()=>await q.getModels(e).then(t=>{const{models:n,internal_groups:r,categories:a,default_model_slug:o}=t,s=n.map(W8);return{categories:a.concat().reverse().map(d$),groups:r?.map(p$)??[],defaultModelSlug:o??null,modelsList:s,modelsMap:Object.fromEntries(s.map(l=>[l.id,l]))}})})}function eo(){const e=eh();return ye(g$(e))}function h$(){return ye(m$())}function z1({isRegen:e=!1}={}){const{isLoading:t,data:{categories:n=[],groups:r=[]}={}}=eo(),a=d.useMemo(()=>e?n.filter(o=>o.is_regenerate_category!==!1):n.filter(o=>!o.is_regenerate_category),[n,e]);return{isLoading:t,categories:a,groups:r??[]}}function Gke(){const{categories:e}=z1();return!!e.find(({categoryId:t})=>t===YP.GPT4o)}function Wx(){const{data:e}=eo();return d.useMemo(()=>e?new Set(Object.keys(e.modelsMap)):new Set([m1]),[e])}const v$={[m1]:Lu};function zx(){const{data:e}=eo();return e?.modelsMap??v$}function qx(e,t,n){if(e?.defaultModelSlug&&e?.modelsMap[e.defaultModelSlug])return e.modelsMap[e.defaultModelSlug];let r=ja.GPT_3_5;return n?r=ja.GPT_4:t&&(r=ja.GPT_4o),e?.modelsList.find(a=>a.tags.includes(r))??e?.modelsList[0]??Lu}function Xi(e=!1){const t=ds(),n=Ge(),[,r]=fs();return d.useCallback(({location:a,modelId:o})=>{const s=t.pathname.includes("/g/"),l=t.pathname.startsWith("/g/g-p-");e||s&&!l?(S.logNewChatButtonClicked({location:a}),n({pathname:"/",search:`?model=${encodeURIComponent(o)}`})):(r(c=>(c.set("model",o),c)),S.logNewChatButtonClicked({location:a}))},[e,t,n,r])}function y$(){const{data:{categories:e=[]}={}}=eo(),{doesUserHaveAnyAccountsWithPlusFeatures:t}=as();return t?null:e.find(th)?.defaultModel??null}function C$(e){return ZP(e)??m1}function q1(e){const t=C$(e),n=zx();return d.useMemo(()=>t==null?Lu:n[t]??Lu,[t,n])}function Zx(e,t){return q1(e).enabledTools?.includes(t)??!1}function x$(){const{data:e}=eo(),{doesUserHaveAnyAccountsWithPlusFeatures:t}=as(),n=Se();return qx(e,!!t,!!n?.isEnterprisey())}var _t=(e=>(e.Search="search",e))(_t||{});class b${eraseContent(){this.setText("")}getContentToSend(){return{content:this.getCurrentText()}}registerKeyHandlers(t){}canShowAutocompletion(){return!0}logPageMount(){te.addFirstTiming("chatgpt.web.chatPage.prompttextarea.modern.mounted")}useState(t){return d.useSyncExternalStore(n=>this.subscribe("input",n),()=>t(this),()=>t(this))}}const Yx="hints";class Ga extends nh()(t=>({persistedSystemHints:new Set(t),persistedSystemHintTriggers:{}})){static getPersistedSystemHints=({persistedSystemHints:t})=>t;addPersistedSystemHint=(t,n,r)=>{t===_t.Search&&S.logEventWithStatsig(k.searchModeEngaged,"search_mode_engaged",{...Tu(n),triggerSource:r}),this.setState(({persistedSystemHints:a,persistedSystemHintTriggers:o})=>({persistedSystemHints:new Set(a).add(t),persistedSystemHintTriggers:{...o,[t]:r}}))};removePersistedSystemHint=(t,n)=>{t===_t.Search&&S.logEventWithStatsig(k.searchModeDisabled,"search_mode_disabled",Tu(n)),this.setState(({persistedSystemHints:r,persistedSystemHintTriggers:a})=>{const o=new Set(r);o.delete(t);const s={...a};return delete s[t],{persistedSystemHints:o,persistedSystemHintTriggers:s}})};getPersistedSystemHintTrigger=t=>{if(this.getState().persistedSystemHints.has(t))return this.getState().persistedSystemHintTriggers[t]};clearPersistedSystemHintTrigger=t=>{this.setState(({persistedSystemHints:n,persistedSystemHintTriggers:r})=>{const a={...r};return delete a[t],{persistedSystemHints:new Set(n),persistedSystemHintTriggers:a}})}}const w$=()=>Ga.useState(Ga.getPersistedSystemHints);function Wke({children:e,clientThreadId:t,currentLeafId:n}){const[r]=fs(),a=r.get(Yx)===_t.Search,o=Zx(t,z8.Search),l=(F.getLastMessgageSystemHints(t,n).includes(_t.Search)||a)&&o,[c]=d.useState(()=>new Ga(l?[_t.Search]:[]));return d.useEffect(()=>{const u=c.getState().persistedSystemHints;l&&!u.has(_t.Search)&&c?.addPersistedSystemHint(_t.Search,{clientThreadId:t,turnIndex:0})},[l,c,t]),i.jsx(Ga.Provider,{store:c,children:e})}function _$(e){const t=new Set;if(e){const n=e.split(",");Array.isArray(n)&&n.forEach(r=>{Object.values(_t).includes(r)&&t.add(r)})}return t}const pv={base_config:void 0,eval_preset:void 0,completion_model:void 0,products_context:void 0};function S$({options:e}={}){const t=en.getCookie(Yt.InternalSearchSettings);let n;try{n=t?JSON.parse(t):pv}catch{n=pv}return KP(n,r=>!!r)}const Ac="q",hp="m",M$=2e3;function zke(e){const{clientThreadId:t,currentLeafId:n,handleRequestCompletion:r}=e,a=d.useRef(!1),o=d.useRef(null),{isLoading:s,data:l}=eo(),{doesUserHaveAnyAccountsWithPlusFeatures:c,isLoading:u}=as(),f=QP(t,n),p=Se(),[m,g]=fs(),h=Ne(),v=d.useCallback((T,M,A,D)=>{F.updateTree(t,j=>{j.addNode(T,A,M,ie.User,void 0,D)})},[t]),y=d.useCallback(async(T,{content:M,attachments:A},D,j,B,N)=>{const H=n,R=S$(),G=A.length>0?{attachments:A}:{};G.system_hints=j.systemHints,Object.keys(R).length>0&&(G.__internal={search_settings:R}),v(T,H,M,G),r({type:ea.Next,promptId:T,requestedModelId:N,eventMetadata:D,cancelActiveRequests:!0,completionMetadata:j,turnTracker:B})},[v,r,n]),x=rh(()=>window.location.pathname)??null,C=i$();let w=!s&&!u&&x!=null;const[_,E]=d.useState(!0);return d.useEffect(()=>{if(!_||a.current)return;const T=vn.getConversationMode(t);if(!w||T==null)return;if(!E$(x)||T$(x)&&C===void 0||F.getServerThreadId(t)!=null){E(!1);return}const M=(()=>{try{return Object.fromEntries(new URLSearchParams(location.hash.slice(1)).entries())}catch{return{}}})(),A={...Object.fromEntries(m),...M},{[Ac]:D,[hp]:j,[Yx]:B}=A,N=(typeof D=="string"?D:null)??(typeof j=="string"?j:null);if(!N||!N.trim()){E(!1);return}else o.current=Date.now();const H=_$(B),R=fa();a.current=!0;let G=l?.modelsList;H.has(_t.Search)&&(G=G?.filter(I=>I.enabledTools?.includes(_t.Search)));const X=l&&qx({...l,modelsList:G??[]},!!c,!!p?.isEnterprisey());if(X==null){h.warning("No model available for this request"),E(!1);return}const ae=new bi,$=B?.includes(_t.Search);(e.prefetchSearchPromise??Promise.resolve(null)).then(I=>{g(O=>{const Q=new URLSearchParams(O);return Q.delete(Ac),Q.delete(hp),Q}),y(R,{content:N,attachments:[]},{eventSource:"url"},{conversationMode:T,source:"instant-query",systemHints:B?Array.from(H):void 0,prefetchIds:I!=null?[I]:void 0,searchSource:$?em.URL_SEARCH_HINT:void 0},ae,X?.id)})},[s,u,w,x,l,c,p,y,_,t,C,h,e.prefetchSearchPromise,m,g]),_&&(e.prefetchSearchPromise!=null||m.has(Ac)||m.has(hp)?!0:o.current?f||Date.now()-o.current>M$?(o.current=null,E(!1),!1):!0:!1)}function T$(e){return Kx(e)}function Kx(e){return e==null?!1:/^\/g\/[\w-]+$/.test(e)}function E$(e){return e==null?!1:e==="/"||Kx(e)}class tt{static getMyGizmos(){return K.get(`${ge}/gizmos?mine=true`)}static getGizmosByUser(t){return K.get(`${ge}/gizmos/u/${t}`)}static getGizmo(t,n){const r=n?"?draft=true":"";return K.get(`${ge}/gizmos/${t}${r}`)}static shareGizmo(t,n){return K.post(`${ge}/gizmos/${t}/share`,n)}static getGizmoDiscovery(t,n){const r=new URLSearchParams;return t!=null&&r.set("locale",t),K.get(n?`${lp}/gizmos/discovery_anon?${r}`:`${lp}/gizmos/discovery?${r}`,{authOption:tm.SendIfAvailable})}static async getGizmoDiscoveryCut(t,n){const r=o=>{const s={};o!=null&&(s.cursor=o),n?.limit!=null&&(s.limit=`${n.limit}`),n?.locale!=null&&(s.locale=n.locale);const l=`${lp}/gizmos/discovery/${t}`;return K.get(l,{params:s,authOption:tm.SendIfAvailable})},a=await r(n?.cursor);return a.list.items.length===0&&a.list.cursor!=null?(await new Promise(o=>setTimeout(o,Math.random()*30)),r(a.list.cursor)):a}static getGizmoBootstrap(){return K.get(`${ge}/gizmos/bootstrap?limit=2`)}static getGizmoPinned(){return K.get(`${ge}/gizmos/pinned`)}static getGizmoSearch(t,n=null){return n?K.get(`${ge}/gizmos/search?q=${t}&cursor=${n} `):K.get(`${ge}/gizmos/search?q=${t}`)}static getGizmoSearchForWorkspace(t,n=null){return n?K.get(`${ge}/gizmos/search?q=${t}&workspace_only=true&cursor=${n}`):K.get(`${ge}/gizmos/search?q=${t}&workspace_only=true`)}static async postGizmoAppeal(t,n,r,a,o){await K.post(`${ge}/gizmos/${n}/appeal`,{reason:r,share_recipient:a,categories:o}),await t.invalidateQueries({queryKey:["gizmo",{gizmoId:n}]})}static async postGizmoCancelAppeal(t,n){await K.post(`${ge}/gizmos/${n}/cancel_appeal`,{}),await t.invalidateQueries({queryKey:["gizmo",{gizmoId:n}]})}static upsertDraft(t,n){return n!==void 0?K.post(`${ge}/gizmos?gizmo_id=${n}`,t):K.post(`${ge}/gizmos`,t)}static promoteDraft(t,n){return K.post(`${ge}/gizmos/${n}/promote`,t)}static deleteGizmo(t){return K.delete(`${ge}/gizmos/${t}`)}static getBuilderProfile(){return K.get(`${ge}/gizmo_creator_profile`)}static updateBuilderProfile(t){return K.post(`${ge}/gizmo_creator_profile`,t)}static unverifySocialAuth(t){return K.delete(`${ge}/gizmo_creator_profile/socials/${t}`)}static async updateGizmoSidebar(t,n,r,a,o){const s=await K.post(`${ge}/gizmos/${r}/sidebar`,{action:a});switch(a){case"keep":S.logEvent(k.sidebarGizmoMenuKeep,{location:o}),n.handleGizmoSidebarKeep(t,r);break;case"hide":S.logEvent(k.sidebarGizmoMenuHide,{location:o}),n.handleGizmoSidebarHide(t,r);break}return s}static async removeFromRecent(t,n){const r=await K.post(`${ge}/gizmos/${n}/remove_recent`,{});return t.invalidateQueries({queryKey:["gizmos","bootstrap"]}),t.invalidateQueries({queryKey:["gizmos","discovery"]}),r}static fetchOpenAPISpec(t){return K.post(`${ge}/gizmos/fetch_openapi`,{url:t})}static validateOpenAPISpec(t){return K.post(`${ge}/gizmos/validate_openapi`,{raw_spec:t})}static transformToOpenAPISpec(t,n){return K.post(`${ge}/gizmos/transform_openapi`,{...t,auth:n})}static async doOAuthRedirect(t,n,r,a,o){const s=await K.post(`${ge}/gizmos/oauth_redirect`,{gizmo_id:t,gizmo_action_id:n,domain:r,redirect_to:a,draft:o});window.location.href=s.redirect_uri}static async upsertUserActionSettings(t,n,r){return K.post(`${ge}/gizmos/action_settings`,{gizmo_action_id:t,domain:n,action_settings:r})}static async getUserActionSettings(t){return K.get(`${ge}/gizmos/user_action_settings?gizmo_id=${t}`)}static async generateCategory(t,n){return K.post(`${ge}/gizmos/gen_category`,{name:t,instructions:n})}static async getConversations(t,n=null){return K.get(`${ge}/gizmos/${t}/conversations`,{params:{...n?{cursor:n}:{}}})}static async getCategories(){return K.get(`${ge}/gizmos/categories`)}static async getUserReview(t){return K.get(`${ge}/gizmo_reviews/${t}`)}static async upsertUserReview(t,n,r,a){return K.post(`${ge}/gizmo_reviews/${t}`,{rating:n,message:r,include_from:a})}static async sendFeedbackEmail(t,n,r){return K.post(`${ge}/gizmos/${t}/feedback`,{message:n,include_from:r})}static async getAbout(t){return K.get(`${ge}/gizmos/${t}/about`)}static async getCreatorSlice({creatorId:t}){return K.get(`${ge}/gizmo_creators/${t}/gizmos`)}static async getVersion({gizmoId:t,version:n}){return n==null?K.get(`${ge}/gizmos/${t}/version/latest`):K.get(`${ge}/gizmos/${t}/version/${n}`)}static async listVersions({gizmoId:t,limit:n,cursor:r}){const a={};return n&&(a.limit=n),r&&(a.cursor=r),K.get(`${ge}/gizmos/${t}/versions`,{params:a})}static async copyGizmo({gizmoId:t}){return await K.post(`${ge}/gizmos/${t}/copy`)}}async function k$(){const e=await q.getMe();return{id:e.id,email:e.email,name:e.name,picture:e.picture,created:e.created}}const Qx=Xa({queryKey:["user"],queryFn:k$,staleTime:1/0});function cn(){return ye(Qx).data}const A$={currentWorkspace:null,subscriptionStatus:null,workspaces:[]};function Pn(e){const t=ye({...q8(),select:n=>{const r=JP(n);return{currentWorkspace:r?.data??null,subscriptionStatus:r?.data.subscriptionStatus??null,workspaces:n.accountItems.map(a=>a.data)}}}).data??A$;return e?e(t):t}const aa={hasMultipleWorkspaces:({workspaces:e})=>e.length>1,isPersonalWorkspace:({currentWorkspace:e})=>e?.structure===Ao.PERSONAL,isBusinessWorkspace:({currentWorkspace:e})=>e!=null?e.structure===Ao.WORKSPACE:void 0,isEduPlan:({subscriptionStatus:e})=>e?.planType===yi.EDU,isEnterpriseyPlan:({subscriptionStatus:e})=>e!=null&&XP(e.planType),isTeamPlan:({subscriptionStatus:e})=>e?.planType===yi.TEAM,isAdmin:({currentWorkspace:e})=>e!=null&&e.role===Ra.ADMIN,isOwner:({currentWorkspace:e})=>e!=null&&e.role===Ra.OWNER,workspaceId:({currentWorkspace:e})=>e!=null?e.id:null,businessWorkspace:({currentWorkspace:e})=>e?.structure===Ao.WORKSPACE?e:void 0,businessWorkspaceId:({currentWorkspace:e})=>e?.structure===Ao.WORKSPACE?e.id:void 0,hasPaidSubscription:({subscriptionStatus:e})=>e!=null?e.hasPaidSubscription:!1,wasPaidCustomer:({subscriptionStatus:e})=>e!=null?e.wasPaidCustomer:!1,hasCustomerObject:({subscriptionStatus:e})=>e!=null?e.hasCustomerObject:!1,hasUnclaimedFreeTrial:({currentWorkspace:e})=>e?.promoData?.has_claimed_free_trial,lastActiveSubscription:({subscriptionStatus:e})=>e!=null?e.lastActiveSubscription:null,workspaces:({workspaces:e})=>e,accountUserId:({currentWorkspace:e})=>e?.accountUserId};function qke(){const e=Se();if(e!=null)return e.hasPlusFeatures()}function Zke(){return Se()?.data.subscriptionStatus.lastActiveSubscription}function Yke(e){return e.gizmo.current_user_permission?.can_write??!1}function Kke(e){return e.gizmo.current_user_permission?.can_view_config??!1}function P$(e,t,n){const r=t?.name;switch(e){case Gt.Link:return n.formatMessage(Hl.privacyAnyoneWithLink);case Gt.Private:return n.formatMessage(Hl.privacyOnlyMe);case Gt.Group:case Gt.User:return n.formatMessage({id:"B9pJ5o",defaultMessage:"Invite only"});case Gt.Marketplace:return n.formatMessage(Hl.privacyMarketplace);case Gt.Workspace:return n.formatMessage(Hl.privacyWorkspace,{workspaceName:r});case Gt.WorkspaceLink:return n.formatMessage({id:"T5Eek0",defaultMessage:"Anyone at {workspaceName} with the link"},{workspaceName:r})}}function Qke(e){const t=U(),n=Pn(r=>r.currentWorkspace);return P$(e,n,t)}function O$(e){return"gizmo"in e}function Jx(e){return"id"in e}function Jke(e){return`${e.replaceAll(".","_").replaceAll("-","_")}__jit_plugin`}const Hl=V({privacyOnlyMe:{id:"gizmo.privacyOnlyMe",defaultMessage:"Only me"},privacyAnyoneWithLink:{id:"gizmo.privacyAnyoneWithLink",defaultMessage:"Anyone with a link"},privacyWorkspace:{id:"gizmo.privacyWorkspace",defaultMessage:"Anyone at {workspaceName}"},privacyMarketplace:{id:"gizmo.privacyMarketplace",defaultMessage:"Everyone"}}),Xke="GPT Builder";function eAe(e){if(e)return`ChatGPT - ${e}`}function $u(e){return e.gizmo.short_url??e.gizmo.id??"-"}function wi(e){return`/g/${e}`}function tAe(e){returnwindow.location.origin+`${wi(e)}`}function Z1(e){return z.checkGate("491279851")&&kn(e.gizmo.id)?`${wi($u(e))}/project`:wi($u(e))}function nAe(e,t){const n=new URLSearchParams;return t!=null&&n.set(Ac,t),s$(new URL(`${Z1(e)}?${n}`,window.location.origin))}function rAe(e){return`/g/${$u(e)}`}function aAe(e){return O$(e)&&e.gizmo.live_version===0||Jx(e)&&e.liveVersion===0}function oAe(e,t){return ye({queryKey:["gizmos","discovery",{locale:e,isAnon:t}],queryFn:async()=>tt.getGizmoDiscovery(e,t)})}function N$({cutId:e,locale:t,limit:n,cursor:r,enabled:a=!0}){return ps({queryKey:["gizmos","discovery",{cutId:e,locale:t,limit:n}],queryFn:async({pageParam:o})=>tt.getGizmoDiscoveryCut(e,{locale:t,cursor:o,limit:n}),initialPageParam:r,getNextPageParam:o=>o.list.cursor??void 0,enabled:a})}function I$(){return ye({queryKey:["gizmos","pinned"],queryFn:async()=>tt.getGizmoPinned()})}function li(){return Xa({queryKey:["gizmos","bootstrap"],queryFn:async()=>tt.getGizmoBootstrap().then(e=>({gizmos:Object.values(e).flat().filter(n=>n).filter(n=>n.resource.gizmo?.gizmo_type!==Lh.PROJECT).map(n=>({resource:n.resource,flair:n.flair}))}))})}function sAe(){return ye(li())}function mv(e,t){const n=e.filter(a=>a.resource.gizmo.id!==t.resource.gizmo.id);let r=n.findIndex(a=>a.flair.kind===Oo.Recent);return r===-1&&(r=n.length),n.splice(r,0,t),n}const Xx={handleGizmoInteracted(e,t){const n=e.getQueryData(On(e,t).queryKey);n==null||kn(t)||e.setQueryData(li().queryKey,r=>{if(r==null)return r;const a=r.gizmos.find(o=>o.resource.gizmo.id===t);return a?.flair.kind===Oo.FirstParty||a?.flair.kind===Oo.SidebarKeep?r:{gizmos:mv(r.gizmos,{resource:n,flair:{kind:Oo.Recent}})}})},handleGizmoSidebarKeep(e,t){const n=e.getQueryData(On(e,t).queryKey);n!=null&&e.setQueryData(li().queryKey,r=>r==null?r:{gizmos:mv(r.gizmos,{resource:n,flair:{kind:Oo.SidebarKeep}})})},handleGizmoSidebarHide(e,t){e.setQueryData(li().queryKey,n=>n?.gizmos.some(r=>r.resource.gizmo.id===t)?{gizmos:n.gizmos.filter(r=>r.resource.gizmo.id!==t)}:n)}};function pa(e,t=!1){const n=be();return ye(On(n,e,t))}function iAe({gizmoId:e,draft:t,version:n}){const r=be(),a=n?{queryKey:["gizmo","version",{gizmoId:e,version:n}],queryFn:async()=>tt.getVersion({gizmoId:e,version:n}),enabled:e!=null}:On(r,e,t);return ye(a)}function lAe(e,t){return ye({queryKey:["gizmo","userActionSettings",{gizmoId:e}],queryFn:async()=>tt.getUserActionSettings(e),enabled:e!=null&&t})}function On(e,t,n=!1){return Xa({queryKey:["gizmo",{gizmoId:t},{draft:n}],queryFn:async()=>tt.getGizmo(t,n),enabled:t!=null,initialData:()=>{if(n===!0)return;const r=e.getQueryData(li().queryKey);if(r!=null)return r.gizmos.find(o=>o.resource.gizmo.id===t)?.resource;const a=e.getQueryData(["gizmos","discovery"]);if(a!=null)for(const o of a.cuts){const s=o.list.items.find(l=>l.resource.gizmo.id===t)?.resource;if(s!=null)return s}}})}function j$(e,t){return e.fetchQuery(On(e,t))}function cAe(e){return ye({queryKey:["gizmo",{search:e}],queryFn:async()=>tt.getGizmoSearch(e),enabled:e.length>0})}function uAe(e,t){return ye({queryKey:["gizmo-search-workspace",{search:e}],queryFn:async()=>tt.getGizmoSearchForWorkspace(e),enabled:e.length>0&&t})}function dAe(e,t=!1,n=!1,r=null){return ps({queryKey:[n?"gizmo-search-workspace":"gizmo",{query:e,cursor:r}],queryFn:async({pageParam:a})=>n?tt.getGizmoSearchForWorkspace(e,r=a):tt.getGizmoSearch(e,r=a),initialPageParam:r,getNextPageParam:a=>a.cursor??void 0,enabled:t})}function fAe(){const e=be();return Ve({mutationFn:async({gizmoId:t,editorData:n})=>{const{instructions:r,name:a,description:o,emoji:s,theme:l,profilePictureId:c,profilePictureUrl:u,promptStarters:f,tools:p,files:m,trainingDisabled:g}=n,h={instructions:r,display:{name:a,description:o,emoji:s,theme:l,profile_pic_id:c,profile_picture_url:u,prompt_starters:f},tools:p,files:m.map(v=>({...v,location:$h.FILE_SERVICE})),training_disabled:g};return tt.upsertDraft(h,t)},onSettled:t=>{t&&(e.setQueryData(On(e,t.gizmo.id,!0).queryKey,t),e.invalidateQueries({queryKey:["gizmos","mine"],refetchType:"none"}))}})}function pAe(){const e=be();return Ve({mutationFn:async({gizmoId:t,data:n})=>{const{sharingRecipient:r,categories:a}=n,o=await tt.promoteDraft({sharing:n.sharingSubjects&&n.sharingSubjects.length>0?n.sharingSubjects:{recipient:r},categories:a},t);if(o.error)throw new Vx(o);return o.resource},onSettled:t=>{e.invalidateQueries({queryKey:["gizmos"],refetchType:"all"}),e.invalidateQueries({queryKey:["gizmos","pinned"],refetchType:"none"}),t&&e.setQueryData(On(e,t.gizmo.id,!1).queryKey,t)}})}function mAe(){const e=be();return Ve({mutationFn:async({gizmoId:t})=>tt.deleteGizmo(t),onSettled:()=>{e.invalidateQueries({queryKey:["gizmos"],refetchType:"all"})}})}function gAe(){const e=be(),t=Ne();return Ve({mutationFn:async({name:n,hideName:r,websiteUrl:a,willReceiveSupportEmails:o})=>tt.updateBuilderProfile({name:n,hide_name:r,website_url:a,will_receive_support_emails:o}),onSuccess:n=>{e.setQueryData(["builderProfile"],n)},onError:n=>{t.warning(n.message)}})}function hAe(){return ye({queryKey:["builderProfile"],queryFn:async()=>tt.getBuilderProfile()})}function vAe(){return Ve({mutationFn:async({gizmoId:e})=>tt.copyGizmo({gizmoId:e})})}function yAe(){return ye({queryKey:["gizmoCategories"],queryFn:async()=>tt.getCategories()})}function CAe(e,t){return!!(t!=null&&[Oe.PrimaryAssistant,Oe.GizmoInteraction].includes(t)&&e?.includes(ja.GPT_4))}function R$(e,t){const n=be(),r=Ne();return Ve({mutationFn:async({rating:a,message:o,includeFrom:s})=>{await tt.upsertUserReview(e,a,o,s)},onSuccess:async()=>{n.invalidateQueries({queryKey:["gizmo","review",{gizmoId:e}]})},onError:a=>{r.danger(a.message)}})}const Y1=Me(Vn(()=>({statusMap:{}}))),eb=e=>Y1(t=>t.statusMap[e]),xAe=()=>Y1(e=>Object.values(e.statusMap).some(t=>t?.value===Tn.UNREAD)),_i=(e,t)=>{Y1.setState(n=>{n.statusMap[e]=t;const r=F.getServerThreadId(e);r&&(n.statusMap[r]=t)})},L$=e=>{Y1.setState(t=>{for(const{id:n,async_status:r}of e)r!=null&&(t.statusMap[n]={source:yr.SERVER,value:r})})},tb={};function $$(e){return tb[e]??null}function D$(e){return e in tb}async function K1(e,t){const n=$$(e),r=n??await q.getConversation(e);return t==null&&n&&(t=!0),n||te.addTiming("chatgpt.web.chatPage.loadExistingConversation"),F.initThreadFromServerData(e,r,t,void 0,t),_i(r.conversation_id,r.async_status?{source:yr.SERVER,value:r.async_status}:null),r}const F$=(e,t)=>{const n=Ge(),{pathname:r}=ds(),a=ia(),o=ah(),s=Ne();ye({queryKey:["conversation",e],queryFn:()=>K1(e,t).catch(l=>{const c=eO(r),u=c!=null?wi(c):"/";throw n(u),s.danger(`Unable to load conversation ${e}`,{testId:"conversation-fetch-error-toaster"}),l}),enabled:!os(e)&&!a&&!o,refetchOnMount:!0})};function B$(e){const t=g1(e),n=oh(e,t),r=h1(e),a=Hi(r),o=tL(e),s=jR(),l=sR(()=>Promise.allSettled([o.refetch(),K1(e,!0)])),[c,u]=vL({isRequestActive:a,lastTurn:Pr(n),clientThreadId:e,persistedTextdocStoreStatus:o.status}),f=l??c,p=!!l||a,m=f?l?sm.NATIVE:sm.LAST_TURN:null,g=FR(e,n),h=Nx(),v=KR(),y=oR(),x=d.useMemo(()=>{let T=cx(g);const{textdocVersionById:M,fetchError:A,status:D}=o;return T=Zr(T,j=>{j.fetchError=A,j.isFetchingFromPersistence=D===ju.REFETCHING||D===ju.INITIALIZING;for(const{tempTextdocId:B,status:N,createdAt:H,type:R,title:G,content:X}of y){const ae=j.resolveTempTextdocId[B]??B;si(j,{textdocId:ae,title:G,type:R,content:X,createdAt:H,versionInt:0,comments:[],messageId:null,status:N===Yr.SENT?mn.ATTACHED_SENT:mn.ATTACHED_PENDING})}if(M)for(const[B,N]of M.entries()){j.allTextdocIdSet[B]=B;const H=s.get(B);let R=H&&(H.versionInt??br)>(N.versionInt??br)?{...N,...H}:N;const G=v.filter(ae=>ae.textdocId===B&&ae.kind===lt.REMOVE_COMMENT);let X=R.versionInt;for(const ae of G)R=wx(R,ae),X=Math.max(X??br,ae.versionInt??br);R={...R,versionInt:X},j.textdocById[B]=void 0,si(j,R)}}),h?Zr(T,j=>{si(j,h,!1)}):T},[y,g,o,s,h,v]),C=d.useMemo(()=>f?.length?AR(p,x,f):null,[f,p,x]),w=d.useMemo(()=>Zr(x,T=>{for(const M of C??[])if(M.messageId&&(T.lastCanvasAssistantMessageById[M.textdocId]=M.messageId),M.kind===lt.CREATE){const{tempTextdocId:A,textdocId:D}=M;A&&D&&(T.resolveTempTextdocId[A]=D)}}),[C,x]),_=YL(p,C,u);return d.useMemo(()=>_?Zr(bx(w,_),T=>{T.streamingSource=m}):w,[w,m,_])}function bAe({clientThreadId:e,children:t}){const n=B$(e);return JL(e),i.jsx(lx.Provider,{value:n,children:t})}const Dh=e=>d.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},d.createElement("g",{transform:"rotate(45 12 12)"},d.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 3C12.2652 3 12.5196 3.10536 12.7071 3.29289L19.7071 10.2929C20.0976 10.6834 20.0976 11.3166 19.7071 11.7071C19.3166 12.0976 18.6834 12.0976 18.2929 11.7071L13 6.41421V20C13 20.5523 12.5523 21 12 21C11.4477 21 11 20.5523 11 20V6.41422L5.70711 11.7071C5.31658 12.0976 4.68342 12.0976 4.29289 11.7071C3.90237 11.3166 3.90237 10.6834 4.29289 10.2929L11.2929 3.29289C11.4804 3.10536 11.7348 3 12 3Z",fill:"currentColor"}))),U$=["https:","mailto:","tel:"],Pc=e=>{if(e===void 0)return;let t;try{t=new URL(e,window.location.origin)}catch{return}if(U$.includes(t.protocol))return t.href};function Fh({href:e,children:t,...n}){const r=ah();return i.jsx("a",{href:Pc(e),target:"_blank",rel:r?"noopener noreferrer":"noopener",...n,children:t})}function nb({className:e,openNewTab:t=!1,type:n="primary",...r}){return i.jsx("a",{rel:"noopener",className:P("cursor-pointer font-normal underline",n==="primary"&&"text-green-600",e),target:t?"_blank":"_self",...r})}var Ee=(e=>(e.FirstTimeUsingUserContext="oai/apps/hasUserContextFirstTime/2023-06-29",e.Onboarding="oai/apps/hasSeenOnboarding",e.TeamOwnerOnboarding="oai/apps/hasSeenTeamOwnerOnboarding",e.MemoryOnboarding="oai/apps/hasSeenMemoryOnboarding",e.TemporaryChatOnboarding="oai/apps/hasSeenTemporaryChatOnboarding",e.ArchiveConversationOnboarding="oai/apps/hasSeenArchiveConversationOnboarding",e.ExploreGPTs="oai/apps/hasSeenExploreGPTs2",e.ExploreGPTsNewNux="oai/apps/hasSeenExploreGPTsNewNux",e.ModelTunerDisclaimer="oai/apps/hasSeenModelTunerDisclaimer",e.DalleEditingOnboarding="oai/apps/hasSeenDalleEditingOnboarding",e.ModelSwitcherAutoDowngrade="oai/apps/hasSeenModelSwitcherAutoDowngrade",e.ContextConnectors="oai/apps/hasSeenContextConnectorTooltip",e.hasDismissedCanvasOnboarding="oai/apps/hasDismissedCanvasOnboarding",e.hasDismissedCanvasContextualOnboarding="oai/apps/hasDismissedCanvasContextualOnboarding",e.HasSeenAdvancedVoiceOnMobile="oai/apps/hasSeenAdvancedVoiceOnMobile/2024-09-26",e.SidekickLauncherOnboarding="oai/apps/hasSeenSidekickLauncherOnboarding",e.UseSidekick="oai/apps/hasDismissedUseSidekick",e.UseSidetron="oai/apps/hasDismissedUseSidetron",e.hasSeenSncUsageNux="oai/apps/hasSeenSncUsageNux",e.hasSeenSncWelcomeNux="oai/apps/hasSeenSncWelcomeNux",e.hasSeenSncSourcesTooltip="oai/apps/hasSeenSncSourcesTooltip",e.hasSeenComposerSearchButtonTooltip="oai/apps/hasSeenComposerSearchButtonTooltip",e.hasSeenComposerSystemHintButtonTooltip="oai/apps/hasSeenComposerSystemHintButtonTooltip",e.hasSeenPioneer="oai/apps/hasSeenPioneer",e.hasSeenCanvasDropdownNux="oai/apps/hasSeenCanvasDropdownNux",e.hasSeenCanvasCodeExecutionNux="oai/apps/hasSeenCanvasCodeExecutionNux",e.hasSeenAdvancedVoiceWebNuxTooltip="oai/apps/hasSeenAdvancedVoiceWebNuxTooltip",e.hasSeenAdvancedVoiceRealWebNuxTooltip="oai/apps/hasSeenAdvancedVoiceRealWebNuxTooltip",e.hasSeenAdvancedVoiceNuxFullPage="oai/apps/hasSeenAdvancedVoice/2024-09-24",e.hasSeenWindowsAppOnboarding="oai/apps/hasSeenWindowsAppOnboarding",e.DesktopBrowserExtensionAnnouncement="oai/apps/hasSeenDesktopBrowserExtensionAnnouncement",e.DesktopBrowserExtensionReactiveAnnouncement="oai/apps/hasSeenDesktopBrowserExtensionReactiveAnnouncement",e.NewOnboardingFlow="oai/apps/hasSeenOnboardingFlow",e.hasUsedConversationalOnboardingStarterPrompt="oai/apps/hasUsedNewUserStarterPrompt",e.hasSeenStrawSelection="oai/apps/hasSeenStrawSelection",e.hasSeenWebComposerStraw="oai/apps/hasSeenWebComposerStraw",e.hasSeenElectronComposerStraw="oai/apps/hasSeenElectronComposerStraw",e.hasStartedWebVoiceModeStraw="oai/apps/hasStartedWebVoiceModeStraw",e.hasStartedElectronVoiceModeStraw="oai/apps/hasStartedElectronVoiceModeStraw",e.hasSeenProjectsWebNuxTooltip="oai/apps/hasSeenProjectsWebNuxTooltip",e.hasSeenMemoryInSearch="oai/apps/hasSeenMemoryInSearch",e.hasSeenMoonshineNux="oai/apps/hasSeenMoonshineNux",e))(Ee||{});function H$(){return Z8(e=>e.eligible_announcements)}function ke(e){const{data:t=[],isLoading:n}=H$(),r=rb();return{eligible:t.includes(e),markAsViewed:()=>r.mutate({key:e}),isLoading:n}}function rb(){const e=be();return Ve({mutationFn:({key:t})=>q.announcementViewed(t),onMutate:async({key:t})=>{e.setQueryData(["userSettings"],n=>({...n,eligible_announcements:n.eligible_announcements.filter(r=>r!==t)}))},onSuccess:()=>{e.invalidateQueries({queryKey:["userSettings"]})}})}const ab=e=>d.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},d.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 21C11.7348 21 11.4804 20.8946 11.2929 20.7071L4.29289 13.7071C3.90237 13.3166 3.90237 12.6834 4.29289 12.2929C4.68342 11.9024 5.31658 11.9024 5.70711 12.2929L11 17.5858V4C11 3.44772 11.4477 3 12 3C12.5523 3 13 3.44772 13 4V17.5858L18.2929 12.2929C18.6834 11.9024 19.3166 11.9024 19.7071 12.2929C20.0976 12.6834 20.0976 13.3166 19.7071 13.7071L12.7071 20.7071C12.5196 20.8946 12.2652 21 12 21Z",fill:"currentColor"})),V$="_leadingBar_sbmq2_1",G$="_leadingBarScrollAnimation_sbmq2_19",W$="_trailingBar_sbmq2_23",z$="_trailingBarScrollAnimation_sbmq2_41",q$="_primary_sbmq2_45",$s={leadingBar:V$,"add-top-shadow":"_add-top-shadow_sbmq2_1",leadingBarScrollAnimation:G$,trailingBar:W$,"add-bottom-shadow":"_add-bottom-shadow_sbmq2_1",trailingBarScrollAnimation:z$,primary:q$};function Z$({disabled:e=!1,track:t}={}){const[n,r]=d.useState(null),a=d.useRef(null),o=d.useRef(null),s=d.useCallback(l=>{if(o.current&&(o.current.disconnect(),o.current=null),a.current=l,e||!l)return;const c=new ResizeObserver(u=>{if(!u.length)return;const f=u[0],{width:p,height:m}=Y$(f);d.startTransition(()=>{r(g=>{const h={width:p,height:m};return!g||t==="width"&&g.width!==p||t==="height"&&g.height!==m||g.width!==p||g.height!==m?h:g})})});c.observe(l),o.current=c},[e,t]);return[n,s]}function Y$(e){let t,n;if(e.borderBoxSize){const r=Array.isArray(e.borderBoxSize)?e.borderBoxSize[0]:e.borderBoxSize;t=r.inlineSize,n=r.blockSize}else t=e.contentRect.width,n=e.contentRect.height;return{width:t,height:n}}function ci({disableSizeTracking:e,name:t,track:n}){const[r,a]=Z$({disabled:n===void 0||e,track:n});let o={};return t&&!e&&n&&r&&(o={[`--${t}-${n}`]:`${r[n==="width"?"width":"height"]}px`}),[o,a,r]}function K$(e){const{axis:t="horizontal",children:n,className:r,hidden:a,leading:o,trailing:s,ref:l,style:c,type:u,...f}=e,[p,m]=ci(f);return i.jsx("div",{"bar-type":u,hidden:a,"data-testid":`bar-${f.name??"default"}`,className:P("grid gap-bar",t==="vertical"&&"flex-col",o&&[$s.leadingBar,$s.leadingBarScrollAnimation],s&&[$s.trailingBar,$s.trailingBarScrollAnimation],u==="primary"&&$s.primary,r),ref:l??m,style:{...c,...p},children:n})}const Q$=d.forwardRef(function({icon:t,mobileIcon:n,className:r,surfaceContext:a="primary",...o},s){return i.jsxs("button",{...o,className:P("h-10 rounded-lg px-2 text-token-text-secondary focus-visible:outline-0 disabled:text-token-text-quaternary",a==="primary"?"focus-visible:bg-token-main-surface-secondary enabled:hover:bg-token-main-surface-secondary":"focus-visible:bg-token-sidebar-surface-secondary enabled:hover:bg-token-sidebar-surface-secondary",r),ref:s,children:[i.jsx(t,{className:P("icon-xl-heavy",{"max-md:hidden":n!=null})}),n?i.jsx(n,{className:"icon-xl-heavy md:hidden"}):null]})});function J$(e,t){try{var n=global,r=n.document;if(typeof r<"u"&&r.createElement&&r.head&&r.head.appendChild){var a=r.querySelector('html meta[name="'.concat(encodeURI(e),'"]'))||r.createElement("meta");a.setAttribute("name",e),a.setAttribute("content",t),r.head.appendChild(a)}}catch{}}function wAe(){J$("react-scroll-to-bottom:version","4.2.0")}var Vl=function(e){return e&&e.Math===Math&&e},Kt=Vl(typeof globalThis=="object"&&globalThis)||Vl(typeof window=="object"&&window)||Vl(typeof self=="object"&&self)||Vl(typeof qt=="object"&&qt)||function(){return this}()||qt||Function("return this")(),Et=function(e){try{return!!e()}catch{return!0}},X$=Et,Q1=!X$(function(){var e=(function(){}).bind();return typeof e!="function"||e.hasOwnProperty("prototype")}),eD=Q1,ob=Function.prototype,gv=ob.apply,hv=ob.call,Bh=typeof Reflect=="object"&&Reflect.apply||(eD?hv.bind(gv):function(){return hv.apply(gv,arguments)}),sb=Q1,ib=Function.prototype,pm=ib.call,tD=sb&&ib.bind.bind(pm,pm),bt=sb?tD:function(e){return function(){return pm.apply(e,arguments)}},lb=bt,nD=lb({}.toString),rD=lb("".slice),ys=function(e){return rD(nD(e),8,-1)},aD=ys,oD=bt,Uh=function(e){if(aD(e)==="Function")return oD(e)},mm=typeof document=="object"&&document.all,sD=typeof mm>"u"&&mm!==void 0,cb={all:mm,IS_HTMLDDA:sD},ub=cb,iD=ub.all,Qt=ub.IS_HTMLDDA?function(e){return typeof e=="function"||e===iD}:function(e){return typeof e=="function"},el={},lD=Et,bn=!lD(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}),cD=Q1,Gl=Function.prototype.call,ur=cD?Gl.bind(Gl):function(){return Gl.apply(Gl,arguments)},Hh={},db={}.propertyIsEnumerable,fb=Object.getOwnPropertyDescriptor,uD=fb&&!db.call({1:2},1);Hh.f=uD?function(t){var n=fb(this,t);return!!n&&n.enumerable}:db;var tl=function(e,t){return{enumerable:!(e&1),configurable:!(e&2),writable:!(e&4),value:t}},dD=bt,fD=Et,pD=ys,vp=Object,mD=dD("".split),pb=fD(function(){return!vp("z").propertyIsEnumerable(0)})?function(e){return pD(e)==="String"?mD(e,""):vp(e)}:vp,Vh=function(e){return e==null},gD=Vh,hD=TypeError,Gh=function(e){if(gD(e))throw hD("Can't call method on "+e);return e},vD=pb,yD=Gh,dr=function(e){return vD(yD(e))},vv=Qt,mb=cb,CD=mb.all,Nr=mb.IS_HTMLDDA?function(e){return typeof e=="object"?e!==null:vv(e)||e===CD}:function(e){return typeof e=="object"?e!==null:vv(e)},Dt={},yp=Dt,Cp=Kt,xD=Qt,yv=function(e){return xD(e)?e:void 0},fr=function(e,t){return arguments.length<2?yv(yp[e])||yv(Cp[e]):yp[e]&&yp[e][t]||Cp[e]&&Cp[e][t]},bD=bt,ma=bD({}.isPrototypeOf),gb=typeof navigator<"u"&&String(navigator.userAgent)||"",hb=Kt,xp=gb,Cv=hb.process,xv=hb.Deno,bv=Cv&&Cv.versions||xv&&xv.version,wv=bv&&bv.v8,Rn,Du;wv&&(Rn=wv.split("."),Du=Rn[0]>0&&Rn[0]<4?1:+(Rn[0]+Rn[1]));!Du&&xp&&(Rn=xp.match(/Edge\/(\d+)/),(!Rn||Rn[1]>=74)&&(Rn=xp.match(/Chrome\/(\d+)/),Rn&&(Du=+Rn[1])));var Wh=Du,_v=Wh,wD=Et,_D=Kt,SD=_D.String,Cs=!!Object.getOwnPropertySymbols&&!wD(function(){var e=Symbol("symbol detection");return!SD(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&_v&&_v<41}),MD=Cs,vb=MD&&!Symbol.sham&&typeof Symbol.iterator=="symbol",TD=fr,ED=Qt,kD=ma,AD=vb,PD=Object,nl=AD?function(e){return typeof e=="symbol"}:function(e){var t=TD("Symbol");return ED(t)&&kD(t.prototype,PD(e))},OD=String,J1=function(e){try{return OD(e)}catch{return"Object"}},ND=Qt,ID=J1,jD=TypeError,zh=function(e){if(ND(e))return e;throw jD(ID(e)+" is not a function")},RD=zh,LD=Vh,qh=function(e,t){var n=e[t];return LD(n)?void 0:RD(n)},bp=ur,wp=Qt,_p=Nr,$D=TypeError,DD=function(e,t){var n,r;if(t==="string"&&wp(n=e.toString)&&!_p(r=bp(n,e))||wp(n=e.valueOf)&&!_p(r=bp(n,e))||t!=="string"&&wp(n=e.toString)&&!_p(r=bp(n,e)))return r;throw $D("Can't convert object to primitive value")},yb={exports:{}},Sv=Kt,FD=Object.defineProperty,BD=function(e,t){try{FD(Sv,e,{value:t,configurable:!0,writable:!0})}catch{Sv[e]=t}return t},UD=Kt,HD=BD,Mv="__core-js_shared__",VD=UD[Mv]||HD(Mv,{}),Zh=VD,Tv=Zh;(yb.exports=function(e,t){return Tv[e]||(Tv[e]=t!==void 0?t:{})})("versions",[]).push({version:"3.32.2",mode:"pure",copyright:"© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.32.2/LICENSE",source:"https://github.com/zloirock/core-js"});var xs=yb.exports,GD=Gh,WD=Object,ga=function(e){return WD(GD(e))},zD=bt,qD=ga,ZD=zD({}.hasOwnProperty),wn=Object.hasOwn||function(t,n){return ZD(qD(t),n)},YD=bt,KD=0,QD=Math.random(),JD=YD(1 .toString),Yh=function(e){return"Symbol("+(e===void 0?"":e)+")_"+JD(++KD+QD,36)},XD=Kt,eF=xs,Ev=wn,tF=Yh,nF=Cs,rF=vb,No=XD.Symbol,Sp=eF("wks"),aF=rF?No.for||No:No&&No.withoutSetter||tF,wt=function(e){return Ev(Sp,e)||(Sp[e]=nF&&Ev(No,e)?No[e]:aF("Symbol."+e)),Sp[e]},oF=ur,kv=Nr,Av=nl,sF=qh,iF=DD,lF=wt,cF=TypeError,uF=lF("toPrimitive"),dF=function(e,t){if(!kv(e)||Av(e))return e;var n=sF(e,uF),r;if(n){if(t===void 0&&(t="default"),r=oF(n,e,t),!kv(r)||Av(r))return r;throw cF("Can't convert object to primitive value")}return t===void 0&&(t="number"),iF(e,t)},fF=dF,pF=nl,X1=function(e){var t=fF(e,"string");return pF(t)?t:t+""},mF=Kt,Pv=Nr,gm=mF.document,gF=Pv(gm)&&Pv(gm.createElement),Cb=function(e){return gF?gm.createElement(e):{}},hF=bn,vF=Et,yF=Cb,xb=!hF&&!vF(function(){return Object.defineProperty(yF("div"),"a",{get:function(){return 7}}).a!==7}),CF=bn,xF=ur,bF=Hh,wF=tl,_F=dr,SF=X1,MF=wn,TF=xb,Ov=Object.getOwnPropertyDescriptor;el.f=CF?Ov:function(t,n){if(t=_F(t),n=SF(n),TF)try{return Ov(t,n)}catch{}if(MF(t,n))return wF(!xF(bF.f,t,n),t[n])};var EF=Et,kF=Qt,AF=/#|\.prototype\./,rl=function(e,t){var n=OF[PF(e)];return n===IF?!0:n===NF?!1:kF(t)?EF(t):!!t},PF=rl.normalize=function(e){return String(e).replace(AF,".").toLowerCase()},OF=rl.data={},NF=rl.NATIVE="N",IF=rl.POLYFILL="P",jF=rl,Nv=Uh,RF=zh,LF=Q1,$F=Nv(Nv.bind),Kh=function(e,t){return RF(e),t===void 0?e:LF?$F(e,t):function(){return e.apply(t,arguments)}},Gn={},DF=bn,FF=Et,bb=DF&&FF(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42}),BF=Nr,UF=String,HF=TypeError,ha=function(e){if(BF(e))return e;throw HF(UF(e)+" is not an object")},VF=bn,GF=xb,WF=bb,Wl=ha,Iv=X1,zF=TypeError,Mp=Object.defineProperty,qF=Object.getOwnPropertyDescriptor,Tp="enumerable",Ep="configurable",kp="writable";Gn.f=VF?WF?function(t,n,r){if(Wl(t),n=Iv(n),Wl(r),typeof t=="function"&&n==="prototype"&&"value"in r&&kp in r&&!r[kp]){var a=qF(t,n);a&&a[kp]&&(t[n]=r.value,r={configurable:Ep in r?r[Ep]:a[Ep],enumerable:Tp in r?r[Tp]:a[Tp],writable:!1})}return Mp(t,n,r)}:Mp:function(t,n,r){if(Wl(t),n=Iv(n),Wl(r),GF)try{return Mp(t,n,r)}catch{}if("get"in r||"set"in r)throw zF("Accessors not supported");return"value"in r&&(t[n]=r.value),t};var ZF=bn,YF=Gn,KF=tl,al=ZF?function(e,t,n){return YF.f(e,t,KF(1,n))}:function(e,t,n){return e[t]=n,e},zl=Kt,QF=Bh,JF=Uh,XF=Qt,eB=el.f,tB=jF,po=Dt,nB=Kh,mo=al,jv=wn,rB=function(e){var t=function(n,r,a){if(this instanceof t){switch(arguments.length){case 0:return new e;case 1:return new e(n);case 2:return new e(n,r)}return new e(n,r,a)}return QF(e,this,arguments)};return t.prototype=e.prototype,t},We=function(e,t){var n=e.target,r=e.global,a=e.stat,o=e.proto,s=r?zl:a?zl[n]:(zl[n]||{}).prototype,l=r?po:po[n]||mo(po,n,{})[n],c=l.prototype,u,f,p,m,g,h,v,y,x;for(m in t)u=tB(r?m:n+(a?".":"#")+m,e.forced),f=!u&&s&&jv(s,m),h=l[m],f&&(e.dontCallGetSet?(x=eB(s,m),v=x&&x.value):v=s[m]),g=f&&v?v:t[m],!(f&&typeof h==typeof g)&&(e.bind&&f?y=nB(g,zl):e.wrap&&f?y=rB(g):o&&XF(g)?y=JF(g):y=g,(e.sham||g&&g.sham||h&&h.sham)&&mo(y,"sham",!0),mo(l,m,y),o&&(p=n+"Prototype",jv(po,p)||mo(po,p,{}),mo(po[p],m,g),e.real&&c&&(u||!c[m])&&mo(c,m,g)))},aB=ys,bs=Array.isArray||function(t){return aB(t)==="Array"},oB=We,sB=bs;oB({target:"Array",stat:!0},{isArray:sB});var iB=Dt,lB=iB.Array.isArray,cB=lB,wb=cB,uB=wb,dB=uB,fB=dB,pB=fB,mB=pB,gB=mB;const _b=ve(gB);function hB(e){if(_b(e))return e}var vB=Math.ceil,yB=Math.floor,CB=Math.trunc||function(t){var n=+t;return(n>0?yB:vB)(n)},xB=CB,ef=function(e){var t=+e;return t!==t||t===0?0:xB(t)},bB=ef,wB=Math.min,_B=function(e){return e>0?wB(bB(e),9007199254740991):0},SB=_B,to=function(e){return SB(e.length)},MB=TypeError,TB=9007199254740991,Sb=function(e){if(e>TB)throw MB("Maximum allowed index exceeded");return e},EB=X1,kB=Gn,AB=tl,ws=function(e,t,n){var r=EB(t);r in e?kB.f(e,r,AB(0,n)):e[r]=n},PB=wt,OB=PB("toStringTag"),Mb={};Mb[OB]="z";var Qh=String(Mb)==="[object z]",NB=Qh,IB=Qt,Oc=ys,jB=wt,RB=jB("toStringTag"),LB=Object,$B=Oc(function(){return arguments}())==="Arguments",DB=function(e,t){try{return e[t]}catch{}},_s=NB?Oc:function(e){var t,n,r;return e===void 0?"Undefined":e===null?"Null":typeof(n=DB(t=LB(e),RB))=="string"?n:$B?Oc(t):(r=Oc(t))==="Object"&&IB(t.callee)?"Arguments":r},FB=bt,BB=Qt,hm=Zh,UB=FB(Function.toString);BB(hm.inspectSource)||(hm.inspectSource=function(e){return UB(e)});var HB=hm.inspectSource,VB=bt,GB=Et,Tb=Qt,WB=_s,zB=fr,qB=HB,Eb=function(){},ZB=[],kb=zB("Reflect","construct"),Jh=/^\s*(?:class|function)\b/,YB=VB(Jh.exec),KB=!Jh.exec(Eb),Ds=function(t){if(!Tb(t))return!1;try{return kb(Eb,ZB,t),!0}catch{return!1}},Ab=function(t){if(!Tb(t))return!1;switch(WB(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return KB||!!YB(Jh,qB(t))}catch{return!0}};Ab.sham=!0;var Xh=!kb||GB(function(){var e;return Ds(Ds.call)||!Ds(Object)||!Ds(function(){e=!0})||e})?Ab:Ds,Rv=bs,QB=Xh,JB=Nr,XB=wt,eU=XB("species"),Lv=Array,tU=function(e){var t;return Rv(e)&&(t=e.constructor,QB(t)&&(t===Lv||Rv(t.prototype))?t=void 0:JB(t)&&(t=t[eU],t===null&&(t=void 0))),t===void 0?Lv:t},nU=tU,e5=function(e,t){return new(nU(e))(t===0?0:t)},rU=Et,aU=wt,oU=Wh,sU=aU("species"),tf=function(e){return oU>=51||!rU(function(){var t=[],n=t.constructor={};return n[sU]=function(){return{foo:1}},t[e](Boolean).foo!==1})},iU=We,lU=Et,cU=bs,uU=Nr,dU=ga,fU=to,$v=Sb,Dv=ws,pU=e5,mU=tf,gU=wt,hU=Wh,Pb=gU("isConcatSpreadable"),vU=hU>=51||!lU(function(){var e=[];return e[Pb]=!1,e.concat()[0]!==e}),yU=function(e){if(!uU(e))return!1;var t=e[Pb];return t!==void 0?!!t:cU(e)},CU=!vU||!mU("concat");iU({target:"Array",proto:!0,arity:1,forced:CU},{concat:function(t){var n=dU(this),r=pU(n,0),a=0,o,s,l,c,u;for(o=-1,l=arguments.length;o<l;o++)if(u=o===-1?n:arguments[o],yU(u))for(c=fU(u),$v(a+c),s=0;s<c;s++,a++)s in u&&Dv(r,a,u[s]);else $v(a+1),Dv(r,a++,u);return r.length=a,r}});var xU=_s,bU=String,ol=function(e){if(xU(e)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return bU(e)},nf={},wU=ef,_U=Math.max,SU=Math.min,rf=function(e,t){var n=wU(e);return n<0?_U(n+t,0):SU(n,t)},MU=dr,TU=rf,EU=to,Fv=function(e){return function(t,n,r){var a=MU(t),o=EU(a),s=TU(r,o),l;if(e&&n!==n){for(;o>s;)if(l=a[s++],l!==l)return!0}else for(;o>s;s++)if((e||s in a)&&a[s]===n)return e||s||0;return!e&&-1}},Ob={includes:Fv(!0),indexOf:Fv(!1)},af={},kU=bt,Ap=wn,AU=dr,PU=Ob.indexOf,OU=af,Bv=kU([].push),Nb=function(e,t){var n=AU(e),r=0,a=[],o;for(o in n)!Ap(OU,o)&&Ap(n,o)&&Bv(a,o);for(;t.length>r;)Ap(n,o=t[r++])&&(~PU(a,o)||Bv(a,o));return a},t5=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],NU=Nb,IU=t5,n5=Object.keys||function(t){return NU(t,IU)},jU=bn,RU=bb,LU=Gn,$U=ha,DU=dr,FU=n5;nf.f=jU&&!RU?Object.defineProperties:function(t,n){$U(t);for(var r=DU(n),a=FU(n),o=a.length,s=0,l;o>s;)LU.f(t,l=a[s++],r[l]);return t};var BU=fr,UU=BU("document","documentElement"),HU=xs,VU=Yh,Uv=HU("keys"),of=function(e){return Uv[e]||(Uv[e]=VU(e))},GU=ha,WU=nf,Hv=t5,zU=af,qU=UU,ZU=Cb,YU=of,Vv=">",Gv="<",vm="prototype",ym="script",Ib=YU("IE_PROTO"),Pp=function(){},jb=function(e){return Gv+ym+Vv+e+Gv+"/"+ym+Vv},Wv=function(e){e.write(jb("")),e.close();var t=e.parentWindow.Object;return e=null,t},KU=function(){var e=ZU("iframe"),t="java"+ym+":",n;return e.style.display="none",qU.appendChild(e),e.src=String(t),n=e.contentWindow.document,n.open(),n.write(jb("document.F=Object")),n.close(),n.F},ql,Nc=function(){try{ql=new ActiveXObject("htmlfile")}catch{}Nc=typeof document<"u"?document.domain&&ql?Wv(ql):KU():Wv(ql);for(var e=Hv.length;e--;)delete Nc[vm][Hv[e]];return Nc()};zU[Ib]=!0;var r5=Object.create||function(t,n){var r;return t!==null?(Pp[vm]=GU(t),r=new Pp,Pp[vm]=null,r[Ib]=t):r=Nc(),n===void 0?r:WU.f(r,n)},sf={},QU=Nb,JU=t5,XU=JU.concat("length","prototype");sf.f=Object.getOwnPropertyNames||function(t){return QU(t,XU)};var Rb={},zv=rf,eH=to,tH=ws,nH=Array,rH=Math.max,aH=function(e,t,n){for(var r=eH(e),a=zv(t,r),o=zv(n===void 0?r:n,r),s=nH(rH(o-a,0)),l=0;a<o;a++,l++)tH(s,l,e[a]);return s.length=l,s},oH=ys,sH=dr,Lb=sf.f,iH=aH,$b=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],lH=function(e){try{return Lb(e)}catch{return iH($b)}};Rb.f=function(t){return $b&&oH(t)==="Window"?lH(t):Lb(sH(t))};var lf={};lf.f=Object.getOwnPropertySymbols;var cH=al,cf=function(e,t,n,r){return r&&r.enumerable?e[t]=n:cH(e,t,n),e},uH=Gn,dH=function(e,t,n){return uH.f(e,t,n)},a5={},fH=wt;a5.f=fH;var qv=Dt,pH=wn,mH=a5,gH=Gn.f,dt=function(e){var t=qv.Symbol||(qv.Symbol={});pH(t,e)||gH(t,e,{value:mH.f(e)})},hH=ur,vH=fr,yH=wt,CH=cf,Db=function(){var e=vH("Symbol"),t=e&&e.prototype,n=t&&t.valueOf,r=yH("toPrimitive");t&&!t[r]&&CH(t,r,function(a){return hH(n,this)},{arity:1})},xH=Qh,bH=_s,wH=xH?{}.toString:function(){return"[object "+bH(this)+"]"},_H=Qh,SH=Gn.f,MH=al,TH=wn,EH=wH,kH=wt,Zv=kH("toStringTag"),sl=function(e,t,n,r){if(e){var a=n?e:e.prototype;TH(a,Zv)||SH(a,Zv,{configurable:!0,value:t}),r&&!_H&&MH(a,"toString",EH)}},AH=Kt,PH=Qt,Yv=AH.WeakMap,OH=PH(Yv)&&/native code/.test(String(Yv)),NH=OH,Fb=Kt,IH=Nr,jH=al,Op=wn,Np=Zh,RH=of,LH=af,Kv="Object already initialized",Cm=Fb.TypeError,$H=Fb.WeakMap,Fu,Si,Bu,DH=function(e){return Bu(e)?Si(e):Fu(e,{})},FH=function(e){return function(t){var n;if(!IH(t)||(n=Si(t)).type!==e)throw Cm("Incompatible receiver, "+e+" required");return n}};if(NH||Np.state){var qn=Np.state||(Np.state=new $H);qn.get=qn.get,qn.has=qn.has,qn.set=qn.set,Fu=function(e,t){if(qn.has(e))throw Cm(Kv);return t.facade=e,qn.set(e,t),t},Si=function(e){return qn.get(e)||{}},Bu=function(e){return qn.has(e)}}else{var go=RH("state");LH[go]=!0,Fu=function(e,t){if(Op(e,go))throw Cm(Kv);return t.facade=e,jH(e,go,t),t},Si=function(e){return Op(e,go)?e[go]:{}},Bu=function(e){return Op(e,go)}}var o5={set:Fu,get:Si,has:Bu,enforce:DH,getterFor:FH},BH=Kh,UH=bt,HH=pb,VH=ga,GH=to,WH=e5,Qv=UH([].push),Dr=function(e){var t=e===1,n=e===2,r=e===3,a=e===4,o=e===6,s=e===7,l=e===5||o;return function(c,u,f,p){for(var m=VH(c),g=HH(m),h=BH(u,f),v=GH(g),y=0,x=p||WH,C=t?x(c,v):n||s?x(c,0):void 0,w,_;v>y;y++)if((l||y in g)&&(w=g[y],_=h(w,y,m),e))if(t)C[y]=_;else if(_)switch(e){case 3:return!0;case 5:return w;case 6:return y;case 2:Qv(C,w)}else switch(e){case 4:return!1;case 7:Qv(C,w)}return o?-1:r||a?a:C}},s5={forEach:Dr(0),map:Dr(1),filter:Dr(2),some:Dr(3),every:Dr(4),find:Dr(5),findIndex:Dr(6),filterReject:Dr(7)},uf=We,i5=Kt,l5=ur,zH=bt,qo=bn,Zo=Cs,qH=Et,St=wn,ZH=ma,xm=ha,df=dr,c5=X1,YH=ol,bm=tl,Mi=r5,Bb=n5,KH=sf,Ub=Rb,QH=lf,Hb=el,Vb=Gn,JH=nf,Gb=Hh,Jv=cf,XH=dH,u5=xs,eV=of,Wb=af,Xv=Yh,tV=wt,nV=a5,rV=dt,aV=Db,oV=sl,zb=o5,ff=s5.forEach,on=eV("hidden"),pf="Symbol",Ti="prototype",sV=zb.set,e3=zb.getterFor(pf),Bn=Object[Ti],La=i5.Symbol,Xs=La&&La[Ti],iV=i5.TypeError,Ip=i5.QObject,qb=Hb.f,Ea=Vb.f,Zb=Ub.f,lV=Gb.f,Yb=zH([].push),kr=u5("symbols"),il=u5("op-symbols"),cV=u5("wks"),wm=!Ip||!Ip[Ti]||!Ip[Ti].findChild,_m=qo&&qH(function(){return Mi(Ea({},"a",{get:function(){return Ea(this,"a",{value:7}).a}})).a!==7})?function(e,t,n){var r=qb(Bn,t);r&&delete Bn[t],Ea(e,t,n),r&&e!==Bn&&Ea(Bn,t,r)}:Ea,jp=function(e,t){var n=kr[e]=Mi(Xs);return sV(n,{type:pf,tag:e,description:t}),qo||(n.description=t),n},mf=function(t,n,r){t===Bn&&mf(il,n,r),xm(t);var a=c5(n);return xm(r),St(kr,a)?(r.enumerable?(St(t,on)&&t[on][a]&&(t[on][a]=!1),r=Mi(r,{enumerable:bm(0,!1)})):(St(t,on)||Ea(t,on,bm(1,{})),t[on][a]=!0),_m(t,a,r)):Ea(t,a,r)},d5=function(t,n){xm(t);var r=df(n),a=Bb(r).concat(Xb(r));return ff(a,function(o){(!qo||l5(Kb,r,o))&&mf(t,o,r[o])}),t},uV=function(t,n){return n===void 0?Mi(t):d5(Mi(t),n)},Kb=function(t){var n=c5(t),r=l5(lV,this,n);return this===Bn&&St(kr,n)&&!St(il,n)?!1:r||!St(this,n)||!St(kr,n)||St(this,on)&&this[on][n]?r:!0},Qb=function(t,n){var r=df(t),a=c5(n);if(!(r===Bn&&St(kr,a)&&!St(il,a))){var o=qb(r,a);return o&&St(kr,a)&&!(St(r,on)&&r[on][a])&&(o.enumerable=!0),o}},Jb=function(t){var n=Zb(df(t)),r=[];return ff(n,function(a){!St(kr,a)&&!St(Wb,a)&&Yb(r,a)}),r},Xb=function(e){var t=e===Bn,n=Zb(t?il:df(e)),r=[];return ff(n,function(a){St(kr,a)&&(!t||St(Bn,a))&&Yb(r,kr[a])}),r};Zo||(La=function(){if(ZH(Xs,this))throw iV("Symbol is not a constructor");var t=!arguments.length||arguments[0]===void 0?void 0:YH(arguments[0]),n=Xv(t),r=function(a){this===Bn&&l5(r,il,a),St(this,on)&&St(this[on],n)&&(this[on][n]=!1),_m(this,n,bm(1,a))};return qo&&wm&&_m(Bn,n,{configurable:!0,set:r}),jp(n,t)},Xs=La[Ti],Jv(Xs,"toString",function(){return e3(this).tag}),Jv(La,"withoutSetter",function(e){return jp(Xv(e),e)}),Gb.f=Kb,Vb.f=mf,JH.f=d5,Hb.f=Qb,KH.f=Ub.f=Jb,QH.f=Xb,nV.f=function(e){return jp(tV(e),e)},qo&&XH(Xs,"description",{configurable:!0,get:function(){return e3(this).description}}));uf({global:!0,constructor:!0,wrap:!0,forced:!Zo,sham:!Zo},{Symbol:La});ff(Bb(cV),function(e){rV(e)});uf({target:pf,stat:!0,forced:!Zo},{useSetter:function(){wm=!0},useSimple:function(){wm=!1}});uf({target:"Object",stat:!0,forced:!Zo,sham:!qo},{create:uV,defineProperty:mf,defineProperties:d5,getOwnPropertyDescriptor:Qb});uf({target:"Object",stat:!0,forced:!Zo},{getOwnPropertyNames:Jb});aV();oV(La,pf);Wb[on]=!0;var dV=Cs,ew=dV&&!!Symbol.for&&!!Symbol.keyFor,fV=We,pV=fr,mV=wn,gV=ol,tw=xs,hV=ew,Rp=tw("string-to-symbol-registry"),vV=tw("symbol-to-string-registry");fV({target:"Symbol",stat:!0,forced:!hV},{for:function(e){var t=gV(e);if(mV(Rp,t))return Rp[t];var n=pV("Symbol")(t);return Rp[t]=n,vV[n]=t,n}});var yV=We,CV=wn,xV=nl,bV=J1,wV=xs,_V=ew,t3=wV("symbol-to-string-registry");yV({target:"Symbol",stat:!0,forced:!_V},{keyFor:function(t){if(!xV(t))throw TypeError(bV(t)+" is not a symbol");if(CV(t3,t))return t3[t]}});var SV=bt,f5=SV([].slice),MV=bt,n3=bs,TV=Qt,r3=ys,EV=ol,a3=MV([].push),kV=function(e){if(TV(e))return e;if(n3(e)){for(var t=e.length,n=[],r=0;r<t;r++){var a=e[r];typeof a=="string"?a3(n,a):(typeof a=="number"||r3(a)==="Number"||r3(a)==="String")&&a3(n,EV(a))}var o=n.length,s=!0;return function(l,c){if(s)return s=!1,c;if(n3(this))return c;for(var u=0;u<o;u++)if(n[u]===l)return c}}},AV=We,nw=fr,rw=Bh,PV=ur,ll=bt,aw=Et,o3=Qt,s3=nl,ow=f5,OV=kV,NV=Cs,IV=String,ra=nw("JSON","stringify"),Zl=ll(/./.exec),i3=ll("".charAt),jV=ll("".charCodeAt),RV=ll("".replace),LV=ll(1 .toString),$V=/[\uD800-\uDFFF]/g,l3=/^[\uD800-\uDBFF]$/,c3=/^[\uDC00-\uDFFF]$/,u3=!NV||aw(function(){var e=nw("Symbol")("stringify detection");return ra([e])!=="[null]"||ra({a:e})!=="{}"||ra(Object(e))!=="{}"}),d3=aw(function(){return ra("\uDF06\uD834")!=='"\\udf06\\ud834"'||ra("\uDEAD")!=='"\\udead"'}),DV=function(e,t){var n=ow(arguments),r=OV(t);if(!(!o3(r)&&(e===void 0||s3(e))))return n[1]=function(a,o){if(o3(r)&&(o=PV(r,this,IV(a),o)),!s3(o))return o},rw(ra,null,n)},FV=function(e,t,n){var r=i3(n,t-1),a=i3(n,t+1);return Zl(l3,e)&&!Zl(c3,a)||Zl(c3,e)&&!Zl(l3,r)?"\\u"+LV(jV(e,0),16):e};ra&&AV({target:"JSON",stat:!0,arity:3,forced:u3||d3},{stringify:function(t,n,r){var a=ow(arguments),o=rw(u3?DV:ra,null,a);return d3&&typeof o=="string"?RV(o,$V,FV):o}});var BV=We,UV=Cs,HV=Et,sw=lf,VV=ga,GV=!UV||HV(function(){sw.f(1)});BV({target:"Object",stat:!0,forced:GV},{getOwnPropertySymbols:function(t){var n=sw.f;return n?n(VV(t)):[]}});var WV=dt;WV("asyncIterator");var zV=dt;zV("hasInstance");var qV=dt;qV("isConcatSpreadable");var ZV=dt;ZV("iterator");var YV=dt;YV("match");var KV=dt;KV("matchAll");var QV=dt;QV("replace");var JV=dt;JV("search");var XV=dt;XV("species");var eG=dt;eG("split");var tG=dt,nG=Db;tG("toPrimitive");nG();var rG=fr,aG=dt,oG=sl;aG("toStringTag");oG(rG("Symbol"),"Symbol");var sG=dt;sG("unscopables");var iG=Kt,lG=sl;lG(iG.JSON,"JSON",!0);var cG=Dt,uG=cG.Symbol,Ss={},Sm=bn,dG=wn,iw=Function.prototype,fG=Sm&&Object.getOwnPropertyDescriptor,p5=dG(iw,"name"),pG=p5&&(function(){}).name==="something",mG=p5&&(!Sm||Sm&&fG(iw,"name").configurable),gG={EXISTS:p5,PROPER:pG,CONFIGURABLE:mG},hG=Et,vG=!hG(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}),yG=wn,CG=Qt,xG=ga,bG=of,wG=vG,f3=bG("IE_PROTO"),Mm=Object,_G=Mm.prototype,lw=wG?Mm.getPrototypeOf:function(e){var t=xG(e);if(yG(t,f3))return t[f3];var n=t.constructor;return CG(n)&&t instanceof n?n.prototype:t instanceof Mm?_G:null},SG=Et,MG=Qt,TG=Nr,EG=r5,p3=lw,kG=cf,AG=wt,Tm=AG("iterator"),cw=!1,Sr,Lp,$p;[].keys&&($p=[].keys(),"next"in $p?(Lp=p3(p3($p)),Lp!==Object.prototype&&(Sr=Lp)):cw=!0);var PG=!TG(Sr)||SG(function(){var e={};return Sr[Tm].call(e)!==e});PG?Sr={}:Sr=EG(Sr);MG(Sr[Tm])||kG(Sr,Tm,function(){return this});var uw={IteratorPrototype:Sr,BUGGY_SAFARI_ITERATORS:cw},OG=uw.IteratorPrototype,NG=r5,IG=tl,jG=sl,RG=Ss,LG=function(){return this},$G=function(e,t,n,r){var a=t+" Iterator";return e.prototype=NG(OG,{next:IG(+!r,n)}),jG(e,a,!1,!0),RG[a]=LG,e},DG=We,FG=ur,dw=gG,BG=$G,UG=lw,HG=sl,m3=cf,VG=wt,g3=Ss,fw=uw,GG=dw.PROPER;dw.CONFIGURABLE;fw.IteratorPrototype;var Yl=fw.BUGGY_SAFARI_ITERATORS,Dp=VG("iterator"),h3="keys",Kl="values",v3="entries",WG=function(){return this},pw=function(e,t,n,r,a,o,s){BG(n,t,r);var l=function(x){if(x===a&&m)return m;if(!Yl&&x&&x in f)return f[x];switch(x){case h3:return function(){return new n(this,x)};case Kl:return function(){return new n(this,x)};case v3:return function(){return new n(this,x)}}return function(){return new n(this)}},c=t+" Iterator",u=!1,f=e.prototype,p=f[Dp]||f["@@iterator"]||a&&f[a],m=!Yl&&p||l(a),g=t==="Array"&&f.entries||p,h,v,y;if(g&&(h=UG(g.call(new e)),h!==Object.prototype&&h.next&&(HG(h,c,!0,!0),g3[c]=WG)),GG&&a===Kl&&p&&p.name!==Kl&&(u=!0,m=function(){return FG(p,this)}),a)if(v={values:l(Kl),keys:o?m:l(h3),entries:l(v3)},s)for(y in v)(Yl||u||!(y in f))&&m3(f,y,v[y]);else DG({target:t,proto:!0,forced:Yl||u},v);return s&&f[Dp]!==m&&m3(f,Dp,m,{name:a}),g3[t]=m,v},mw=function(e,t){return{value:e,done:t}},zG=dr,y3=Ss,gw=o5;Gn.f;var qG=pw,Ql=mw,hw="Array Iterator",ZG=gw.set,YG=gw.getterFor(hw);qG(Array,"Array",function(e,t){ZG(this,{type:hw,target:zG(e),index:0,kind:t})},function(){var e=YG(this),t=e.target,n=e.kind,r=e.index++;if(!t||r>=t.length)return e.target=void 0,Ql(void 0,!0);switch(n){case"keys":return Ql(r,!1);case"values":return Ql(t[r],!1)}return Ql([r,t[r]],!1)},"values");y3.Arguments=y3.Array;var KG={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},QG=KG,JG=Kt,XG=_s,eW=al,C3=Ss,tW=wt,x3=tW("toStringTag");for(var Fp in QG){var b3=JG[Fp],Bp=b3&&b3.prototype;Bp&&XG(Bp)!==x3&&eW(Bp,x3,Fp),C3[Fp]=C3.Array}var nW=uG,rW=nW,aW=wt,oW=Gn.f,w3=aW("metadata"),_3=Function.prototype;_3[w3]===void 0&&oW(_3,w3,{value:null});var sW=dt;sW("asyncDispose");var iW=dt;iW("dispose");var lW=dt;lW("metadata");var cW=rW,uW=cW,dW=fr,fW=bt,m5=dW("Symbol"),pW=m5.keyFor,mW=fW(m5.prototype.valueOf),vw=m5.isRegisteredSymbol||function(t){try{return pW(mW(t))!==void 0}catch{return!1}},gW=We,hW=vw;gW({target:"Symbol",stat:!0},{isRegisteredSymbol:hW});var vW=xs,yw=fr,yW=bt,CW=nl,xW=wt,Uu=yw("Symbol"),S3=Uu.isWellKnownSymbol,Cw=yw("Object","getOwnPropertyNames"),bW=yW(Uu.prototype.valueOf),M3=vW("wks");for(var Up=0,T3=Cw(Uu),wW=T3.length;Up<wW;Up++)try{var E3=T3[Up];CW(Uu[E3])&&xW(E3)}catch{}var xw=function(t){if(S3&&S3(t))return!0;try{for(var n=bW(t),r=0,a=Cw(M3),o=a.length;r<o;r++)if(M3[a[r]]==n)return!0}catch{}return!1},_W=We,SW=xw;_W({target:"Symbol",stat:!0,forced:!0},{isWellKnownSymbol:SW});var MW=dt;MW("matcher");var TW=dt;TW("observable");var EW=We,kW=vw;EW({target:"Symbol",stat:!0,name:"isRegisteredSymbol"},{isRegistered:kW});var AW=We,PW=xw;AW({target:"Symbol",stat:!0,name:"isWellKnownSymbol",forced:!0},{isWellKnown:PW});var OW=dt;OW("metadataKey");var NW=dt;NW("patternMatch");var IW=dt;IW("replaceAll");var jW=uW,RW=jW,LW=RW,$W=LW;const bw=ve($W);var g5=bt,DW=ef,FW=ol,BW=Gh,UW=g5("".charAt),k3=g5("".charCodeAt),HW=g5("".slice),A3=function(e){return function(t,n){var r=FW(BW(t)),a=DW(n),o=r.length,s,l;return a<0||a>=o?e?"":void 0:(s=k3(r,a),s<55296||s>56319||a+1===o||(l=k3(r,a+1))<56320||l>57343?e?UW(r,a):s:e?HW(r,a,a+2):(s-55296<<10)+(l-56320)+65536)}},VW={codeAt:A3(!1),charAt:A3(!0)},GW=VW.charAt,WW=ol,ww=o5,zW=pw,P3=mw,_w="String Iterator",qW=ww.set,ZW=ww.getterFor(_w);zW(String,"String",function(e){qW(this,{type:_w,string:WW(e),index:0})},function(){var t=ZW(this),n=t.string,r=t.index,a;return r>=n.length?P3(void 0,!0):(a=GW(n,r),t.index+=a.length,P3(a,!1))});var YW=_s,O3=qh,KW=Vh,QW=Ss,JW=wt,XW=JW("iterator"),h5=function(e){if(!KW(e))return O3(e,XW)||O3(e,"@@iterator")||QW[YW(e)]},ez=h5,tz=ez,nz=tz,rz=nz,az=rz,oz=az,sz=oz,iz=sz,lz=iz,cz=lz;const Sw=ve(cz);function uz(e,t){var n=e==null?null:typeof bw<"u"&&Sw(e)||e["@@iterator"];if(n!=null){var r=[],a=!0,o=!1,s,l;try{for(n=n.call(e);!(a=(s=n.next()).done)&&(r.push(s.value),!(t&&r.length===t));a=!0);}catch(c){o=!0,l=c}finally{try{!a&&n.return!=null&&n.return()}finally{if(o)throw l}}return r}}var dz=We,N3=bs,fz=Xh,pz=Nr,I3=rf,mz=to,gz=dr,hz=ws,vz=wt,yz=tf,Cz=f5,xz=yz("slice"),bz=vz("species"),Hp=Array,wz=Math.max;dz({target:"Array",proto:!0,forced:!xz},{slice:function(t,n){var r=gz(this),a=mz(r),o=I3(t,a),s=I3(n===void 0?a:n,a),l,c,u;if(N3(r)&&(l=r.constructor,fz(l)&&(l===Hp||N3(l.prototype))?l=void 0:pz(l)&&(l=l[bz],l===null&&(l=void 0)),l===Hp||l===void 0))return Cz(r,o,s);for(c=new(l===void 0?Hp:l)(wz(s-o,0)),u=0;o<s;o++,u++)o in r&&hz(c,u,r[o]);return c.length=u,c}});var _z=Dt,Ms=function(e){return _z[e+"Prototype"]},Sz=Ms,Mz=Sz("Array").slice,Tz=ma,Ez=Mz,Vp=Array.prototype,kz=function(e){var t=e.slice;return e===Vp||Tz(Vp,e)&&t===Vp.slice?Ez:t},Az=kz,Pz=Az,Oz=Pz,Nz=Oz,Iz=Nz,jz=Iz,Rz=jz,Lz=Rz;const $z=ve(Lz);var Dz=ur,j3=ha,Fz=qh,Bz=function(e,t,n){var r,a;j3(e);try{if(r=Fz(e,"return"),!r){if(t==="throw")throw n;return n}r=Dz(r,e)}catch(o){a=!0,r=o}if(t==="throw")throw n;if(a)throw r;return j3(r),n},Uz=ha,Hz=Bz,Vz=function(e,t,n,r){try{return r?t(Uz(n)[0],n[1]):t(n)}catch(a){Hz(e,"throw",a)}},Gz=wt,Wz=Ss,zz=Gz("iterator"),qz=Array.prototype,Zz=function(e){return e!==void 0&&(Wz.Array===e||qz[zz]===e)},Yz=ur,Kz=zh,Qz=ha,Jz=J1,Xz=h5,eq=TypeError,tq=function(e,t){var n=arguments.length<2?Xz(e):t;if(Kz(n))return Qz(Yz(n,e));throw eq(Jz(e)+" is not iterable")},nq=Kh,rq=ur,aq=ga,oq=Vz,sq=Zz,iq=Xh,lq=to,R3=ws,cq=tq,uq=h5,L3=Array,dq=function(t){var n=aq(t),r=iq(this),a=arguments.length,o=a>1?arguments[1]:void 0,s=o!==void 0;s&&(o=nq(o,a>2?arguments[2]:void 0));var l=uq(n),c=0,u,f,p,m,g,h;if(l&&!(this===L3&&sq(l)))for(m=cq(n,l),g=m.next,f=r?new this:[];!(p=rq(g,m)).done;c++)h=s?oq(m,o,[p.value,c],!0):p.value,R3(f,c,h);else for(u=lq(n),f=r?new this(u):L3(u);u>c;c++)h=s?o(n[c],c):n[c],R3(f,c,h);return f.length=c,f},fq=wt,Mw=fq("iterator"),Tw=!1;try{var pq=0,$3={next:function(){return{done:!!pq++}},return:function(){Tw=!0}};$3[Mw]=function(){return this},Array.from($3,function(){throw 2})}catch{}var mq=function(e,t){try{if(!t&&!Tw)return!1}catch{return!1}var n=!1;try{var r={};r[Mw]=function(){return{next:function(){return{done:n=!0}}}},e(r)}catch{}return n},gq=We,hq=dq,vq=mq,yq=!vq(function(e){Array.from(e)});gq({target:"Array",stat:!0,forced:yq},{from:hq});var Cq=Dt,xq=Cq.Array.from,bq=xq,wq=bq,_q=wq,Sq=_q,Mq=Sq,Tq=Mq,Eq=Tq,kq=Eq;const Ew=ve(kq);function Em(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function kw(e,t){var n;if(e){if(typeof e=="string")return Em(e,t);var r=$z(n=Object.prototype.toString.call(e)).call(n,8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Ew(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Em(e,t)}}function Aq(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function v5(e,t){return hB(e)||uz(e,t)||kw(e,t)||Aq()}var Aw={exports:{}};/*!
  Copyright (c) 2018 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/(function(e){(function(){var t={}.hasOwnProperty;function n(){for(var r=[],a=0;a<arguments.length;a++){var o=arguments[a];if(o){var s=typeof o;if(s==="string"||s==="number")r.push(o);else if(Array.isArray(o)){if(o.length){var l=n.apply(null,o);l&&r.push(l)}}else if(s==="object")if(o.toString===Object.prototype.toString)for(var c in o)t.call(o,c)&&o[c]&&r.push(c);else r.push(o.toString())}}return r.join(" ")}e.exports?(n.default=n,e.exports=n):window.classNames=n})()})(Aw);var Pq=Aw.exports;const Pw=ve(Pq);var Ow={exports:{}},Oq="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Nq=Oq,Iq=Nq;function Nw(){}function Iw(){}Iw.resetWarningCache=Nw;var jq=function(){function e(r,a,o,s,l,c){if(c!==Iq){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:Iw,resetWarningCache:Nw};return n.PropTypes=n,n};Ow.exports=jq();var Rq=Ow.exports;const Xn=ve(Rq);var jw=J.createContext({scrollTo:function(){return 0},scrollToBottom:function(){return 0},scrollToEnd:function(){return 0},scrollToStart:function(){return 0},scrollToTop:function(){return 0}});jw.displayName="ScrollToBottomFunctionContext";function y5(){return d.useContext(jw)}function Lq(){var e=y5(),t=e.scrollToEnd;return t}var Rw=J.createContext({atBottom:!0,atEnd:!0,atStart:!1,atTop:!0,mode:"bottom"});Rw.displayName="ScrollToBottomState1Context";var Lw=J.createContext({animating:!1,animatingToEnd:!1,sticky:!0});Lw.displayName="ScrollToBottomState2Context";var $w=J.createContext({animating:!1,animatingToEnd:!1,atBottom:!0,atEnd:!0,atStart:!1,atTop:!0,mode:"bottom",sticky:!0});$w.displayName="ScrollToBottomStateContext";var D3=[$w,Rw,Lw];function Dw(e){return d.useContext(D3[e]||D3[0])}function $q(){var e=Dw(2),t=e.sticky;return[t]}var C5=J.createContext({offsetHeight:0,scrollHeight:0,setTarget:function(){return 0},styleToClassName:function(){return""}});C5.displayName="ScrollToBottomInternalContext";function Fw(){return d.useContext(C5)}function Bw(){var e=Fw(),t=e.styleToClassName;return t}var Dq={backgroundColor:"rgba(0, 0, 0, .2)",borderRadius:10,borderWidth:0,bottom:5,cursor:"pointer",height:20,outline:0,position:"absolute",right:20,width:20,"&:hover":{backgroundColor:"rgba(0, 0, 0, .4)"},"&:active":{backgroundColor:"rgba(0, 0, 0, .6)"}},Uw=function(t){var n=t.children,r=t.className,a=$q(),o=v5(a,1),s=o[0],l=Bw()(Dq),c=Lq();return!s&&J.createElement("button",{className:Pw(l,(r||"")+""),onClick:c,type:"button"},n)};Uw.defaultProps={children:void 0,className:""};Uw.propTypes={children:Xn.any,className:Xn.string};var Hw={exports:{}},Fq=We,Bq=bn,F3=Gn.f;Fq({target:"Object",stat:!0,forced:Object.defineProperty!==F3,sham:!Bq},{defineProperty:F3});var Uq=Dt,Vw=Uq.Object,Hq=Hw.exports=function(t,n,r){return Vw.defineProperty(t,n,r)};Vw.defineProperty.sham&&(Hq.sham=!0);var Vq=Hw.exports,Gq=Vq,Gw=Gq,Wq=Gw,zq=Wq,qq=zq,Zq=qq,Yq=Zq,Kq=Yq;const Qq=ve(Kq);function _Ae(e,t,n){return t in e?Qq(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Jq(e){if(_b(e))return Em(e)}function Xq(e){if(typeof bw<"u"&&Sw(e)!=null||e["@@iterator"]!=null)return Ew(e)}function eZ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ka(e){return Jq(e)||Xq(e)||kw(e)||eZ()}var Jl=function(e){return e&&e.Math==Math&&e},_n=Jl(typeof globalThis=="object"&&globalThis)||Jl(typeof window=="object"&&window)||Jl(typeof self=="object"&&self)||Jl(typeof qt=="object"&&qt)||function(){return this}()||Function("return this")(),x5={},Wn=function(e){try{return!!e()}catch{return!0}},tZ=Wn,no=!tZ(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7}),Ww={},zw={}.propertyIsEnumerable,qw=Object.getOwnPropertyDescriptor,nZ=qw&&!zw.call({1:2},1);Ww.f=nZ?function(t){var n=qw(this,t);return!!n&&n.enumerable}:zw;var Zw=function(e,t){return{enumerable:!(e&1),configurable:!(e&2),writable:!(e&4),value:t}},rZ={}.toString,b5=function(e){return rZ.call(e).slice(8,-1)},aZ=Wn,oZ=b5,sZ="".split,iZ=aZ(function(){return!Object("z").propertyIsEnumerable(0)})?function(e){return oZ(e)=="String"?sZ.call(e,""):Object(e)}:Object,gf=function(e){if(e==null)throw TypeError("Can't call method on "+e);return e},lZ=iZ,cZ=gf,w5=function(e){return lZ(cZ(e))},Nn=function(e){return typeof e=="function"},uZ=Nn,cl=function(e){return typeof e=="object"?e!==null:uZ(e)},Gp=_n,dZ=Nn,fZ=function(e){return dZ(e)?e:void 0},hf=function(e,t){return arguments.length<2?fZ(Gp[e]):Gp[e]&&Gp[e][t]},pZ=hf,mZ=pZ("navigator","userAgent")||"",Yw=_n,Wp=mZ,B3=Yw.process,U3=Yw.Deno,H3=B3&&B3.versions||U3&&U3.version,V3=H3&&H3.v8,Zn,Hu;V3?(Zn=V3.split("."),Hu=Zn[0]<4?1:Zn[0]+Zn[1]):Wp&&(Zn=Wp.match(/Edge\/(\d+)/),(!Zn||Zn[1]>=74)&&(Zn=Wp.match(/Chrome\/(\d+)/),Zn&&(Hu=Zn[1])));var gZ=Hu&&+Hu,G3=gZ,hZ=Wn,Kw=!!Object.getOwnPropertySymbols&&!hZ(function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&G3&&G3<41}),vZ=Kw,Qw=vZ&&!Symbol.sham&&typeof Symbol.iterator=="symbol",yZ=Nn,CZ=hf,xZ=Qw,Jw=xZ?function(e){return typeof e=="symbol"}:function(e){var t=CZ("Symbol");return yZ(t)&&Object(e)instanceof t},bZ=function(e){try{return String(e)}catch{return"Object"}},wZ=Nn,_Z=bZ,SZ=function(e){if(wZ(e))return e;throw TypeError(_Z(e)+" is not a function")},MZ=SZ,Xw=function(e,t){var n=e[t];return n==null?void 0:MZ(n)},zp=Nn,qp=cl,TZ=function(e,t){var n,r;if(t==="string"&&zp(n=e.toString)&&!qp(r=n.call(e))||zp(n=e.valueOf)&&!qp(r=n.call(e))||t!=="string"&&zp(n=e.toString)&&!qp(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")},e_={exports:{}},W3=_n,_5=function(e,t){try{Object.defineProperty(W3,e,{value:t,configurable:!0,writable:!0})}catch{W3[e]=t}return t},EZ=_n,kZ=_5,z3="__core-js_shared__",AZ=EZ[z3]||kZ(z3,{}),S5=AZ,q3=S5;(e_.exports=function(e,t){return q3[e]||(q3[e]=t!==void 0?t:{})})("versions",[]).push({version:"3.18.3",mode:"global",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"});var M5=e_.exports,PZ=gf,t_=function(e){return Object(PZ(e))},OZ=t_,NZ={}.hasOwnProperty,ro=Object.hasOwn||function(t,n){return NZ.call(OZ(t),n)},IZ=0,jZ=Math.random(),n_=function(e){return"Symbol("+String(e===void 0?"":e)+")_"+(++IZ+jZ).toString(36)},RZ=_n,LZ=M5,Z3=ro,$Z=n_,Y3=Kw,DZ=Qw,Fs=LZ("wks"),ui=RZ.Symbol,FZ=DZ?ui:ui&&ui.withoutSetter||$Z,ul=function(e){return(!Z3(Fs,e)||!(Y3||typeof Fs[e]=="string"))&&(Y3&&Z3(ui,e)?Fs[e]=ui[e]:Fs[e]=FZ("Symbol."+e)),Fs[e]},K3=cl,Q3=Jw,BZ=Xw,UZ=TZ,HZ=ul,VZ=HZ("toPrimitive"),GZ=function(e,t){if(!K3(e)||Q3(e))return e;var n=BZ(e,VZ),r;if(n){if(t===void 0&&(t="default"),r=n.call(e,t),!K3(r)||Q3(r))return r;throw TypeError("Can't convert object to primitive value")}return t===void 0&&(t="number"),UZ(e,t)},WZ=GZ,zZ=Jw,r_=function(e){var t=WZ(e,"string");return zZ(t)?t:String(t)},qZ=_n,J3=cl,km=qZ.document,ZZ=J3(km)&&J3(km.createElement),a_=function(e){return ZZ?km.createElement(e):{}},YZ=no,KZ=Wn,QZ=a_,o_=!YZ&&!KZ(function(){return Object.defineProperty(QZ("div"),"a",{get:function(){return 7}}).a!=7}),JZ=no,XZ=Ww,eY=Zw,tY=w5,nY=r_,rY=ro,aY=o_,X3=Object.getOwnPropertyDescriptor;x5.f=JZ?X3:function(t,n){if(t=tY(t),n=nY(n),aY)try{return X3(t,n)}catch{}if(rY(t,n))return eY(!XZ.f.call(t,n),t[n])};var dl={},oY=cl,va=function(e){if(oY(e))return e;throw TypeError(String(e)+" is not an object")},sY=no,iY=o_,e7=va,lY=r_,t7=Object.defineProperty;dl.f=sY?t7:function(t,n,r){if(e7(t),n=lY(n),e7(r),iY)try{return t7(t,n,r)}catch{}if("get"in r||"set"in r)throw TypeError("Accessors not supported");return"value"in r&&(t[n]=r.value),t};var cY=no,uY=dl,dY=Zw,vf=cY?function(e,t,n){return uY.f(e,t,dY(1,n))}:function(e,t,n){return e[t]=n,e},s_={exports:{}},fY=Nn,Am=S5,pY=Function.toString;fY(Am.inspectSource)||(Am.inspectSource=function(e){return pY.call(e)});var i_=Am.inspectSource,mY=_n,gY=Nn,hY=i_,n7=mY.WeakMap,vY=gY(n7)&&/native code/.test(hY(n7)),yY=M5,CY=n_,r7=yY("keys"),l_=function(e){return r7[e]||(r7[e]=CY(e))},T5={},xY=vY,bY=_n,wY=cl,_Y=vf,Zp=ro,Yp=S5,SY=l_,MY=T5,a7="Object already initialized",TY=bY.WeakMap,Vu,Ei,Gu,EY=function(e){return Gu(e)?Ei(e):Vu(e,{})},kY=function(e){return function(t){var n;if(!wY(t)||(n=Ei(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}};if(xY||Yp.state){var xa=Yp.state||(Yp.state=new TY),AY=xa.get,o7=xa.has,PY=xa.set;Vu=function(e,t){if(o7.call(xa,e))throw new TypeError(a7);return t.facade=e,PY.call(xa,e,t),t},Ei=function(e){return AY.call(xa,e)||{}},Gu=function(e){return o7.call(xa,e)}}else{var ho=SY("state");MY[ho]=!0,Vu=function(e,t){if(Zp(e,ho))throw new TypeError(a7);return t.facade=e,_Y(e,ho,t),t},Ei=function(e){return Zp(e,ho)?e[ho]:{}},Gu=function(e){return Zp(e,ho)}}var c_={set:Vu,get:Ei,has:Gu,enforce:EY,getterFor:kY},Pm=no,OY=ro,u_=Function.prototype,NY=Pm&&Object.getOwnPropertyDescriptor,E5=OY(u_,"name"),IY=E5&&(function(){}).name==="something",jY=E5&&(!Pm||Pm&&NY(u_,"name").configurable),k5={EXISTS:E5,PROPER:IY,CONFIGURABLE:jY},RY=_n,s7=Nn,LY=ro,i7=vf,$Y=_5,DY=i_,d_=c_,FY=k5.CONFIGURABLE,BY=d_.get,UY=d_.enforce,HY=String(String).split("String");(s_.exports=function(e,t,n,r){var a=r?!!r.unsafe:!1,o=r?!!r.enumerable:!1,s=r?!!r.noTargetGet:!1,l=r&&r.name!==void 0?r.name:t,c;if(s7(n)&&(String(l).slice(0,7)==="Symbol("&&(l="["+String(l).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!LY(n,"name")||FY&&n.name!==l)&&i7(n,"name",l),c=UY(n),c.source||(c.source=HY.join(typeof l=="string"?l:""))),e===RY){o?e[t]=n:$Y(t,n);return}else a?!s&&e[t]&&(o=!0):delete e[t];o?e[t]=n:i7(e,t,n)})(Function.prototype,"toString",function(){return s7(this)&&BY(this).source||DY(this)});var fl=s_.exports,f_={},VY=Math.ceil,GY=Math.floor,yf=function(e){var t=+e;return t!==t||t===0?0:(t>0?GY:VY)(t)},WY=yf,zY=Math.max,qY=Math.min,ZY=function(e,t){var n=WY(e);return n<0?zY(n+t,0):qY(n,t)},YY=yf,KY=Math.min,p_=function(e){return e>0?KY(YY(e),9007199254740991):0},QY=p_,JY=function(e){return QY(e.length)},XY=w5,eK=ZY,tK=JY,l7=function(e){return function(t,n,r){var a=XY(t),o=tK(a),s=eK(r,o),l;if(e&&n!=n){for(;o>s;)if(l=a[s++],l!=l)return!0}else for(;o>s;s++)if((e||s in a)&&a[s]===n)return e||s||0;return!e&&-1}},nK={includes:l7(!0),indexOf:l7(!1)},Kp=ro,rK=w5,aK=nK.indexOf,oK=T5,m_=function(e,t){var n=rK(e),r=0,a=[],o;for(o in n)!Kp(oK,o)&&Kp(n,o)&&a.push(o);for(;t.length>r;)Kp(n,o=t[r++])&&(~aK(a,o)||a.push(o));return a},A5=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],sK=m_,iK=A5,lK=iK.concat("length","prototype");f_.f=Object.getOwnPropertyNames||function(t){return sK(t,lK)};var g_={};g_.f=Object.getOwnPropertySymbols;var cK=hf,uK=f_,dK=g_,fK=va,pK=cK("Reflect","ownKeys")||function(t){var n=uK.f(fK(t)),r=dK.f;return r?n.concat(r(t)):n},mK=ro,gK=pK,hK=x5,vK=dl,yK=function(e,t){for(var n=gK(t),r=vK.f,a=hK.f,o=0;o<n.length;o++){var s=n[o];mK(e,s)||r(e,s,a(t,s))}},CK=Wn,xK=Nn,bK=/#|\.prototype\./,pl=function(e,t){var n=_K[wK(e)];return n==MK?!0:n==SK?!1:xK(t)?CK(t):!!t},wK=pl.normalize=function(e){return String(e).replace(bK,".").toLowerCase()},_K=pl.data={},SK=pl.NATIVE="N",MK=pl.POLYFILL="P",TK=pl,Qp=_n,EK=x5.f,kK=vf,AK=fl,PK=_5,OK=yK,NK=TK,IK=function(e,t){var n=e.target,r=e.global,a=e.stat,o,s,l,c,u,f;if(r?s=Qp:a?s=Qp[n]||PK(n,{}):s=(Qp[n]||{}).prototype,s)for(l in t){if(u=t[l],e.noTargetGet?(f=EK(s,l),c=f&&f.value):c=s[l],o=NK(r?l:n+(a?".":"#")+l,e.forced),!o&&c!==void 0){if(typeof u==typeof c)continue;OK(u,c)}(e.sham||c&&c.sham)&&kK(u,"sham",!0),AK(s,l,u,e)}},jK=ul,RK=jK("toStringTag"),h_={};h_[RK]="z";var P5=String(h_)==="[object z]",LK=P5,$K=Nn,Ic=b5,DK=ul,FK=DK("toStringTag"),BK=Ic(function(){return arguments}())=="Arguments",UK=function(e,t){try{return e[t]}catch{}},v_=LK?Ic:function(e){var t,n,r;return e===void 0?"Undefined":e===null?"Null":typeof(n=UK(t=Object(e),FK))=="string"?n:BK?Ic(t):(r=Ic(t))=="Object"&&$K(t.callee)?"Arguments":r},HK=v_,Cf=function(e){if(HK(e)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return String(e)},VK=va,y_=function(){var e=VK(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t},O5={},C_=Wn,GK=_n,x_=GK.RegExp;O5.UNSUPPORTED_Y=C_(function(){var e=x_("a","y");return e.lastIndex=2,e.exec("abcd")!=null});O5.BROKEN_CARET=C_(function(){var e=x_("^r","gy");return e.lastIndex=2,e.exec("str")!=null});var WK=m_,zK=A5,qK=Object.keys||function(t){return WK(t,zK)},ZK=no,YK=dl,KK=va,QK=qK,JK=ZK?Object.defineProperties:function(t,n){KK(t);for(var r=QK(n),a=r.length,o=0,s;a>o;)YK.f(t,s=r[o++],n[s]);return t},XK=hf,eQ=XK("document","documentElement"),tQ=va,nQ=JK,c7=A5,rQ=T5,aQ=eQ,oQ=a_,sQ=l_,u7=">",d7="<",Om="prototype",Nm="script",b_=sQ("IE_PROTO"),Jp=function(){},w_=function(e){return d7+Nm+u7+e+d7+"/"+Nm+u7},f7=function(e){e.write(w_("")),e.close();var t=e.parentWindow.Object;return e=null,t},iQ=function(){var e=oQ("iframe"),t="java"+Nm+":",n;return e.style.display="none",aQ.appendChild(e),e.src=String(t),n=e.contentWindow.document,n.open(),n.write(w_("document.F=Object")),n.close(),n.F},Xl,jc=function(){try{Xl=new ActiveXObject("htmlfile")}catch{}jc=typeof document<"u"?document.domain&&Xl?f7(Xl):iQ():f7(Xl);for(var e=c7.length;e--;)delete jc[Om][c7[e]];return jc()};rQ[b_]=!0;var lQ=Object.create||function(t,n){var r;return t!==null?(Jp[Om]=tQ(t),r=new Jp,Jp[Om]=null,r[b_]=t):r=jc(),n===void 0?r:nQ(r,n)},cQ=Wn,uQ=_n,dQ=uQ.RegExp,fQ=cQ(function(){var e=dQ(".","s");return!(e.dotAll&&e.exec(`
`)&&e.flags==="s")}),pQ=Wn,mQ=_n,gQ=mQ.RegExp,hQ=pQ(function(){var e=gQ("(?<a>b)","g");return e.exec("b").groups.a!=="b"||"b".replace(e,"$<a>c")!=="bc"}),vQ=Cf,yQ=y_,p7=O5,CQ=M5,xQ=lQ,bQ=c_.get,wQ=fQ,_Q=hQ,Wu=RegExp.prototype.exec,SQ=CQ("native-string-replace",String.prototype.replace),Im=Wu,jm=function(){var e=/a/,t=/b*/g;return Wu.call(e,"a"),Wu.call(t,"a"),e.lastIndex!==0||t.lastIndex!==0}(),__=p7.UNSUPPORTED_Y||p7.BROKEN_CARET,Rm=/()??/.exec("")[1]!==void 0,MQ=jm||Rm||__||wQ||_Q;MQ&&(Im=function(t){var n=this,r=bQ(n),a=vQ(t),o=r.raw,s,l,c,u,f,p,m;if(o)return o.lastIndex=n.lastIndex,s=Im.call(o,a),n.lastIndex=o.lastIndex,s;var g=r.groups,h=__&&n.sticky,v=yQ.call(n),y=n.source,x=0,C=a;if(h&&(v=v.replace("y",""),v.indexOf("g")===-1&&(v+="g"),C=a.slice(n.lastIndex),n.lastIndex>0&&(!n.multiline||n.multiline&&a.charAt(n.lastIndex-1)!==`
`)&&(y="(?: "+y+")",C=" "+C,x++),l=new RegExp("^(?:"+y+")",v)),Rm&&(l=new RegExp("^"+y+"$(?!\\s)",v)),jm&&(c=n.lastIndex),u=Wu.call(h?l:n,C),h?u?(u.input=u.input.slice(x),u[0]=u[0].slice(x),u.index=n.lastIndex,n.lastIndex+=u[0].length):n.lastIndex=0:jm&&u&&(n.lastIndex=n.global?u.index+u[0].length:c),Rm&&u&&u.length>1&&SQ.call(u[0],l,function(){for(f=1;f<arguments.length-2;f++)arguments[f]===void 0&&(u[f]=void 0)}),u&&g)for(u.groups=p=xQ(null),f=0;f<g.length;f++)m=g[f],p[m[0]]=u[m[1]];return u});var N5=Im,TQ=IK,m7=N5;TQ({target:"RegExp",proto:!0,forced:/./.exec!==m7},{exec:m7});var g7=fl,EQ=N5,h7=Wn,S_=ul,kQ=vf,AQ=S_("species"),Xp=RegExp.prototype,PQ=function(e,t,n,r){var a=S_(e),o=!h7(function(){var u={};return u[a]=function(){return 7},""[e](u)!=7}),s=o&&!h7(function(){var u=!1,f=/a/;return e==="split"&&(f={},f.constructor={},f.constructor[AQ]=function(){return f},f.flags="",f[a]=/./[a]),f.exec=function(){return u=!0,null},f[a](""),!u});if(!o||!s||n){var l=/./[a],c=t(a,""[e],function(u,f,p,m,g){var h=f.exec;return h===EQ||h===Xp.exec?o&&!g?{done:!0,value:l.call(f,p,m)}:{done:!0,value:u.call(p,f,m)}:{done:!1}});g7(String.prototype,e,c[0]),g7(Xp,a,c[1])}r&&kQ(Xp[a],"sham",!0)},OQ=yf,NQ=Cf,IQ=gf,v7=function(e){return function(t,n){var r=NQ(IQ(t)),a=OQ(n),o=r.length,s,l;return a<0||a>=o?e?"":void 0:(s=r.charCodeAt(a),s<55296||s>56319||a+1===o||(l=r.charCodeAt(a+1))<56320||l>57343?e?r.charAt(a):s:e?r.slice(a,a+2):(s-55296<<10)+(l-56320)+65536)}},jQ={codeAt:v7(!1),charAt:v7(!0)},RQ=jQ.charAt,LQ=function(e,t,n){return t+(n?RQ(e,t).length:1)},$Q=t_,DQ=Math.floor,FQ="".replace,BQ=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,UQ=/\$([$&'`]|\d{1,2})/g,HQ=function(e,t,n,r,a,o){var s=n+e.length,l=r.length,c=UQ;return a!==void 0&&(a=$Q(a),c=BQ),FQ.call(o,c,function(u,f){var p;switch(f.charAt(0)){case"$":return"$";case"&":return e;case"`":return t.slice(0,n);case"'":return t.slice(s);case"<":p=a[f.slice(1,-1)];break;default:var m=+f;if(m===0)return u;if(m>l){var g=DQ(m/10);return g===0?u:g<=l?r[g-1]===void 0?f.charAt(1):r[g-1]+f.charAt(1):u}p=r[m-1]}return p===void 0?"":p})},VQ=va,GQ=Nn,WQ=b5,zQ=N5,qQ=function(e,t){var n=e.exec;if(GQ(n)){var r=n.call(e,t);return r!==null&&VQ(r),r}if(WQ(e)==="RegExp")return zQ.call(e,t);throw TypeError("RegExp#exec called on incompatible receiver")},ZQ=PQ,YQ=Wn,KQ=va,QQ=Nn,JQ=yf,XQ=p_,vo=Cf,eJ=gf,tJ=LQ,nJ=Xw,rJ=HQ,aJ=qQ,oJ=ul,Lm=oJ("replace"),sJ=Math.max,iJ=Math.min,lJ=function(e){return e===void 0?e:String(e)},cJ=function(){return"a".replace(/./,"$0")==="$0"}(),y7=function(){return/./[Lm]?/./[Lm]("a","$0")==="":!1}(),uJ=!YQ(function(){var e=/./;return e.exec=function(){var t=[];return t.groups={a:"7"},t},"".replace(e,"$<a>")!=="7"});ZQ("replace",function(e,t,n){var r=y7?"$":"$0";return[function(o,s){var l=eJ(this),c=o==null?void 0:nJ(o,Lm);return c?c.call(o,l,s):t.call(vo(l),o,s)},function(a,o){var s=KQ(this),l=vo(a);if(typeof o=="string"&&o.indexOf(r)===-1&&o.indexOf("$<")===-1){var c=n(t,s,l,o);if(c.done)return c.value}var u=QQ(o);u||(o=vo(o));var f=s.global;if(f){var p=s.unicode;s.lastIndex=0}for(var m=[];;){var g=aJ(s,l);if(g===null||(m.push(g),!f))break;var h=vo(g[0]);h===""&&(s.lastIndex=tJ(l,XQ(s.lastIndex),p))}for(var v="",y=0,x=0;x<m.length;x++){g=m[x];for(var C=vo(g[0]),w=sJ(iJ(JQ(g.index),l.length),0),_=[],E=1;E<g.length;E++)_.push(lJ(g[E]));var T=g.groups;if(u){var M=[C].concat(_,w,l);T!==void 0&&M.push(T);var A=vo(o.apply(void 0,M))}else A=rJ(C,l,w,_,T,o);w>=y&&(v+=l.slice(y,w)+A,y=w+C.length)}return v+l.slice(y)}]},!uJ||!cJ||y7);var dJ=typeof Bun=="function"&&Bun&&typeof Bun.version=="string",fJ=TypeError,pJ=function(e,t){if(e<t)throw fJ("Not enough arguments");return e},M_=Kt,mJ=Bh,gJ=Qt,hJ=dJ,vJ=gb,yJ=f5,CJ=pJ,xJ=M_.Function,bJ=/MSIE .\./.test(vJ)||hJ&&function(){var e=M_.Bun.version.split(".");return e.length<3||e[0]==="0"&&(e[1]<3||e[1]==="3"&&e[2]==="0")}(),T_=function(e,t){var n=t?2:1;return bJ?function(r,a){var o=CJ(arguments.length,1)>n,s=gJ(r)?r:xJ(r),l=o?yJ(arguments,n):[],c=o?function(){mJ(s,this,l)}:s;return t?e(c,a):e(c)}:e},wJ=We,E_=Kt,_J=T_,C7=_J(E_.setInterval,!0);wJ({global:!0,bind:!0,forced:E_.setInterval!==C7},{setInterval:C7});var SJ=We,k_=Kt,MJ=T_,x7=MJ(k_.setTimeout,!0);SJ({global:!0,bind:!0,forced:k_.setTimeout!==x7},{setTimeout:x7});var TJ=Dt,EJ=TJ.setInterval,kJ=EJ;const SAe=ve(kJ);var AJ=Et,A_=function(e,t){var n=[][e];return!!n&&AJ(function(){n.call(null,t||function(){return 1},1)})},PJ=We,OJ=Uh,NJ=Ob.indexOf,IJ=A_,$m=OJ([].indexOf),P_=!!$m&&1/$m([1],1,-0)<0,jJ=P_||!IJ("indexOf");PJ({target:"Array",proto:!0,forced:jJ},{indexOf:function(t){var n=arguments.length>1?arguments[1]:void 0;return P_?$m(this,t,n)||0:NJ(this,t,n)}});var RJ=Ms,LJ=RJ("Array").indexOf,$J=ma,DJ=LJ,e0=Array.prototype,FJ=function(e){var t=e.indexOf;return e===e0||$J(e0,e)&&t===e0.indexOf?DJ:t},BJ=FJ,UJ=BJ,HJ=UJ;const MAe=ve(HJ);var VJ=bn,GJ=bs,WJ=TypeError,zJ=Object.getOwnPropertyDescriptor,qJ=VJ&&!function(){if(this!==void 0)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(e){return e instanceof TypeError}}(),ZJ=qJ?function(e,t){if(GJ(e)&&!zJ(e,"length").writable)throw WJ("Cannot set read only .length");return e.length=t}:function(e,t){return e.length=t},b7=J1,YJ=TypeError,KJ=function(e,t){if(!delete e[t])throw YJ("Cannot delete property "+b7(t)+" of "+b7(e))},QJ=We,JJ=ga,XJ=rf,eX=ef,tX=to,nX=ZJ,rX=Sb,aX=e5,oX=ws,t0=KJ,sX=tf,iX=sX("splice"),lX=Math.max,cX=Math.min;QJ({target:"Array",proto:!0,forced:!iX},{splice:function(t,n){var r=JJ(this),a=tX(r),o=XJ(t,a),s=arguments.length,l,c,u,f,p,m;for(s===0?l=c=0:s===1?(l=0,c=a-o):(l=s-2,c=cX(lX(eX(n),0),a-o)),rX(a+l-c),u=aX(r,c),f=0;f<c;f++)p=o+f,p in r&&oX(u,f,r[p]);if(u.length=c,l<c){for(f=o;f<a-c;f++)p=f+c,m=f+l,p in r?r[m]=r[p]:t0(r,m);for(f=a;f>a-c+l;f--)t0(r,f-1)}else if(l>c)for(f=a-c;f>o;f--)p=f+c-1,m=f+l-1,p in r?r[m]=r[p]:t0(r,m);for(f=0;f<l;f++)r[f+o]=arguments[f+2];return nX(r,a-c+l),u}});var uX=Ms,dX=uX("Array").splice,fX=ma,pX=dX,n0=Array.prototype,mX=function(e){var t=e.splice;return e===n0||fX(n0,e)&&t===n0.splice?pX:t},gX=mX,hX=gX,vX=hX;const TAe=ve(vX);var yX=Ms,CX=yX("Array").concat,xX=ma,bX=CX,r0=Array.prototype,wX=function(e){var t=e.concat;return e===r0||xX(r0,e)&&t===r0.concat?bX:t},_X=wX,SX=_X,MX=SX;const ki=ve(MX);var TX=We,EX=bt,O_=Date,kX=EX(O_.prototype.getTime);TX({target:"Date",stat:!0},{now:function(){return kX(new O_)}});var AX=Dt,PX=AX.Date.now,OX=PX,NX=OX,IX=NX;const Ai=ve(IX);var jX=s5.forEach,RX=A_,LX=RX("forEach"),$X=LX?[].forEach:function(t){return jX(this,t,arguments.length>1?arguments[1]:void 0)},DX=We,w7=$X;DX({target:"Array",proto:!0,forced:[].forEach!==w7},{forEach:w7});var FX=Ms,BX=FX("Array").forEach,UX=BX,HX=UX,VX=_s,GX=wn,WX=ma,zX=HX,a0=Array.prototype,qX={DOMTokenList:!0,NodeList:!0},ZX=function(e){var t=e.forEach;return e===a0||WX(a0,e)&&t===a0.forEach||GX(qX,VX(e))?zX:t},YX=ZX;const KX=ve(YX);var QX=We,JX=ga,N_=n5,XX=Et,eee=XX(function(){N_(1)});QX({target:"Object",stat:!0,forced:eee},{keys:function(t){return N_(JX(t))}});var tee=Dt,nee=tee.Object.keys,ree=nee,aee=ree,oee=aee;const EAe=ve(oee);var see=Dt,iee=see.Object.getOwnPropertySymbols,lee=iee,cee=lee,uee=cee;const kAe=ve(uee);var dee=We,fee=s5.filter,pee=tf,mee=pee("filter");dee({target:"Array",proto:!0,forced:!mee},{filter:function(t){return fee(this,t,arguments.length>1?arguments[1]:void 0)}});var gee=Ms,hee=gee("Array").filter,vee=ma,yee=hee,o0=Array.prototype,Cee=function(e){var t=e.filter;return e===o0||vee(o0,e)&&t===o0.filter?yee:t},xee=Cee,bee=xee,wee=bee;const AAe=ve(wee);var I_={exports:{}},_ee=We,See=Et,Mee=dr,j_=el.f,R_=bn,Tee=!R_||See(function(){j_(1)});_ee({target:"Object",stat:!0,forced:Tee,sham:!R_},{getOwnPropertyDescriptor:function(t,n){return j_(Mee(t),n)}});var Eee=Dt,L_=Eee.Object,kee=I_.exports=function(t,n){return L_.getOwnPropertyDescriptor(t,n)};L_.getOwnPropertyDescriptor.sham&&(kee.sham=!0);var Aee=I_.exports,Pee=Aee,Oee=Pee,Nee=Oee;const PAe=ve(Nee);var Iee=fr,jee=bt,Ree=sf,Lee=lf,$ee=ha,Dee=jee([].concat),Fee=Iee("Reflect","ownKeys")||function(t){var n=Ree.f($ee(t)),r=Lee.f;return r?Dee(n,r(t)):n},Bee=We,Uee=bn,Hee=Fee,Vee=dr,Gee=el,Wee=ws;Bee({target:"Object",stat:!0,sham:!Uee},{getOwnPropertyDescriptors:function(t){for(var n=Vee(t),r=Gee.f,a=Hee(n),o={},s=0,l,c;a.length>s;)c=r(n,l=a[s++]),c!==void 0&&Wee(o,l,c);return o}});var zee=Dt,qee=zee.Object.getOwnPropertyDescriptors,Zee=qee,Yee=Zee,Kee=Yee;const OAe=ve(Kee);var $_={exports:{}},Qee=We,Jee=bn,_7=nf.f;Qee({target:"Object",stat:!0,forced:Object.defineProperties!==_7,sham:!Jee},{defineProperties:_7});var Xee=Dt,D_=Xee.Object,ete=$_.exports=function(t,n){return D_.defineProperties(t,n)};D_.defineProperties.sham&&(ete.sham=!0);var tte=$_.exports,nte=tte,rte=nte,ate=rte;const NAe=ve(ate);var ote=Gw;const IAe=ve(ote);function ste(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function ite(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var lte=function(){function e(n){var r=this;this._insertTag=function(a){var o;r.tags.length===0?r.insertionPoint?o=r.insertionPoint.nextSibling:r.prepend?o=r.container.firstChild:o=r.before:o=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(a,o),r.tags.push(a)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(r){r.forEach(this._insertTag)},t.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(ite(this));var a=this.tags[this.tags.length-1];if(this.isSpeedy){var o=ste(a);try{o.insertRule(r,o.cssRules.length)}catch{}}else a.appendChild(document.createTextNode(r));this.ctr++},t.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},e}(),Ut="-ms-",zu="-moz-",Ae="-webkit-",F_="comm",I5="rule",j5="decl",cte="@import",B_="@keyframes",ute="@layer",dte=Math.abs,xf=String.fromCharCode,fte=Object.assign;function pte(e,t){return Ot(e,0)^45?(((t<<2^Ot(e,0))<<2^Ot(e,1))<<2^Ot(e,2))<<2^Ot(e,3):0}function U_(e){return e.trim()}function mte(e,t){return(e=t.exec(e))?e[0]:e}function Pe(e,t,n){return e.replace(t,n)}function Dm(e,t){return e.indexOf(t)}function Ot(e,t){return e.charCodeAt(t)|0}function Pi(e,t,n){return e.slice(t,n)}function er(e){return e.length}function R5(e){return e.length}function ec(e,t){return t.push(e),e}function gte(e,t){return e.map(t).join("")}var bf=1,Yo=1,H_=0,ln=0,ht=0,Ts="";function wf(e,t,n,r,a,o,s){return{value:e,root:t,parent:n,type:r,props:a,children:o,line:bf,column:Yo,length:s,return:""}}function Bs(e,t){return fte(wf("",null,null,"",null,null,0),e,{length:-e.length},t)}function hte(){return ht}function vte(){return ht=ln>0?Ot(Ts,--ln):0,Yo--,ht===10&&(Yo=1,bf--),ht}function hn(){return ht=ln<H_?Ot(Ts,ln++):0,Yo++,ht===10&&(Yo=1,bf++),ht}function ar(){return Ot(Ts,ln)}function Rc(){return ln}function ml(e,t){return Pi(Ts,e,t)}function Oi(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function V_(e){return bf=Yo=1,H_=er(Ts=e),ln=0,[]}function G_(e){return Ts="",e}function Lc(e){return U_(ml(ln-1,Fm(e===91?e+2:e===40?e+1:e)))}function yte(e){for(;(ht=ar())&&ht<33;)hn();return Oi(e)>2||Oi(ht)>3?"":" "}function Cte(e,t){for(;--t&&hn()&&!(ht<48||ht>102||ht>57&&ht<65||ht>70&&ht<97););return ml(e,Rc()+(t<6&&ar()==32&&hn()==32))}function Fm(e){for(;hn();)switch(ht){case e:return ln;case 34:case 39:e!==34&&e!==39&&Fm(ht);break;case 40:e===41&&Fm(e);break;case 92:hn();break}return ln}function xte(e,t){for(;hn()&&e+ht!==57;)if(e+ht===84&&ar()===47)break;return"/*"+ml(t,ln-1)+"*"+xf(e===47?e:hn())}function bte(e){for(;!Oi(ar());)hn();return ml(e,ln)}function wte(e){return G_($c("",null,null,null,[""],e=V_(e),0,[0],e))}function $c(e,t,n,r,a,o,s,l,c){for(var u=0,f=0,p=s,m=0,g=0,h=0,v=1,y=1,x=1,C=0,w="",_=a,E=o,T=r,M=w;y;)switch(h=C,C=hn()){case 40:if(h!=108&&Ot(M,p-1)==58){Dm(M+=Pe(Lc(C),"&","&\f"),"&\f")!=-1&&(x=-1);break}case 34:case 39:case 91:M+=Lc(C);break;case 9:case 10:case 13:case 32:M+=yte(h);break;case 92:M+=Cte(Rc()-1,7);continue;case 47:switch(ar()){case 42:case 47:ec(_te(xte(hn(),Rc()),t,n),c);break;default:M+="/"}break;case 123*v:l[u++]=er(M)*x;case 125*v:case 59:case 0:switch(C){case 0:case 125:y=0;case 59+f:x==-1&&(M=Pe(M,/\f/g,"")),g>0&&er(M)-p&&ec(g>32?M7(M+";",r,n,p-1):M7(Pe(M," ","")+";",r,n,p-2),c);break;case 59:M+=";";default:if(ec(T=S7(M,t,n,u,f,a,l,w,_=[],E=[],p),o),C===123)if(f===0)$c(M,t,T,T,_,o,p,l,E);else switch(m===99&&Ot(M,3)===110?100:m){case 100:case 108:case 109:case 115:$c(e,T,T,r&&ec(S7(e,T,T,0,0,a,l,w,a,_=[],p),E),a,E,p,l,r?_:E);break;default:$c(M,T,T,T,[""],E,0,l,E)}}u=f=g=0,v=x=1,w=M="",p=s;break;case 58:p=1+er(M),g=h;default:if(v<1){if(C==123)--v;else if(C==125&&v++==0&&vte()==125)continue}switch(M+=xf(C),C*v){case 38:x=f>0?1:(M+="\f",-1);break;case 44:l[u++]=(er(M)-1)*x,x=1;break;case 64:ar()===45&&(M+=Lc(hn())),m=ar(),f=p=er(w=M+=bte(Rc())),C++;break;case 45:h===45&&er(M)==2&&(v=0)}}return o}function S7(e,t,n,r,a,o,s,l,c,u,f){for(var p=a-1,m=a===0?o:[""],g=R5(m),h=0,v=0,y=0;h<r;++h)for(var x=0,C=Pi(e,p+1,p=dte(v=s[h])),w=e;x<g;++x)(w=U_(v>0?m[x]+" "+C:Pe(C,/&\f/g,m[x])))&&(c[y++]=w);return wf(e,t,n,a===0?I5:l,c,u,f)}function _te(e,t,n){return wf(e,t,n,F_,xf(hte()),Pi(e,2,-2),0)}function M7(e,t,n,r){return wf(e,t,n,j5,Pi(e,0,r),Pi(e,r+1,-1),r)}function Fo(e,t){for(var n="",r=R5(e),a=0;a<r;a++)n+=t(e[a],a,e,t)||"";return n}function Ste(e,t,n,r){switch(e.type){case ute:if(e.children.length)break;case cte:case j5:return e.return=e.return||e.value;case F_:return"";case B_:return e.return=e.value+"{"+Fo(e.children,r)+"}";case I5:e.value=e.props.join(",")}return er(n=Fo(e.children,r))?e.return=e.value+"{"+n+"}":""}function Mte(e){var t=R5(e);return function(n,r,a,o){for(var s="",l=0;l<t;l++)s+=e[l](n,r,a,o)||"";return s}}function Tte(e){return function(t){t.root||(t=t.return)&&e(t)}}function Ete(e){var t=Object.create(null);return function(n){return t[n]===void 0&&(t[n]=e(n)),t[n]}}var kte=function(t,n,r){for(var a=0,o=0;a=o,o=ar(),a===38&&o===12&&(n[r]=1),!Oi(o);)hn();return ml(t,ln)},Ate=function(t,n){var r=-1,a=44;do switch(Oi(a)){case 0:a===38&&ar()===12&&(n[r]=1),t[r]+=kte(ln-1,n,r);break;case 2:t[r]+=Lc(a);break;case 4:if(a===44){t[++r]=ar()===58?"&\f":"",n[r]=t[r].length;break}default:t[r]+=xf(a)}while(a=hn());return t},Pte=function(t,n){return G_(Ate(V_(t),n))},T7=new WeakMap,Ote=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var n=t.value,r=t.parent,a=t.column===r.column&&t.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(t.props.length===1&&n.charCodeAt(0)!==58&&!T7.get(r))&&!a){T7.set(t,!0);for(var o=[],s=Pte(n,o),l=r.props,c=0,u=0;c<s.length;c++)for(var f=0;f<l.length;f++,u++)t.props[u]=o[c]?s[c].replace(/&\f/g,l[f]):l[f]+" "+s[c]}}},Nte=function(t){if(t.type==="decl"){var n=t.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(t.return="",t.value="")}};function W_(e,t){switch(pte(e,t)){case 5103:return Ae+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Ae+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return Ae+e+zu+e+Ut+e+e;case 6828:case 4268:return Ae+e+Ut+e+e;case 6165:return Ae+e+Ut+"flex-"+e+e;case 5187:return Ae+e+Pe(e,/(\w+).+(:[^]+)/,Ae+"box-$1$2"+Ut+"flex-$1$2")+e;case 5443:return Ae+e+Ut+"flex-item-"+Pe(e,/flex-|-self/,"")+e;case 4675:return Ae+e+Ut+"flex-line-pack"+Pe(e,/align-content|flex-|-self/,"")+e;case 5548:return Ae+e+Ut+Pe(e,"shrink","negative")+e;case 5292:return Ae+e+Ut+Pe(e,"basis","preferred-size")+e;case 6060:return Ae+"box-"+Pe(e,"-grow","")+Ae+e+Ut+Pe(e,"grow","positive")+e;case 4554:return Ae+Pe(e,/([^-])(transform)/g,"$1"+Ae+"$2")+e;case 6187:return Pe(Pe(Pe(e,/(zoom-|grab)/,Ae+"$1"),/(image-set)/,Ae+"$1"),e,"")+e;case 5495:case 3959:return Pe(e,/(image-set\([^]*)/,Ae+"$1$`$1");case 4968:return Pe(Pe(e,/(.+:)(flex-)?(.*)/,Ae+"box-pack:$3"+Ut+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Ae+e+e;case 4095:case 3583:case 4068:case 2532:return Pe(e,/(.+)-inline(.+)/,Ae+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(er(e)-1-t>6)switch(Ot(e,t+1)){case 109:if(Ot(e,t+4)!==45)break;case 102:return Pe(e,/(.+:)(.+)-([^]+)/,"$1"+Ae+"$2-$3$1"+zu+(Ot(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~Dm(e,"stretch")?W_(Pe(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(Ot(e,t+1)!==115)break;case 6444:switch(Ot(e,er(e)-3-(~Dm(e,"!important")&&10))){case 107:return Pe(e,":",":"+Ae)+e;case 101:return Pe(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Ae+(Ot(e,14)===45?"inline-":"")+"box$3$1"+Ae+"$2$3$1"+Ut+"$2box$3")+e}break;case 5936:switch(Ot(e,t+11)){case 114:return Ae+e+Ut+Pe(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return Ae+e+Ut+Pe(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return Ae+e+Ut+Pe(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return Ae+e+Ut+e+e}return e}var Ite=function(t,n,r,a){if(t.length>-1&&!t.return)switch(t.type){case j5:t.return=W_(t.value,t.length);break;case B_:return Fo([Bs(t,{value:Pe(t.value,"@","@"+Ae)})],a);case I5:if(t.length)return gte(t.props,function(o){switch(mte(o,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Fo([Bs(t,{props:[Pe(o,/:(read-\w+)/,":"+zu+"$1")]})],a);case"::placeholder":return Fo([Bs(t,{props:[Pe(o,/:(plac\w+)/,":"+Ae+"input-$1")]}),Bs(t,{props:[Pe(o,/:(plac\w+)/,":"+zu+"$1")]}),Bs(t,{props:[Pe(o,/:(plac\w+)/,Ut+"input-$1")]})],a)}return""})}},jte=[Ite],Rte=function(t){var n=t.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(v){var y=v.getAttribute("data-emotion");y.indexOf(" ")!==-1&&(document.head.appendChild(v),v.setAttribute("data-s",""))})}var a=t.stylisPlugins||jte,o={},s,l=[];s=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(v){for(var y=v.getAttribute("data-emotion").split(" "),x=1;x<y.length;x++)o[y[x]]=!0;l.push(v)});var c,u=[Ote,Nte];{var f,p=[Ste,Tte(function(v){f.insert(v)})],m=Mte(u.concat(a,p)),g=function(y){return Fo(wte(y),m)};c=function(y,x,C,w){f=C,g(y?y+"{"+x.styles+"}":x.styles),w&&(h.inserted[x.name]=!0)}}var h={key:n,sheet:new lte({key:n,container:s,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:o,registered:{},insert:c};return h.sheet.hydrate(l),h};function Lte(e){for(var t=0,n,r=0,a=e.length;a>=4;++r,a-=4)n=e.charCodeAt(r)&255|(e.charCodeAt(++r)&255)<<8|(e.charCodeAt(++r)&255)<<16|(e.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,t=(n&65535)*1540483477+((n>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(a){case 3:t^=(e.charCodeAt(r+2)&255)<<16;case 2:t^=(e.charCodeAt(r+1)&255)<<8;case 1:t^=e.charCodeAt(r)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var $te={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Dte=/[A-Z]|^ms/g,Fte=/_EMO_([^_]+?)_([^]*?)_EMO_/g,z_=function(t){return t.charCodeAt(1)===45},E7=function(t){return t!=null&&typeof t!="boolean"},s0=Ete(function(e){return z_(e)?e:e.replace(Dte,"-$&").toLowerCase()}),k7=function(t,n){switch(t){case"animation":case"animationName":if(typeof n=="string")return n.replace(Fte,function(r,a,o){return tr={name:a,styles:o,next:tr},a})}return $te[t]!==1&&!z_(t)&&typeof n=="number"&&n!==0?n+"px":n};function Ni(e,t,n){if(n==null)return"";if(n.__emotion_styles!==void 0)return n;switch(typeof n){case"boolean":return"";case"object":{if(n.anim===1)return tr={name:n.name,styles:n.styles,next:tr},n.name;if(n.styles!==void 0){var r=n.next;if(r!==void 0)for(;r!==void 0;)tr={name:r.name,styles:r.styles,next:tr},r=r.next;var a=n.styles+";";return a}return Bte(e,t,n)}case"function":{if(e!==void 0){var o=tr,s=n(e);return tr=o,Ni(e,t,s)}break}}if(t==null)return n;var l=t[n];return l!==void 0?l:n}function Bte(e,t,n){var r="";if(Array.isArray(n))for(var a=0;a<n.length;a++)r+=Ni(e,t,n[a])+";";else for(var o in n){var s=n[o];if(typeof s!="object")t!=null&&t[s]!==void 0?r+=o+"{"+t[s]+"}":E7(s)&&(r+=s0(o)+":"+k7(o,s)+";");else if(Array.isArray(s)&&typeof s[0]=="string"&&(t==null||t[s[0]]===void 0))for(var l=0;l<s.length;l++)E7(s[l])&&(r+=s0(o)+":"+k7(o,s[l])+";");else{var c=Ni(e,t,s);switch(o){case"animation":case"animationName":{r+=s0(o)+":"+c+";";break}default:r+=o+"{"+c+"}"}}}return r}var A7=/label:\s*([^\s;\n{]+)\s*(;|$)/g,tr,i0=function(t,n,r){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var a=!0,o="";tr=void 0;var s=t[0];s==null||s.raw===void 0?(a=!1,o+=Ni(r,n,s)):o+=s[0];for(var l=1;l<t.length;l++)o+=Ni(r,n,t[l]),a&&(o+=s[l]);A7.lastIndex=0;for(var c="",u;(u=A7.exec(o))!==null;)c+="-"+u[1];var f=Lte(o)+c;return{name:f,styles:o,next:tr}},Ute=!0;function q_(e,t,n){var r="";return n.split(" ").forEach(function(a){e[a]!==void 0?t.push(e[a]+";"):r+=a+" "}),r}var Hte=function(t,n,r){var a=t.key+"-"+n.name;(r===!1||Ute===!1)&&t.registered[a]===void 0&&(t.registered[a]=n.styles)},Vte=function(t,n,r){Hte(t,n,r);var a=t.key+"-"+n.name;if(t.inserted[n.name]===void 0){var o=n;do t.insert(n===o?"."+a:"",o,t.sheet,!0),o=o.next;while(o!==void 0)}};function P7(e,t){if(e.inserted[t.name]===void 0)return e.insert("",t,e.sheet,!0)}function O7(e,t,n){var r=[],a=q_(e,r,n);return r.length<2?n:a+t(r)}var jAe=function(t){var n=Rte(t);n.sheet.speedy=function(l){this.isSpeedy=l},n.compat=!0;var r=function(){for(var c=arguments.length,u=new Array(c),f=0;f<c;f++)u[f]=arguments[f];var p=i0(u,n.registered,void 0);return Vte(n,p,!1),n.key+"-"+p.name},a=function(){for(var c=arguments.length,u=new Array(c),f=0;f<c;f++)u[f]=arguments[f];var p=i0(u,n.registered),m="animation-"+p.name;return P7(n,{name:p.name,styles:"@keyframes "+m+"{"+p.styles+"}"}),m},o=function(){for(var c=arguments.length,u=new Array(c),f=0;f<c;f++)u[f]=arguments[f];var p=i0(u,n.registered);P7(n,p)},s=function(){for(var c=arguments.length,u=new Array(c),f=0;f<c;f++)u[f]=arguments[f];return O7(n.registered,r,Gte(u))};return{css:r,cx:s,injectGlobal:o,keyframes:a,hydrate:function(c){c.forEach(function(u){n.inserted[u]=!0})},flush:function(){n.registered={},n.inserted={},n.sheet.flush()},sheet:n.sheet,cache:n,getRegisteredStyles:q_.bind(null,n.registered),merge:O7.bind(null,n.registered,r)}},Gte=function e(t){for(var n="",r=0;r<t.length;r++){var a=t[r];if(a!=null){var o=void 0;switch(typeof a){case"boolean":break;case"object":{if(Array.isArray(a))o=e(a);else{o="";for(var s in a)a[s]&&s&&(o&&(o+=" "),o+=s)}break}default:o=a}o&&(n&&(n+=" "),n+=o)}}return n},Wte=fl,L5=Date.prototype,N7="Invalid Date",Z_="toString",zte=L5[Z_],qte=L5.getTime;String(new Date(NaN))!=N7&&Wte(L5,Z_,function(){var t=qte.call(this);return t===t?zte.call(this):N7});var Zte=P5,Yte=v_,Kte=Zte?{}.toString:function(){return"[object "+Yte(this)+"]"},Qte=P5,Jte=fl,Xte=Kte;Qte||Jte(Object.prototype,"toString",Xte,{unsafe:!0});var ene=k5.PROPER,tne=fl,nne=va,I7=Cf,rne=Wn,ane=y_,$5="toString",Y_=RegExp.prototype,K_=Y_[$5],one=rne(function(){return K_.call({source:"a",flags:"b"})!="/a/b"}),sne=ene&&K_.name!=$5;(one||sne)&&tne(RegExp.prototype,$5,function(){var t=nne(this),n=I7(t.source),r=t.flags,a=I7(r===void 0&&t instanceof RegExp&&!("flags"in Y_)?ane.call(t):r);return"/"+n+"/"+a},{unsafe:!0});var j7=typeof window<"u"?window:self,ine=j7.crypto||j7.msCrypto,lne=function(e){if(!e)return Math.random;var t=Math.pow(2,32),n=new Uint32Array(1);return function(){return e.getRandomValues(n)[0]/t}}(ine);const cne=ve(lne);function RAe(){return cne().toString(26).substr(2,5).replace(/[0-9]/g,function(e){return String.fromCharCode(e.charCodeAt(0)+65)})}var une=wb;const Bm=ve(une);function dne(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"white",n="background-color: ".concat(e,"; border-radius: 4px; padding: 2px 4px;");return t&&(n+=" color: ".concat(t,";")),[n,""]}function R7(e,t){for(var n,r,a=arguments.length,o=new Array(a>2?a-2:0),s=2;s<a;s++)o[s-2]=arguments[s];return ki(n=[ki(r="%c".concat(e,"%c ")).call(r,t)]).call(n,ka(dne("green","white")),o)}function LAe(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.force,r=n===void 0?!1:n;return r?function(){for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];if(o.length){var l=o,c=v5(l,1),u=c[0];typeof u=="function"&&(o=u());var f=Bm(o[0])?o:[o],p=f.length===1;KX(f).call(f,function(m,g){if(p){var h,v;(h=console).log.apply(h,ka(R7.apply(void 0,ki(v=[e]).call(v,ka(m)))))}else if(g){var y;(y=console).log.apply(y,ka(Bm(m)?m:[m]))}else{var x,C;(x=console).groupCollapsed.apply(x,ka(R7.apply(void 0,ki(C=[e]).call(C,ka(m)))))}}),p||console.groupEnd()}}:function(){return 0}}var fne=no,pne=k5.EXISTS,mne=dl.f,Q_=Function.prototype,gne=Q_.toString,hne=/^\s*function ([^ (]*)/,vne="name";fne&&!pne&&mne(Q_,vne,{configurable:!0,get:function(){try{return gne.call(this).match(hne)[1]}catch{return""}}});var yne=Dt,Cne=yne.setTimeout,xne=Cne;const bne=ve(xne);function wne(e,t){if(!t)return e;var n=0,r=null;return function(){for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];var l=Ai();l-n>t?(e.apply(void 0,o),n=l):(clearTimeout(r),r=bne(function(){e.apply(void 0,o),n=Ai()},Math.max(0,t-l+n)))}}var _ne=function(t){var n=t.debounce,r=t.name,a=t.onEvent,o=t.target,s=d.useRef();s.current=a;var l=d.useMemo(function(){return wne(function(u){var f=s.current;f&&f(u)},n)},[n,s]),c=d.useCallback(function(u){u.timeStampLow=Ai(),l(u)},[l]);return d.useLayoutEffect(function(){return o.addEventListener(r,c,{passive:!0}),c({target:o,type:r}),function(){return o.removeEventListener(r,c)}},[r,c,o]),!1};_ne.defaultProps={debounce:200};var Sne=Math.sign||function(t){var n=+t;return n===0||n!==n?n:n<0?-1:1},Mne=We,Tne=Sne;Mne({target:"Math",stat:!0},{sign:Tne});var Ene=Dt,kne=Ene.Math.sign,Ane=kne,Pne=Ane,One=Pne;const Nne=ve(One);function Ine(e,t){var n=Nne(t-e),r=Math.sqrt(Math.abs(t-e)),a=e+r*n;return n>0?Math.min(t,a):Math.max(t,a)}function jne(e,t,n,r){for(var a=e,o=0;o<r;o++)a=n(a,t);return a}var Rne=function(t){var n=t.name,r=t.onEnd,a=t.target,o=t.value,s=d.useRef(),l=d.useCallback(function(u,f,p,m){var g=arguments.length>4&&arguments[4]!==void 0?arguments[4]:Ai();(p==="100%"||typeof p=="number")&&(cancelAnimationFrame(s.current),s.current=requestAnimationFrame(function(){if(a){var h=p==="100%"?a.scrollHeight-a.offsetHeight:p,v=jne(f,h,Ine,(Ai()-g)/5);Math.abs(h-v)<1.5&&(v=h),a[u]=v,h===v?r&&r(!0):l(u,f,p,m+1,g)}}))},[s,r,a]),c=d.useCallback(function(){cancelAnimationFrame(s.current),r&&r(!1)},[r]);return d.useLayoutEffect(function(){return l(n,a[n],o,1),a?(a.addEventListener("pointerdown",c,{passive:!0}),a.addEventListener("wheel",c,{passive:!0}),function(){a.removeEventListener("pointerdown",c),a.removeEventListener("wheel",c),cancelAnimationFrame(s.current)}):function(){return cancelAnimationFrame(s.current)}},[l,s,c,n,a,o]),!1};Rne.propTypes={name:Xn.string.isRequired,onEnd:Xn.func,target:Xn.any.isRequired,value:Xn.oneOfType([Xn.number,Xn.oneOf(["100%"])]).isRequired};function $Ae(e){var t=d.useState(e),n=v5(t,2),r=n[0],a=n[1],o=d.useRef(),s=d.useCallback(function(l){typeof l=="function"?s(function(c){return l=l(c),o.current=l,l}):(o.current=l,s(l))},[o]);return o.current=r,[r,a,o]}var Lne={height:"100%",overflowY:"auto",width:"100%"},J_=function(t){var n=t.children,r=t.className,a=d.useContext(C5),o=a.setTarget,s=Bw()(Lne);return J.createElement("div",{className:Pw(s,(r||"")+""),ref:o},n)};J_.defaultProps={children:void 0,className:void 0};J_.propTypes={children:Xn.any,className:Xn.string};function DAe(){var e=Dw(1),t=e.atTop;return[t]}function FAe(e){var t,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];e&&typeof e!="function"?console.error('react-scroll-to-bottom: First argument passed to "useObserveScrollPosition" must be a function.'):Bm(n)||console.error('react-scroll-to-bottom: Second argument passed to "useObserveScrollPosition" must be an array if specified.');var r=Fw(),a=r.observeScrollPosition;d.useEffect(function(){return e&&a(e)},ki(t=[]).call(t,ka(n),[!e,a]))}function BAe(){var e=y5(),t=e.scrollToBottom;return t}function UAe(){var e=y5(),t=e.scrollToTop;return t}var Wa={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},qu={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},$ne=typeof navigator<"u"&&/Mac/.test(navigator.platform),Dne=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var It=0;It<10;It++)Wa[48+It]=Wa[96+It]=String(It);for(var It=1;It<=24;It++)Wa[It+111]="F"+It;for(var It=65;It<=90;It++)Wa[It]=String.fromCharCode(It+32),qu[It]=String.fromCharCode(It);for(var l0 in Wa)qu.hasOwnProperty(l0)||(qu[l0]=Wa[l0]);function HAe(e){var t=$ne&&e.metaKey&&e.shiftKey&&!e.ctrlKey&&!e.altKey||Dne&&e.shiftKey&&e.key&&e.key.length==1||e.key=="Unidentified",n=!t&&e.key||(e.shiftKey?qu:Wa)[e.keyCode]||e.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}var X_=(e=>(e.ACCELERATOR="accelerator",e.BLOCK_COMMENT_LAUNCHER="block_comment_launcher",e.CLOSE_TEXTDOC="close_textdoc",e.COLLAPSED_COMMENT="collapsed_comment",e.COMMENT_ACCEPT="comment_accept",e.COMMENT_DISMISS="comment_dismiss",e.COPY="copy",e.DOWNLOAD="download",e.EXPANDED_COMMENT="expanded_comment",e.FILE_DRAWER_ITEM="file_drawer_item",e.HISTORY_NEXT="history_next",e.HISTORY_PREVIOUS="history_previous",e.MESSAGE_ATTACHMENT="message_attachment",e.SHOW_CHANGES="show_changes",e.TOOLBAR_FORMAT_BOLD="toolbar_format_bold",e.TOOLBAR_FORMAT_HEADER1="toolbar_format_header1",e.TOOLBAR_FORMAT_HEADER2="toolbar_format_header2",e.TOOLBAR_FORMAT_HEADER3="toolbar_format_header3",e.TOOLBAR_FORMAT_ITALIC="toolbar_format_italic",e.TOOLBAR_FORMAT_PARAGRAPH="toolbar_format_paragraph",e.TOOLBAR_FORMAT_STYLE="toolbar_format_style",e.TOOLBAR_ASK_CHATGPT="toolbar_ask_chatgpt",e))(X_||{});function VAe(e,t){const n=d.useRef(e);d.useEffect(()=>{n.current=e},[e]),d.useEffect(()=>{function r(){n.current()}if(t!=null){const a=window.setInterval(r,t);return()=>clearInterval(a)}},[t])}const eS=e=>d.createElement("svg",{width:29,height:28,viewBox:"0 0 29 28",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},d.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.30286 6.80256C7.89516 6.21026 8.85546 6.21026 9.44775 6.80256L14.5003 11.8551L19.5529 6.80256C20.1452 6.21026 21.1055 6.21026 21.6978 6.80256C22.2901 7.39485 22.2901 8.35515 21.6978 8.94745L16.6452 14L21.6978 19.0526C22.2901 19.6449 22.2901 20.6052 21.6978 21.1974C21.1055 21.7897 20.1452 21.7897 19.5529 21.1974L14.5003 16.1449L9.44775 21.1974C8.85546 21.7897 7.89516 21.7897 7.30286 21.1974C6.71057 20.6052 6.71057 19.6449 7.30286 19.0526L12.3554 14L7.30286 8.94745C6.71057 8.35515 6.71057 7.39485 7.30286 6.80256Z",fill:"currentColor"})),D5=e=>d.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},d.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 4C10.3431 4 9 5.34315 9 7C9 8.65685 10.3431 10 12 10C13.6569 10 15 8.65685 15 7C15 5.34315 13.6569 4 12 4ZM7 7C7 4.23858 9.23858 2 12 2C14.7614 2 17 4.23858 17 7C17 9.76142 14.7614 12 12 12C9.23858 12 7 9.76142 7 7ZM12.0001 15C8.3441 15 5.5 17.7501 5.5 20.9999C5.5 21.5522 5.05228 21.9999 4.5 21.9999C3.94772 21.9999 3.5 21.5522 3.5 20.9999C3.5 16.5178 7.37176 13 12.0001 13C16.6283 13 20.5 16.5179 20.5 20.9999C20.5 21.5522 20.0523 21.9999 19.5 21.9999C18.9477 21.9999 18.5 21.5522 18.5 20.9999C18.5 17.7502 15.656 15 12.0001 15Z",fill:"currentColor"})),Fne=e=>d.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},d.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.33 5C10.7777 5 10.33 5.44772 10.33 6V19H13.66V6C13.66 5.44771 13.2123 5 12.66 5H11.33ZM15.66 19H18C18.5523 19 19 18.5523 19 18V10C19 9.44772 18.5523 9 18 9H15.66V19ZM15.66 7V6C15.66 4.34315 14.3169 3 12.66 3H11.33C9.67315 3 8.33 4.34315 8.33 6V11H6C4.34314 11 3 12.3431 3 14V18C3 19.6569 4.34315 21 6 21H18C19.6569 21 21 19.6569 21 18V10C21 8.34315 19.6569 7 18 7H15.66ZM8.33 13H6C5.44771 13 5 13.4477 5 14V18C5 18.5523 5.44772 19 6 19H8.33V13Z",fill:"currentColor"})),Bne=e=>d.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},d.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.75 5.07897C20.6366 5.63034 22 7.39398 22 9.46319C22 10.4036 21.7186 11.28 21.2355 12.0079C21.7186 12.7358 22 13.6121 22 14.5526C22 16.278 21.0538 17.7867 19.649 18.5621C19.0113 20.3388 17.7022 21.4999 16.1402 21.8724C14.7453 22.2051 13.2493 21.8842 12 20.963C10.7507 21.8842 9.25471 22.205 7.85978 21.8724C6.29776 21.4999 4.98868 20.3388 4.35105 18.5621C2.94619 17.7867 2 16.278 2 14.5526C2 13.6121 2.28145 12.7357 2.76449 12.0079C2.28144 11.28 2 10.4036 2 9.46319C2 7.39398 3.36342 5.63033 5.25003 5.07897C5.42224 4.34641 5.72987 3.72152 6.1653 3.22343C6.74387 2.56163 7.49542 2.18492 8.28981 2.05385C9.55281 1.84546 10.9041 2.25095 12 3.05537C13.0959 2.25095 14.4472 1.84541 15.7102 2.05378C16.5046 2.18483 17.2561 2.56154 17.8347 3.22336C18.2701 3.72147 18.5778 4.34638 18.75 5.07897ZM11 4.81039C10.231 4.16937 9.3164 3.91151 8.6154 4.02717C8.2374 4.08954 7.91786 4.25744 7.67104 4.53978C7.42068 4.82616 7.19313 5.29094 7.1153 6.02652C7.06582 6.49412 6.69725 6.86408 6.22984 6.91533C4.99072 7.05119 4 8.12757 4 9.46319C4 10.1863 4.29073 10.8351 4.75671 11.2999C4.9448 11.4875 5.05051 11.7422 5.05051 12.0079C5.05051 12.2735 4.9448 12.5283 4.75671 12.7159C4.29073 13.1807 4 13.8295 4 14.5526C4 15.6327 4.65014 16.5483 5.5581 16.9273C5.84021 17.045 6.05296 17.2854 6.13564 17.5797C6.5278 18.9756 7.40852 19.7087 8.3237 19.927C9.15941 20.1262 10.1439 19.9252 11 19.2065V4.81039ZM13 19.2065C13.8561 19.9252 14.8406 20.1262 15.6763 19.927C16.5915 19.7087 17.4722 18.9756 17.8644 17.5797C17.947 17.2854 18.1598 17.045 18.4419 16.9273C19.3499 16.5483 20 15.6327 20 14.5526C20 13.8295 19.7093 13.1807 19.2433 12.7159C19.0552 12.5283 18.9495 12.2735 18.9495 12.0079C18.9495 11.7422 19.0552 11.4875 19.2433 11.2999C19.7093 10.8351 20 10.1863 20 9.46319C20 8.12756 19.0093 7.05119 17.7702 6.91533C17.3027 6.86408 16.9342 6.49412 16.8847 6.02651C16.8069 5.29089 16.5793 4.82608 16.329 4.53969C16.0821 4.25736 15.7626 4.08946 15.3846 4.0271C14.6836 3.91145 13.7691 4.16935 13 4.81039V19.2065Z",fill:"currentColor"})),Une=e=>d.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},d.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.91444 7.59106C4.3419 9.04124 3.28865 10.7415 2.77052 11.6971C2.66585 11.8902 2.66585 12.1098 2.77052 12.3029C3.28865 13.2585 4.3419 14.9588 5.91444 16.4089C7.48195 17.8545 9.50572 19 12 19C14.4943 19 16.518 17.8545 18.0855 16.4089C19.6581 14.9588 20.7113 13.2585 21.2295 12.3029C21.3341 12.1098 21.3341 11.8902 21.2295 11.6971C20.7113 10.7415 19.6581 9.04124 18.0855 7.59105C16.518 6.1455 14.4943 5 12 5C9.50572 5 7.48195 6.1455 5.91444 7.59106ZM4.55857 6.1208C6.36059 4.45899 8.84581 3 12 3C15.1542 3 17.6394 4.45899 19.4414 6.1208C21.2384 7.77798 22.4152 9.68799 22.9877 10.7438C23.4147 11.5315 23.4147 12.4685 22.9877 13.2562C22.4152 14.312 21.2384 16.222 19.4414 17.8792C17.6394 19.541 15.1542 21 12 21C8.84581 21 6.36059 19.541 4.55857 17.8792C2.76159 16.222 1.58478 14.312 1.01232 13.2562C0.58525 12.4685 0.585249 11.5315 1.01232 10.7438C1.58478 9.688 2.76159 7.77798 4.55857 6.1208ZM12 9.5C10.6193 9.5 9.49999 10.6193 9.49999 12C9.49999 13.3807 10.6193 14.5 12 14.5C13.3807 14.5 14.5 13.3807 14.5 12C14.5 10.6193 13.3807 9.5 12 9.5ZM7.49999 12C7.49999 9.51472 9.51471 7.5 12 7.5C14.4853 7.5 16.5 9.51472 16.5 12C16.5 14.4853 14.4853 16.5 12 16.5C9.51471 16.5 7.49999 14.4853 7.49999 12Z",fill:"currentColor"})),za=e=>d.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},d.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4 5C4 3.34315 5.34315 2 7 2H14.1716C14.9672 2 15.7303 2.31607 16.2929 2.87868L19.1213 5.70711C19.6839 6.26972 20 7.03278 20 7.82843V19C20 20.6569 18.6569 22 17 22H7C5.34315 22 4 20.6569 4 19V5ZM7 4C6.44772 4 6 4.44772 6 5V19C6 19.5523 6.44772 20 7 20H17C17.5523 20 18 19.5523 18 19V7.82843C18 7.56321 17.8946 7.30886 17.7071 7.12132L14.8787 4.29289C14.6911 4.10536 14.4368 4 14.1716 4H7ZM8 10C8 9.44772 8.44772 9 9 9H15C15.5523 9 16 9.44772 16 10C16 10.5523 15.5523 11 15 11H9C8.44772 11 8 10.5523 8 10ZM8 14C8 13.4477 8.44772 13 9 13H13C13.5523 13 14 13.4477 14 14C14 14.5523 13.5523 15 13 15H9C8.44772 15 8 14.5523 8 14Z",fill:"currentColor"})),L7=e=>d.createElement("svg",{width:26,height:24,viewBox:"0 0 26 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},d.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.4544 4.10451C13.1689 3.95886 12.8309 3.95886 12.5455 4.10451L2.98609 8.98175L2.07715 7.20022L11.6365 2.32298C12.493 1.88603 13.5069 1.88603 14.3634 2.32298L23.9227 7.20022C24.7332 7.61373 25.091 8.44008 24.9999 9.2194V15C24.9999 15.5523 24.5522 16 23.9999 16C23.4477 16 22.9999 15.5523 22.9999 15V11.2156L20.9666 12.2115V16.3052C20.9666 17.409 20.3605 18.4237 19.3885 18.9468L14.4219 21.6203C13.5341 22.0981 12.4657 22.0981 11.578 21.6203L6.61135 18.9468C5.63941 18.4237 5.03328 17.409 5.03328 16.3052V12.2115L2.10635 10.7779C0.626202 10.0529 0.609039 7.94926 2.07715 7.20022L2.98608 8.98175L12.5601 13.671C12.8376 13.807 13.1623 13.807 13.4398 13.671L23 8.9885C23.0001 8.98394 23.0001 8.97938 23.0003 8.97483L13.4544 4.10451ZM7.03328 13.1911V16.3052C7.03328 16.6732 7.23532 17.0114 7.5593 17.1858L12.526 19.8592C12.8219 20.0185 13.178 20.0185 13.4739 19.8592L18.4406 17.1858C18.7646 17.0114 18.9666 16.6732 18.9666 16.3052V13.1911L14.3195 15.4672C13.4871 15.8749 12.5128 15.8749 11.6803 15.4672L7.03328 13.1911Z",fill:"currentColor"})),$7=e=>d.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},d.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 3C8.41496 3 5.5 5.92254 5.5 9.53846C5.5 11.8211 6.662 13.8298 8.42476 15H15.5752C17.338 13.8298 18.5 11.8211 18.5 9.53846C18.5 5.92254 15.585 3 12 3ZM14.8653 17H9.13473V18H14.8653V17ZM13.7324 20H10.2676C10.6134 20.5978 11.2597 21 12 21C12.7403 21 13.3866 20.5978 13.7324 20ZM8.12601 20C8.57004 21.7252 10.1361 23 12 23C13.8639 23 15.43 21.7252 15.874 20C16.4223 19.9953 16.8653 19.5494 16.8653 19V16.5407C19.0622 14.9976 20.5 12.4362 20.5 9.53846C20.5 4.82763 16.6992 1 12 1C7.30076 1 3.5 4.82763 3.5 9.53846C3.5 12.4362 4.93784 14.9976 7.13473 16.5407V19C7.13473 19.5494 7.57774 19.9953 8.12601 20Z",fill:"currentColor"})),Hne=e=>d.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},d.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 9.25C10.8954 9.25 10 10.1454 10 11.25C10 12.3546 10.8954 13.25 12 13.25C13.1046 13.25 14 12.3546 14 11.25C14 10.1454 13.1046 9.25 12 9.25ZM8 11.25C8 9.04086 9.79086 7.25 12 7.25C14.2091 7.25 16 9.04086 16 11.25C16 13.4591 14.2091 15.25 12 15.25C9.79086 15.25 8 13.4591 8 11.25Z",fill:"currentColor"}),d.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.4258 22.6548C12.1561 22.7817 11.8432 22.7814 11.5736 22.6545C11.5355 22.6366 11.4978 22.618 11.4601 22.5993C11.3914 22.5652 11.2932 22.5156 11.1698 22.4508C10.9231 22.3212 10.5748 22.1306 10.1586 21.8817C9.32846 21.3852 8.21721 20.6503 7.10105 19.6983C4.9064 17.8264 2.5 14.9472 2.5 11.25C2.5 6.00329 6.75329 1.75 12 1.75C17.2467 1.75 21.5 6.00329 21.5 11.25C21.5 14.9472 19.0936 17.8264 16.8989 19.6983C15.7828 20.6503 14.6715 21.3852 13.8414 21.8817C13.4252 22.1306 13.0769 22.3212 12.8302 22.4508C12.6965 22.521 12.5623 22.5903 12.4258 22.6548ZM4.5 11.25C4.5 7.10786 7.85786 3.75 12 3.75C16.1421 3.75 19.5 7.10786 19.5 11.25C19.5 14.0528 17.6564 16.4236 15.6011 18.1767C14.5922 19.0372 13.5785 19.7085 12.8149 20.1652C12.4887 20.3602 12.2103 20.5149 12 20.6273C11.7897 20.5149 11.5113 20.3602 11.1851 20.1652C10.4215 19.7085 9.40779 19.0372 8.39895 18.1767C6.3436 16.4236 4.5 14.0528 4.5 11.25Z",fill:"currentColor"})),D7=e=>d.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},d.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.75 4.25C7.16015 4.25 4.25 7.16015 4.25 10.75C4.25 14.3399 7.16015 17.25 10.75 17.25C14.3399 17.25 17.25 14.3399 17.25 10.75C17.25 7.16015 14.3399 4.25 10.75 4.25ZM2.25 10.75C2.25 6.05558 6.05558 2.25 10.75 2.25C15.4444 2.25 19.25 6.05558 19.25 10.75C19.25 12.7369 18.5683 14.5645 17.426 16.0118L21.4571 20.0429C21.8476 20.4334 21.8476 21.0666 21.4571 21.4571C21.0666 21.8476 20.4334 21.8476 20.0429 21.4571L16.0118 17.426C14.5645 18.5683 12.7369 19.25 10.75 19.25C6.05558 19.25 2.25 15.4444 2.25 10.75Z",fill:"currentColor"})),Vne=e=>d.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},d.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.8221 2.07736C10.7784 0.380749 13.2216 0.380748 14.1779 2.07736L16.2635 5.77772C16.3349 5.90431 16.4578 5.9936 16.6002 6.02234L20.764 6.86246C22.6731 7.24766 23.4281 9.57127 22.11 11.005L19.2352 14.1321C19.1369 14.2391 19.09 14.3835 19.1066 14.5279L19.5943 18.7475C19.8179 20.6822 17.8413 22.1182 16.0704 21.3077L12.2081 19.54C12.0759 19.4795 11.924 19.4795 11.7919 19.54L7.92953 21.3077C6.15864 22.1182 4.18206 20.6822 4.40565 18.7475L4.89332 14.5279C4.91 14.3835 4.86306 14.2391 4.76472 14.1321L1.88997 11.005C0.571908 9.57127 1.32689 7.24766 3.23598 6.86246L7.39974 6.02234C7.54218 5.9936 7.66507 5.90431 7.73642 5.77772L9.8221 2.07736ZM12.4356 3.05939C12.2443 2.72007 11.7557 2.72007 11.5644 3.05939L9.47872 6.75976C9.12197 7.3927 8.50751 7.83913 7.79531 7.98283L3.63154 8.82295C3.24973 8.89999 3.09873 9.36471 3.36234 9.65147L6.23709 12.7785C6.72881 13.3134 6.96351 14.0358 6.8801 14.7575L6.39243 18.9771C6.34771 19.364 6.74302 19.6513 7.0972 19.4892L10.9596 17.7214C11.6202 17.4191 12.3797 17.4191 13.0404 17.7214L16.9028 19.4892C17.2569 19.6513 17.6523 19.364 17.6075 18.9771L17.1199 14.7575C17.0365 14.0358 17.2712 13.3134 17.7629 12.7785L20.6376 9.65147C20.9012 9.36472 20.7502 8.89999 20.3684 8.82295L16.2046 7.98283C15.4924 7.83913 14.878 7.3927 14.5212 6.75976L12.4356 3.05939Z",fill:"currentColor"})),Gne=e=>d.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},d.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3 6C3 4.34315 4.34315 3 6 3H18C19.6569 3 21 4.34315 21 6V18C21 19.6569 19.6569 21 18 21H6C4.34315 21 3 19.6569 3 18V6ZM6 5C5.44772 5 5 5.44772 5 6V18C5 18.5523 5.44772 19 6 19H18C18.5523 19 19 18.5523 19 18V6C19 5.44772 18.5523 5 18 5H6ZM7.29289 9.29289C7.68342 8.90237 8.31658 8.90237 8.70711 9.29289L10.7071 11.2929C11.0976 11.6834 11.0976 12.3166 10.7071 12.7071L8.70711 14.7071C8.31658 15.0976 7.68342 15.0976 7.29289 14.7071C6.90237 14.3166 6.90237 13.6834 7.29289 13.2929L8.58579 12L7.29289 10.7071C6.90237 10.3166 6.90237 9.68342 7.29289 9.29289ZM12 14C12 13.4477 12.4477 13 13 13H16C16.5523 13 17 13.4477 17 14C17 14.5523 16.5523 15 16 15H13C12.4477 15 12 14.5523 12 14Z",fill:"currentColor"})),Wne=e=>d.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},d.createElement("path",{d:"M9.64978 13.0257L6.36281 14.2164C5.32547 14.5922 4.17846 14.0599 3.8009 13.0274L3.45909 12.0927L4.0564 10.8177L1.75 7.41901L4.09784 6.56847L6.66195 8.05349C7.17468 8.35044 7.79343 8.40537 8.35086 8.20343L16.8625 5.11998C17.1541 5.01435 17.4664 4.97773 17.7746 5.01305L20.6083 5.33764C21.3056 5.41751 21.8977 5.88262 22.1377 6.53907C22.4878 7.49623 21.9919 8.55457 21.0303 8.90295L15.7542 10.8143M16.3515 9.53934L13 14.5L10.1826 15.5206L9.84014 11.8982",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),d.createElement("path",{d:"M3 19H21",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"})),zne=e=>d.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},d.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.9969 3.39017C14.5497 2.17402 15.961 1.60735 17.2013 2.10349L19.4044 2.98475C20.7337 3.51645 21.3458 5.05369 20.7459 6.35358L19.0629 10H20C20.5523 10 21 10.4477 21 11V19C21 20.6569 19.6569 22 18 22H6C4.34315 22 3 20.6569 3 19V11C3 10.4504 3.44331 10.0044 3.99183 10L3.84325 9.89871C3.83307 9.89177 3.82303 9.88465 3.81311 9.87733C2.55917 8.9526 2.79737 7.01262 4.23778 6.41871L6.35774 5.5446L7.08184 3.36883C7.57382 1.8905 9.49246 1.51755 10.5024 2.70393L11.9888 4.45002L13.5103 4.46084L13.9969 3.39017ZM15.5096 4.89554C16.2552 5.48975 16.5372 6.59381 15.9713 7.51403L14.8266 9.37513C14.8265 9.38763 14.8266 9.40262 14.8273 9.42012C14.8294 9.47125 14.8357 9.52793 14.8451 9.58262C14.8548 9.63855 14.8654 9.67875 14.8714 9.69773C14.9032 9.79819 14.9184 9.89994 14.9184 10H16.8602L18.93 5.51547C19.0499 5.25549 18.9275 4.94804 18.6617 4.8417L16.4585 3.96044C16.2105 3.86122 15.9282 3.97455 15.8176 4.21778L15.5096 4.89554ZM12.8885 10C12.8572 9.84122 12.8358 9.66998 12.8289 9.50115C12.8194 9.26483 12.8254 8.81125 13.0664 8.41953L14.2677 6.46628L11.9746 6.44997C11.3934 6.44584 10.8427 6.18905 10.4659 5.74646L8.97951 4.00037L8.25541 6.17614C8.07187 6.72765 7.65748 7.17203 7.12012 7.39359L5.00091 8.26739L7.06338 9.67378C7.19188 9.7614 7.29353 9.87369 7.3663 10H12.8885ZM5 12V19C5 19.5523 5.44772 20 6 20H18C18.5523 20 19 19.5523 19 19V12H5ZM9.5 14.5C9.5 13.9477 9.94771 13.5 10.5 13.5H13.5C14.0523 13.5 14.5 13.9477 14.5 14.5C14.5 15.0523 14.0523 15.5 13.5 15.5H10.5C9.94771 15.5 9.5 15.0523 9.5 14.5Z",fill:"currentColor"})),qne=e=>d.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},d.createElement("path",{d:"M5 16.584C3.2341 15.8124 2 14.0503 2 12C2 9.46726 3.88316 7.37436 6.32568 7.04508C7.13649 4.69118 9.37075 3 12 3C15.3137 3 18 5.68629 18 9C20.2091 9 22 10.7909 22 13C22 14.2632 21.4145 15.3896 20.5 16.1227",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),d.createElement("path",{d:"M9.25 16L6.75 21",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),d.createElement("path",{d:"M13.25 16L10.75 21",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),d.createElement("path",{d:"M17.25 16L14.75 21",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})),Zne=e=>d.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},d.createElement("path",{d:"M4.5 17.5L7.56881 14.3817C8.32655 13.6117 9.55878 13.5826 10.352 14.316L16.5 20",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),d.createElement("path",{d:"M19 12H18.3798C17.504 12 16.672 11.6173 16.102 10.9524L11.898 6.04763C11.328 5.38269 10.496 5 9.6202 5H6C4.89543 5 4 5.89543 4 7V18C4 19.1046 4.89543 20 6 20H18C19.1046 20 20 19.1046 20 18V17",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),d.createElement("path",{d:"M19 5H18.3798C17.504 5 16.672 5.38269 16.102 6.04763L14 8.5",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),d.createElement("circle",{cx:8.5,cy:9.5,r:1.5,fill:"currentColor"}),d.createElement("path",{d:"M18 14V10C18 9.58798 18.4704 9.35279 18.8 9.6L21.4667 11.6C21.7333 11.8 21.7333 12.2 21.4667 12.4L18.8 14.4C18.4704 14.6472 18 14.412 18 14Z",fill:"currentColor"}),d.createElement("path",{d:"M18 7V3C18 2.58798 18.4704 2.35279 18.8 2.6L21.4667 4.6C21.7333 4.8 21.7333 5.2 21.4667 5.4L18.8 7.4C18.4704 7.64721 18 7.41202 18 7Z",fill:"currentColor"})),Yne=e=>d.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},d.createElement("path",{d:"M15.5 14V17",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),d.createElement("rect",{x:5,y:3,width:14,height:18,rx:2,stroke:"currentColor",strokeWidth:2}),d.createElement("circle",{cx:8.5,cy:14,r:1,fill:"currentColor"}),d.createElement("circle",{cx:8.5,cy:17,r:1,fill:"currentColor"}),d.createElement("circle",{cx:12,cy:17,r:1,fill:"currentColor"}),d.createElement("circle",{cx:12,cy:14,r:1,fill:"currentColor"}),d.createElement("circle",{cx:8.5,cy:11,r:1,fill:"currentColor"}),d.createElement("circle",{cx:12,cy:11,r:1,fill:"currentColor"}),d.createElement("circle",{cx:15.5,cy:11,r:1,fill:"currentColor"})),Kne=e=>d.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},d.createElement("circle",{cx:12,cy:10.5,r:7.5,stroke:"currentColor",strokeWidth:2}),d.createElement("path",{d:"M8 17V22L12 21L16 22V17",stroke:"currentColor",strokeWidth:2,strokeLinejoin:"round"})),Qne=e=>d.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},d.createElement("path",{d:"M17 8H19C20.1046 8 21 8.89543 21 10V17C21 18.1046 20.1046 19 19 19M19 19H5C3.89543 19 3 18.1046 3 17V7C3 5.89543 3.89543 5 5 5H15C16.1046 5 17 5.89543 17 7V17C17 18.1046 17.8954 19 19 19Z",stroke:"currentColor",strokeWidth:2}),d.createElement("path",{d:"M7 10H13",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),d.createElement("path",{d:"M7 13H10",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})),Jne=e=>d.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},d.createElement("path",{d:"M6 5H5C3.89543 5 3 5.89543 3 7V8M18 5H19C20.1046 5 21 5.89543 21 7V8M21 16V17C21 18.1046 20.1046 19 19 19H18M6 19H5C3.89543 19 3 18.1046 3 17V16",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"}),d.createElement("path",{d:"M8 10H16",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"}),d.createElement("path",{d:"M8 14H14",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"})),Xne=e=>d.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},d.createElement("path",{d:"M4 18V7H20V18C20 19.1046 19.1046 20 18 20H6C4.89543 20 4 19.1046 4 18Z",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),d.createElement("path",{d:"M9 10V6C9 4.34315 10.3431 3 12 3V3C13.6569 3 15 4.34315 15 6V10",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})),ere=e=>d.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},d.createElement("path",{d:"M3 6H10",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"}),d.createElement("path",{d:"M3 10H7",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"}),d.createElement("path",{d:"M13.4282 17.5718L20.5 10.5C21.6046 9.39543 21.6046 7.60457 20.5 6.5C19.3954 5.39543 17.6046 5.39543 16.5 6.5L9.42819 13.5718C9.14899 13.851 8.95868 14.2066 8.88124 14.5938L8 19L12.4062 18.1188C12.7934 18.0413 13.149 17.851 13.4282 17.5718Z",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}));function tre(e){switch(e){case"genius":return Bne;case"idea":return $7;case"code":return Gne;case"data-vis":return Fne;case"dalle":return Zne;case"local":return Hne;case"math":return Yne;case"misc":return zne;case"news":return Qne;case"teach-or-explain":return L7;case"read-or-analyze":return Jne;case"rank-or-rate":return Kne;case"current-event":return D7;case"shop":return Xne;case"travel":return Wne;case"weather":return qne;case"work":return L7;case"write":return ere;case"vision":return Une;case"file-upload-document":return za;case"browse":return D7;case"onboarding":return Vne;default:return $7}}function nre(e){switch(e){case"write":case"shop":return"#cb8bd0";case"idea":case"travel":return"#e2c541";case"code":case"vision":return"#6C71FF";case"file-upload-document":return"#EA8444";case"dalle":return"#35AE47";case"genius":return"#E659C2";case"teach-or-explain":case"misc":default:return"#76d0eb"}}const Io=["#cb8bd0","#e2c541","#ed6262","#76d0eb"];function rre(e){switch(e){case"write":case"shop":return Io[0];case"idea":case"travel":return Io[1];case"code":case"vision":return Io[2];case"teach-or-explain":case"misc":default:return Io[3]}}function GAe({category:e,useV2Colors:t}){if(e==null)return null;const n=tre(e);return i.jsx(n,{className:"icon-md",style:{color:t?nre(e):rre(e)}})}const Um=({iconName:e,className:t,notice:n,size:r="medium"})=>{let a=Y8;return e==="user"&&(a=D5),i.jsxs(sre,{className:P(t,are[r]),children:[i.jsx(a,{className:tS[r]}),n&&(n==="warning"||n==="danger")&&i.jsx(F5,{$type:n,children:"!"})]})},are={small:"h-[18px] w-[18px]",gizmo:"h-8 w-8",gizmoConversation:"h-6 w-6",medium:"h-8 w-8",workspaceMedium:"h-9 w-9",large:"h-12 w-12",workspaceAvatarPreview:"h-24 w-24",cover:"h-[234px] w-[234px]"},Un={small:18,gizmo:32,gizmoConversation:24,medium:32,workspaceMedium:36,large:48,workspaceAvatarPreview:96,cover:234},tS={small:"icon-xs",medium:"icon-md",workspaceMedium:"icon-md",large:"icon-lg",workspaceAvatarPreview:"icon-workspace-avatar-preview",cover:"icon-cover",gizmo:"icon-md",gizmoConversation:"icon-sm"},_f=e=>{const{user:t,notice:n}=e,r=n&&(n==="warning"||n==="danger")&&i.jsx(F5,{$type:n,children:"!"});if(t?.picture)return i.jsxs("div",{className:P("relative flex",e.customStyle?e.className:""),children:[i.jsx("img",{src:t.picture,alt:"User",width:e.customStyle?e.size:Un[e.size],height:e.customStyle?e.size:Un[e.size],className:e.customStyle?"":e.roundedStyle??"rounded-sm",referrerPolicy:"no-referrer"}),r]});const a=(t?.name??"").split(" ").map(o=>o[0]).join("");return i.jsx("div",{className:"overflow-hidden rounded-full",style:e.customStyle?{width:e.size,height:e.size}:{width:Un[e.size],height:Un[e.size]},children:i.jsxs("div",{className:P("relative flex items-center justify-center bg-blue-300 text-white",e.customStyle?e.className:P(e.size==="gizmo"?"h-7 w-7 overflow-hidden rounded-full text-xs":"h-full w-full",e.size==="small"||e.size==="gizmo"||e.size==="gizmoConversation"?"text-xs":"text-sm")),children:[a?i.jsx("div",{className:"indent-[0.1em] tracking-widest",children:a}):i.jsx(D5,{className:e.customStyle?"h-4/5 w-4/5":tS[e.size]}),r]})})};function Sf({src:e,size:t="large",alt:n}){const[r,a]=d.useState(!1);return r||!e?i.jsx(tO,{width:Un[t].toString(),height:Un[t].toString()}):i.jsx("img",{src:e,className:"inline rounded-full bg-token-main-surface-secondary",alt:n??"",width:Un[t],height:Un[t],onError:()=>a(!0)})}function WAe({className:e,iconSize:t="medium",notice:n,workspace:r}){const a=Se();r??=a;const o=r?.isPersonalAccount(),s=cn();return i.jsx(Vi,{children:i.jsx("div",{className:P("flex items-center justify-center overflow-hidden rounded-full",e),children:!r||o&&s!==void 0?i.jsx(_f,{user:s,size:t,notice:n}):i.jsxs(i.Fragment,{children:[i.jsx(Sf,{src:r.data.profilePictureUrl,size:t}),n&&i.jsx(F5,{$type:n,children:"!"})]})})})}const ore=he.div`relative p-1 rounded-sm h-9 w-9 flex items-center justify-center`,sre=({className:e,children:t})=>i.jsx(ore,{className:e,children:t}),F5=he.span`
  absolute w-4 h-4 rounded-full text-[10px] text-white flex  justify-center items-center right-0 top-[20px] -mr-2 border border-white
  ${({$type:e})=>e==="warning"&&"bg-orange-500 text-white"}
  ${({$type:e})=>e==="danger"&&"bg-red-500 text-white"}
`;function zAe({name:e,size:t,className:n,initialsCount:r=1}){let a="";return r===1?a=e.charAt(0):a=e.split(" ").slice(0,2).map(o=>o[0]).join(""),i.jsx("div",{className:P("overflow-hidden rounded-full pt-[4.5px] text-center text-[9px] font-extralight text-white",n),style:{backgroundColor:ire(e),width:Un[t]+"px",height:Un[t]+"px"},children:a})}function ire(e){let t=0;for(let n=0;n<e.length;n++)t=(t<<5)+t^e.charCodeAt(n);return Io[Math.abs(t)%Io.length]}var B5="Popover",[nS,qAe]=Qa(B5,[K8]),gl=K8(),[lre,ya]=nS(B5),rS=e=>{const{__scopePopover:t,children:n,open:r,defaultOpen:a,onOpenChange:o,modal:s=!1}=e,l=gl(t),c=d.useRef(null),[u,f]=d.useState(!1),[p=!1,m]=Wi({prop:r,defaultProp:a,onChange:o});return i.jsx(uO,{...l,children:i.jsx(lre,{scope:t,contentId:J8(),triggerRef:c,open:p,onOpenChange:m,onOpenToggle:d.useCallback(()=>m(g=>!g),[m]),hasCustomAnchor:u,onCustomAnchorAdd:d.useCallback(()=>f(!0),[]),onCustomAnchorRemove:d.useCallback(()=>f(!1),[]),modal:s,children:n})})};rS.displayName=B5;var aS="PopoverAnchor",oS=d.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,a=ya(aS,n),o=gl(n),{onCustomAnchorAdd:s,onCustomAnchorRemove:l}=a;return d.useEffect(()=>(s(),()=>l()),[s,l]),i.jsx(Q8,{...o,...r,ref:t})});oS.displayName=aS;var sS="PopoverTrigger",iS=d.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,a=ya(sS,n),o=gl(n),s=Or(t,a.triggerRef),l=i.jsx(Rt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":mS(a.open),...r,ref:s,onClick:rt(e.onClick,a.onOpenToggle)});return a.hasCustomAnchor?l:i.jsx(Q8,{asChild:!0,...o,children:l})});iS.displayName=sS;var U5="PopoverPortal",[cre,ure]=nS(U5,{forceMount:void 0}),lS=e=>{const{__scopePopover:t,forceMount:n,children:r,container:a}=e,o=ya(U5,t);return i.jsx(cre,{scope:t,forceMount:n,children:i.jsx(Gi,{present:n||o.open,children:i.jsx(X8,{asChild:!0,container:a,children:r})})})};lS.displayName=U5;var Ko="PopoverContent",cS=d.forwardRef((e,t)=>{const n=ure(Ko,e.__scopePopover),{forceMount:r=n.forceMount,...a}=e,o=ya(Ko,e.__scopePopover);return i.jsx(Gi,{present:r||o.open,children:o.modal?i.jsx(dre,{...a,ref:t}):i.jsx(fre,{...a,ref:t})})});cS.displayName=Ko;var dre=d.forwardRef((e,t)=>{const n=ya(Ko,e.__scopePopover),r=d.useRef(null),a=Or(t,r),o=d.useRef(!1);return d.useEffect(()=>{const s=r.current;if(s)return nO(s)},[]),i.jsx(rO,{as:aO,allowPinchZoom:!0,children:i.jsx(uS,{...e,ref:a,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:rt(e.onCloseAutoFocus,s=>{s.preventDefault(),o.current||n.triggerRef.current?.focus()}),onPointerDownOutside:rt(e.onPointerDownOutside,s=>{const l=s.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;o.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:rt(e.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1})})})}),fre=d.forwardRef((e,t)=>{const n=ya(Ko,e.__scopePopover),r=d.useRef(!1),a=d.useRef(!1);return i.jsx(uS,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{e.onCloseAutoFocus?.(o),o.defaultPrevented||(r.current||n.triggerRef.current?.focus(),o.preventDefault()),r.current=!1,a.current=!1},onInteractOutside:o=>{e.onInteractOutside?.(o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const s=o.target;n.triggerRef.current?.contains(s)&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&a.current&&o.preventDefault()}})}),uS=d.forwardRef((e,t)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:a,onCloseAutoFocus:o,disableOutsidePointerEvents:s,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:f,...p}=e,m=ya(Ko,n),g=gl(n);return oO(),i.jsx(sO,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:a,onUnmountAutoFocus:o,children:i.jsx(iO,{asChild:!0,disableOutsidePointerEvents:s,onInteractOutside:f,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>m.onOpenChange(!1),children:i.jsx(lO,{"data-state":mS(m.open),role:"dialog",id:m.contentId,...g,...p,ref:t,style:{...p.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),dS="PopoverClose",fS=d.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,a=ya(dS,n);return i.jsx(Rt.button,{type:"button",...r,ref:t,onClick:rt(e.onClick,()=>a.onOpenChange(!1))})});fS.displayName=dS;var pre="PopoverArrow",pS=d.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,a=gl(n);return i.jsx(cO,{...a,...r,ref:t})});pS.displayName=pre;function mS(e){return e?"open":"closed"}var H5=rS,ZAe=oS,Zu=iS,gS=lS,V5=cS,mre=fS,gre=pS;const hl=e=>d.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},d.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.5555 4C10.099 4 9.70052 4.30906 9.58693 4.75114L9.29382 5.8919H14.715L14.4219 4.75114C14.3083 4.30906 13.9098 4 13.4533 4H10.5555ZM16.7799 5.8919L16.3589 4.25342C16.0182 2.92719 14.8226 2 13.4533 2H10.5555C9.18616 2 7.99062 2.92719 7.64985 4.25342L7.22886 5.8919H4C3.44772 5.8919 3 6.33961 3 6.8919C3 7.44418 3.44772 7.8919 4 7.8919H4.10069L5.31544 19.3172C5.47763 20.8427 6.76455 22 8.29863 22H15.7014C17.2354 22 18.5224 20.8427 18.6846 19.3172L19.8993 7.8919H20C20.5523 7.8919 21 7.44418 21 6.8919C21 6.33961 20.5523 5.8919 20 5.8919H16.7799ZM17.888 7.8919H6.11196L7.30423 19.1057C7.3583 19.6142 7.78727 20 8.29863 20H15.7014C16.2127 20 16.6417 19.6142 16.6958 19.1057L17.888 7.8919ZM10 10C10.5523 10 11 10.4477 11 11V16C11 16.5523 10.5523 17 10 17C9.44772 17 9 16.5523 9 16V11C9 10.4477 9.44772 10 10 10ZM14 10C14.5523 10 15 10.4477 15 11V16C15 16.5523 14.5523 17 14 17C13.4477 17 13 16.5523 13 16V11C13 10.4477 13.4477 10 14 10Z",fill:"currentColor"}));var hS=typeof window>"u",hre=!hS&&"ResizeObserver"in window,F7=function(){},vre={observe:F7,unobserve:F7},c0=hre?new ResizeObserver(function(e){for(var t=0,n=e;t<n.length;t++){var r=n[t],a=r.target,o=a.getBoundingClientRect(),s=a.$$useElementDimensionsSet;s&&s(Object.assign(o,r))}}):vre,yre=hS?d.useEffect:d.useLayoutEffect,vS=function(){function e(){this.bottom=0,this.height=0,this.left=0,this.right=0,this.top=0,this.width=0,this.x=0,this.y=0}return e.prototype.toJSON=function(){return JSON.stringify(this)},e}(),Cre=new vS,xre=new vS,B7={inlineSize:0,blockSize:0},bre=Object.assign(xre,{contentBoxSize:B7,borderBoxSize:B7,contentRect:Cre,target:null}),wre=function(){var e=d.useRef(null),t=d.useState(bre),n=t[0],r=t[1],a=d.useCallback(function(o){e.current&&c0.unobserve(e.current),o&&o.nodeType===1&&(o.$$useElementDimensionsSet=r,c0.observe(o))},[]);return yre(function(){return function(){e.current&&c0.unobserve(e.current)}},[]),[n,a]};function Xt(e){this.content=e}Xt.prototype={constructor:Xt,find:function(e){for(var t=0;t<this.content.length;t+=2)if(this.content[t]===e)return t;return-1},get:function(e){var t=this.find(e);return t==-1?void 0:this.content[t+1]},update:function(e,t,n){var r=n&&n!=e?this.remove(n):this,a=r.find(e),o=r.content.slice();return a==-1?o.push(n||e,t):(o[a+1]=t,n&&(o[a]=n)),new Xt(o)},remove:function(e){var t=this.find(e);if(t==-1)return this;var n=this.content.slice();return n.splice(t,2),new Xt(n)},addToStart:function(e,t){return new Xt([e,t].concat(this.remove(e).content))},addToEnd:function(e,t){var n=this.remove(e).content.slice();return n.push(e,t),new Xt(n)},addBefore:function(e,t,n){var r=this.remove(t),a=r.content.slice(),o=r.find(e);return a.splice(o==-1?a.length:o,0,t,n),new Xt(a)},forEach:function(e){for(var t=0;t<this.content.length;t+=2)e(this.content[t],this.content[t+1])},prepend:function(e){return e=Xt.from(e),e.size?new Xt(e.content.concat(this.subtract(e).content)):this},append:function(e){return e=Xt.from(e),e.size?new Xt(this.subtract(e).content.concat(e.content)):this},subtract:function(e){var t=this;e=Xt.from(e);for(var n=0;n<e.content.length;n+=2)t=t.remove(e.content[n]);return t},toObject:function(){var e={};return this.forEach(function(t,n){e[t]=n}),e},get size(){return this.content.length>>1}};Xt.from=function(e){if(e instanceof Xt)return e;var t=[];if(e)for(var n in e)t.push(n,e[n]);return new Xt(t)};function yS({percentage:e,thickness:t=1/12,className:n,sizeOverride:r,backgroundStrokeClassName:a="stroke-gray-400",transitionDuration:o,transitionTimingFunction:s,onTransitionEnd:l}){const c=r??120,u=c*t,f=(c-u)/2,p=2*Math.PI*f,m=p-e/100*p;return i.jsxs("svg",{width:c,height:c,viewBox:`0 0 ${c} ${c}`,className:n,children:[i.jsx("circle",{className:P("origin-[50%_50%] -rotate-90",a),strokeWidth:u,fill:"transparent",r:f,cx:c/2,cy:c/2}),i.jsx("circle",{className:"origin-[50%_50%] -rotate-90 transition-[stroke-dashoffset]",stroke:"currentColor",strokeWidth:u,strokeDashoffset:m,strokeDasharray:`${p} ${p}`,fill:"transparent",r:f,cx:c/2,cy:c/2,style:{transitionDuration:o,transitionTimingFunction:s},onTransitionEnd:l})]})}const _re=({size:e=40,className:t="text-blue-selection"})=>i.jsx("div",{className:P("relative",t),style:{width:e,height:e},children:i.jsxs("svg",{className:"absolute h-full w-full animate-spin",viewBox:"0 0 50 50",children:[i.jsx("defs",{children:i.jsxs("linearGradient",{id:"spinner-gradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[i.jsx("stop",{offset:"0%",style:{stopColor:"currentColor",stopOpacity:1}}),i.jsx("stop",{offset:"100%",style:{stopColor:"currentColor",stopOpacity:0}})]})}),i.jsx("circle",{cx:"25",cy:"25",r:"20",stroke:"url(#spinner-gradient)",strokeWidth:"8",strokeLinecap:"round",fill:"none",strokeDasharray:"75,150",strokeDashoffset:"0"})]})}),Sre=e=>d.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},d.createElement("rect",{x:7,y:7,width:10,height:10,rx:1.25,fill:"currentColor"})),Mre=e=>d.createElement("svg",{width:32,height:32,viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},d.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.1918 8.90615C15.6381 8.45983 16.3618 8.45983 16.8081 8.90615L21.9509 14.049C22.3972 14.4953 22.3972 15.2189 21.9509 15.6652C21.5046 16.1116 20.781 16.1116 20.3347 15.6652L17.1428 12.4734V22.2857C17.1428 22.9169 16.6311 23.4286 15.9999 23.4286C15.3688 23.4286 14.8571 22.9169 14.8571 22.2857V12.4734L11.6652 15.6652C11.2189 16.1116 10.4953 16.1116 10.049 15.6652C9.60265 15.2189 9.60265 14.4953 10.049 14.049L15.1918 8.90615Z",fill:"currentColor"}));function Tre(e,t,n){return e===e&&(n!==void 0&&(e=e<=n?e:n),t!==void 0&&(e=e>=t?e:t)),e}var Ere=Tre,kre=Ere,u0=Th;function Are(e,t,n){return n===void 0&&(n=t,t=void 0),n!==void 0&&(n=u0(n),n=n===n?n:0),t!==void 0&&(t=u0(t),t=t===t?t:0),kre(u0(e),t,n)}var Pre=Are;const Yu=ve(Pre),Hm=Ke(()=>qe(()=>import("./j44n4sr6m4ols605.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9])).then(e=>e.CanvasMessageAttachment)),Ore=Ke(()=>qe(()=>import("./j44n4sr6m4ols605.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9])).then(e=>e.CanvasMessageAttachmentWrapper)),Nre=e=>Ba(()=>vn.getThreadDisabledToolIds(e)?.includes(d1.CANMORE)??!1);function Ire(e){return e==null||[Oe.PrimaryAssistant,Oe.GizmoInteraction].includes(e.kind)}function G5(e,t){const n=ss(e,t),{data:r}=pa(n!=null&&"gizmo_id"in n?n.gizmo_id:void 0,n?.kind===Oe.GizmoTest);if(n!=null)switch(n.kind){case Oe.GizmoInteraction:case Oe.GizmoMagicCreate:case Oe.GizmoTest:return{gizmo:r,...n};case Oe.PrimaryAssistant:return n}}function YAe(e){return e.kind===Oe.GizmoInteraction||e.kind===Oe.GizmoMagicCreate||e.kind===Oe.GizmoTest?e.gizmo:void 0}const KAe=5,Qo="snorlaxConversations";function jt(e){if(e===null||e===!0||e===!1)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function we(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function Dc(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Dc=function(n){return typeof n}:Dc=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Dc(e)}function Le(e){we(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||Dc(e)==="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function jre(e,t){we(2,arguments);var n=Le(e),r=jt(t);return isNaN(r)?new Date(NaN):(r&&n.setDate(n.getDate()+r),n)}function Rre(e,t){we(2,arguments);var n=Le(e).getTime(),r=jt(t);return new Date(n+r)}var Lre={};function Es(){return Lre}function Ku(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}function Qu(e){we(1,arguments);var t=Le(e);return t.setHours(0,0,0,0),t}var $re=864e5;function W5(e,t){we(2,arguments);var n=Qu(e),r=Qu(t),a=n.getTime()-Ku(n),o=r.getTime()-Ku(r);return Math.round((a-o)/$re)}var Mf=6e4,z5=36e5,Dre=1e3;function CS(e,t){we(2,arguments);var n=Qu(e),r=Qu(t);return n.getTime()===r.getTime()}function Fc(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Fc=function(n){return typeof n}:Fc=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Fc(e)}function Fre(e){return we(1,arguments),e instanceof Date||Fc(e)==="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Bre(e){if(we(1,arguments),!Fre(e)&&typeof e!="number")return!1;var t=Le(e);return!isNaN(Number(t))}function U7(e,t){var n=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return n<0?-1:n>0?1:n}function QAe(e,t){we(2,arguments);var n=Le(e),r=Le(t),a=U7(n,r),o=Math.abs(W5(n,r));n.setDate(n.getDate()-a*o);var s=+(U7(n,r)===-a),l=a*(o-s);return l===0?0:l}function xS(e,t){return we(2,arguments),Le(e).getTime()-Le(t).getTime()}var H7={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(t){return t<0?Math.ceil(t):Math.floor(t)}},Ure="trunc";function Hre(e){return e?H7[e]:H7[Ure]}function bS(e,t,n){we(2,arguments);var r=xS(e,t)/Mf;return Hre(void 0)(r)}function Vre(e){we(1,arguments);var t=Le(e);return t.setHours(23,59,59,999),t}function Gre(){return Vre(Date.now())}function wS(e,t){we(2,arguments);var n=jt(t);return Rre(e,-n)}var Wre=864e5;function zre(e){we(1,arguments);var t=Le(e),n=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var r=t.getTime(),a=n-r;return Math.floor(a/Wre)+1}function Jo(e){we(1,arguments);var t=1,n=Le(e),r=n.getUTCDay(),a=(r<t?7:0)+r-t;return n.setUTCDate(n.getUTCDate()-a),n.setUTCHours(0,0,0,0),n}function _S(e){we(1,arguments);var t=Le(e),n=t.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var a=Jo(r),o=new Date(0);o.setUTCFullYear(n,0,4),o.setUTCHours(0,0,0,0);var s=Jo(o);return t.getTime()>=a.getTime()?n+1:t.getTime()>=s.getTime()?n:n-1}function qre(e){we(1,arguments);var t=_S(e),n=new Date(0);n.setUTCFullYear(t,0,4),n.setUTCHours(0,0,0,0);var r=Jo(n);return r}var Zre=6048e5;function SS(e){we(1,arguments);var t=Le(e),n=Jo(t).getTime()-qre(t).getTime();return Math.round(n/Zre)+1}function qa(e,t){var n,r,a,o,s,l,c,u;we(1,arguments);var f=Es(),p=jt((n=(r=(a=(o=t?.weekStartsOn)!==null&&o!==void 0?o:t==null||(s=t.locale)===null||s===void 0||(l=s.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&a!==void 0?a:f.weekStartsOn)!==null&&r!==void 0?r:(c=f.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&n!==void 0?n:0);if(!(p>=0&&p<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var m=Le(e),g=m.getUTCDay(),h=(g<p?7:0)+g-p;return m.setUTCDate(m.getUTCDate()-h),m.setUTCHours(0,0,0,0),m}function q5(e,t){var n,r,a,o,s,l,c,u;we(1,arguments);var f=Le(e),p=f.getUTCFullYear(),m=Es(),g=jt((n=(r=(a=(o=t?.firstWeekContainsDate)!==null&&o!==void 0?o:t==null||(s=t.locale)===null||s===void 0||(l=s.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&a!==void 0?a:m.firstWeekContainsDate)!==null&&r!==void 0?r:(c=m.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(g>=1&&g<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var h=new Date(0);h.setUTCFullYear(p+1,0,g),h.setUTCHours(0,0,0,0);var v=qa(h,t),y=new Date(0);y.setUTCFullYear(p,0,g),y.setUTCHours(0,0,0,0);var x=qa(y,t);return f.getTime()>=v.getTime()?p+1:f.getTime()>=x.getTime()?p:p-1}function Yre(e,t){var n,r,a,o,s,l,c,u;we(1,arguments);var f=Es(),p=jt((n=(r=(a=(o=t?.firstWeekContainsDate)!==null&&o!==void 0?o:t==null||(s=t.locale)===null||s===void 0||(l=s.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&a!==void 0?a:f.firstWeekContainsDate)!==null&&r!==void 0?r:(c=f.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1),m=q5(e,t),g=new Date(0);g.setUTCFullYear(m,0,p),g.setUTCHours(0,0,0,0);var h=qa(g,t);return h}var Kre=6048e5;function MS(e,t){we(1,arguments);var n=Le(e),r=qa(n,t).getTime()-Yre(n,t).getTime();return Math.round(r/Kre)+1}function $e(e,t){for(var n=e<0?"-":"",r=Math.abs(e).toString();r.length<t;)r="0"+r;return n+r}var Fr={y:function(t,n){var r=t.getUTCFullYear(),a=r>0?r:1-r;return $e(n==="yy"?a%100:a,n.length)},M:function(t,n){var r=t.getUTCMonth();return n==="M"?String(r+1):$e(r+1,2)},d:function(t,n){return $e(t.getUTCDate(),n.length)},a:function(t,n){var r=t.getUTCHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h:function(t,n){return $e(t.getUTCHours()%12||12,n.length)},H:function(t,n){return $e(t.getUTCHours(),n.length)},m:function(t,n){return $e(t.getUTCMinutes(),n.length)},s:function(t,n){return $e(t.getUTCSeconds(),n.length)},S:function(t,n){var r=n.length,a=t.getUTCMilliseconds(),o=Math.floor(a*Math.pow(10,r-3));return $e(o,n.length)}},yo={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Qre={G:function(t,n,r){var a=t.getUTCFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return r.era(a,{width:"abbreviated"});case"GGGGG":return r.era(a,{width:"narrow"});case"GGGG":default:return r.era(a,{width:"wide"})}},y:function(t,n,r){if(n==="yo"){var a=t.getUTCFullYear(),o=a>0?a:1-a;return r.ordinalNumber(o,{unit:"year"})}return Fr.y(t,n)},Y:function(t,n,r,a){var o=q5(t,a),s=o>0?o:1-o;if(n==="YY"){var l=s%100;return $e(l,2)}return n==="Yo"?r.ordinalNumber(s,{unit:"year"}):$e(s,n.length)},R:function(t,n){var r=_S(t);return $e(r,n.length)},u:function(t,n){var r=t.getUTCFullYear();return $e(r,n.length)},Q:function(t,n,r){var a=Math.ceil((t.getUTCMonth()+1)/3);switch(n){case"Q":return String(a);case"QQ":return $e(a,2);case"Qo":return r.ordinalNumber(a,{unit:"quarter"});case"QQQ":return r.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(a,{width:"wide",context:"formatting"})}},q:function(t,n,r){var a=Math.ceil((t.getUTCMonth()+1)/3);switch(n){case"q":return String(a);case"qq":return $e(a,2);case"qo":return r.ordinalNumber(a,{unit:"quarter"});case"qqq":return r.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(a,{width:"wide",context:"standalone"})}},M:function(t,n,r){var a=t.getUTCMonth();switch(n){case"M":case"MM":return Fr.M(t,n);case"Mo":return r.ordinalNumber(a+1,{unit:"month"});case"MMM":return r.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(a,{width:"wide",context:"formatting"})}},L:function(t,n,r){var a=t.getUTCMonth();switch(n){case"L":return String(a+1);case"LL":return $e(a+1,2);case"Lo":return r.ordinalNumber(a+1,{unit:"month"});case"LLL":return r.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(a,{width:"wide",context:"standalone"})}},w:function(t,n,r,a){var o=MS(t,a);return n==="wo"?r.ordinalNumber(o,{unit:"week"}):$e(o,n.length)},I:function(t,n,r){var a=SS(t);return n==="Io"?r.ordinalNumber(a,{unit:"week"}):$e(a,n.length)},d:function(t,n,r){return n==="do"?r.ordinalNumber(t.getUTCDate(),{unit:"date"}):Fr.d(t,n)},D:function(t,n,r){var a=zre(t);return n==="Do"?r.ordinalNumber(a,{unit:"dayOfYear"}):$e(a,n.length)},E:function(t,n,r){var a=t.getUTCDay();switch(n){case"E":case"EE":case"EEE":return r.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(a,{width:"short",context:"formatting"});case"EEEE":default:return r.day(a,{width:"wide",context:"formatting"})}},e:function(t,n,r,a){var o=t.getUTCDay(),s=(o-a.weekStartsOn+8)%7||7;switch(n){case"e":return String(s);case"ee":return $e(s,2);case"eo":return r.ordinalNumber(s,{unit:"day"});case"eee":return r.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(o,{width:"short",context:"formatting"});case"eeee":default:return r.day(o,{width:"wide",context:"formatting"})}},c:function(t,n,r,a){var o=t.getUTCDay(),s=(o-a.weekStartsOn+8)%7||7;switch(n){case"c":return String(s);case"cc":return $e(s,n.length);case"co":return r.ordinalNumber(s,{unit:"day"});case"ccc":return r.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(o,{width:"narrow",context:"standalone"});case"cccccc":return r.day(o,{width:"short",context:"standalone"});case"cccc":default:return r.day(o,{width:"wide",context:"standalone"})}},i:function(t,n,r){var a=t.getUTCDay(),o=a===0?7:a;switch(n){case"i":return String(o);case"ii":return $e(o,n.length);case"io":return r.ordinalNumber(o,{unit:"day"});case"iii":return r.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(a,{width:"short",context:"formatting"});case"iiii":default:return r.day(a,{width:"wide",context:"formatting"})}},a:function(t,n,r){var a=t.getUTCHours(),o=a/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(t,n,r){var a=t.getUTCHours(),o;switch(a===12?o=yo.noon:a===0?o=yo.midnight:o=a/12>=1?"pm":"am",n){case"b":case"bb":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(t,n,r){var a=t.getUTCHours(),o;switch(a>=17?o=yo.evening:a>=12?o=yo.afternoon:a>=4?o=yo.morning:o=yo.night,n){case"B":case"BB":case"BBB":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(t,n,r){if(n==="ho"){var a=t.getUTCHours()%12;return a===0&&(a=12),r.ordinalNumber(a,{unit:"hour"})}return Fr.h(t,n)},H:function(t,n,r){return n==="Ho"?r.ordinalNumber(t.getUTCHours(),{unit:"hour"}):Fr.H(t,n)},K:function(t,n,r){var a=t.getUTCHours()%12;return n==="Ko"?r.ordinalNumber(a,{unit:"hour"}):$e(a,n.length)},k:function(t,n,r){var a=t.getUTCHours();return a===0&&(a=24),n==="ko"?r.ordinalNumber(a,{unit:"hour"}):$e(a,n.length)},m:function(t,n,r){return n==="mo"?r.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):Fr.m(t,n)},s:function(t,n,r){return n==="so"?r.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):Fr.s(t,n)},S:function(t,n){return Fr.S(t,n)},X:function(t,n,r,a){var o=a._originalDate||t,s=o.getTimezoneOffset();if(s===0)return"Z";switch(n){case"X":return G7(s);case"XXXX":case"XX":return Sa(s);case"XXXXX":case"XXX":default:return Sa(s,":")}},x:function(t,n,r,a){var o=a._originalDate||t,s=o.getTimezoneOffset();switch(n){case"x":return G7(s);case"xxxx":case"xx":return Sa(s);case"xxxxx":case"xxx":default:return Sa(s,":")}},O:function(t,n,r,a){var o=a._originalDate||t,s=o.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+V7(s,":");case"OOOO":default:return"GMT"+Sa(s,":")}},z:function(t,n,r,a){var o=a._originalDate||t,s=o.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+V7(s,":");case"zzzz":default:return"GMT"+Sa(s,":")}},t:function(t,n,r,a){var o=a._originalDate||t,s=Math.floor(o.getTime()/1e3);return $e(s,n.length)},T:function(t,n,r,a){var o=a._originalDate||t,s=o.getTime();return $e(s,n.length)}};function V7(e,t){var n=e>0?"-":"+",r=Math.abs(e),a=Math.floor(r/60),o=r%60;if(o===0)return n+String(a);var s=t;return n+String(a)+s+$e(o,2)}function G7(e,t){if(e%60===0){var n=e>0?"-":"+";return n+$e(Math.abs(e)/60,2)}return Sa(e,t)}function Sa(e,t){var n=t||"",r=e>0?"-":"+",a=Math.abs(e),o=$e(Math.floor(a/60),2),s=$e(a%60,2);return r+o+n+s}var W7=function(t,n){switch(t){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},TS=function(t,n){switch(t){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},Jre=function(t,n){var r=t.match(/(P+)(p+)?/)||[],a=r[1],o=r[2];if(!o)return W7(t,n);var s;switch(a){case"P":s=n.dateTime({width:"short"});break;case"PP":s=n.dateTime({width:"medium"});break;case"PPP":s=n.dateTime({width:"long"});break;case"PPPP":default:s=n.dateTime({width:"full"});break}return s.replace("{{date}}",W7(a,n)).replace("{{time}}",TS(o,n))},Vm={p:TS,P:Jre},Xre=["D","DD"],eae=["YY","YYYY"];function ES(e){return Xre.indexOf(e)!==-1}function kS(e){return eae.indexOf(e)!==-1}function Ju(e,t,n){if(e==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var tae={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},nae=function(t,n,r){var a,o=tae[t];return typeof o=="string"?a=o:n===1?a=o.one:a=o.other.replace("{{count}}",n.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+a:a+" ago":a};function d0(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.width?String(t.width):e.defaultWidth,r=e.formats[n]||e.formats[e.defaultWidth];return r}}var rae={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},aae={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},oae={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},sae={date:d0({formats:rae,defaultWidth:"full"}),time:d0({formats:aae,defaultWidth:"full"}),dateTime:d0({formats:oae,defaultWidth:"full"})},iae={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},lae=function(t,n,r,a){return iae[t]};function Us(e){return function(t,n){var r=n!=null&&n.context?String(n.context):"standalone",a;if(r==="formatting"&&e.formattingValues){var o=e.defaultFormattingWidth||e.defaultWidth,s=n!=null&&n.width?String(n.width):o;a=e.formattingValues[s]||e.formattingValues[o]}else{var l=e.defaultWidth,c=n!=null&&n.width?String(n.width):e.defaultWidth;a=e.values[c]||e.values[l]}var u=e.argumentCallback?e.argumentCallback(t):t;return a[u]}}var cae={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},uae={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},dae={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},fae={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},pae={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},mae={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},gae=function(t,n){var r=Number(t),a=r%100;if(a>20||a<10)switch(a%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},hae={ordinalNumber:gae,era:Us({values:cae,defaultWidth:"wide"}),quarter:Us({values:uae,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:Us({values:dae,defaultWidth:"wide"}),day:Us({values:fae,defaultWidth:"wide"}),dayPeriod:Us({values:pae,defaultWidth:"wide",formattingValues:mae,defaultFormattingWidth:"wide"})};function Hs(e){return function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.width,a=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],o=t.match(a);if(!o)return null;var s=o[0],l=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?yae(l,function(p){return p.test(s)}):vae(l,function(p){return p.test(s)}),u;u=e.valueCallback?e.valueCallback(c):c,u=n.valueCallback?n.valueCallback(u):u;var f=t.slice(s.length);return{value:u,rest:f}}}function vae(e,t){for(var n in e)if(e.hasOwnProperty(n)&&t(e[n]))return n}function yae(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n}function Cae(e){return function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=t.match(e.matchPattern);if(!r)return null;var a=r[0],o=t.match(e.parsePattern);if(!o)return null;var s=e.valueCallback?e.valueCallback(o[0]):o[0];s=n.valueCallback?n.valueCallback(s):s;var l=t.slice(a.length);return{value:s,rest:l}}}var xae=/^(\d+)(th|st|nd|rd)?/i,bae=/\d+/i,wae={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},_ae={any:[/^b/i,/^(a|c)/i]},Sae={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Mae={any:[/1/i,/2/i,/3/i,/4/i]},Tae={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Eae={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},kae={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Aae={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Pae={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Oae={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Nae={ordinalNumber:Cae({matchPattern:xae,parsePattern:bae,valueCallback:function(t){return parseInt(t,10)}}),era:Hs({matchPatterns:wae,defaultMatchWidth:"wide",parsePatterns:_ae,defaultParseWidth:"any"}),quarter:Hs({matchPatterns:Sae,defaultMatchWidth:"wide",parsePatterns:Mae,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:Hs({matchPatterns:Tae,defaultMatchWidth:"wide",parsePatterns:Eae,defaultParseWidth:"any"}),day:Hs({matchPatterns:kae,defaultMatchWidth:"wide",parsePatterns:Aae,defaultParseWidth:"any"}),dayPeriod:Hs({matchPatterns:Pae,defaultMatchWidth:"any",parsePatterns:Oae,defaultParseWidth:"any"})},AS={code:"en-US",formatDistance:nae,formatLong:sae,formatRelative:lae,localize:hae,match:Nae,options:{weekStartsOn:0,firstWeekContainsDate:1}},Iae=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,jae=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Rae=/^'([^]*?)'?$/,Lae=/''/g,$ae=/[a-zA-Z]/;function Dae(e,t,n){var r,a,o,s,l,c,u,f,p,m,g,h,v,y;we(2,arguments);var x=String(t),C=Es(),w=(r=(a=void 0)!==null&&a!==void 0?a:C.locale)!==null&&r!==void 0?r:AS,_=jt((o=(s=(l=(c=void 0)!==null&&c!==void 0?c:void 0)!==null&&l!==void 0?l:C.firstWeekContainsDate)!==null&&s!==void 0?s:(u=C.locale)===null||u===void 0||(f=u.options)===null||f===void 0?void 0:f.firstWeekContainsDate)!==null&&o!==void 0?o:1);if(!(_>=1&&_<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var E=jt((p=(m=(g=(h=void 0)!==null&&h!==void 0?h:void 0)!==null&&g!==void 0?g:C.weekStartsOn)!==null&&m!==void 0?m:(v=C.locale)===null||v===void 0||(y=v.options)===null||y===void 0?void 0:y.weekStartsOn)!==null&&p!==void 0?p:0);if(!(E>=0&&E<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!w.localize)throw new RangeError("locale must contain localize property");if(!w.formatLong)throw new RangeError("locale must contain formatLong property");var T=Le(e);if(!Bre(T))throw new RangeError("Invalid time value");var M=Ku(T),A=wS(T,M),D={firstWeekContainsDate:_,weekStartsOn:E,locale:w,_originalDate:T},j=x.match(jae).map(function(B){var N=B[0];if(N==="p"||N==="P"){var H=Vm[N];return H(B,w.formatLong)}return B}).join("").match(Iae).map(function(B){if(B==="''")return"'";var N=B[0];if(N==="'")return Fae(B);var H=Qre[N];if(H)return kS(B)&&Ju(B,t,String(e)),ES(B)&&Ju(B,t,String(e)),H(A,B,w.localize,D);if(N.match($ae))throw new RangeError("Format string contains an unescaped latin alphabet character `"+N+"`");return B}).join("");return j}function Fae(e){var t=e.match(Rae);return t?t[1].replace(Lae,"'"):e}function Bae(e,t){if(e==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}function JAe(e){we(1,arguments);var t=jt(e);return Le(t*1e3)}function PS(e){we(1,arguments);var t=Le(e),n=t.getMonth();return n}function Xu(e){return we(1,arguments),Le(e).getFullYear()}function Uae(e,t){we(2,arguments);var n=Le(e),r=Le(t);return n.getTime()>r.getTime()}function Bc(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Bc=function(n){return typeof n}:Bc=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Bc(e)}function OS(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Gm(e,t)}function Gm(e,t){return Gm=Object.setPrototypeOf||function(r,a){return r.__proto__=a,r},Gm(e,t)}function NS(e){var t=Vae();return function(){var r=ed(e),a;if(t){var o=ed(this).constructor;a=Reflect.construct(r,arguments,o)}else a=r.apply(this,arguments);return Hae(this,a)}}function Hae(e,t){return t&&(Bc(t)==="object"||typeof t=="function")?t:Wm(e)}function Wm(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Vae(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ed(e){return ed=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},ed(e)}function Z5(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Gae(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Y5(e,t,n){return t&&Gae(e.prototype,t),e}function zm(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Wae=10,IS=function(){function e(){Z5(this,e),zm(this,"subPriority",0)}return Y5(e,[{key:"validate",value:function(n,r){return!0}}]),e}(),zae=function(e){OS(n,e);var t=NS(n);function n(r,a,o,s,l){var c;return Z5(this,n),c=t.call(this),c.value=r,c.validateValue=a,c.setValue=o,c.priority=s,l&&(c.subPriority=l),c}return Y5(n,[{key:"validate",value:function(a,o){return this.validateValue(a,this.value,o)}},{key:"set",value:function(a,o,s){return this.setValue(a,o,this.value,s)}}]),n}(IS),qae=function(e){OS(n,e);var t=NS(n);function n(){var r;Z5(this,n);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return r=t.call.apply(t,[this].concat(o)),zm(Wm(r),"priority",Wae),zm(Wm(r),"subPriority",-1),r}return Y5(n,[{key:"set",value:function(a,o){if(o.timestampIsSet)return a;var s=new Date(0);return s.setFullYear(a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate()),s.setHours(a.getUTCHours(),a.getUTCMinutes(),a.getUTCSeconds(),a.getUTCMilliseconds()),s}}]),n}(IS);function Zae(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Yae(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Kae(e,t,n){return t&&Yae(e.prototype,t),e}var Ie=function(){function e(){Zae(this,e)}return Kae(e,[{key:"run",value:function(n,r,a,o){var s=this.parse(n,r,a,o);return s?{setter:new zae(s.value,this.validate,this.set,this.priority,this.subPriority),rest:s.rest}:null}},{key:"validate",value:function(n,r,a){return!0}}]),e}();function Uc(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Uc=function(n){return typeof n}:Uc=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Uc(e)}function Qae(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Jae(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Xae(e,t,n){return t&&Jae(e.prototype,t),e}function eoe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&qm(e,t)}function qm(e,t){return qm=Object.setPrototypeOf||function(r,a){return r.__proto__=a,r},qm(e,t)}function toe(e){var t=roe();return function(){var r=td(e),a;if(t){var o=td(this).constructor;a=Reflect.construct(r,arguments,o)}else a=r.apply(this,arguments);return noe(this,a)}}function noe(e,t){return t&&(Uc(t)==="object"||typeof t=="function")?t:Zm(e)}function Zm(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function roe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function td(e){return td=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},td(e)}function z7(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var aoe=function(e){eoe(n,e);var t=toe(n);function n(){var r;Qae(this,n);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return r=t.call.apply(t,[this].concat(o)),z7(Zm(r),"priority",140),z7(Zm(r),"incompatibleTokens",["R","u","t","T"]),r}return Xae(n,[{key:"parse",value:function(a,o,s){switch(o){case"G":case"GG":case"GGG":return s.era(a,{width:"abbreviated"})||s.era(a,{width:"narrow"});case"GGGGG":return s.era(a,{width:"narrow"});case"GGGG":default:return s.era(a,{width:"wide"})||s.era(a,{width:"abbreviated"})||s.era(a,{width:"narrow"})}}},{key:"set",value:function(a,o,s){return o.era=s,a.setUTCFullYear(s,0,1),a.setUTCHours(0,0,0,0),a}}]),n}(Ie),ft={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},nr={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function pt(e,t){return e&&{value:t(e.value),rest:e.rest}}function at(e,t){var n=t.match(e);return n?{value:parseInt(n[0],10),rest:t.slice(n[0].length)}:null}function rr(e,t){var n=t.match(e);if(!n)return null;if(n[0]==="Z")return{value:0,rest:t.slice(1)};var r=n[1]==="+"?1:-1,a=n[2]?parseInt(n[2],10):0,o=n[3]?parseInt(n[3],10):0,s=n[5]?parseInt(n[5],10):0;return{value:r*(a*z5+o*Mf+s*Dre),rest:t.slice(n[0].length)}}function jS(e){return at(ft.anyDigitsSigned,e)}function ut(e,t){switch(e){case 1:return at(ft.singleDigit,t);case 2:return at(ft.twoDigits,t);case 3:return at(ft.threeDigits,t);case 4:return at(ft.fourDigits,t);default:return at(new RegExp("^\\d{1,"+e+"}"),t)}}function nd(e,t){switch(e){case 1:return at(ft.singleDigitSigned,t);case 2:return at(ft.twoDigitsSigned,t);case 3:return at(ft.threeDigitsSigned,t);case 4:return at(ft.fourDigitsSigned,t);default:return at(new RegExp("^-?\\d{1,"+e+"}"),t)}}function K5(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function RS(e,t){var n=t>0,r=n?t:1-t,a;if(r<=50)a=e||100;else{var o=r+50,s=Math.floor(o/100)*100,l=e>=o%100;a=e+s-(l?100:0)}return n?a:1-a}function LS(e){return e%400===0||e%4===0&&e%100!==0}function Hc(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Hc=function(n){return typeof n}:Hc=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Hc(e)}function ooe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function soe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ioe(e,t,n){return t&&soe(e.prototype,t),e}function loe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ym(e,t)}function Ym(e,t){return Ym=Object.setPrototypeOf||function(r,a){return r.__proto__=a,r},Ym(e,t)}function coe(e){var t=doe();return function(){var r=rd(e),a;if(t){var o=rd(this).constructor;a=Reflect.construct(r,arguments,o)}else a=r.apply(this,arguments);return uoe(this,a)}}function uoe(e,t){return t&&(Hc(t)==="object"||typeof t=="function")?t:Km(e)}function Km(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function doe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function rd(e){return rd=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},rd(e)}function q7(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var foe=function(e){loe(n,e);var t=coe(n);function n(){var r;ooe(this,n);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return r=t.call.apply(t,[this].concat(o)),q7(Km(r),"priority",130),q7(Km(r),"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"]),r}return ioe(n,[{key:"parse",value:function(a,o,s){var l=function(u){return{year:u,isTwoDigitYear:o==="yy"}};switch(o){case"y":return pt(ut(4,a),l);case"yo":return pt(s.ordinalNumber(a,{unit:"year"}),l);default:return pt(ut(o.length,a),l)}}},{key:"validate",value:function(a,o){return o.isTwoDigitYear||o.year>0}},{key:"set",value:function(a,o,s){var l=a.getUTCFullYear();if(s.isTwoDigitYear){var c=RS(s.year,l);return a.setUTCFullYear(c,0,1),a.setUTCHours(0,0,0,0),a}var u=!("era"in o)||o.era===1?s.year:1-s.year;return a.setUTCFullYear(u,0,1),a.setUTCHours(0,0,0,0),a}}]),n}(Ie);function Vc(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Vc=function(n){return typeof n}:Vc=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Vc(e)}function poe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function moe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function goe(e,t,n){return t&&moe(e.prototype,t),e}function hoe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Qm(e,t)}function Qm(e,t){return Qm=Object.setPrototypeOf||function(r,a){return r.__proto__=a,r},Qm(e,t)}function voe(e){var t=Coe();return function(){var r=ad(e),a;if(t){var o=ad(this).constructor;a=Reflect.construct(r,arguments,o)}else a=r.apply(this,arguments);return yoe(this,a)}}function yoe(e,t){return t&&(Vc(t)==="object"||typeof t=="function")?t:Jm(e)}function Jm(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Coe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ad(e){return ad=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},ad(e)}function Z7(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var xoe=function(e){hoe(n,e);var t=voe(n);function n(){var r;poe(this,n);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return r=t.call.apply(t,[this].concat(o)),Z7(Jm(r),"priority",130),Z7(Jm(r),"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"]),r}return goe(n,[{key:"parse",value:function(a,o,s){var l=function(u){return{year:u,isTwoDigitYear:o==="YY"}};switch(o){case"Y":return pt(ut(4,a),l);case"Yo":return pt(s.ordinalNumber(a,{unit:"year"}),l);default:return pt(ut(o.length,a),l)}}},{key:"validate",value:function(a,o){return o.isTwoDigitYear||o.year>0}},{key:"set",value:function(a,o,s,l){var c=q5(a,l);if(s.isTwoDigitYear){var u=RS(s.year,c);return a.setUTCFullYear(u,0,l.firstWeekContainsDate),a.setUTCHours(0,0,0,0),qa(a,l)}var f=!("era"in o)||o.era===1?s.year:1-s.year;return a.setUTCFullYear(f,0,l.firstWeekContainsDate),a.setUTCHours(0,0,0,0),qa(a,l)}}]),n}(Ie);function Gc(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Gc=function(n){return typeof n}:Gc=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Gc(e)}function boe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function woe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _oe(e,t,n){return t&&woe(e.prototype,t),e}function Soe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Xm(e,t)}function Xm(e,t){return Xm=Object.setPrototypeOf||function(r,a){return r.__proto__=a,r},Xm(e,t)}function Moe(e){var t=Eoe();return function(){var r=od(e),a;if(t){var o=od(this).constructor;a=Reflect.construct(r,arguments,o)}else a=r.apply(this,arguments);return Toe(this,a)}}function Toe(e,t){return t&&(Gc(t)==="object"||typeof t=="function")?t:eg(e)}function eg(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Eoe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function od(e){return od=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},od(e)}function Y7(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var koe=function(e){Soe(n,e);var t=Moe(n);function n(){var r;boe(this,n);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return r=t.call.apply(t,[this].concat(o)),Y7(eg(r),"priority",130),Y7(eg(r),"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]),r}return _oe(n,[{key:"parse",value:function(a,o){return nd(o==="R"?4:o.length,a)}},{key:"set",value:function(a,o,s){var l=new Date(0);return l.setUTCFullYear(s,0,4),l.setUTCHours(0,0,0,0),Jo(l)}}]),n}(Ie);function Wc(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Wc=function(n){return typeof n}:Wc=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Wc(e)}function Aoe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Poe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ooe(e,t,n){return t&&Poe(e.prototype,t),e}function Noe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&tg(e,t)}function tg(e,t){return tg=Object.setPrototypeOf||function(r,a){return r.__proto__=a,r},tg(e,t)}function Ioe(e){var t=Roe();return function(){var r=sd(e),a;if(t){var o=sd(this).constructor;a=Reflect.construct(r,arguments,o)}else a=r.apply(this,arguments);return joe(this,a)}}function joe(e,t){return t&&(Wc(t)==="object"||typeof t=="function")?t:ng(e)}function ng(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Roe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function sd(e){return sd=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},sd(e)}function K7(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Loe=function(e){Noe(n,e);var t=Ioe(n);function n(){var r;Aoe(this,n);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return r=t.call.apply(t,[this].concat(o)),K7(ng(r),"priority",130),K7(ng(r),"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"]),r}return Ooe(n,[{key:"parse",value:function(a,o){return nd(o==="u"?4:o.length,a)}},{key:"set",value:function(a,o,s){return a.setUTCFullYear(s,0,1),a.setUTCHours(0,0,0,0),a}}]),n}(Ie);function zc(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?zc=function(n){return typeof n}:zc=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},zc(e)}function $oe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Doe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Foe(e,t,n){return t&&Doe(e.prototype,t),e}function Boe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&rg(e,t)}function rg(e,t){return rg=Object.setPrototypeOf||function(r,a){return r.__proto__=a,r},rg(e,t)}function Uoe(e){var t=Voe();return function(){var r=id(e),a;if(t){var o=id(this).constructor;a=Reflect.construct(r,arguments,o)}else a=r.apply(this,arguments);return Hoe(this,a)}}function Hoe(e,t){return t&&(zc(t)==="object"||typeof t=="function")?t:ag(e)}function ag(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Voe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function id(e){return id=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},id(e)}function Q7(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Goe=function(e){Boe(n,e);var t=Uoe(n);function n(){var r;$oe(this,n);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return r=t.call.apply(t,[this].concat(o)),Q7(ag(r),"priority",120),Q7(ag(r),"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]),r}return Foe(n,[{key:"parse",value:function(a,o,s){switch(o){case"Q":case"QQ":return ut(o.length,a);case"Qo":return s.ordinalNumber(a,{unit:"quarter"});case"QQQ":return s.quarter(a,{width:"abbreviated",context:"formatting"})||s.quarter(a,{width:"narrow",context:"formatting"});case"QQQQQ":return s.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return s.quarter(a,{width:"wide",context:"formatting"})||s.quarter(a,{width:"abbreviated",context:"formatting"})||s.quarter(a,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(a,o){return o>=1&&o<=4}},{key:"set",value:function(a,o,s){return a.setUTCMonth((s-1)*3,1),a.setUTCHours(0,0,0,0),a}}]),n}(Ie);function qc(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?qc=function(n){return typeof n}:qc=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},qc(e)}function Woe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zoe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function qoe(e,t,n){return t&&zoe(e.prototype,t),e}function Zoe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&og(e,t)}function og(e,t){return og=Object.setPrototypeOf||function(r,a){return r.__proto__=a,r},og(e,t)}function Yoe(e){var t=Qoe();return function(){var r=ld(e),a;if(t){var o=ld(this).constructor;a=Reflect.construct(r,arguments,o)}else a=r.apply(this,arguments);return Koe(this,a)}}function Koe(e,t){return t&&(qc(t)==="object"||typeof t=="function")?t:sg(e)}function sg(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Qoe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ld(e){return ld=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},ld(e)}function J7(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Joe=function(e){Zoe(n,e);var t=Yoe(n);function n(){var r;Woe(this,n);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return r=t.call.apply(t,[this].concat(o)),J7(sg(r),"priority",120),J7(sg(r),"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]),r}return qoe(n,[{key:"parse",value:function(a,o,s){switch(o){case"q":case"qq":return ut(o.length,a);case"qo":return s.ordinalNumber(a,{unit:"quarter"});case"qqq":return s.quarter(a,{width:"abbreviated",context:"standalone"})||s.quarter(a,{width:"narrow",context:"standalone"});case"qqqqq":return s.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return s.quarter(a,{width:"wide",context:"standalone"})||s.quarter(a,{width:"abbreviated",context:"standalone"})||s.quarter(a,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(a,o){return o>=1&&o<=4}},{key:"set",value:function(a,o,s){return a.setUTCMonth((s-1)*3,1),a.setUTCHours(0,0,0,0),a}}]),n}(Ie);function Zc(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Zc=function(n){return typeof n}:Zc=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Zc(e)}function Xoe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ese(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function tse(e,t,n){return t&&ese(e.prototype,t),e}function nse(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ig(e,t)}function ig(e,t){return ig=Object.setPrototypeOf||function(r,a){return r.__proto__=a,r},ig(e,t)}function rse(e){var t=ose();return function(){var r=cd(e),a;if(t){var o=cd(this).constructor;a=Reflect.construct(r,arguments,o)}else a=r.apply(this,arguments);return ase(this,a)}}function ase(e,t){return t&&(Zc(t)==="object"||typeof t=="function")?t:lg(e)}function lg(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ose(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function cd(e){return cd=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},cd(e)}function X7(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var sse=function(e){nse(n,e);var t=rse(n);function n(){var r;Xoe(this,n);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return r=t.call.apply(t,[this].concat(o)),X7(lg(r),"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]),X7(lg(r),"priority",110),r}return tse(n,[{key:"parse",value:function(a,o,s){var l=function(u){return u-1};switch(o){case"M":return pt(at(ft.month,a),l);case"MM":return pt(ut(2,a),l);case"Mo":return pt(s.ordinalNumber(a,{unit:"month"}),l);case"MMM":return s.month(a,{width:"abbreviated",context:"formatting"})||s.month(a,{width:"narrow",context:"formatting"});case"MMMMM":return s.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return s.month(a,{width:"wide",context:"formatting"})||s.month(a,{width:"abbreviated",context:"formatting"})||s.month(a,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(a,o){return o>=0&&o<=11}},{key:"set",value:function(a,o,s){return a.setUTCMonth(s,1),a.setUTCHours(0,0,0,0),a}}]),n}(Ie);function Yc(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Yc=function(n){return typeof n}:Yc=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Yc(e)}function ise(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lse(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function cse(e,t,n){return t&&lse(e.prototype,t),e}function use(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&cg(e,t)}function cg(e,t){return cg=Object.setPrototypeOf||function(r,a){return r.__proto__=a,r},cg(e,t)}function dse(e){var t=pse();return function(){var r=ud(e),a;if(t){var o=ud(this).constructor;a=Reflect.construct(r,arguments,o)}else a=r.apply(this,arguments);return fse(this,a)}}function fse(e,t){return t&&(Yc(t)==="object"||typeof t=="function")?t:ug(e)}function ug(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pse(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ud(e){return ud=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},ud(e)}function e6(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var mse=function(e){use(n,e);var t=dse(n);function n(){var r;ise(this,n);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return r=t.call.apply(t,[this].concat(o)),e6(ug(r),"priority",110),e6(ug(r),"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]),r}return cse(n,[{key:"parse",value:function(a,o,s){var l=function(u){return u-1};switch(o){case"L":return pt(at(ft.month,a),l);case"LL":return pt(ut(2,a),l);case"Lo":return pt(s.ordinalNumber(a,{unit:"month"}),l);case"LLL":return s.month(a,{width:"abbreviated",context:"standalone"})||s.month(a,{width:"narrow",context:"standalone"});case"LLLLL":return s.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return s.month(a,{width:"wide",context:"standalone"})||s.month(a,{width:"abbreviated",context:"standalone"})||s.month(a,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(a,o){return o>=0&&o<=11}},{key:"set",value:function(a,o,s){return a.setUTCMonth(s,1),a.setUTCHours(0,0,0,0),a}}]),n}(Ie);function gse(e,t,n){we(2,arguments);var r=Le(e),a=jt(t),o=MS(r,n)-a;return r.setUTCDate(r.getUTCDate()-o*7),r}function Kc(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Kc=function(n){return typeof n}:Kc=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Kc(e)}function hse(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vse(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function yse(e,t,n){return t&&vse(e.prototype,t),e}function Cse(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&dg(e,t)}function dg(e,t){return dg=Object.setPrototypeOf||function(r,a){return r.__proto__=a,r},dg(e,t)}function xse(e){var t=wse();return function(){var r=dd(e),a;if(t){var o=dd(this).constructor;a=Reflect.construct(r,arguments,o)}else a=r.apply(this,arguments);return bse(this,a)}}function bse(e,t){return t&&(Kc(t)==="object"||typeof t=="function")?t:fg(e)}function fg(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wse(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function dd(e){return dd=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},dd(e)}function t6(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _se=function(e){Cse(n,e);var t=xse(n);function n(){var r;hse(this,n);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return r=t.call.apply(t,[this].concat(o)),t6(fg(r),"priority",100),t6(fg(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"]),r}return yse(n,[{key:"parse",value:function(a,o,s){switch(o){case"w":return at(ft.week,a);case"wo":return s.ordinalNumber(a,{unit:"week"});default:return ut(o.length,a)}}},{key:"validate",value:function(a,o){return o>=1&&o<=53}},{key:"set",value:function(a,o,s,l){return qa(gse(a,s,l),l)}}]),n}(Ie);function Sse(e,t){we(2,arguments);var n=Le(e),r=jt(t),a=SS(n)-r;return n.setUTCDate(n.getUTCDate()-a*7),n}function Qc(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Qc=function(n){return typeof n}:Qc=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Qc(e)}function Mse(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Tse(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ese(e,t,n){return t&&Tse(e.prototype,t),e}function kse(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&pg(e,t)}function pg(e,t){return pg=Object.setPrototypeOf||function(r,a){return r.__proto__=a,r},pg(e,t)}function Ase(e){var t=Ose();return function(){var r=fd(e),a;if(t){var o=fd(this).constructor;a=Reflect.construct(r,arguments,o)}else a=r.apply(this,arguments);return Pse(this,a)}}function Pse(e,t){return t&&(Qc(t)==="object"||typeof t=="function")?t:mg(e)}function mg(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ose(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function fd(e){return fd=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},fd(e)}function n6(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Nse=function(e){kse(n,e);var t=Ase(n);function n(){var r;Mse(this,n);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return r=t.call.apply(t,[this].concat(o)),n6(mg(r),"priority",100),n6(mg(r),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]),r}return Ese(n,[{key:"parse",value:function(a,o,s){switch(o){case"I":return at(ft.week,a);case"Io":return s.ordinalNumber(a,{unit:"week"});default:return ut(o.length,a)}}},{key:"validate",value:function(a,o){return o>=1&&o<=53}},{key:"set",value:function(a,o,s){return Jo(Sse(a,s))}}]),n}(Ie);function Jc(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Jc=function(n){return typeof n}:Jc=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Jc(e)}function Ise(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jse(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Rse(e,t,n){return t&&jse(e.prototype,t),e}function Lse(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&gg(e,t)}function gg(e,t){return gg=Object.setPrototypeOf||function(r,a){return r.__proto__=a,r},gg(e,t)}function $se(e){var t=Fse();return function(){var r=pd(e),a;if(t){var o=pd(this).constructor;a=Reflect.construct(r,arguments,o)}else a=r.apply(this,arguments);return Dse(this,a)}}function Dse(e,t){return t&&(Jc(t)==="object"||typeof t=="function")?t:Xc(e)}function Xc(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Fse(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function pd(e){return pd=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},pd(e)}function f0(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Bse=[31,28,31,30,31,30,31,31,30,31,30,31],Use=[31,29,31,30,31,30,31,31,30,31,30,31],Hse=function(e){Lse(n,e);var t=$se(n);function n(){var r;Ise(this,n);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return r=t.call.apply(t,[this].concat(o)),f0(Xc(r),"priority",90),f0(Xc(r),"subPriority",1),f0(Xc(r),"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"]),r}return Rse(n,[{key:"parse",value:function(a,o,s){switch(o){case"d":return at(ft.date,a);case"do":return s.ordinalNumber(a,{unit:"date"});default:return ut(o.length,a)}}},{key:"validate",value:function(a,o){var s=a.getUTCFullYear(),l=LS(s),c=a.getUTCMonth();return l?o>=1&&o<=Use[c]:o>=1&&o<=Bse[c]}},{key:"set",value:function(a,o,s){return a.setUTCDate(s),a.setUTCHours(0,0,0,0),a}}]),n}(Ie);function eu(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?eu=function(n){return typeof n}:eu=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},eu(e)}function Vse(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Gse(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Wse(e,t,n){return t&&Gse(e.prototype,t),e}function zse(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&hg(e,t)}function hg(e,t){return hg=Object.setPrototypeOf||function(r,a){return r.__proto__=a,r},hg(e,t)}function qse(e){var t=Yse();return function(){var r=md(e),a;if(t){var o=md(this).constructor;a=Reflect.construct(r,arguments,o)}else a=r.apply(this,arguments);return Zse(this,a)}}function Zse(e,t){return t&&(eu(t)==="object"||typeof t=="function")?t:tu(e)}function tu(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Yse(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function md(e){return md=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},md(e)}function p0(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Kse=function(e){zse(n,e);var t=qse(n);function n(){var r;Vse(this,n);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return r=t.call.apply(t,[this].concat(o)),p0(tu(r),"priority",90),p0(tu(r),"subpriority",1),p0(tu(r),"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]),r}return Wse(n,[{key:"parse",value:function(a,o,s){switch(o){case"D":case"DD":return at(ft.dayOfYear,a);case"Do":return s.ordinalNumber(a,{unit:"date"});default:return ut(o.length,a)}}},{key:"validate",value:function(a,o){var s=a.getUTCFullYear(),l=LS(s);return l?o>=1&&o<=366:o>=1&&o<=365}},{key:"set",value:function(a,o,s){return a.setUTCMonth(0,s),a.setUTCHours(0,0,0,0),a}}]),n}(Ie);function Q5(e,t,n){var r,a,o,s,l,c,u,f;we(2,arguments);var p=Es(),m=jt((r=(a=(o=(s=n?.weekStartsOn)!==null&&s!==void 0?s:n==null||(l=n.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&o!==void 0?o:p.weekStartsOn)!==null&&a!==void 0?a:(u=p.locale)===null||u===void 0||(f=u.options)===null||f===void 0?void 0:f.weekStartsOn)!==null&&r!==void 0?r:0);if(!(m>=0&&m<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var g=Le(e),h=jt(t),v=g.getUTCDay(),y=h%7,x=(y+7)%7,C=(x<m?7:0)+h-v;return g.setUTCDate(g.getUTCDate()+C),g}function nu(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?nu=function(n){return typeof n}:nu=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},nu(e)}function Qse(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Jse(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Xse(e,t,n){return t&&Jse(e.prototype,t),e}function eie(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&vg(e,t)}function vg(e,t){return vg=Object.setPrototypeOf||function(r,a){return r.__proto__=a,r},vg(e,t)}function tie(e){var t=rie();return function(){var r=gd(e),a;if(t){var o=gd(this).constructor;a=Reflect.construct(r,arguments,o)}else a=r.apply(this,arguments);return nie(this,a)}}function nie(e,t){return t&&(nu(t)==="object"||typeof t=="function")?t:yg(e)}function yg(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rie(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function gd(e){return gd=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},gd(e)}function r6(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var aie=function(e){eie(n,e);var t=tie(n);function n(){var r;Qse(this,n);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return r=t.call.apply(t,[this].concat(o)),r6(yg(r),"priority",90),r6(yg(r),"incompatibleTokens",["D","i","e","c","t","T"]),r}return Xse(n,[{key:"parse",value:function(a,o,s){switch(o){case"E":case"EE":case"EEE":return s.day(a,{width:"abbreviated",context:"formatting"})||s.day(a,{width:"short",context:"formatting"})||s.day(a,{width:"narrow",context:"formatting"});case"EEEEE":return s.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return s.day(a,{width:"short",context:"formatting"})||s.day(a,{width:"narrow",context:"formatting"});case"EEEE":default:return s.day(a,{width:"wide",context:"formatting"})||s.day(a,{width:"abbreviated",context:"formatting"})||s.day(a,{width:"short",context:"formatting"})||s.day(a,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(a,o){return o>=0&&o<=6}},{key:"set",value:function(a,o,s,l){return a=Q5(a,s,l),a.setUTCHours(0,0,0,0),a}}]),n}(Ie);function ru(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ru=function(n){return typeof n}:ru=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},ru(e)}function oie(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sie(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function iie(e,t,n){return t&&sie(e.prototype,t),e}function lie(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Cg(e,t)}function Cg(e,t){return Cg=Object.setPrototypeOf||function(r,a){return r.__proto__=a,r},Cg(e,t)}function cie(e){var t=die();return function(){var r=hd(e),a;if(t){var o=hd(this).constructor;a=Reflect.construct(r,arguments,o)}else a=r.apply(this,arguments);return uie(this,a)}}function uie(e,t){return t&&(ru(t)==="object"||typeof t=="function")?t:xg(e)}function xg(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function die(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function hd(e){return hd=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},hd(e)}function a6(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var fie=function(e){lie(n,e);var t=cie(n);function n(){var r;oie(this,n);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return r=t.call.apply(t,[this].concat(o)),a6(xg(r),"priority",90),a6(xg(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]),r}return iie(n,[{key:"parse",value:function(a,o,s,l){var c=function(f){var p=Math.floor((f-1)/7)*7;return(f+l.weekStartsOn+6)%7+p};switch(o){case"e":case"ee":return pt(ut(o.length,a),c);case"eo":return pt(s.ordinalNumber(a,{unit:"day"}),c);case"eee":return s.day(a,{width:"abbreviated",context:"formatting"})||s.day(a,{width:"short",context:"formatting"})||s.day(a,{width:"narrow",context:"formatting"});case"eeeee":return s.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return s.day(a,{width:"short",context:"formatting"})||s.day(a,{width:"narrow",context:"formatting"});case"eeee":default:return s.day(a,{width:"wide",context:"formatting"})||s.day(a,{width:"abbreviated",context:"formatting"})||s.day(a,{width:"short",context:"formatting"})||s.day(a,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(a,o){return o>=0&&o<=6}},{key:"set",value:function(a,o,s,l){return a=Q5(a,s,l),a.setUTCHours(0,0,0,0),a}}]),n}(Ie);function au(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?au=function(n){return typeof n}:au=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},au(e)}function pie(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mie(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function gie(e,t,n){return t&&mie(e.prototype,t),e}function hie(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&bg(e,t)}function bg(e,t){return bg=Object.setPrototypeOf||function(r,a){return r.__proto__=a,r},bg(e,t)}function vie(e){var t=Cie();return function(){var r=vd(e),a;if(t){var o=vd(this).constructor;a=Reflect.construct(r,arguments,o)}else a=r.apply(this,arguments);return yie(this,a)}}function yie(e,t){return t&&(au(t)==="object"||typeof t=="function")?t:wg(e)}function wg(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Cie(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function vd(e){return vd=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},vd(e)}function o6(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var xie=function(e){hie(n,e);var t=vie(n);function n(){var r;pie(this,n);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return r=t.call.apply(t,[this].concat(o)),o6(wg(r),"priority",90),o6(wg(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]),r}return gie(n,[{key:"parse",value:function(a,o,s,l){var c=function(f){var p=Math.floor((f-1)/7)*7;return(f+l.weekStartsOn+6)%7+p};switch(o){case"c":case"cc":return pt(ut(o.length,a),c);case"co":return pt(s.ordinalNumber(a,{unit:"day"}),c);case"ccc":return s.day(a,{width:"abbreviated",context:"standalone"})||s.day(a,{width:"short",context:"standalone"})||s.day(a,{width:"narrow",context:"standalone"});case"ccccc":return s.day(a,{width:"narrow",context:"standalone"});case"cccccc":return s.day(a,{width:"short",context:"standalone"})||s.day(a,{width:"narrow",context:"standalone"});case"cccc":default:return s.day(a,{width:"wide",context:"standalone"})||s.day(a,{width:"abbreviated",context:"standalone"})||s.day(a,{width:"short",context:"standalone"})||s.day(a,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(a,o){return o>=0&&o<=6}},{key:"set",value:function(a,o,s,l){return a=Q5(a,s,l),a.setUTCHours(0,0,0,0),a}}]),n}(Ie);function bie(e,t){we(2,arguments);var n=jt(t);n%7===0&&(n=n-7);var r=1,a=Le(e),o=a.getUTCDay(),s=n%7,l=(s+7)%7,c=(l<r?7:0)+n-o;return a.setUTCDate(a.getUTCDate()+c),a}function ou(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ou=function(n){return typeof n}:ou=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},ou(e)}function wie(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _ie(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Sie(e,t,n){return t&&_ie(e.prototype,t),e}function Mie(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_g(e,t)}function _g(e,t){return _g=Object.setPrototypeOf||function(r,a){return r.__proto__=a,r},_g(e,t)}function Tie(e){var t=kie();return function(){var r=yd(e),a;if(t){var o=yd(this).constructor;a=Reflect.construct(r,arguments,o)}else a=r.apply(this,arguments);return Eie(this,a)}}function Eie(e,t){return t&&(ou(t)==="object"||typeof t=="function")?t:Sg(e)}function Sg(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kie(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function yd(e){return yd=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},yd(e)}function s6(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Aie=function(e){Mie(n,e);var t=Tie(n);function n(){var r;wie(this,n);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return r=t.call.apply(t,[this].concat(o)),s6(Sg(r),"priority",90),s6(Sg(r),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]),r}return Sie(n,[{key:"parse",value:function(a,o,s){var l=function(u){return u===0?7:u};switch(o){case"i":case"ii":return ut(o.length,a);case"io":return s.ordinalNumber(a,{unit:"day"});case"iii":return pt(s.day(a,{width:"abbreviated",context:"formatting"})||s.day(a,{width:"short",context:"formatting"})||s.day(a,{width:"narrow",context:"formatting"}),l);case"iiiii":return pt(s.day(a,{width:"narrow",context:"formatting"}),l);case"iiiiii":return pt(s.day(a,{width:"short",context:"formatting"})||s.day(a,{width:"narrow",context:"formatting"}),l);case"iiii":default:return pt(s.day(a,{width:"wide",context:"formatting"})||s.day(a,{width:"abbreviated",context:"formatting"})||s.day(a,{width:"short",context:"formatting"})||s.day(a,{width:"narrow",context:"formatting"}),l)}}},{key:"validate",value:function(a,o){return o>=1&&o<=7}},{key:"set",value:function(a,o,s){return a=bie(a,s),a.setUTCHours(0,0,0,0),a}}]),n}(Ie);function su(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?su=function(n){return typeof n}:su=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},su(e)}function Pie(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Oie(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Nie(e,t,n){return t&&Oie(e.prototype,t),e}function Iie(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Mg(e,t)}function Mg(e,t){return Mg=Object.setPrototypeOf||function(r,a){return r.__proto__=a,r},Mg(e,t)}function jie(e){var t=Lie();return function(){var r=Cd(e),a;if(t){var o=Cd(this).constructor;a=Reflect.construct(r,arguments,o)}else a=r.apply(this,arguments);return Rie(this,a)}}function Rie(e,t){return t&&(su(t)==="object"||typeof t=="function")?t:Tg(e)}function Tg(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Lie(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Cd(e){return Cd=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Cd(e)}function i6(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var $ie=function(e){Iie(n,e);var t=jie(n);function n(){var r;Pie(this,n);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return r=t.call.apply(t,[this].concat(o)),i6(Tg(r),"priority",80),i6(Tg(r),"incompatibleTokens",["b","B","H","k","t","T"]),r}return Nie(n,[{key:"parse",value:function(a,o,s){switch(o){case"a":case"aa":case"aaa":return s.dayPeriod(a,{width:"abbreviated",context:"formatting"})||s.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaaa":return s.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return s.dayPeriod(a,{width:"wide",context:"formatting"})||s.dayPeriod(a,{width:"abbreviated",context:"formatting"})||s.dayPeriod(a,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(a,o,s){return a.setUTCHours(K5(s),0,0,0),a}}]),n}(Ie);function iu(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?iu=function(n){return typeof n}:iu=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},iu(e)}function Die(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Fie(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Bie(e,t,n){return t&&Fie(e.prototype,t),e}function Uie(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Eg(e,t)}function Eg(e,t){return Eg=Object.setPrototypeOf||function(r,a){return r.__proto__=a,r},Eg(e,t)}function Hie(e){var t=Gie();return function(){var r=xd(e),a;if(t){var o=xd(this).constructor;a=Reflect.construct(r,arguments,o)}else a=r.apply(this,arguments);return Vie(this,a)}}function Vie(e,t){return t&&(iu(t)==="object"||typeof t=="function")?t:kg(e)}function kg(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Gie(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function xd(e){return xd=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},xd(e)}function l6(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Wie=function(e){Uie(n,e);var t=Hie(n);function n(){var r;Die(this,n);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return r=t.call.apply(t,[this].concat(o)),l6(kg(r),"priority",80),l6(kg(r),"incompatibleTokens",["a","B","H","k","t","T"]),r}return Bie(n,[{key:"parse",value:function(a,o,s){switch(o){case"b":case"bb":case"bbb":return s.dayPeriod(a,{width:"abbreviated",context:"formatting"})||s.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbbb":return s.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return s.dayPeriod(a,{width:"wide",context:"formatting"})||s.dayPeriod(a,{width:"abbreviated",context:"formatting"})||s.dayPeriod(a,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(a,o,s){return a.setUTCHours(K5(s),0,0,0),a}}]),n}(Ie);function lu(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?lu=function(n){return typeof n}:lu=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},lu(e)}function zie(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qie(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Zie(e,t,n){return t&&qie(e.prototype,t),e}function Yie(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ag(e,t)}function Ag(e,t){return Ag=Object.setPrototypeOf||function(r,a){return r.__proto__=a,r},Ag(e,t)}function Kie(e){var t=Jie();return function(){var r=bd(e),a;if(t){var o=bd(this).constructor;a=Reflect.construct(r,arguments,o)}else a=r.apply(this,arguments);return Qie(this,a)}}function Qie(e,t){return t&&(lu(t)==="object"||typeof t=="function")?t:Pg(e)}function Pg(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Jie(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function bd(e){return bd=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},bd(e)}function c6(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Xie=function(e){Yie(n,e);var t=Kie(n);function n(){var r;zie(this,n);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return r=t.call.apply(t,[this].concat(o)),c6(Pg(r),"priority",80),c6(Pg(r),"incompatibleTokens",["a","b","t","T"]),r}return Zie(n,[{key:"parse",value:function(a,o,s){switch(o){case"B":case"BB":case"BBB":return s.dayPeriod(a,{width:"abbreviated",context:"formatting"})||s.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBBB":return s.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return s.dayPeriod(a,{width:"wide",context:"formatting"})||s.dayPeriod(a,{width:"abbreviated",context:"formatting"})||s.dayPeriod(a,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(a,o,s){return a.setUTCHours(K5(s),0,0,0),a}}]),n}(Ie);function cu(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?cu=function(n){return typeof n}:cu=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},cu(e)}function ele(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tle(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function nle(e,t,n){return t&&tle(e.prototype,t),e}function rle(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Og(e,t)}function Og(e,t){return Og=Object.setPrototypeOf||function(r,a){return r.__proto__=a,r},Og(e,t)}function ale(e){var t=sle();return function(){var r=wd(e),a;if(t){var o=wd(this).constructor;a=Reflect.construct(r,arguments,o)}else a=r.apply(this,arguments);return ole(this,a)}}function ole(e,t){return t&&(cu(t)==="object"||typeof t=="function")?t:Ng(e)}function Ng(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sle(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function wd(e){return wd=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},wd(e)}function u6(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ile=function(e){rle(n,e);var t=ale(n);function n(){var r;ele(this,n);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return r=t.call.apply(t,[this].concat(o)),u6(Ng(r),"priority",70),u6(Ng(r),"incompatibleTokens",["H","K","k","t","T"]),r}return nle(n,[{key:"parse",value:function(a,o,s){switch(o){case"h":return at(ft.hour12h,a);case"ho":return s.ordinalNumber(a,{unit:"hour"});default:return ut(o.length,a)}}},{key:"validate",value:function(a,o){return o>=1&&o<=12}},{key:"set",value:function(a,o,s){var l=a.getUTCHours()>=12;return l&&s<12?a.setUTCHours(s+12,0,0,0):!l&&s===12?a.setUTCHours(0,0,0,0):a.setUTCHours(s,0,0,0),a}}]),n}(Ie);function uu(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?uu=function(n){return typeof n}:uu=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},uu(e)}function lle(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cle(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ule(e,t,n){return t&&cle(e.prototype,t),e}function dle(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ig(e,t)}function Ig(e,t){return Ig=Object.setPrototypeOf||function(r,a){return r.__proto__=a,r},Ig(e,t)}function fle(e){var t=mle();return function(){var r=_d(e),a;if(t){var o=_d(this).constructor;a=Reflect.construct(r,arguments,o)}else a=r.apply(this,arguments);return ple(this,a)}}function ple(e,t){return t&&(uu(t)==="object"||typeof t=="function")?t:jg(e)}function jg(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mle(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _d(e){return _d=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},_d(e)}function d6(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var gle=function(e){dle(n,e);var t=fle(n);function n(){var r;lle(this,n);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return r=t.call.apply(t,[this].concat(o)),d6(jg(r),"priority",70),d6(jg(r),"incompatibleTokens",["a","b","h","K","k","t","T"]),r}return ule(n,[{key:"parse",value:function(a,o,s){switch(o){case"H":return at(ft.hour23h,a);case"Ho":return s.ordinalNumber(a,{unit:"hour"});default:return ut(o.length,a)}}},{key:"validate",value:function(a,o){return o>=0&&o<=23}},{key:"set",value:function(a,o,s){return a.setUTCHours(s,0,0,0),a}}]),n}(Ie);function du(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?du=function(n){return typeof n}:du=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},du(e)}function hle(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vle(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function yle(e,t,n){return t&&vle(e.prototype,t),e}function Cle(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Rg(e,t)}function Rg(e,t){return Rg=Object.setPrototypeOf||function(r,a){return r.__proto__=a,r},Rg(e,t)}function xle(e){var t=wle();return function(){var r=Sd(e),a;if(t){var o=Sd(this).constructor;a=Reflect.construct(r,arguments,o)}else a=r.apply(this,arguments);return ble(this,a)}}function ble(e,t){return t&&(du(t)==="object"||typeof t=="function")?t:Lg(e)}function Lg(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wle(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Sd(e){return Sd=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Sd(e)}function f6(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _le=function(e){Cle(n,e);var t=xle(n);function n(){var r;hle(this,n);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return r=t.call.apply(t,[this].concat(o)),f6(Lg(r),"priority",70),f6(Lg(r),"incompatibleTokens",["h","H","k","t","T"]),r}return yle(n,[{key:"parse",value:function(a,o,s){switch(o){case"K":return at(ft.hour11h,a);case"Ko":return s.ordinalNumber(a,{unit:"hour"});default:return ut(o.length,a)}}},{key:"validate",value:function(a,o){return o>=0&&o<=11}},{key:"set",value:function(a,o,s){var l=a.getUTCHours()>=12;return l&&s<12?a.setUTCHours(s+12,0,0,0):a.setUTCHours(s,0,0,0),a}}]),n}(Ie);function fu(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?fu=function(n){return typeof n}:fu=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},fu(e)}function Sle(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Mle(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Tle(e,t,n){return t&&Mle(e.prototype,t),e}function Ele(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$g(e,t)}function $g(e,t){return $g=Object.setPrototypeOf||function(r,a){return r.__proto__=a,r},$g(e,t)}function kle(e){var t=Ple();return function(){var r=Md(e),a;if(t){var o=Md(this).constructor;a=Reflect.construct(r,arguments,o)}else a=r.apply(this,arguments);return Ale(this,a)}}function Ale(e,t){return t&&(fu(t)==="object"||typeof t=="function")?t:Dg(e)}function Dg(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ple(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Md(e){return Md=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Md(e)}function p6(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ole=function(e){Ele(n,e);var t=kle(n);function n(){var r;Sle(this,n);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return r=t.call.apply(t,[this].concat(o)),p6(Dg(r),"priority",70),p6(Dg(r),"incompatibleTokens",["a","b","h","H","K","t","T"]),r}return Tle(n,[{key:"parse",value:function(a,o,s){switch(o){case"k":return at(ft.hour24h,a);case"ko":return s.ordinalNumber(a,{unit:"hour"});default:return ut(o.length,a)}}},{key:"validate",value:function(a,o){return o>=1&&o<=24}},{key:"set",value:function(a,o,s){var l=s<=24?s%24:s;return a.setUTCHours(l,0,0,0),a}}]),n}(Ie);function pu(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?pu=function(n){return typeof n}:pu=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},pu(e)}function Nle(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ile(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function jle(e,t,n){return t&&Ile(e.prototype,t),e}function Rle(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Fg(e,t)}function Fg(e,t){return Fg=Object.setPrototypeOf||function(r,a){return r.__proto__=a,r},Fg(e,t)}function Lle(e){var t=Dle();return function(){var r=Td(e),a;if(t){var o=Td(this).constructor;a=Reflect.construct(r,arguments,o)}else a=r.apply(this,arguments);return $le(this,a)}}function $le(e,t){return t&&(pu(t)==="object"||typeof t=="function")?t:Bg(e)}function Bg(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Dle(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Td(e){return Td=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Td(e)}function m6(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Fle=function(e){Rle(n,e);var t=Lle(n);function n(){var r;Nle(this,n);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return r=t.call.apply(t,[this].concat(o)),m6(Bg(r),"priority",60),m6(Bg(r),"incompatibleTokens",["t","T"]),r}return jle(n,[{key:"parse",value:function(a,o,s){switch(o){case"m":return at(ft.minute,a);case"mo":return s.ordinalNumber(a,{unit:"minute"});default:return ut(o.length,a)}}},{key:"validate",value:function(a,o){return o>=0&&o<=59}},{key:"set",value:function(a,o,s){return a.setUTCMinutes(s,0,0),a}}]),n}(Ie);function mu(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?mu=function(n){return typeof n}:mu=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},mu(e)}function Ble(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ule(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Hle(e,t,n){return t&&Ule(e.prototype,t),e}function Vle(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ug(e,t)}function Ug(e,t){return Ug=Object.setPrototypeOf||function(r,a){return r.__proto__=a,r},Ug(e,t)}function Gle(e){var t=zle();return function(){var r=Ed(e),a;if(t){var o=Ed(this).constructor;a=Reflect.construct(r,arguments,o)}else a=r.apply(this,arguments);return Wle(this,a)}}function Wle(e,t){return t&&(mu(t)==="object"||typeof t=="function")?t:Hg(e)}function Hg(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zle(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ed(e){return Ed=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Ed(e)}function g6(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var qle=function(e){Vle(n,e);var t=Gle(n);function n(){var r;Ble(this,n);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return r=t.call.apply(t,[this].concat(o)),g6(Hg(r),"priority",50),g6(Hg(r),"incompatibleTokens",["t","T"]),r}return Hle(n,[{key:"parse",value:function(a,o,s){switch(o){case"s":return at(ft.second,a);case"so":return s.ordinalNumber(a,{unit:"second"});default:return ut(o.length,a)}}},{key:"validate",value:function(a,o){return o>=0&&o<=59}},{key:"set",value:function(a,o,s){return a.setUTCSeconds(s,0),a}}]),n}(Ie);function gu(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?gu=function(n){return typeof n}:gu=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},gu(e)}function Zle(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Yle(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Kle(e,t,n){return t&&Yle(e.prototype,t),e}function Qle(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Vg(e,t)}function Vg(e,t){return Vg=Object.setPrototypeOf||function(r,a){return r.__proto__=a,r},Vg(e,t)}function Jle(e){var t=ece();return function(){var r=kd(e),a;if(t){var o=kd(this).constructor;a=Reflect.construct(r,arguments,o)}else a=r.apply(this,arguments);return Xle(this,a)}}function Xle(e,t){return t&&(gu(t)==="object"||typeof t=="function")?t:Gg(e)}function Gg(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ece(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function kd(e){return kd=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},kd(e)}function h6(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var tce=function(e){Qle(n,e);var t=Jle(n);function n(){var r;Zle(this,n);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return r=t.call.apply(t,[this].concat(o)),h6(Gg(r),"priority",30),h6(Gg(r),"incompatibleTokens",["t","T"]),r}return Kle(n,[{key:"parse",value:function(a,o){var s=function(c){return Math.floor(c*Math.pow(10,-o.length+3))};return pt(ut(o.length,a),s)}},{key:"set",value:function(a,o,s){return a.setUTCMilliseconds(s),a}}]),n}(Ie);function hu(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?hu=function(n){return typeof n}:hu=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},hu(e)}function nce(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rce(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ace(e,t,n){return t&&rce(e.prototype,t),e}function oce(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Wg(e,t)}function Wg(e,t){return Wg=Object.setPrototypeOf||function(r,a){return r.__proto__=a,r},Wg(e,t)}function sce(e){var t=lce();return function(){var r=Ad(e),a;if(t){var o=Ad(this).constructor;a=Reflect.construct(r,arguments,o)}else a=r.apply(this,arguments);return ice(this,a)}}function ice(e,t){return t&&(hu(t)==="object"||typeof t=="function")?t:zg(e)}function zg(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function lce(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ad(e){return Ad=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Ad(e)}function v6(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var cce=function(e){oce(n,e);var t=sce(n);function n(){var r;nce(this,n);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return r=t.call.apply(t,[this].concat(o)),v6(zg(r),"priority",10),v6(zg(r),"incompatibleTokens",["t","T","x"]),r}return ace(n,[{key:"parse",value:function(a,o){switch(o){case"X":return rr(nr.basicOptionalMinutes,a);case"XX":return rr(nr.basic,a);case"XXXX":return rr(nr.basicOptionalSeconds,a);case"XXXXX":return rr(nr.extendedOptionalSeconds,a);case"XXX":default:return rr(nr.extended,a)}}},{key:"set",value:function(a,o,s){return o.timestampIsSet?a:new Date(a.getTime()-s)}}]),n}(Ie);function vu(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?vu=function(n){return typeof n}:vu=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},vu(e)}function uce(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dce(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fce(e,t,n){return t&&dce(e.prototype,t),e}function pce(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&qg(e,t)}function qg(e,t){return qg=Object.setPrototypeOf||function(r,a){return r.__proto__=a,r},qg(e,t)}function mce(e){var t=hce();return function(){var r=Pd(e),a;if(t){var o=Pd(this).constructor;a=Reflect.construct(r,arguments,o)}else a=r.apply(this,arguments);return gce(this,a)}}function gce(e,t){return t&&(vu(t)==="object"||typeof t=="function")?t:Zg(e)}function Zg(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hce(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Pd(e){return Pd=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Pd(e)}function y6(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var vce=function(e){pce(n,e);var t=mce(n);function n(){var r;uce(this,n);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return r=t.call.apply(t,[this].concat(o)),y6(Zg(r),"priority",10),y6(Zg(r),"incompatibleTokens",["t","T","X"]),r}return fce(n,[{key:"parse",value:function(a,o){switch(o){case"x":return rr(nr.basicOptionalMinutes,a);case"xx":return rr(nr.basic,a);case"xxxx":return rr(nr.basicOptionalSeconds,a);case"xxxxx":return rr(nr.extendedOptionalSeconds,a);case"xxx":default:return rr(nr.extended,a)}}},{key:"set",value:function(a,o,s){return o.timestampIsSet?a:new Date(a.getTime()-s)}}]),n}(Ie);function yu(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?yu=function(n){return typeof n}:yu=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},yu(e)}function yce(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Cce(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xce(e,t,n){return t&&Cce(e.prototype,t),e}function bce(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Yg(e,t)}function Yg(e,t){return Yg=Object.setPrototypeOf||function(r,a){return r.__proto__=a,r},Yg(e,t)}function wce(e){var t=Sce();return function(){var r=Od(e),a;if(t){var o=Od(this).constructor;a=Reflect.construct(r,arguments,o)}else a=r.apply(this,arguments);return _ce(this,a)}}function _ce(e,t){return t&&(yu(t)==="object"||typeof t=="function")?t:Kg(e)}function Kg(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Sce(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Od(e){return Od=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Od(e)}function C6(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Mce=function(e){bce(n,e);var t=wce(n);function n(){var r;yce(this,n);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return r=t.call.apply(t,[this].concat(o)),C6(Kg(r),"priority",40),C6(Kg(r),"incompatibleTokens","*"),r}return xce(n,[{key:"parse",value:function(a){return jS(a)}},{key:"set",value:function(a,o,s){return[new Date(s*1e3),{timestampIsSet:!0}]}}]),n}(Ie);function Cu(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Cu=function(n){return typeof n}:Cu=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Cu(e)}function Tce(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ece(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function kce(e,t,n){return t&&Ece(e.prototype,t),e}function Ace(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Qg(e,t)}function Qg(e,t){return Qg=Object.setPrototypeOf||function(r,a){return r.__proto__=a,r},Qg(e,t)}function Pce(e){var t=Nce();return function(){var r=Nd(e),a;if(t){var o=Nd(this).constructor;a=Reflect.construct(r,arguments,o)}else a=r.apply(this,arguments);return Oce(this,a)}}function Oce(e,t){return t&&(Cu(t)==="object"||typeof t=="function")?t:Jg(e)}function Jg(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Nce(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Nd(e){return Nd=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Nd(e)}function x6(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ice=function(e){Ace(n,e);var t=Pce(n);function n(){var r;Tce(this,n);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return r=t.call.apply(t,[this].concat(o)),x6(Jg(r),"priority",20),x6(Jg(r),"incompatibleTokens","*"),r}return kce(n,[{key:"parse",value:function(a){return jS(a)}},{key:"set",value:function(a,o,s){return[new Date(s),{timestampIsSet:!0}]}}]),n}(Ie),jce={G:new aoe,y:new foe,Y:new xoe,R:new koe,u:new Loe,Q:new Goe,q:new Joe,M:new sse,L:new mse,w:new _se,I:new Nse,d:new Hse,D:new Kse,E:new aie,e:new fie,c:new xie,i:new Aie,a:new $ie,b:new Wie,B:new Xie,h:new ile,H:new gle,K:new _le,k:new Ole,m:new Fle,s:new qle,S:new tce,X:new cce,x:new vce,t:new Mce,T:new Ice};function xu(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?xu=function(n){return typeof n}:xu=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},xu(e)}function b6(e,t){var n;if(typeof Symbol>"u"||e[Symbol.iterator]==null){if(Array.isArray(e)||(n=Rce(e))||t){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(u){throw u},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o=!0,s=!1,l;return{s:function(){n=e[Symbol.iterator]()},n:function(){var u=n.next();return o=u.done,u},e:function(u){s=!0,l=u},f:function(){try{!o&&n.return!=null&&n.return()}finally{if(s)throw l}}}}function Rce(e,t){if(e){if(typeof e=="string")return w6(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return w6(e,t)}}function w6(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Lce=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,$ce=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Dce=/^'([^]*?)'?$/,Fce=/''/g,Bce=/\S/,Uce=/[a-zA-Z]/;function XAe(e,t,n,r){var a,o,s,l,c,u,f,p,m,g,h,v,y,x;we(3,arguments);var C=String(e),w=String(t),_=Es(),E=(a=(o=void 0)!==null&&o!==void 0?o:_.locale)!==null&&a!==void 0?a:AS;if(!E.match)throw new RangeError("locale must contain match property");var T=jt((s=(l=(c=(u=void 0)!==null&&u!==void 0?u:void 0)!==null&&c!==void 0?c:_.firstWeekContainsDate)!==null&&l!==void 0?l:(f=_.locale)===null||f===void 0||(p=f.options)===null||p===void 0?void 0:p.firstWeekContainsDate)!==null&&s!==void 0?s:1);if(!(T>=1&&T<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var M=jt((m=(g=(h=(v=void 0)!==null&&v!==void 0?v:void 0)!==null&&h!==void 0?h:_.weekStartsOn)!==null&&g!==void 0?g:(y=_.locale)===null||y===void 0||(x=y.options)===null||x===void 0?void 0:x.weekStartsOn)!==null&&m!==void 0?m:0);if(!(M>=0&&M<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(w==="")return C===""?Le(n):new Date(NaN);var A={firstWeekContainsDate:T,weekStartsOn:M,locale:E},D=[new qae],j=w.match($ce).map(function(ee){var Y=ee[0];if(Y in Vm){var W=Vm[Y];return W(ee,E.formatLong)}return ee}).join("").match(Lce),B=[],N=b6(j),H;try{var R=function(){var Y=H.value;!(r!=null&&r.useAdditionalWeekYearTokens)&&kS(Y)&&Ju(Y,w,e),!(r!=null&&r.useAdditionalDayOfYearTokens)&&ES(Y)&&Ju(Y,w,e);var W=Y[0],de=jce[W];if(de){var fe=de.incompatibleTokens;if(Array.isArray(fe)){var Ze=B.find(function(nn){return fe.includes(nn.token)||nn.token===W});if(Ze)throw new RangeError("The format string mustn't contain `".concat(Ze.fullToken,"` and `").concat(Y,"` at the same time"))}else if(de.incompatibleTokens==="*"&&B.length>0)throw new RangeError("The format string mustn't contain `".concat(Y,"` and any other token at the same time"));B.push({token:W,fullToken:Y});var st=de.run(C,Y,E.match,A);if(!st)return{v:new Date(NaN)};D.push(st.setter),C=st.rest}else{if(W.match(Uce))throw new RangeError("Format string contains an unescaped latin alphabet character `"+W+"`");if(Y==="''"?Y="'":W==="'"&&(Y=Hce(Y)),C.indexOf(Y)===0)C=C.slice(Y.length);else return{v:new Date(NaN)}}};for(N.s();!(H=N.n()).done;){var G=R();if(xu(G)==="object")return G.v}}catch(ee){N.e(ee)}finally{N.f()}if(C.length>0&&Bce.test(C))return new Date(NaN);var X=D.map(function(ee){return ee.priority}).sort(function(ee,Y){return Y-ee}).filter(function(ee,Y,W){return W.indexOf(ee)===Y}).map(function(ee){return D.filter(function(Y){return Y.priority===ee}).sort(function(Y,W){return W.subPriority-Y.subPriority})}).map(function(ee){return ee[0]}),ae=Le(n);if(isNaN(ae.getTime()))return new Date(NaN);var $=wS(ae,Ku(ae)),I={},O=b6(X),Q;try{for(O.s();!(Q=O.n()).done;){var oe=Q.value;if(!oe.validate($,A))return new Date(NaN);var ne=oe.set($,I,A);Array.isArray(ne)?($=ne[0],Bae(I,ne[1])):$=ne}}catch(ee){O.e(ee)}finally{O.f()}return $}function Hce(e){return e.match(Dce)[1].replace(Fce,"'")}function Vce(e,t){we(2,arguments);var n=Le(e),r=Le(t);return n.getFullYear()===r.getFullYear()}function $S(e){return we(1,arguments),Vce(e,Date.now())}function Gce(e){return we(1,arguments),CS(e,Date.now())}function Wce(e){return we(1,arguments),CS(e,jre(Date.now(),1))}function ePe(e,t){var n;we(1,arguments);var r=jt((n=void 0)!==null&&n!==void 0?n:2);if(r!==2&&r!==1&&r!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof e=="string"||Object.prototype.toString.call(e)==="[object String]"))return new Date(NaN);var a=Yce(e),o;if(a.date){var s=Kce(a.date,r);o=Qce(s.restDateString,s.year)}if(!o||isNaN(o.getTime()))return new Date(NaN);var l=o.getTime(),c=0,u;if(a.time&&(c=Jce(a.time),isNaN(c)))return new Date(NaN);if(a.timezone){if(u=Xce(a.timezone),isNaN(u))return new Date(NaN)}else{var f=new Date(l+c),p=new Date(0);return p.setFullYear(f.getUTCFullYear(),f.getUTCMonth(),f.getUTCDate()),p.setHours(f.getUTCHours(),f.getUTCMinutes(),f.getUTCSeconds(),f.getUTCMilliseconds()),p}return new Date(l+c+u)}var tc={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},zce=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,qce=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Zce=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Yce(e){var t={},n=e.split(tc.dateTimeDelimiter),r;if(n.length>2)return t;if(/:/.test(n[0])?r=n[0]:(t.date=n[0],r=n[1],tc.timeZoneDelimiter.test(t.date)&&(t.date=e.split(tc.timeZoneDelimiter)[0],r=e.substr(t.date.length,e.length))),r){var a=tc.timezone.exec(r);a?(t.time=r.replace(a[1],""),t.timezone=a[1]):t.time=r}return t}function Kce(e,t){var n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),r=e.match(n);if(!r)return{year:NaN,restDateString:""};var a=r[1]?parseInt(r[1]):null,o=r[2]?parseInt(r[2]):null;return{year:o===null?a:o*100,restDateString:e.slice((r[1]||r[2]).length)}}function Qce(e,t){if(t===null)return new Date(NaN);var n=e.match(zce);if(!n)return new Date(NaN);var r=!!n[4],a=Vs(n[1]),o=Vs(n[2])-1,s=Vs(n[3]),l=Vs(n[4]),c=Vs(n[5])-1;if(r)return aue(t,l,c)?eue(t,l,c):new Date(NaN);var u=new Date(0);return!nue(t,o,s)||!rue(t,a)?new Date(NaN):(u.setUTCFullYear(t,o,Math.max(a,s)),u)}function Vs(e){return e?parseInt(e):1}function Jce(e){var t=e.match(qce);if(!t)return NaN;var n=m0(t[1]),r=m0(t[2]),a=m0(t[3]);return oue(n,r,a)?n*z5+r*Mf+a*1e3:NaN}function m0(e){return e&&parseFloat(e.replace(",","."))||0}function Xce(e){if(e==="Z")return 0;var t=e.match(Zce);if(!t)return 0;var n=t[1]==="+"?-1:1,r=parseInt(t[2]),a=t[3]&&parseInt(t[3])||0;return sue(r,a)?n*(r*z5+a*Mf):NaN}function eue(e,t,n){var r=new Date(0);r.setUTCFullYear(e,0,4);var a=r.getUTCDay()||7,o=(t-1)*7+n+1-a;return r.setUTCDate(r.getUTCDate()+o),r}var tue=[31,null,31,30,31,30,31,31,30,31,30,31];function DS(e){return e%400===0||e%4===0&&e%100!==0}function nue(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(tue[t]||(DS(e)?29:28))}function rue(e,t){return t>=1&&t<=(DS(e)?366:365)}function aue(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}function oue(e,t,n){return e===24?t===0&&n===0:n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}function sue(e,t){return t>=0&&t<=59}const iue=28,J5="conversationHistory";function FS(e={}){const{buckets:t,recentConversationLimit:n}=e,a=lr()?.includes(dO)??!1,o=Se(),s=!a&&!!o?.data,l=U(),{data:c,fetchNextPage:u,hasNextPage:f,isLoading:p,isFetchingNextPage:m,isError:g,refetch:h}=ps({queryKey:[J5],queryFn:async({pageParam:C})=>{const w=await q.getConversations({offset:C,limit:iue});return L$(w.items),w},initialPageParam:0,getNextPageParam:C=>{const w=C.offset+C.limit;return w<C.total?w:void 0},enabled:s}),v=d.useMemo(()=>c?.pages.flatMap(w=>w.items)??[],[c]),y=d.useMemo(()=>{if(!c||!t)return[];const C=lue(v,l);return[C.recent,C.dynamicMonths,C.dynamicYears].flatMap(_=>Object.entries(_).map(([E,{items:T,label:M}],A)=>({key:`${E}-${A}`,label:M,items:T}))).filter(_=>_.items.length>0)},[v,c,l,t]),x=d.useMemo(()=>{const C=v.slice(0,n??5);return{key:"recents",label:l.formatMessage(ei.historyBucketRecent),items:C}},[v,n,l]);return{buckets:y,conversations:v,data:c,fetchNextPage:u,hasNextPage:f,refetch:h,recents:x,isLoading:p,isFetchingNextPage:m,isError:g}}function lue(e,t){return e.reduce((n,r)=>{const a=new Date(r.update_time??r.create_time??0),o=W5(new Date,a);if(o===0)n.recent.today.items.push(r);else if(o<=1)n.recent.yesterday.items.push(r);else if(o<=7)n.recent.lastSeven.items.push(r);else if(o<=30)n.recent.lastThirty.items.push(r);else if($S(a)){const s=Xu(a),l=PS(a),c=`${s}-${l}`;n.dynamicMonths[c]?n.dynamicMonths[c].items.push(r):n.dynamicMonths[c]={label:t.formatDate(a,{month:"long"}),items:[r]}}else{const l=`${Xu(a)}-`;n.dynamicYears[l]?n.dynamicYears[l].items.push(r):n.dynamicYears[l]={label:t.formatDate(a,{year:"numeric"}),items:[r]}}return n},{recent:{today:{label:t.formatMessage(ei.historyBucketToday),items:[]},yesterday:{label:t.formatMessage(ei.historyBucketYesterday),items:[]},lastSeven:{label:t.formatMessage(ei.historyBucketLastSeven),items:[]},lastThirty:{label:t.formatMessage(ei.historyBucketLastThirty),items:[]}},dynamicMonths:{},dynamicYears:{}})}function Ar(e){e.invalidateQueries({queryKey:[J5]}),e.invalidateQueries({queryKey:[Qo]})}const ei=V({historyBucketRecent:{id:"history.bucket.recent",defaultMessage:"Recent"},historyBucketToday:{id:"history.bucket.today",defaultMessage:"Today"},historyBucketYesterday:{id:"history.bucket.yesterday",defaultMessage:"Yesterday"},historyBucketLastSeven:{id:"history.bucket.lastSeven",defaultMessage:"Previous 7 Days"},historyBucketLastThirty:{id:"history.bucket.lastThirty",defaultMessage:"Previous 30 Days"}});function cue(e){window.history.pushState({},"",e)}function Ii(e,t){return t?`/g/${$u(t)}/c/${e}`:`/c/${e}`}function tPe(){return"/gpts"}function BS(){return"/gpts/mine"}function US(e){return e?`/gpts/editor/${e}`:"/gpts/editor"}function nPe(e){const t=uue();return e==null?t:US(e)}function uue(e){return US(e)}function rPe(e){try{const t=new URL(e);return t.hostname=t.hostname.replace(/^(www\.|web\.|mbasic\.|mobile\.)(secure\.)?/,""),t.pathname="",[...t.searchParams.keys()].forEach(n=>t.searchParams.delete(n)),t.toString()}catch{return e}}function due(e){if(!e)return null;try{return new URL(e).hostname}catch{return null}}function aPe(e){const t=due(e);return t?t.replace(/^www\./,""):e}function fue(e,t,n){const a=F.getTree(t).getMessageId(F.getThreadCurrentLeafId(t));q.generateTitle(t,a,n).then(({title:o})=>{F.setTitle(t,o,v1.Generated),Ar(e),S.logEvent(k.renameThread,{threadId:t,content:o,model:n})})}function pue(e,t,n){const r=()=>{const o=Ii(n);e(o)},a=vn.getGizmoId(n);a!=null?j$(t,a).then(o=>{cue(Ii(n,o))}).catch(o=>{te.addError(o),r()}):r()}const Xg={onCreate(e,t,n,r,a){S.logEvent(k.newThread),!r&&Ire(vn.getConversationMode(t))&&fO(n).then(o=>{sh(o)||(Ar(n),e(t,a))})},onCreateFinished(e,t,n){if(!(n||!t)&&!z.checkGate("2562876640")){const r=vn.getThread(t)?.initialThreadData.lastModelUsed;r==null&&te.addError("missing lastModelUsed on conversation create finished"),fue(e,t,r)}}},Id=10,HS=4,jd={duration:20,hasCloseButton:!0},VS=512,mue=VS*1024*1024,gue="application/vnd.google-apps.spreadsheet",hue="application/vnd.google-apps.presentation",vue="application/vnd.google-apps.document",yue=["xlsx","pptx","docx","page","issue"],Cue={[gue]:"xlsx",[hue]:"pptx",[vue]:"docx"};function GS(e){return e?Cue[e.split(";")[0]]??null:null}function xue(e){return yue.includes(e)}function bue(e){return e&&xue(e)?e:null}var Xe=(e=>(e[e.None=0]="None",e[e.Multimodal=1]="Multimodal",e[e.Interpreter=2]="Interpreter",e[e.Retrieval=3]="Retrieval",e[e.ContextConnector=4]="ContextConnector",e[e.ProfilePicture=5]="ProfilePicture",e))(Xe||{});function wue(e){if(e)return{contextConnector:e.context_connector,sourceUrl:e.source_url,syntheticExtension:bue(e.synthetic_extension),type:e.type}}var Gr=(e=>(e.Uploading="uploading",e.Ready="ready",e))(Gr||{});const _ue={label:"Auto",value:""},Sue="The user has opted in to provide additional feedback on the previous response. Encourage the user to share feedback that you can store in a memory to better meet their needs in future. Use no more than 3 turns. If at any point the user indicates no longer wanting to provide feedback, return to the original topic.",WS=Me(()=>({forceParagen:!1,forceParagenModel:_ue,forceIndepthFeedback:!1,forceIndepthFeedbackPrompt:Sue,forceRateLimit:!1,resetRateLimits:!1,showDebugConversationTurns:!1,rebaseSystemMessageContent:null,forceUseSearch:null,paragenStreamType:"none",paragenCotSummaryDisplay:"allow",showParagenMetadata:!0,showSearchSettingsModal:!1}));function vl(e){return e.startsWith("file-service://")?e.replace("file-service://",""):e.startsWith("sediment://")?e.replace("sediment://",""):e}function Mue(e){return"file-service://"+e}function Tue(e){return e.startsWith("file-service://")}function e2(e,t,n){switch(t){case"file_zero_bytes":return e.formatMessage(At.fileZeroBytes,n);case"file_too_large":return e.formatMessage(At.fileTooLarge,n);case"over_user_quota":return e.formatMessage(At.overUserQuota,n);case"file_not_found":case"file_expired":return e.formatMessage(At.fileNotFound,n);case"file_timed_out":return e.formatMessage(At.fileTimedOut,n);case"ace_pod_expired":return e.formatMessage(At.codeInterpreterSessionTimeout,n);case"permission_error":return e.formatMessage(At.permissionError,n);case"default_upload_error":case"file_rejected":return e.formatMessage(At.defaultCreateEntryError,n);case"default_download_link_error":return e.formatMessage(At.defaultDownloadLinkError,n);case"file_empty":return e.formatMessage(At.fileEmpty,n);case"too_many_tokens":return e.formatMessage(At.fileTooManyTokens,n);case"file_encrypted":return e.formatMessage(At.fileEncrypted,n);case"file_corrupted":return e.formatMessage(At.fileCorrupted,n);case"failed_upload_to_blobstore":return e.formatMessage(At.failedUploadToBlobStore,n);case"internal_error":default:return e.formatMessage(At.unknownError)}}function oPe(){const e=U();return d.useCallback((t,n)=>e2(e,t,n),[e])}function sPe(){const{session:e}=ih(),{isUnauthenticated:t}=Lt(),n=U(),r=Ne();return async(a,o)=>{if(!t&&e==null)return r.danger(n.formatMessage(At.fileDownloadFailed)),!1;try{const s=await q.getFileDownloadLink(a,void 0,t);if(s.status!==Cr.Success)throw new Error("File is not ready to download: "+JSON.stringify(s));const l=s.download_url,c=document.createElement("a");c.href=l,c.download=o,c.click(),window.open(l,"_blank")}catch{return r.danger(n.formatMessage(At.fileDownloadFailed)),!1}return!0}}function yl(e,t){return t?.kind===Oe.GizmoInteraction||t?.kind===Oe.GizmoTest?t.gizmo?.product_features:e?.product_features}function Rd(e,t){const n=yl(e,t);return n?.attachments?.type===Po.CodeInterpreter?Xe.Interpreter:n?.attachments?.type===Po.Multimodal?Xe.Multimodal:n?.attachments?.type===Po.Retrieval?Xe.Retrieval:n?.attachments?.type===Po.ContextConnector?Xe.ContextConnector:Xe.None}function zS(e){const t=e.split(".").pop()?.toLowerCase();return{md:"text/markdown",java:"text/x-java",py:"text/x-script.python",c:"text/x-c",cpp:"text/x-c++",h:"text/x-c++",php:"text/x-php",rb:"text/x-ruby",tex:"application/x-latext",ts:"text/x-typescript",cs:"text/x-csharp",go:"text/x-go",rs:"text/x-rust",scala:"application/x-scala",kt:"text/x-kotlin",swift:"text/x-swift",lua:"text/x-lua",r:"text/x-r",jl:"text/x-julia",pl:"text/x-perl",sh:"text/x-shellscript",m:"text/x-objectivec",mm:"text/x-objectivec++",erl:"text/x-erlang",ex:"text/x-elixir",exs:"text/x-elixir",hs:"text/x-haskell",clj:"text/x-clojure",groovy:"text/x-groovy",dart:"text/x-dart",bash:"text/x-shellscript",jsx:"text/jsx",tsx:"text/tsx",hbs:"text/x-handlebars",handlebars:"text/x-handlebars",mustache:"text/x-mustache",ejs:"text/x-ejs",j2:"text/x-jinja2",jinja:"text/x-jinja2",jinja2:"text/x-jinja2",liquid:"text/x-liquid",erb:"text/x-erb",twig:"text/x-twig",pug:"text/x-pug",jade:"text/x-jade",tmpl:"text/x-tmpl",json:"application/json",yml:"application/x-yaml",yaml:"application/x-yaml",toml:"application/toml",ini:"text/plain",properties:"text/plain",env:"text/plain",xml:"text/xml",conf:"text/plain",log:"text/plain",txt:"text/plain",astro:"text/x-astro"}[t??""]||""}function Eue(e){switch(e){case"application/vnd.google-apps.spreadsheet":return"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet";case"application/vnd.google-apps.document":case"application/vnd.google-apps.presentation":return"text/plain";default:return e}}function qS(e,t,n){const r=zS(e);return r&&(t=r),n&&(t=Eue(t)),t}function kue(e,t,n,r,a){if(a==null)return e;const o=qS(t,n,r),{accepted_mime_types:s,can_accept_all_mime_types:l}=a;return s==null||s.length===0||!l||s.includes(o)?e:Xe.Interpreter}function iPe(e,t,n,r){const a=qS(n,t,r),o=e?.product_features?.attachments;if(o!=null)return o.accepted_mime_types?.includes(a)?o.type:o.image_mime_types?.includes(a)?Po.Multimodal:Po.CodeInterpreter}function Aue(e,t){const n=yl(e,t);return n?.attachments?.can_accept_all_mime_types?void 0:n?.attachments?.accepted_mime_types}function ZS(e,t){const n=yl(e,t),{attachments:r}=n??{};return r?.image_mime_types?r.image_mime_types:r?.type==="multimodal"?r.accepted_mime_types??Pue:[]}const Pue=["image/png","image/jpeg","image/gif","image/webp"];function Oue(e){return d.useMemo(()=>{if(e===void 0)return{};const t={"image/jpeg":[".jpg",".jpeg"],"image/svg+xml":[".svg"],"application/vnd.openxmlformats-officedocument.wordprocessingml.document":[".docx"],"application/vnd.openxmlformats-officedocument.presentationml.presentation":[".pptx"]};return{accept:e.reduce((n,r)=>(r in t?n[r]=t[r]:r.includes("/")&&(n[r]=[`.${r.split("/")[1]}`]),n),{})}},[e])}function Za(e){return e.split(".").pop()?.toLowerCase()}function X5(e){const t=Za(e);return t!=null&&["jpg","jpeg","png","gif","webp"].includes(t)}function YS(e){const t=Za(e);return t!=null&&["xls","xlsx","csv"].includes(t)}function Nue(e){const t=Za(e);return t!=null&&["xls","xlsx"].includes(t)}function KS(e,t,n="fit"){return new Promise((r,a)=>{const o=new FileReader;o.onerror=s=>{te.addError(new Error("File reading has failed:",{cause:s})),a(new Error("Failed to read the file."))},o.onload=s=>{const l=new Image;l.onerror=c=>{te.addError(new Error("Image loading has failed:",{cause:c})),a(new Error("Failed to load the image."))},l.onload=()=>{const c=document.createElement("canvas");let u,f=0,p=0;switch(n){case"fill":u=t/Math.min(l.width,l.height);break;case"square":u=t/Math.min(l.width,l.height);break;case"fit":u=t/Math.max(l.width,l.height);break}const m=l.width*u,g=l.height*u;n==="square"?(c.width=t,c.height=t,f=(t-m)/2,p=(t-g)/2):(c.width=m,c.height=g);const h=c.getContext("2d");if(h==null){te.addError("Canvas context creation failed. Your environment might not fully support HTML5 canvas."),a(new Error("Failed to create canvas context."));return}h.drawImage(l,f,p,m,g);const v=e.type||"image/png";c.toBlob(y=>{y?r(new File([y],e.name,{type:v})):(te.addError("Blob creation failed. Blob is null."),a(new Error("Failed to create blob from image data.")))},v)},s.target==null?(te.addError("Event target is null. Failed to load image."),a("Failed to load image.")):l.src=s.target.result},o.readAsDataURL(e)})}function lPe(e,t){return KS(e,t,"square")}function QS(e){const t=e.name.split("/")??[];return(t[t.length-1]??"").replace(/[-_]/g," ").split(".")[0]}function JS(e,t){return t?e.slice(0,-t.length-1):e}const At=V({defaultCreateEntryError:{id:"fileUpload.defaultCreateEntryError",defaultMessage:"Unable to upload {fileName}"},defaultDownloadLinkError:{id:"fileUpload.defaultDownloadLinkError",defaultMessage:"Failed to get upload status for {fileName}"},unknownError:{id:"fileUpload.unknownError",defaultMessage:"Unknown error occurred"},fileZeroBytes:{id:"fileUpload.fileZeroBytes",defaultMessage:"File is empty"},fileTooLarge:{id:"fileUpload.fileTooLarge",defaultMessage:"File is too large"},overUserQuota:{id:"fileUpload.overUserQuota",defaultMessage:"User quota exceeded"},fileNotFound:{id:"fileUpload.fileNotFound",defaultMessage:"File not found"},fileTimedOut:{id:"fileUpload.fileTimedOut",defaultMessage:"File upload timed out. Please try again."},fileEmpty:{id:"fileUpload.fileEmpty",defaultMessage:"No text could be extracted from this file."},fileTooManyTokens:{id:"fileUpload.fileTooManyTokens",defaultMessage:"This file contains too much text content. Please try again with a smaller file."},fileEncrypted:{id:"fileUpload.fileEncrypted",defaultMessage:"This file is encrypted/requires a password to access. Please try again with an unencrypted file."},fileCorrupted:{id:"fileUpload.fileCorrupted",defaultMessage:"This file is corrupted. Please ensure the file is not corrupted and try again."},codeInterpreterSessionTimeout:{id:"fileUpload.codeInterpreterSessionTimeout",defaultMessage:"Code interpreter session expired"},permissionError:{id:"fileUpload.permissionError",defaultMessage:"Missing permission to access file"},fileDownloadFailed:{id:"filesModal.fileDownloadFailed",defaultMessage:"File download failed. Please try again."},failedUploadToBlobStore:{id:"fileUpload.failedUploadToBlobStore",defaultMessage:"Failed upload to files.oaiusercontent.com. Please ensure your network settings allow access to this site or contact your network administrator."}}),Iue={duration:20,hasCloseButton:!0};function ji(e){return JSON.stringify({file:e.name,modified:e.lastModified,currentTime:new Date().toString()})}function t2(e){return new Promise((t,n)=>{const r=new FileReader,a=new Image;r.onload=()=>{a.onload=()=>t(a),a.onerror=o=>n(o),a.src=r.result},r.readAsDataURL(e)})}async function e4(e,t,n,r,a,o,s){const l={ENTRY_CREATED:10,FILE_UPLOADED:60,FILE_PROCESSED:100};let c=Vr.Initial;S.logEvent(k.uploadFileInitiated,{client:"web",useCase:a.kind,uploadEntry:"local"});const u=s.usesRetrievalIndex??!1,f=u?performance.now():void 0,p=WS.getState().resetRateLimits;try{const{file_id:m,upload_url:g}=await q.createFile(t.name,t.size,a,!!p);o.onFileCreated(e,m,g),c=Vr.FileCreated,o.onFileUploadProgress(e,l.ENTRY_CREATED);const h=a.kind===Vt.Gizmo?a.gizmoId:void 0,v=u,y={client:"web",useCase:a.kind,uploadEntry:"local",fileId:m,fileSize:t.size};S.logEvent(k.blobStoreUploadStarted,y);const x=await q.uploadFileToAzureStorage(t,g,_=>{o.onFileUploadProgress(e,l.ENTRY_CREATED+(l.FILE_UPLOADED-l.ENTRY_CREATED)*_)});o.onFileUploadProgress(e,l.FILE_UPLOADED),x.status!==201&&(S.logEvent(k.blobStoreUploadError,{...y,error_type_name:`HTTPStatus${x.status}`,error_msg:`HTTP status ${x.status}: ${x.statusText}`,error_stack:""}),Rue(x,m,v)),S.logEvent(k.blobStoreUploadCompleted,y),c=Vr.FileUploaded;const C={file_id:m,use_case:a.kind,gizmo_id:h,index_for_retrieval:u,file_name:t.name},w=await q.processFileUploadStream(C,_=>{o.onFileUploadProgress(e,l.FILE_UPLOADED+(l.FILE_PROCESSED-l.FILE_UPLOADED)*_/100)});c=Vr.FileProcessed,o.onFileUploaded(e,m,s.imageDimensions,w),u&&(c=Vr.RetrievalIndexCreated),f!=null&&q.postRetrievalTiming({e2eLatencyMs:performance.now()-f,type:"file"})}catch(m){XS(n,r,t.name,m);let g="NotInstanceOfError";m instanceof vt?g=`${m.name}_${m.status}`:(m instanceof Error||m instanceof _r)&&(g=m.name),o.onError(e,"error",g,a,c)}}async function cPe(e,t,n,r,a,o){const{width:s,height:l}=await t2(t);return e4(e,t,n,r,{kind:a},o,{imageDimensions:{width:s,height:l}})}async function jue(e,t){const n=Date.now()+6e4,r=o=>new Promise(s=>setTimeout(s,o));let a=0;for(;Date.now()<n;){const o=await q.getRetrievalStatus(e,t);if(o.status===Sc.Success||o.status===Sc.Skipped)return o;if(o.status===Sc.Failed)throw new _r("Context extraction failed",o.error_code);a++,await r(Math.min(1e3,100*a))}throw new _r("Retrieval indexing timed out")}async function Rue(e,t,n=!1){let r="Unknown error";try{r=await e.data}catch{}throw n&&q.markFileUploadFailed(t,{error:r}),new _r("File upload to blobstore failed","failed_upload_to_blobstore")}function XS(e,t,n,r){let a=e2(e,"default_upload_error",{fileName:n});r instanceof _r&&r.code!=null&&(a=e2(e,r.code)),t.danger(a,Iue)}const Lue=V({retrievalSkippedFile:{id:"useFilePickerState.retrievalSkippedFile",defaultMessage:'Unable to extract text from "{fileName}"'}}),eM={files:[],connectorFileData:{}},tM=d.createContext(null);function uPe({children:e,initialState:t=eM}){const[n]=d.useState(()=>y1(()=>t));return i.jsx(tM.Provider,{value:n,children:e})}function Cl(){const e=d.useContext(tM);if(e==null)throw new Error("useFilePickerState must be used inside a FilePickerContext");return e}function nM(e){const t=Cl();return zi(t,e)}const $ue={hasUploadInProgress:({files:e})=>e.some(t=>t.status===Gr.Uploading),getReadyFiles:({files:e})=>e.filter(t=>t.status===Gr.Ready)},g0=2048;async function Due(e,t,n,r,a,o,s,l,c){const u=performance.now();S.logEvent(k.uploadFileInitiated,{client:"web",useCase:r.kind,contextConnector:o.contextConnector,fileSourceType:o.type});let f=Vr.Initial;const p=rM(e);r.kind===Vt.Gizmo&&(r={...r,kind:a.includes(t4(n))?Vt.Multimodal:Vt.MyFiles});try{const m=await q.uploadConnectorAPI(t,o.contextConnector,r,n,s,o.o365DriveId,o.manifest);switch(m.type){case"error":throw Fue(m.error);case"file":{switch(p.onFileCreated(t,m.file.id,"",o.contextConnector),f=Vr.FileProcessed,r.kind){case Vt.MyFiles:{p.onFileUploadProgress(t,90);const g=await jue(m.file.file_id,s);g?.status===Sc.Skipped&&c.danger(l.formatMessage(Lue.retrievalSkippedFile,{fileName:g.name}),jd),p.onFileUploaded(t,m.file.file_id,void 0,{fileTokenSize:g.file_size_tokens,mimeType:m.file.mime_type}),f=Vr.RetrievalIndexCreated;break}case Vt.Multimodal:{p.onFileUploaded(t,m.file.file_id,{width:512,height:512},{mimeType:m.file.mime_type});break}case Vt.AceUpload:{p.onFileUploaded(t,m.file.file_id,void 0,{mimeType:m.file.mime_type});break}case Vt.DalleAgent:case Vt.Gizmo:case Vt.ProfilePicture:throw new _r(`Use case not supported by cloud doc: ${r.kind}`)}break}case"folder":throw new _r("Folder type not supported")}q.postRetrievalTiming({e2eLatencyMs:performance.now()-u,type:o.contextConnector})}catch(m){te.addError(new Error(`Failed to upload connected file by ${o.contextConnector}`,{cause:m}));const g=JS(n.name,o?.syntheticExtension);XS(l,c,g,m);let h="NotInstanceOfError";m instanceof vt?h=`${m.name}_${m.status}`:(m instanceof Error||m instanceof _r)&&(h=m.name),p.onError(t,"error","connector_upload_"+h,{kind:Vt.MyFiles},f)}}function t4(e){return e.type||zS(e.name)}function Fue({status_code:e,error_code:t,error_message:n}){if(e&&e<500){let r="internal_error";return t?r=t:e===404?r="file_not_found":e===403?r="permission_error":e===413&&(r="file_too_large"),new _r(n,r)}else return vt.createWithErrorMessage("/connectors/upload","server",n)}const gn={reset:e=>{e.setState(eM)},uploadFile:async(e,t,n,r,a,o,s,l={},c,u)=>{const{gizmoId:f}=l,p=e.getState().files,m=kue(r,n.name,n.type,u?.contextConnector,c),g={tempId:t,gizmoId:l.gizmoId,status:Gr.Uploading,file:n,progress:1,fileId:null,cdnUrl:null,contextConnectorInfo:u,contextConnector:u?.contextConnector};if(p.length===Id)S.logEvent(k.uploadedMaxFilesError),s.danger(o.formatMessage(_6.maxUploadsAtATime,{maxUploads:Id,fileName:n.name}),jd);else if(p.some(h=>h.tempId===t))S.logEvent(k.uploadedDuplicateFileError),s.danger(o.formatMessage(_6.duplicateFileAttached,{fileName:n.name.length>20?n.name.slice(0,19)+"…":n.name}),jd);else{e.setState(({files:y})=>({files:[...y,g]}));let h;const v={};if(a.includes(n.type)){if(h={kind:Vt.Multimodal},!u){let{width:y,height:x}=await t2(n);if(y>g0||x>g0)try{const C=await KS(n,g0),w=await t2(C);y=w.width,x=w.height,n=C}catch(C){te.addError(new Error("Error resizing image:",{cause:C}))}v.imageDimensions={width:y,height:x}}}else switch(m){case Xe.Multimodal:throw new Error(`Multimodal file upload not supported mime type, ${n.type}
Supported mime types: `+a.join(", "));case Xe.Interpreter:h={kind:Vt.AceUpload};break;case Xe.Retrieval:h={kind:Vt.MyFiles},v.usesRetrievalIndex=!0;break;case Xe.ProfilePicture:throw new Error("cannot upload profile picture via uploadFile");case Xe.ContextConnector:case Xe.None:return}f!=null&&(h={kind:Vt.Gizmo,gizmoId:f}),l.skipUpload||(u?await Due(e,t,n,h,a,u,l.gizmoId,o,s):await e4(t,n,o,s,h,rM(e),v))}},createFileCompleted:(e,t,n,r,a)=>{const o=e.getState().files,s=o.findIndex(c=>c.tempId===t),l=o[s];if(s>=0&&l.status===Gr.Uploading){const c=[...o];c.splice(s,1,{...l,progress:10,fileId:n,cdnUrl:r,contextConnector:a}),e.setState({files:c})}},updateProgress:(e,t,n)=>{const r=e.getState().files,a=r.findIndex(s=>s.tempId===t),o=r[a];if(a>=0&&o.status===Gr.Uploading){const s=[...r];s.splice(a,1,{...o,progress:n}),e.setState({files:s})}},uploadCompleted:(e,t,n,r,a,o)=>{const s=e.getState().files,l=s.findIndex(c=>c.tempId===t);if(l>=0&&s[l].status===Gr.Uploading&&s[l].fileId!=null){const c=s[l],u=[...s],f={...c,tempId:t,status:Gr.Ready,progress:100,fileSpec:{name:c.file.name,id:c.fileId,size:c.file.size,contextConnectorInfo:c.contextConnectorInfo,mimeType:a?.mimeType??t4(c.file),...r||{},...a||{}}};u.splice(l,1,f);const p={...e.getState().connectorFileData};o&&(p[o?.file_id]=o),e.setState({files:u,connectorFileData:p}),S.logEvent(k.uploadFileCompleted,{status:c.status,fileId:c.fileId,contextConnector:c.contextConnector??"local"})}},remove:(e,t,n,r,a,o)=>{const s=e.getState().files,l=s.findIndex(c=>c.tempId===t);if(l>=0){const c=s[l];n==="error"?S.logEvent(k.uploadFileError,{status:c.status,fileId:c.fileId,client:"web",errorClassName:r??"undefined",useCaseType:a,uploadStatus:o??"undefined",contextConnector:c.contextConnector}):S.logEvent(k.removeFile,{status:c.status,fileId:c.fileId});const u=[...s];u.splice(l,1),e.setState({files:u})}}},rM=e=>({onFileCreated:gn.createFileCompleted.bind(null,e),onFileUploadProgress:gn.updateProgress.bind(null,e),onFileUploaded:gn.uploadCompleted.bind(null,e),onError:gn.remove.bind(null,e)}),_6=V({maxUploadsAtATime:{id:"useFilePickerState.maxUploadsAtATime",defaultMessage:"Unable to upload {fileName}. Max {maxUploads} uploads at a time"},duplicateFileAttached:{id:"useFilePickerState.duplicateFileAttached",defaultMessage:"Unable to upload {fileName} because an identical file has already been attached to this message."}});function dPe(e,t,n,r){let a=$ue.getReadyFiles(e.getState());r?.kind===Oe.GizmoMagicCreate?a=a.filter(m=>m.gizmoId!=null):a=a.filter(m=>m.gizmoId==null);let o=t??"";const s=[],l=[],c=Rd(n,r),f=ZS(n,r).length>0,p=c===Xe.Interpreter||c===Xe.Retrieval||c===Xe.ContextConnector;return a.forEach(({fileSpec:m})=>{if(p){const g=m.contextConnectorInfo;s.push({id:m.id,size:m.size,name:m.name,context_connector_info:g?{context_connector:g?.contextConnector,source_url:g?.sourceUrl,synthetic_extension:g?.syntheticExtension??null,type:g?.type}:void 0,mime_type:m.mimeType,width:"width"in m?m.width:void 0,height:"height"in m?m.height:void 0,file_token_size:m.fileTokenSize})}f&&"width"in m&&"height"in m&&l.push({content_type:vi.ImageAssetPointer,asset_pointer:Mue(m.id),size_bytes:m.size,width:m.width,height:m.height})}),l.length>0&&(l.push(t??""),o={content_type:je.MultimodalText,parts:l}),{content:o,attachments:s}}async function Bue({clientThreadId:e,currentRequestId:t,queryClient:n,isHistoryAndTrainingDisabled:r}){const a=F.getServerThreadId(e),o=F.getTree(e);!o.hasReceivedServerCompletion&&!r&&o.getParent(t).metadata?.errCode!==Dn.ContentPolicy&&setTimeout(()=>{Xg.onCreateFinished(n,a,r)},500),a&&z.checkGate("3922476776")&&await q.stopConversationProcess(a),Ua.abortRequest(t)&&F.updateTree(e,l=>{const c=F.getThreadCurrentLeafId(e);l.updateNodeMessageMetadata(c,{finish_details:{type:"interrupted"}})})}function Uue(e){const t=d.useContext(pO);return({id:r,requestedModelId:a,eventMetadata:o,focusOnNewCompletion:s=!0,variantPurpose:l="none",useDefaultModel:c,appendMessages:u,conversationMode:f,juice:p=void 0,turnTracker:m,extraStreamParams:g})=>{const v=F.getTree(e).getParentPromptNode(r),y=v.id;t({type:ea.Variant,promptId:y,requestedModelId:a,eventMetadata:o,cancelActiveRequests:!1,focusOnNewCompletion:s,useDefaultModel:c,completionMetadata:{variantPurpose:l,conversationMode:f,juice:p,systemHints:v.message.metadata?.system_hints,searchSource:g?.forceUseSearch===!0?em.CONVERSATION_REGENERATE_WITH_SEARCH:g?.forceUseSearch===!1?em.CONVERSATION_REGENERATE_WITHOUT_SEARCH:void 0},appendMessages:u,turnTracker:m,extraStreamParams:g})}}function Hue({clientThreadId:e,conversationMode:t}){const n=Uue(e);return({id:a,eventMetadata:o,turnTracker:s,requestedModelId:l,systemMessage:c,systemMessageMetadata:u,juice:f,extraStreamParams:p})=>{const g=F.getTree(e).getConversationTurns(a),v=g?.[g?.length-1].variantIds?.length===1&&p?.forceUseSearch===void 0,y=v?{...o,intent:"comparison_implicit"}:o;n({id:a,requestedModelId:l,eventMetadata:y,focusOnNewCompletion:!0,variantPurpose:v?"comparison_implicit":"none",conversationMode:t??vn.getConversationMode(e),useDefaultModel:!1,appendMessages:c?[{id:fa(),author:{role:ie.System},content:{content_type:je.Text,parts:[c]},metadata:{exclude_after_next_user_message:!0,...u}}]:void 0,juice:f,turnTracker:s,extraStreamParams:p})}}const Vue=e=>{for(const t of e.concat().reverse()){if("messages"in t)return t.messages[t.messages.length-1].nodeId;if("message"in t)return t.message.nodeId}},Gue=(e,t)=>{const n=ss(e),r=Hue({clientThreadId:e,conversationMode:n}),a=Nre(e),o=h1(e),s=be(),l=eh(),c=Hi(o),u=Vue(t),f=t.some(g=>"messages"in g&&g.messages.some(h=>h.message.metadata?.canvas?.canvas_opt_in));return{isVisible:!Ba(()=>F.getLastMessgageSystemHints(e,F.getThreadCurrentLeafId(e)).includes(C1.CANVAS))&&!a&&!f&&!!u,onClick:async g=>{if(!u)return;g.stopPropagation(),rx();const h=[d1.CANMORE],v=new bi;c&&await Bue({clientThreadId:e,currentRequestId:o,queryClient:s,isHistoryAndTrainingDisabled:l}),requestAnimationFrame(()=>r({id:u,eventMetadata:{eventSource:"mouse"},systemMessage:"The user has requested the canvas tool be disabled for this conversation. You should not call the tool again.",systemMessageMetadata:{disable_tool_ids:h},turnTracker:v}));const y=F.getTree(e),x=y.getConversationTurns(u).length,C=y.getParentPromptNode(u).message.id;V1.logEventWithStatsig(k.canvasOptOutClicked,"chatgpt_canvas_opt_out_clicked",{num_turns:String(x),conversation_id:F.getServerThreadId(e),user_message_id:C}),F.setDisabledToolsForThread(e,h)}}},Wue=({clientThreadId:e,groupedMessages:t})=>{const{isVisible:n,onClick:r}=Gue(e,t);return n?i.jsx("button",{onClick:r,className:"mb-2 w-full text-token-text-secondary hover:text-token-text-primary",children:i.jsxs("div",{className:"flex items-center rounded-xl",children:[i.jsx(b,{id:"aa5Dyk",defaultMessage:"Answer in chat instead"}),i.jsx(is,{className:"icon-md text-token-text-secondary"})]})}):null};function n2(e){let t=e;return t=t.replace(/\.[^/.]+$/,""),t=t.replace(/_/g," "),t=t.replace(/([a-z])([A-Z])/g,"$1 $2"),t.split(" ").map(r=>r.charAt(0).toUpperCase()+r.slice(1).toLowerCase()).join(" ")}const zue=e=>d.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"currentColor",viewBox:"0 0 24 24",...e},d.createElement("path",{fillRule:"evenodd",d:"M14.447 7.106a1 1 0 0 1 .447 1.341l-4 8a1 1 0 1 1-1.788-.894l4-8a1 1 0 0 1 1.341-.447ZM6.6 7.2a1 1 0 0 1 .2 1.4L4.25 12l2.55 3.4a1 1 0 0 1-1.6 1.2l-3-4a1 1 0 0 1 0-1.2l3-4a1 1 0 0 1 1.4-.2Zm10.8 0a1 1 0 0 1 1.4.2l3 4a1 1 0 0 1 0 1.2l-3 4a1 1 0 0 1-1.6-1.2l2.55-3.4-2.55-3.4a1 1 0 0 1 .2-1.4Z",clipRule:"evenodd"}));function jo(e,t){return e===xi.DOCUMENT?i.jsx(za,{className:P("icon-md",{"text-token-text-primary":t,"text-token-text-tertiary":!t})}):e&&Nu(e)?i.jsx(zue,{className:P("icon-md",{"text-token-text-primary":t,"text-token-text-tertiary":!t})}):null}const que=e=>{const{closeThreadSidebar:t}=la();return()=>{t({})}};function Zue(e){const t=d.useRef(!1);return()=>{t.current||(e(),t.current=!0)}}const Yue=(e,t)=>e?.textdocId?e.textdocId:e?.function===zt.CreateTextdoc?kh(e.messageId):t??void 0,fPe=({messages:e,isRequestActive:t,isFinalTurn:n,allGroupedMessages:r,clientThreadId:a})=>{const o=U(),s=Ih(e),l=Tx(e),c=d.useMemo(()=>{if(Ph(s?.message))return Sx(t,s.message,l?.message??null)},[t,s,l]),u=pj(),f=Yue(c,u),p=B1(f),m=Ki(),g=Mh(f),h=hj(),v=mj(),y=Px(),x=fj(),C=gj({textdocId:f,assistantMessage:s}),w=Zue(()=>{const N=vn.getThreadModelId(a);V1.logError("Textdoc missing from conversation",null,{clientThreadId:a,modelId:N,textdocId:f,latestTextdocId:u,toolCallTextdocId:c?.textdocId,toolCallStatus:c?.status,toolCallFunction:c?.function})});d.useEffect(()=>{!t&&c?.status===ue.COMPLETE&&!x&&!p&&w()},[c,p,t,x,w]);const _=que();if(!c)return null;const E=c.status===ue.REDACTED||!x&&!p&&c.status!==ue.STREAMING&&c.status!==ue.WAITING;let T,M;if(c.status!==ue.REDACTED&&c.status!==ue.FAILED&&!E&&f){const N=c.function===zt.UpdateTextdoc&&c.status===ue.COMPLETE;T=()=>{_(),N&&c.versionInt?RI(f,c.versionInt,h):Va(f)},M=()=>{N&&c.versionInt&&y(f,c.versionInt)}}const A=Kue(c,p);if(c.function===zt.CreateTextdoc){if(c.status===ue.STREAMING||c.status===ue.WAITING||c.status===ue.COMPLETE){const H=x===!0&&(c.status===ue.STREAMING||c.status===ue.WAITING);return i.jsxs(i.Fragment,{children:[i.jsx(Hm,{textdocId:f,name:A,tag:c.type,icon:jo(c.type,!1),iconSelected:jo(c.type,!0),isCanvasOpen:m,isInlinePreview:C,isFetching:H,isFocused:g,isStreaming:c.status===ue.STREAMING,onClick:T}),n&&i.jsx(Wue,{clientThreadId:a,groupedMessages:r})]})}let N;switch(c.status){case ue.FAILED:N=o.formatMessage({id:"SNarKX",defaultMessage:"Failed to generate"});break;case ue.CANCELED:N=o.formatMessage({id:"1A6W36",defaultMessage:"Stopped generating"});break;case ue.REDACTED:N=i.jsx(ot,{align:"start",label:o.formatMessage({id:"F6q1k7",defaultMessage:"Removed from shared conversation"}),children:o.formatMessage({id:"BqyYDu",defaultMessage:"Created document"})});break}return i.jsx(S6,{children:N})}const D=E||c.status===ue.REDACTED,j=v&&!D?A:null,B=i.jsx(S6,{onClick:T,onMouseOver:M,isStreaming:c.status===ue.STREAMING,children:c.function===zt.CommentTextdoc?Jue(o,c,j):Que(o,c,j)});return C&&!m&&!E&&f?i.jsxs("div",{className:"flex flex-col gap-2",children:[i.jsx(Hm,{textdocId:f,name:A,tag:p?.type,icon:jo(p?.type,!1),iconSelected:jo(p?.type,!0),isCanvasOpen:m,isFetching:!1,isFocused:g,isInlinePreview:!0,isStreaming:c.status===ue.STREAMING,onClick:f!=null?()=>Va(f):void 0}),B]}):B};function Kue(e,t){return t?.title?n2(t.title):e.function===zt.CreateTextdoc&&e.title?n2(e.title):null}const S6=({isStreaming:e=!1,onClick:t,onMouseOver:n,children:r})=>i.jsx("button",{disabled:!t,className:P(e&&"loading-shimmer","flex min-h-5 w-fit select-none pt-[3px] text-start text-token-text-secondary",t&&"hover:text-token-text-primary"),onClick:t,onMouseOver:n,children:r}),aM=9;function Que(e,t,n){if(t.status===ue.STREAMING)return n?e.formatMessage({id:"W2xN1Z",defaultMessage:"Editing {documentTitle}"},{documentTitle:n}):e.formatMessage({id:"8taq8v",defaultMessage:"Editing"});if(t.status===ue.FAILED)return n?e.formatMessage({id:"UjJKYZ",defaultMessage:"Failed to edit {documentTitle}"},{documentTitle:n}):e.formatMessage({id:"kWUVkg",defaultMessage:"Failed to edit"});if(t.status===ue.CANCELED)return n?e.formatMessage({id:"TmSrCd",defaultMessage:"Stopped editing {documentTitle}"},{documentTitle:n}):e.formatMessage({id:"bYV7xA",defaultMessage:"Stopped editing"});const r=t.updates?.length;return t.status===ue.REDACTED||!r||r>aM?n?e.formatMessage({id:"n+G/ct",defaultMessage:"Edited {documentTitle}"},{documentTitle:n}):e.formatMessage({id:"aegqpL",defaultMessage:"Edited"}):n?e.formatMessage({id:"osYMSb",defaultMessage:"{numEdits, plural, one {Edited {documentTitle}} other {Made {numEdits} edits to {documentTitle}}}"},{numEdits:r,documentTitle:n}):e.formatMessage({id:"xJD3WR",defaultMessage:"{numEdits, plural, one {Edited} other {Made {numEdits} edits}}"},{numEdits:r})}function Jue(e,t,n){if(t.status===ue.STREAMING)return n?e.formatMessage({id:"8xQH/P",defaultMessage:"Commenting on {documentTitle}"},{documentTitle:n}):e.formatMessage({id:"5yqLeN",defaultMessage:"Commenting"});if(t.status===ue.FAILED)return n?e.formatMessage({id:"Rl821S",defaultMessage:"Failed to comment on {documentTitle}"},{documentTitle:n}):e.formatMessage({id:"W007jt",defaultMessage:"Failed to comment"});if(t.status===ue.CANCELED)return n?e.formatMessage({id:"bozPdq",defaultMessage:"Stopped commenting on {documentTitle}"},{documentTitle:n}):e.formatMessage({id:"hyBGa7",defaultMessage:"Stopped commenting"});const r=t.comments?.length;return t.status===ue.REDACTED||!r||r>aM?n?e.formatMessage({id:"LXEzK7",defaultMessage:"Commented on {documentTitle}"},{documentTitle:n}):e.formatMessage({id:"KeMYhy",defaultMessage:"Commented"}):n?e.formatMessage({id:"Ql5lPq",defaultMessage:"{numComments, plural, one {Commented on {documentTitle}} other {Added {numComments} comments on {documentTitle}}}"},{numComments:r,documentTitle:n}):e.formatMessage({id:"FHtyJQ",defaultMessage:"{numComments, plural, one {Commented} other {Added {numComments} comments}}"},{numComments:r})}function Tf(){const{value:e}=ct("2304807207");return e}function pPe(){return i.jsx("span",{className:"result-streaming streaming-dot relative pt-1",children:"●"})}const Xue=e=>d.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},d.createElement("path",{d:"M18.9953 11.5415C19.5246 11.6991 19.826 12.2559 19.6685 12.7852C18.7771 15.7804 16.179 18.0417 13 18.4381V19.5H14.5C15.0523 19.5 15.5 19.9477 15.5 20.5C15.5 21.0523 15.0523 21.5 14.5 21.5H9.50002C8.94773 21.5 8.50002 21.0523 8.50002 20.5C8.50002 19.9477 8.94773 19.5 9.50002 19.5H11V18.4381C7.82093 18.0418 5.22279 15.7805 4.33136 12.7852C4.17382 12.2559 4.47522 11.6991 5.00456 11.5415C5.5339 11.384 6.09073 11.6854 6.24827 12.2148C6.98609 14.6939 9.28339 16.5 11.9999 16.5C14.7165 16.5 17.0138 14.6939 17.7516 12.2148C17.9091 11.6854 18.466 11.384 18.9953 11.5415Z",fill:"currentColor"}),d.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.5 10.5V7C14.5 5.61929 13.3807 4.5 12 4.5C10.6193 4.5 9.5 5.61929 9.5 7V10.5C9.5 11.8807 10.6193 13 12 13C13.3807 13 14.5 11.8807 14.5 10.5ZM12 2.5C9.51472 2.5 7.5 4.51472 7.5 7V10.5C7.5 12.9853 9.51472 15 12 15C14.4853 15 16.5 12.9853 16.5 10.5V7C16.5 4.51472 14.4853 2.5 12 2.5Z",fill:"currentColor"})),ede=e=>d.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},d.createElement("path",{d:"M7.7587 4.5H11.2413C12.0463 4.49999 12.7106 4.49998 13.2518 4.54419C13.8139 4.59012 14.3306 4.68868 14.816 4.93597C15.5686 5.31947 16.1805 5.93139 16.564 6.68404C16.8113 7.16937 16.9099 7.68608 16.9558 8.24817C16.9638 8.34602 16.9704 8.44789 16.9757 8.55389L19.7207 6.55754C20.8774 5.71631 22.5 6.54258 22.5 7.97283V16.0272C22.5 17.4574 20.8774 18.2837 19.7207 17.4425L16.9757 15.4461C16.9704 15.5521 16.9638 15.654 16.9558 15.7518C16.9099 16.3139 16.8113 16.8306 16.564 17.316C16.1805 18.0686 15.5686 18.6805 14.816 19.064C14.3306 19.3113 13.8139 19.4099 13.2518 19.4558C12.7106 19.5 12.0463 19.5 11.2413 19.5H7.75873C6.95374 19.5 6.28938 19.5 5.74818 19.4558C5.18608 19.4099 4.66937 19.3113 4.18404 19.064C3.43139 18.6805 2.81947 18.0686 2.43597 17.316C2.18868 16.8306 2.09012 16.3139 2.04419 15.7518C1.99998 15.2106 1.99999 14.5463 2 13.7413V10.2587C1.99999 9.45373 1.99998 8.78937 2.04419 8.24817C2.09012 7.68608 2.18868 7.16937 2.43597 6.68404C2.81947 5.93139 3.43139 5.31947 4.18404 4.93597C4.66937 4.68868 5.18608 4.59012 5.74817 4.54419C6.28937 4.49998 6.95373 4.49999 7.7587 4.5ZM17 12.9908L20.5 15.5362V8.46377L17 11.0092V12.9908ZM5.91104 6.53755C5.47262 6.57337 5.24842 6.6383 5.09202 6.71799C4.7157 6.90973 4.40973 7.2157 4.21799 7.59202C4.1383 7.74842 4.07337 7.97262 4.03755 8.41104C4.00078 8.86113 4 9.44342 4 10.3V13.7C4 14.5566 4.00078 15.1389 4.03755 15.589C4.07337 16.0274 4.1383 16.2516 4.21799 16.408C4.40973 16.7843 4.7157 17.0903 5.09202 17.282C5.24842 17.3617 5.47262 17.4266 5.91104 17.4624C6.36113 17.4992 6.94342 17.5 7.8 17.5H11.2C12.0566 17.5 12.6389 17.4992 13.089 17.4624C13.5274 17.4266 13.7516 17.3617 13.908 17.282C14.2843 17.0903 14.5903 16.7843 14.782 16.408C14.8617 16.2516 14.9266 16.0274 14.9624 15.589C14.9992 15.1389 15 14.5566 15 13.7V10.3C15 9.44342 14.9992 8.86113 14.9624 8.41104C14.9266 7.97262 14.8617 7.74842 14.782 7.59202C14.5903 7.2157 14.2843 6.90973 13.908 6.71799C13.7516 6.6383 13.5274 6.57337 13.089 6.53755C12.6389 6.50078 12.0566 6.5 11.2 6.5H7.8C6.94342 6.5 6.36113 6.50078 5.91104 6.53755Z",fill:"currentColor"}));function tde(e){const t=Math.floor(e/60),n=Math.floor(t/60),r=String(Math.floor(e)%60).padStart(2,"0"),a=String(t%60).padStart(2,"0");return n===0?`${a}:${r}`:`${n}:${a}:${r}`}function nde(e){const t=e?.audio_asset_pointer?.metadata;if(t?.start!==void 0&&t?.end!==void 0)return t.end-t.start}const mPe=d.memo(function(t){const n=U(),{content:r,metadata:a}=t.message;if(!(r.content_type==="multimodal_text"&&t.isUserTurn))return;const s=r.parts.filter(eC.isPartRealTimeUserAudioVideoAssetPointer).find(c=>c.audio_asset_pointer),l=nde(s);return i.jsxs("div",{className:"my-2 mr-4 flex flex-row justify-end gap-1 text-xs text-token-text-secondary",children:[a?.real_time_audio_has_video&&i.jsx(ede,{"aria-label":n.formatMessage({id:"/nS9Zn",defaultMessage:"Recorded with video or screenshare"}),className:"icon-sm"}),s&&i.jsx(Xue,{"aria-label":n.formatMessage({id:"eP1JEa",defaultMessage:"Recorded with voice"}),className:"icon-sm"}),l!==void 0&&i.jsx("span",{className:"font-semibold",children:tde(l)})]})}),Ef=e=>d.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},d.createElement("path",{d:"M13 12C13 11.4477 12.5523 11 12 11C11.4477 11 11 11.4477 11 12V16C11 16.5523 11.4477 17 12 17C12.5523 17 13 16.5523 13 16V12Z",fill:"currentColor"}),d.createElement("path",{d:"M12 9.5C12.6904 9.5 13.25 8.94036 13.25 8.25C13.25 7.55964 12.6904 7 12 7C11.3096 7 10.75 7.55964 10.75 8.25C10.75 8.94036 11.3096 9.5 12 9.5Z",fill:"currentColor"}),d.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2ZM4 12C4 7.58172 7.58172 4 12 4C16.4183 4 20 7.58172 20 12C20 16.4183 16.4183 20 12 20C7.58172 20 4 16.4183 4 12Z",fill:"currentColor"}));function oM({type:e="info",children:t,isDismissible:n=!1,onDismiss:r,className:a,isElevated:o=!1}){const[s,l]=d.useState(!1);if(s)return null;let c;return e!=="none"&&(c=Ef),i.jsxs(rde,{$type:e,className:P("flex w-full items-start gap-3 rounded-2xl border text-sm",e==="warning"||e==="danger"?"bg-opacity-5":"bg-opacity-10",n?"py-2.5 pl-3 pr-2 md:py-3 md:pl-4 md:pr-3":"px-3 py-2.5 md:p-4",o&&"shadow-xxs",a),children:[c&&i.jsx(c,{className:P("icon-lg shrink-0",n&&"mt-[2px] md:mt-px",(e==="info"||e==="none")&&"text-token-text-secondary")}),i.jsx("div",{className:P("grow",n?"pt-[4px] md:pt-[3px]":"pt-[2px]",!c&&"pl-1"),children:t}),n&&i.jsx("button",{onClick:()=>{l(!0),r?.()},className:P("flex h-7 w-7 shrink-0 items-center justify-center rounded-full bg-transparent text-token-text-primary",(e==="info"||e==="none")&&"hover:bg-token-main-surface-secondary",e==="danger"&&"hover:bg-token-surface-error/10",e==="warning"&&"hover:bg-orange-400/10"),children:i.jsx(ls,{className:"icon-md"})})]})}const rde=he.div`
${({$type:e})=>{switch(e){case"danger":return"text-token-text-error border-token-surface-error/15 bg-token-surface-error bg-opacity-0";case"warning":return"text-orange-600 bg-orange-400 bg-opacity-0 border-orange-400/15";case"success":return"text-green-500 border-green-500 bg-green-500 bg-opacity-0";default:return"text-token-text-primary border-token-border-light bg-token-main-surface-primary bg-opacity-0"}}}`,ade=({textdocId:e})=>{const t=An(u=>u?.resolveTempTextdocId[e]??e),n=B1(t),r=Mh(t),a=Ki(),o=An(u=>{const f=u?.lastCanvasAssistantMessageById;return f==null||t==null?!0:f[t]==null});if(!n)return null;const s=()=>{Va(t)},{title:l,type:c}=n;return i.jsx("div",{className:"flex w-full justify-end",children:i.jsx(Hm,{textdocId:t,name:l,tag:c,icon:jo(c,!1),iconSelected:jo(c,!0),isCanvasOpen:a,isInlinePreview:o,isFocused:r,isUserMessage:!0,onClick:s})})},ode=({messages:e})=>{const[t]=e,n=t?.message.metadata?.canvas;return!n||n.user_message_type!=null?null:i.jsx(i.Fragment,{children:n.user_created_textdocs?.map(({user_created_temp_textdoc_id:r})=>i.jsx(ade,{textdocId:r},r))})};function sde(e,t=[]){if(t.length===0)return e;const n=t.filter(r=>r.end_ix<=e.length&&r.citation_format_type==="tether_markdown"&&r.metadata?.type==="webpage");for(let r=n.length-1;r>=0;r--){const a=n[r];if(a.metadata?.type!=="webpage")continue;const{start_ix:o,end_ix:s,metadata:l}=a,u=e.substring(o,s).replace(/\[(.*?)\]\((\d+)\)/g,`[$1](${l?.url})`);e=e.substring(0,o)+u+e.substring(s)}return e}function ide(e,t=[]){if(t.length===0)return[];const n=[],r=t.filter(o=>o.end_ix<=e.length&&o.citation_format_type!=="tether_markdown"),a=mO(e);for(let o=r.length-1;o>=0;o--){const s=r[o];let l;const{start_ix:c,end_ix:u,metadata:f,invalid_reason:p}=s;if(!f?.type)continue;const m=a.slice(c,u).join("");switch(f.type){case"webpage":l={...f,type:"webpage",title:f.title??"",snippet:f.text??null,pub_date:ude(f.pub_date),matched_text:m,start_idx:c,end_idx:u,alt:null,prompt_text:null,safe_urls:[],attributions:null};break;case"file":l={...f,matched_text:m,start_idx:c,end_idx:u,alt:null,prompt_text:null,safe_urls:[]};break}p&&(l={type:"invalid",alt:p,prompt_text:null,start_idx:c,end_idx:u,matched_text:m,invalid:!0,safe_urls:[]});let g=!1;if(n.length>0){const h=n[n.length-1];M6(h)===M6(l)&&a.slice(h.end_idx,s.start_ix).join("").trim().length===0&&(n[n.length-1].end_idx=s.end_ix,g=!0)}!g&&l&&n.push(l)}return n}function lde(e,t=[],n=[]){const r=sde(e,t),o=[...n.length>0?[]:ide(r,t),...n],s=qi(o);return{text:r,contentReferences:s}}function cde(){return x1("1001765573").config.get("ca_enabled",!1)}function M6(e){switch(e.type){case"file":return e.id;case"webpage":return e.url;case"invalid":return e.alt}}function ude(e){return e==null?null:new Date(e).getTime()/1e3}class dde{loggedEvents=new Set;logEvent(t,n){if(!this.loggedEvents.has(t)){const[r]=window.performance.getEntriesByType("navigation");r||lh.error("Failed to get navigation timing");const a=window.performance.now()-r.requestStart;S.logEvent(t,{timeMs:a,...n}),this.loggedEvents.add(t)}}}const fde=new dde,sM=e=>d.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},d.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5 6C5.55228 6 6 6.44772 6 7V11C6 11.5523 6.44772 12 7 12H16.5858L14.2929 9.70711C13.9024 9.31658 13.9024 8.68342 14.2929 8.29289C14.6834 7.90237 15.3166 7.90237 15.7071 8.29289L19.7071 12.2929C20.0976 12.6834 20.0976 13.3166 19.7071 13.7071L15.7071 17.7071C15.3166 18.0976 14.6834 18.0976 14.2929 17.7071C13.9024 17.3166 13.9024 16.6834 14.2929 16.2929L16.5858 14H7C5.34315 14 4 12.6569 4 11V7C4 6.44772 4.44772 6 5 6Z",fill:"currentColor"}));let h0=null;function n4(){return h0||(h0=qe(()=>import("./bi3oqldx34qj805e.js"),__vite__mapDeps([10,1,3,4,11,12,13,14,15,16,17,18,19,6,20,21,22,23]))),h0}const kf=Ke(()=>n4().then(e=>e.FormattedText)),v0=Ke(()=>n4().then(e=>e.UserFormattedText));function gPe(){return d.use(n4()),null}const pde={highlightedAttributions:new Set},T6=3,r2=Me(()=>pde),E6={enabled:!0,debugMode:!1,disableSegmentReplacement:!1,filterToSection:!0,influenceTemperature:.25,probThreshold:.25},Af=Me()(tC(()=>({...E6}),{name:"search.attributions-settings",version:T6,migrate:(e,t)=>t!==T6?E6:e}));function iM(e,t){return`${e}-${t}`}const k6={setHighlight:(e,t)=>{if(e==null)return;if(t==null||t.length===0)return k6.clearHighlights();Array.isArray(t)||(t=[t]);const n=new Set(t.map(r=>iM(e,r)));return r2.setState(()=>({highlightedAttributions:n}))},setHighlightBySource:(e,t)=>{let n;"attribution_segments"in t&&(n=t.attribution_segments??void 0),k6.setHighlight(e,n)},clearHighlights:()=>r2.setState({highlightedAttributions:new Set})},mde=()=>{const{value:e}=$t("2192543539");return e},gde=()=>{const e=mde(),t=Af(n=>n.enabled);return e&&t},hPe=()=>Af(e=>e.debugMode),vPe=(e,t)=>r2(n=>e==null?!1:n.highlightedAttributions.has(iM(e,t))),hde=()=>Af(e=>e.disableSegmentReplacement||!e.enabled),yPe=()=>Af(e=>e.influenceTemperature);function vde(e,t=1,n){const r={};for(const a in e){const o=e[a],s={},l=Object.entries(o);for(const[p,m]of l)s[p]=m;let c=0;const u={};for(const p in s){const m=s[p],g=Math.exp(m/t);u[p]=g,c+=g}const f={};for(const p in u)f[p]=u[p]/c;r[a]=f}return r}function CPe(e,t=1,n){const r={};if(e.every(s=>s.influence==null))return e;e.forEach((s,l)=>{r[`${l}`]=s.influence??0});const o=vde({0:r},t);return e.map((s,l)=>({...s,probability:o[0][`${l}`]}))}const yde=d.createContext(void 0);function Cde(){const{value:e}=$t("568802918");return e}function xde(){const e=new Intl.Segmenter("en-us",{granularity:"word"});return t=>{let n="";const r=[];return Array.from(e.segment(t)).forEach(({segment:a,isWordLike:o})=>{if(!o){n+=a;return}r.push(`${n}${a}`),n=""}),n.length>0?r.length===0?[n]:[...r.slice(0,r.length-1),`${r[r.length-1]}${n}`]:r}}class Qr{static Interval=200;static ResetInterval=5e3;animatedNodeCount=0;alreadyAnimatedCount=0;batch=1;nextBatch=2;keyToNodeMap=new Map;hasNodeInBatch=!1;hasNodeInNextBatch=!1;state="reset";waitingRichBlocks=new Set;lastCreatedNode;segmenter;isActivelyStreaming=!1;onReset;onResetContext;onStylesUpdated;constructor(t){this.onStylesUpdated=t??(()=>{});try{this.segmenter=xde()}catch{this.segmenter=n=>n.split("")}}setOnStylesUpdatedCallback(t){this.onStylesUpdated=t}setOnResetContext(t){this.onResetContext=t}setOnResetCallback(t){this.onReset=t}onStreamingChanged(t){this.isActivelyStreaming!==t&&(this.isActivelyStreaming=t,t?this.maybeStartBatch():setTimeout(()=>{this.reset()},Qr.ResetInterval))}reset(){d.startTransition(()=>{this.animatedNodeCount=0,this.batch=1,this.nextBatch=2,this.keyToNodeMap.forEach(t=>{t.textSegments.clear()}),this.keyToNodeMap.clear(),this.hasNodeInBatch=!1,this.hasNodeInNextBatch=!1,this.waitingRichBlocks.clear(),this.lastCreatedNode=void 0,this.state="reset",this.onStylesUpdated(this.createTopLevelStyles()),this.onReset?.(),this.onResetContext?.()})}advanceToNextBatch(){if(this.hasNodeInBatch){if(this.batch=this.nextBatch,this.nextBatch++,this.hasNodeInBatch=!1,this.onStylesUpdated(this.createTopLevelStyles()),!this.hasNodeInNextBatch){this.state="idle",this.animatedNodeCount=0,this.alreadyAnimatedCount=0;return}setTimeout(()=>{this.hasNodeInBatch=!0,this.hasNodeInNextBatch=!1,this.advanceToNextBatch()},Qr.Interval)}}get isIdleOrReset(){return this.state==="idle"||this.state==="reset"}get canAddToCurrentBatch(){return this.isActivelyStreaming&&this.state==="waiting"}get canStartNewBatch(){return this.isIdleOrReset&&this.isActivelyStreaming}maybeStartBatch(){this.canStartNewBatch&&(this.state="waiting",setTimeout(()=>this.advanceToNextBatch(),Qr.Interval))}createTopLevelStyles(){const t={};let n=1;for(;n<this.nextBatch+1;)t[`--batch-play-state-${n}`]="playing",n++;return this.state==="reset"&&(t["--turn-block-opacity"]="1",t["--turn-animation"]="none"),t}createBlockstyles(t){return{"--streaming-animation-state":`var(--batch-play-state-${t})`,"--animation-rate":`var(--batch-play-rate-${t})`}}createMarkerStyles(t){if(typeof t=="number")return{"--animation-marker-count":t??this.animatedNodeCount};const n=t?.position?.start.line??-1,r=t?.position?.start.column??-1;let a;for(const o of this.keyToNodeMap.values()){const{start:s}=o.element.position??{start:{line:-1,column:-1}};if(s.line>=n&&s.column>=r){a=o;break}}return a?{"--animation-marker-count":a.startCount+1}:{}}createChildStyles(t,n){return{...n,"--animation-count":t.startCount,"--streaming-animation-state":`var(--batch-play-state-${t.batch})`}}processChildren({children:t,element:n}){const r=this.makeAnimationNode(n,void 0,!1);return J.Children.map(t,(o,s)=>{const l=n.children[s];return this.processNode({element:l,parent:r,reactNode:o}).reactElement})}makeAnimationNode(t,n,r){const a=this.generateKey(t);let o=this.batch;this.canAddToCurrentBatch?this.hasNodeInBatch=!0:(this.hasNodeInNextBatch=!0,o=this.batch+1);let s=this.keyToNodeMap.get(a);return s?s.parent=n:(s={batch:o,key:a,element:t,startCount:r?this.animatedNodeCount++:this.animatedNodeCount,parent:n,textSegments:new Set,children:new Map},this.keyToNodeMap.set(a,s),this.lastCreatedNode=s),this.waitingRichBlocks.forEach(l=>l()),s}getStaticStyles(t){const n={"--streaming-animation-state":"paused"};if(!t)return n;const r=this.generateKey(t);if(this.keyToNodeMap.has(r)){const a=this.keyToNodeMap.get(r);if(a)return this.createChildStyles(a)}return n}async processElementForStyles(t,n){const r=this;function a(){const u=t?.position?.start.line??0,f=t?.position?.start.column??0,{position:p}=r.lastCreatedNode?.element??{position:{start:{line:-1,column:-1}}},m=p?.start.line??-1,g=p?.start.column??-1;return m>=u&&g>=f}let o;function s(u){if(a()){r.waitingRichBlocks.delete(o);const f=r.makeAnimationNode(t,void 0,!0),p=r.createChildStyles(f,n);return u?.(p),p}}const l=s();if(l)return l;function c(){return new Promise(u=>{o=()=>s(u),r.waitingRichBlocks.add(o)})}return c()}static getNodeType(t,n){if(d.isValidElement(n)){if(t.type==="text")return 1;if(t.type==="element")return 0}return typeof n=="string"?2:3}processReactParent({reactNode:t,element:n,parent:r}){const a=J.Children.map(t.props.children,(o,s)=>{const l=n.children[s];if(!l)return o;const c=this.processNode({element:l,reactNode:o,parent:r});return r.children.set(c.key,c),c.reactElement});return r.reactElement=d.cloneElement(t,{children:a,style:{...t.props.style,...n.tagName==="li"?this.createMarkerStyles(r.startCount):{}}}),r}processReactText({reactNode:t,parent:n}){const{children:r,node:a}=t.props,o=a;if(!o)return r;const s=this.makeAnimationNode(o,n,!1),l=J.Children.map(r,c=>{const u=this.processNode({element:o,reactNode:c,parent:s});return n.children.set(u.key,u),u.reactElement});return n.reactElement=d.cloneElement(t,{children:l}),n}processPlainText({element:t,reactNode:n,parent:r}){if([" "].includes(n))r.reactElement=n;else{const a=this.segmenter(n),o=r,s=o.startCount;r.reactElement=i.jsx(i.Fragment,{children:a.map((l,c)=>{const u=this.generateKey(t);o.textSegments.has(u)||(this.animatedNodeCount++,o.textSegments.add(u));const f=s+c;return i.jsx("span",{style:{"--animation-count":f,"--streaming-animation-state":`var(--batch-play-state-${r.batch})`},children:l},c)})})}return r}processNode({element:t,reactNode:n,parent:r}){const a=this.makeAnimationNode(t,r,!1);switch(a.reactElement=n,Qr.getNodeType(t,n)){case 0:return this.processReactParent({reactNode:n,element:t,parent:a});case 1:return this.processReactText({reactNode:n,element:t,parent:a});case 2:return this.processPlainText({reactNode:n,element:t,parent:a});default:return a}}generateKey(t){const{start:n}=t?.position??{start:{line:-1,column:-1}};return`${n.line}-${n.column}`}}const lM=d.createContext(new Qr(()=>({})));function xPe(){return d.useContext(lM)}function bde(){const e=d.useRef(void 0);return e.current||(e.current=new Qr),{reset:d.useCallback(()=>{e.current=new Qr},[]),streamingContext:e.current,StreamingProvider:lM.Provider}}var Ce=(e=>(e[e.Text=0]="Text",e[e.MultiText=1]="MultiText",e[e.Browsing=2]="Browsing",e[e.CodeInterpreter=3]="CodeInterpreter",e[e.JITPlugin=4]="JITPlugin",e[e.RetrievalBrowsing=5]="RetrievalBrowsing",e[e.ParallelBrowsing=6]="ParallelBrowsing",e[e.Dalle=7]="Dalle",e[e.Canmore=8]="Canmore",e[e.SonicCanvas=9]="SonicCanvas",e[e.GizmoEditor=10]="GizmoEditor",e[e.SearchResult=11]="SearchResult",e[e.Debug=12]="Debug",e[e.SearchGPTQuery=13]="SearchGPTQuery",e[e.a8km123=14]="a8km123",e[e.f959b8c=15]="f959b8c",e[e.b1de6e2=16]="b1de6e2",e[e.b1de6e2_c=17]="b1de6e2_c",e[e.b1de6e2_s=18]="b1de6e2_s",e[e.is_loading_message=19]="is_loading_message",e[e.de1d73e=20]="de1d73e",e[e.oiw209h=21]="oiw209h",e))(Ce||{});const bPe=[2,5,13];function wde({messages:e}){const[t,n]=d.useState(),r=U();let a=null;for(const o of e)if(o.message.metadata?.dalle?.from_client?.operation!=null){a=o.message.metadata.dalle.from_client.operation;break}return d.useEffect(()=>{if(a==null)return;const o=a.original_file_id;async function s(l){try{const c=await q.getFileDownloadLink(l);c.status===Cr.Success?n(c.download_url):te.addError(`Error fetching URL for file ${l}: ${c.status}`)}catch(c){te.addError(new Error(`Error fetching URL for file ${l}`,{cause:c}))}}s(o)},[a]),a==null?null:i.jsxs("div",{className:"mt-2 flex items-center gap-1 text-token-text-tertiary",children:[i.jsx(sM,{className:"icon-md shrink-0"}),t==null?i.jsx("div",{className:"h-7"}):i.jsxs(i.Fragment,{children:[i.jsx("img",{src:t,alt:r.formatMessage({id:"textMessage.editedImageAltText",defaultMessage:"Edited image"}),className:"h-7 w-auto rounded opacity-50"}),a.type==="inpainting"&&i.jsx("span",{className:"ml-1 text-sm font-semibold",children:i.jsx(b,{id:"textMessage.inpaintedImage",defaultMessage:"Selection"})})]})]})}const ks=he.a`bold underline`,Ln=({className:e,isUserTurn:t,flag:n,children:r})=>n!=="info"&&t?i.jsx(A6,{className:P("w-full pr-5 text-right",e),$flag:n,children:r}):t?i.jsxs(A6,{$flag:n,className:P("flex w-full items-start gap-3 rounded-2xl border p-4",n==="warning"||n==="danger"?"bg-opacity-5":"bg-opacity-10",e),children:[i.jsx(Ef,{className:"icon-lg"}),i.jsx("div",{className:"pt-px",children:r})]}):i.jsx(oM,{type:n,className:e,children:r}),A6=he.div`text-sm 
${({$flag:e})=>{switch(e){case"danger":return"text-token-text-error border-token-surface-error/15 bg-token-surface-error bg-opacity-0";case"warning":return"text-orange-600 border-token-border-light bg-orange-400 bg-opacity-0";case"info":return"text-token-text-primary border-token-border-light bg-token-main-surface-primary bg-opacity-0";default:return"text-green-500 border-green-500 bg-green-500 bg-opacity-0"}}}`,_de={a:e=>{const{node:t,...n}=e;return i.jsx(ks,{...n,target:"_blank",rel:"noreferrer",className:"[&&]:text-black [&&]:underline [&&]:hover:text-black [&&]:dark:text-white [&&]:hover:dark:text-white"})}};function Sde({disclaimerContent:e,isUserTurn:t,className:n}){switch(e){case"us_elections_policy":return i.jsx(Ln,{flag:"info",isUserTurn:t,className:n,children:i.jsx(b,{id:"D1Mw8a",defaultMessage:"Always verify information about voting with your state or local election authority. For more information, visit <usElectionLink></usElectionLink>.",values:{usElectionLink:Tde}})});case"eu_elections_policy":return i.jsx(Ln,{flag:"info",isUserTurn:t,className:n,children:i.jsx(b,{id:"Disclaimer.EUElections",defaultMessage:"Always verify information about voting with your local election authority. For more information about the EU elections, visit <euElectionLink></euElectionLink>.",values:{euElectionLink:Mde}})});case"generic_elections_policy":return i.jsx(Ln,{flag:"info",isUserTurn:t,className:n,children:i.jsx(b,{id:"Disclaimer.GenericElections",defaultMessage:"Always verify information about voting with your local election authority."})})}return i.jsx(Ln,{flag:"info",isUserTurn:t,className:n,children:i.jsx(kf,{className:"text-sm",componentOverrides:_de,children:e})})}const Mde=()=>i.jsx(ks,{target:"_blank",href:"https://elections.europa.eu",rel:"noreferrer",children:"elections.europa.eu"}),Tde=()=>i.jsx(ks,{target:"_blank",href:"https://canivote.org",rel:"noreferrer",children:"canivote.org"});function Ede({className:e,isUserTurn:t,message:n}){return n?.disclaimers?.length?i.jsx("div",{className:"flex flex-col gap-2",children:n.disclaimers.map(r=>i.jsx(Sde,{className:e,disclaimerContent:r,isUserTurn:t},r))}):null}const cM=-1,Pf=0,Ld=1,$d=2,r4=3,a4=4,o4=5,s4=6,uM=7,dM=8,P6=typeof self=="object"?self:globalThis,kde=(e,t)=>{const n=(a,o)=>(e.set(o,a),a),r=a=>{if(e.has(a))return e.get(a);const[o,s]=t[a];switch(o){case Pf:case cM:return n(s,a);case Ld:{const l=n([],a);for(const c of s)l.push(r(c));return l}case $d:{const l=n({},a);for(const[c,u]of s)l[r(c)]=r(u);return l}case r4:return n(new Date(s),a);case a4:{const{source:l,flags:c}=s;return n(new RegExp(l,c),a)}case o4:{const l=n(new Map,a);for(const[c,u]of s)l.set(r(c),r(u));return l}case s4:{const l=n(new Set,a);for(const c of s)l.add(r(c));return l}case uM:{const{name:l,message:c}=s;return n(new P6[l](c),a)}case dM:return n(BigInt(s),a);case"BigInt":return n(Object(BigInt(s)),a)}return n(new P6[o](s),a)};return r},O6=e=>kde(new Map,e)(0),Co="",{toString:Ade}={},{keys:Pde}=Object,Gs=e=>{const t=typeof e;if(t!=="object"||!e)return[Pf,t];const n=Ade.call(e).slice(8,-1);switch(n){case"Array":return[Ld,Co];case"Object":return[$d,Co];case"Date":return[r4,Co];case"RegExp":return[a4,Co];case"Map":return[o4,Co];case"Set":return[s4,Co]}return n.includes("Array")?[Ld,n]:n.includes("Error")?[uM,n]:[$d,n]},nc=([e,t])=>e===Pf&&(t==="function"||t==="symbol"),Ode=(e,t,n,r)=>{const a=(s,l)=>{const c=r.push(s)-1;return n.set(l,c),c},o=s=>{if(n.has(s))return n.get(s);let[l,c]=Gs(s);switch(l){case Pf:{let f=s;switch(c){case"bigint":l=dM,f=s.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+c);f=null;break;case"undefined":return a([cM],s)}return a([l,f],s)}case Ld:{if(c)return a([c,[...s]],s);const f=[],p=a([l,f],s);for(const m of s)f.push(o(m));return p}case $d:{if(c)switch(c){case"BigInt":return a([c,s.toString()],s);case"Boolean":case"Number":case"String":return a([c,s.valueOf()],s)}if(t&&"toJSON"in s)return o(s.toJSON());const f=[],p=a([l,f],s);for(const m of Pde(s))(e||!nc(Gs(s[m])))&&f.push([o(m),o(s[m])]);return p}case r4:return a([l,s.toISOString()],s);case a4:{const{source:f,flags:p}=s;return a([l,{source:f,flags:p}],s)}case o4:{const f=[],p=a([l,f],s);for(const[m,g]of s)(e||!(nc(Gs(m))||nc(Gs(g))))&&f.push([o(m),o(g)]);return p}case s4:{const f=[],p=a([l,f],s);for(const m of s)(e||!nc(Gs(m)))&&f.push(o(m));return p}}const{message:u}=s;return a([l,{name:c,message:u}],s)};return o},N6=(e,{json:t,lossy:n}={})=>{const r=[];return Ode(!(t||n),!!t,new Map,r)(e),r},y0=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?O6(N6(e,t)):structuredClone(e):(e,t)=>O6(N6(e,t)),wPe=function(e,t,n,r,a){const o=i4(t);return fM(e)?o.call(a,e,n,r):!1},i4=function(e){if(e==null)return jde;if(typeof e=="string")return Ide(e);if(typeof e=="object")return Nde(e);if(typeof e=="function")return l4(e);throw new Error("Expected function, string, or array as `test`")};function Nde(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=i4(e[n]);return l4(r);function r(...a){let o=-1;for(;++o<t.length;)if(t[o].apply(this,a))return!0;return!1}}function Ide(e){return l4(t);function t(n){return n.tagName===e}}function l4(e){return t;function t(n,r,a){return!!(fM(n)&&e.call(this,n,typeof r=="number"?r:void 0,a||void 0))}}function jde(e){return!!(e&&typeof e=="object"&&"type"in e&&e.type==="element"&&"tagName"in e&&typeof e.tagName=="string")}function fM(e){return e!==null&&typeof e=="object"&&"type"in e&&"tagName"in e}const Rde=/^[a-zA-Z][a-zA-Z\d+\-.]*?:/,Lde=/^[a-zA-Z]:\\/;function $de(e){if(typeof e!="string")throw new TypeError(`Expected a \`string\`, got \`${typeof e}\``);return Lde.test(e)?!1:Rde.test(e)}function Dde(e){const t=String(e||"").trim();return t?t.split(/[ \t\n\r\f]+/g):[]}function _Pe(e){return e.join(" ").trim()}const pM=function(e){if(e==null)return Hde;if(typeof e=="function")return Of(e);if(typeof e=="object")return Array.isArray(e)?Fde(e):Bde(e);if(typeof e=="string")return Ude(e);throw new Error("Expected function, string, or object as test")};function Fde(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=pM(e[n]);return Of(r);function r(...a){let o=-1;for(;++o<t.length;)if(t[o].apply(this,a))return!0;return!1}}function Bde(e){const t=e;return Of(n);function n(r){const a=r;let o;for(o in e)if(a[o]!==t[o])return!1;return!0}}function Ude(e){return Of(t);function t(n){return n&&n.type===e}}function Of(e){return t;function t(n,r,a){return!!(Vde(n)&&e.call(this,n,typeof r=="number"?r:void 0,a||void 0))}}function Hde(){return!0}function Vde(e){return e!==null&&typeof e=="object"&&"type"in e}const mM=[],Gde=!0,I6=!1,Wde="skip";function zde(e,t,n,r){let a;typeof t=="function"&&typeof n!="function"?(r=n,n=t):a=t;const o=pM(a),s=r?-1:1;l(e,void 0,[])();function l(c,u,f){const p=c&&typeof c=="object"?c:{};if(typeof p.type=="string"){const g=typeof p.tagName=="string"?p.tagName:typeof p.name=="string"?p.name:void 0;Object.defineProperty(m,"name",{value:"node ("+(c.type+(g?"<"+g+">":""))+")"})}return m;function m(){let g=mM,h,v,y;if((!t||o(c,u,f[f.length-1]||void 0))&&(g=qde(n(c,f)),g[0]===I6))return g;if("children"in c&&c.children){const x=c;if(x.children&&g[0]!==Wde)for(v=(r?x.children.length:-1)+s,y=f.concat(x);v>-1&&v<x.children.length;){const C=x.children[v];if(h=l(C,v,y)(),h[0]===I6)return h;v=typeof h[1]=="number"?h[1]:v+s}}return g}}}function qde(e){return Array.isArray(e)?e:typeof e=="number"?[Gde,e]:e==null?mM:[e]}function Zde(e,t,n,r){let a,o,s;typeof t=="function"&&typeof n!="function"?(o=void 0,s=t,a=n):(o=t,s=n,a=r),zde(e,o,l,a);function l(c,u){const f=u[u.length-1],p=f?f.children.indexOf(c):void 0;return s(c,p,f)}}const Yde=["http","https"],Kde=["nofollow"],Qde={};function Jde(e){const t=e||Qde,n=t.protocols||Yde,r=i4(t.test);return function(a){Zde(a,"element",function(o,s,l){if(o.tagName==="a"&&typeof o.properties.href=="string"&&r(o,s,l)){const c=o.properties.href;if($de(c)?n.includes(c.slice(0,c.indexOf(":"))):c.startsWith("//")){const u=Ws(t.content,o),f=u&&!Array.isArray(u)?[u]:u,p=Ws(t.rel,o)||Kde,m=typeof p=="string"?Dde(p):p,g=Ws(t.target,o),h=Ws(t.properties,o);if(h&&Object.assign(o.properties,y0(h)),m.length>0&&(o.properties.rel=[...m]),g&&(o.properties.target=g),f){const v=Ws(t.contentProperties,o)||{};o.children.push({type:"element",tagName:"span",properties:y0(v),children:y0(f)})}}}})}}function Ws(e,t){return typeof e=="function"?e(t):e}const Xde="gpt-4",a2="model_cap_exceeded",e1e="oai/apps/capExpiresAt";Me(()=>({serverThreadIds:new Set}));function t1e(){const e=xl(a=>a.isoDate),t=Date.now(),n=e&&new Date(e).getTime(),r=e&&n&&n<=t;return d.useEffect(()=>{r&&gM()},[r]),r?null:e?Xde:null}const xl=Me()(tC(()=>({isoDate:""}),{name:e1e}));function n1e(e){xl.setState({isoDate:e})}function gM(){xl.setState({isoDate:""})}const r1e=Ke(()=>qe(()=>import("./m5j2h3o7mzg7czxx.js").then(e=>e.F),__vite__mapDeps([13,1])));function a1e(e){return e.message.metadata?.safety_plugin_status_code===123}function o1e(e){return e.message.metadata?.finish_details?.type==="content_filter"}function c4(e){if(e===void 0)return{flagSeverity:void 0,shouldHideContent:!1,errCode:void 0,errMessage:void 0};const{errType:t,errCode:n,err:r,disclaimers:a}=e,o=o1e(e),s=o&&a1e(e),l=a&&a.length>0;return s?{flagSeverity:"warning",shouldHideContent:!0,errCode:Dn.ContentRegurgitation,errMessage:r}:!l&&o?{flagSeverity:"warning",shouldHideContent:!0,errCode:Dn.ContentOrTos,errMessage:r}:{flagSeverity:t,shouldHideContent:t==="danger"&&(n===Dn.ContentPolicy||n===Dn.ModelIncompatibility),disclaimers:a,errCode:n,errMessage:r}}function s1e({message:e,onRequestMoreCompletions:t,clientThreadId:n,id:r,isFeedbackEnabled:a,isUserTurn:o,className:s}){const{errCode:l,errMessage:c,flagSeverity:u}=c4(e);switch(l){case Dn.ContentPolicy:return i.jsx(Ln,{flag:u,isUserTurn:o,className:s,children:i.jsx(u1e,{isFeedbackEnabled:a})});case Dn.ModelIncompatibility:return i.jsx(Ln,{flag:u,isUserTurn:o,className:s,children:i.jsx(b,{...sn.modelIncompatibilityMessage})});case Dn.ContentOrTos:return i.jsx(Ln,{flag:u,isUserTurn:o,className:s,children:i.jsx(l1e,{isFeedbackEnabled:a})});case Dn.ContentRegurgitation:return i.jsx(Ln,{flag:u,isUserTurn:o,className:s,children:i.jsx(c1e,{})});case a2:return i.jsx(i1e,{className:s,id:r,onRequestMoreCompletions:t,flag:u,clientThreadId:n,isUserTurn:o});case nC:return i.jsx(Ln,{flag:u,isUserTurn:o,className:s,children:i.jsx(b,{...sn.historyDisabledConversationMissing})});default:return c!==void 0?i.jsx(Ln,{flag:u,isUserTurn:o,className:s,children:i.jsx(r1e,{rehypePlugins:[[Jde,{target:"_new",rel:"noopener noreferrer"}]],className:"markdown prose w-full break-words dark:prose-invert",children:c})}):null}}function i1e({className:e,id:t,onRequestMoreCompletions:n,flag:r,clientThreadId:a,isUserTurn:o}){const s=xl(v=>v.isoDate),l=$x(s),c=ss(a??rC),u=c&&c.kind!==Oe.PrimaryAssistant,f=Xi(),p=x$(),m=d.useCallback(()=>{z.logEvent("chatgpt_regenerate_due_to_rate_limit_button_clicked",void 0,{useDefaultModel:"false",...Tu({clientThreadId:a})});const v=new bi;n(t,{eventSource:"mouse"},v,!0,"none",!1)},[t,n,a]),g=d.useCallback(()=>{const v=new bi,y=p.id;z.logEvent("chatgpt_regenerate_due_to_rate_limit_button_clicked",void 0,{useDefaultModel:"true",...Tu({clientThreadId:a})}),f({modelId:y,location:"Model switcher menu item"}),n(t,{eventSource:"mouse"},v,!0,"none",!0)},[n,t,p.id,f,a]);let h;return u?h=s!=null?i.jsx("span",{children:i.jsx(b,{...sn.gptUsageCapExceededCustomFeature,values:{link:j6,formattedTime:l}})}):i.jsx(b,{...sn.gptUsageCapExceededExpired}):h=s!=null?i.jsx("span",{children:i.jsx(b,{...sn.gptUsageCapExceeded,values:{link:j6,formattedTime:l}})}):i.jsx(b,{...sn.gptUsageCapExceededExpired}),i.jsx(Ln,{flag:s!=null?r:void 0,isUserTurn:o,className:e,children:i.jsxs("div",{className:"flex items-center gap-6",children:[h,s==null&&i.jsx(re,{color:"secondary",className:"flex-shrink-0",onClick:m,children:i.jsx(b,{...sn.buttonTryAgain})}),s!=null&&!u&&i.jsx(re,{color:"secondary",className:"flex-shrink-0",onClick:g,children:i.jsx(b,{...sn.buttonUseDefaultModel})})]})})}const j6=e=>i.jsx("a",{href:"https://share.hsforms.com/16d0ZZVM3QZirXnCD_q7u1Q4sk30",target:"_blank",rel:"noreferrer",className:"underline",children:e});function l1e({isFeedbackEnabled:e}){return i.jsxs(i.Fragment,{children:[i.jsx("div",{className:e?"font-semibold":"",children:i.jsx(b,{...sn.contentOrTosViolationNoFeedback,values:{contentPolicyLink:hM,termsLink:d1e}})}),i.jsx("div",{children:e&&i.jsx(b,{...sn.contentPolicyFeedback})})]})}function c1e(){return i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"font-semibold",children:i.jsx(b,{...sn.contentRegurgitationViolation})}),i.jsx("div",{children:i.jsx(b,{...sn.readModelSpec,values:{modelSpecLink:f1e}})})]})}function u1e({isFeedbackEnabled:e}){return i.jsxs(i.Fragment,{children:[i.jsx("div",{className:e?"font-semibold":"",children:i.jsx(b,{...sn.contentPolicyViolationNoFeedback,values:{contentPolicyLink:hM}})}),i.jsx("div",{children:e&&i.jsx(b,{...sn.contentPolicyFeedback})})]})}const hM=e=>i.jsx(ks,{target:"_blank",href:"https://openai.com/policies/usage-policies",rel:"noreferrer",children:e}),d1e=e=>i.jsx(ks,{target:"_blank",href:"https://openai.com/policies/terms-of-use",rel:"noreferrer",children:e}),f1e=e=>i.jsx(ks,{target:"_blank",href:"https://cdn.openai.com/spec/model-spec-2024-05-08.html",rel:"noreferrer",children:e}),sn=V({contentPolicyFeedback:{id:"TextMessageDisplay.contentPolicyFeedback",defaultMessage:"Did we get it wrong? Please tell us by giving this response a thumbs down."},contentPolicyViolation:{id:"TextMessageDisplay.contentPolicyViolation.2",defaultMessage:"This content may violate our <contentPolicyLink>usage policies</contentPolicyLink>. Did we get it wrong? Please tell us by giving this response a thumbs down."},contentPolicyViolationNoFeedback:{id:"TextMessageDisplay.contentPolicyViolationNoFeedback",defaultMessage:"This content may violate our <contentPolicyLink>usage policies</contentPolicyLink>."},modelIncompatibilityMessage:{id:"cyOWhN",defaultMessage:"Your request was flagged as potentially violating our usage policy. Please try again with a different prompt."},contentOrTosViolation:{id:"TextMessageDisplay.contentOrTosViolation.2",defaultMessage:"This content may violate our <termsLink>Terms of Use</termsLink> or <contentPolicyLink>usage policies</contentPolicyLink>. Did we get it wrong? Please tell us by giving this response a thumbs down."},contentOrTosViolationNoFeedback:{id:"TextMessageDisplay.contentOrTosViolationNoFeedback",defaultMessage:"This content may violate our <termsLink>Terms of Use</termsLink> or <contentPolicyLink>usage policies</contentPolicyLink>."},contentRegurgitationViolation:{id:"kAMQnd",defaultMessage:"ChatGPT isn't designed to provide this type of content."},readModelSpec:{id:"fQ0JYv",defaultMessage:"Read the <modelSpecLink>Model Spec</modelSpecLink> for more on how ChatGPT handles creators' content."},historyDisabledConversationMissing:{id:"TextMessageDisplay.historyDisabledConversationMissing",defaultMessage:"Sorry, conversations created when Chat History is off expire after 6 hours of inactivity. Please start a new conversation to continue using ChatGPT."},somethingWentWrong:{id:"TextMessageDisplay.somethingWentWrong",defaultMessage:"Something went wrong."},gptUsageCapExceeded:{id:"TextMessageDisplay.gptUsageCapExceeded",defaultMessage:"You've reached the current usage cap for GPT-4. You can continue with the default model now, or try again {formattedTime}. <link>Learn more</link>"},gptUsageCapExceededCustomFeature:{id:"TextMessageDisplay.gptUsageCapExceededCustomFeature",defaultMessage:"You've reached the current usage cap for GPT-4, please try again {formattedTime}. <link>Learn more</link>"},gptUsageCapExceededExpired:{id:"TextMessageDisplay.gptUsageCapExceededExpired",defaultMessage:"You previously reached your usage cap for GPT-4, but you can now try sending your message again"},buttonUseDefaultModel:{id:"TextMessageDisplay.buttonUseDefaultModel",defaultMessage:"Use default model"},buttonTryAgain:{id:"TextMessageDisplay.buttonTryAgain",defaultMessage:"Try again"}}),p1e=e=>({type:"table",file_id:e.id??"",title:QS(e),file_name:e.name,context_connector_info:e.context_connector_info});function vM(){return aC(cs.DataAnalysisV2)}const m1e=d.createContext({isEmbeddedInFocusedView:!1});function bl(){return d.useContext(m1e).isEmbeddedInFocusedView}const g1e=Ke(()=>qe(()=>import("./fzc89a2s4dhona2z.js").then(e=>e.A),__vite__mapDeps([24,1,3,4,25,26,20,27,28])).then(e=>e.default)),h1e=Ke(()=>qe(()=>Promise.resolve().then(()=>qbe),void 0)),v1e=he.div`flex gap-2 flex-wrap mt-1 max-w-[80%] justify-end`,y1e=he.div`flex flex-col gap-2`,C1e=({parts:e,attachments:t,isUserTurn:n,clientThreadId:r})=>{const a=ca(),o=vM(),s=eC.getImageAssetPointersFromParts(e),l=new Set(s.map(g=>vl(g.asset_pointer))),u=bl()||a,f=(t??[]).filter(g=>YS(g.name)),p=(t??[]).filter(g=>g.id==null||l.has(g.id)?!1:o?!f.includes(g):!0);return(o?(p.length>0||f.length>0)&&n:p.length>0&&n)?i.jsxs(i.Fragment,{children:[i.jsx(v1e,{children:p.map(g=>i.jsx(h1e,{file:g.name,fileId:g.id,contextConnectorInfo:wue(g.context_connector_info),width:a?"normal":"wide",alwaysShowData:!0},g.id))}),o&&i.jsx(y1e,{className:P(!u&&"w-[80%]"),children:f.map(g=>i.jsx(g1e,{clientThreadId:r,visualization:p1e(g)},g.id))})]}):null},x1e=y1(()=>({images:new Set})),b1e=e=>zi(x1e,e);function w1e(){return b1e(e=>e.images)}function SPe(e){return gO(e)&&!hO(e)}const rc=50,_1e=95;function MPe(e,t){if(e<=t)return e/t*rc;{const n=rc,r=_1e-rc,a=e-t,s=-(rc/t)/r;return n+r*(1-Math.exp(s*a))}}class S1e{mostRecentCompletionRequest;loggedRequests=new Set;onCompletionRequestStarted(t){this.mostRecentCompletionRequest={requestId:t,timestamp:Date.now()},this.loggedRequests.clear()}logEvent(t,n,r,a,o){const s=this.mostRecentCompletionRequest;if(s!=null&&!this.loggedRequests.has(t)){const c=F.getThreadConversationTurns(n,r).find(u=>u.messages.some(f=>f.message.id===r));c!=null&&c.messages.some(u=>u.nodeId===s.requestId)&&(S.logEvent(t,{messageId:r,timeMs:Date.now()-s.timestamp,...a}),o?.(),this.loggedRequests.add(t))}}}const o2=new S1e;function M1e(e){return(e.find(a=>a.message.metadata?.image_search_results!==void 0)?.message.metadata?.image_search_results??[]).slice(0,5)}function T1e({messages:e}){const t=M1e(e),n=w1e();return t.length===0?null:i.jsx("div",{className:P({"mb-2":!0,"grid grid-flow-col gap-3":t.length>1,"w-1/3":t.length===1}),children:t.filter(({contentUrl:r})=>n.has(r)).map((r,a)=>i.jsx("a",{href:r.hostPageUrl,target:"_blank",rel:"noreferrer",children:i.jsx("img",{src:r.contentUrl,alt:r.name,className:"aspect-square rounded-xl object-cover"})},a))})}const yM=e=>d.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},d.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.2929 4.29291C15.0641 2.52167 17.9359 2.52167 19.7071 4.2929C21.4784 6.06414 21.4784 8.93588 19.7071 10.7071L18.7073 11.7069L11.6135 18.8007C10.8766 19.5376 9.92793 20.0258 8.89999 20.1971L4.16441 20.9864C3.84585 21.0395 3.52127 20.9355 3.29291 20.7071C3.06454 20.4788 2.96053 20.1542 3.01362 19.8356L3.80288 15.1C3.9742 14.0721 4.46243 13.1234 5.19932 12.3865L13.2929 4.29291ZM13 7.41422L6.61353 13.8007C6.1714 14.2428 5.87846 14.8121 5.77567 15.4288L5.21656 18.7835L8.57119 18.2244C9.18795 18.1216 9.75719 17.8286 10.1993 17.3865L16.5858 11L13 7.41422ZM18 9.5858L14.4142 6.00001L14.7071 5.70712C15.6973 4.71693 17.3027 4.71693 18.2929 5.70712C19.2831 6.69731 19.2831 8.30272 18.2929 9.29291L18 9.5858Z",fill:"currentColor"}));function E1e({onEnterEdit:e}){const n=U().formatMessage({id:"gG9rea",defaultMessage:"Edit message"});return i.jsx("div",{className:"absolute bottom-0 right-full top-0 -mr-3.5 hidden pr-5 pt-1 [.group\\/conversation-turn:hover_&]:block",children:i.jsx(ot,{sideOffset:4,label:n,children:i.jsx("button",{"aria-label":n,className:"flex h-9 w-9 items-center justify-center rounded-full text-token-text-secondary transition hover:bg-token-main-surface-tertiary",onClick:e,children:i.jsx(yM,{className:"icon-md"})})})})}function C0({containsImagesOrAttachments:e,isUserTurn:t,showEditButton:n,onEnterEdit:r,children:a}){return i.jsxs("div",{className:P("relative max-w-[var(--user-chat-width,70%)]",t&&"rounded-3xl bg-token-message-surface px-5 py-2.5",t&&e&&"rounded-tr-lg"),children:[a,n&&i.jsx(E1e,{onEnterEdit:r})]})}const k1e=Ke(()=>qe(()=>import("./mxks5hcbp66vri4a.js"),__vite__mapDeps([29,1,3,4,30,31])).then(e=>e.TextMessageImageGroup));function CM({attachments:e,citations:t,contentReferences:n,className:r,clientThreadId:a,displayParts:o,isCompletionInProgress:s,id:l,isActivelyStreaming:c,isUserTurn:u,turnIndex:f,isFeedbackEnabled:p,messages:m,onRequestMoreCompletions:g,parts:h,prevGroupedMessageType:v,prevGroupedMessages:y,showEditButton:x,onEnterEdit:C,size:w="medium"}){const _=m.length>1,{flagSeverity:E,shouldHideContent:T}=c4(_?void 0:m[0]),M=h.some(j=>j!==""),A=!M&&m[0].message.metadata?.content_references?.length===0,D=m[0].message.metadata?.targeted_reply_label??m[0].message.metadata?.targeted_reply;return d.useEffect(()=>{const j=m[0].message;if(j.author.metadata?.real_author===`tool:${d1.SEARCHGPT}`&&M){const B=j.metadata?.search_source;o2.logEvent(k.searchToolRequestTimeToFirstTextToken,a,j.id,{search_source:B},()=>{B===vO.InstantQuery&&fde.logEvent(k.searchToolPageLoadTimeToFirstTextToken,{message_id:j.id,search_source:B})})}},[a,M,m]),d.useEffect(()=>{if(!A)switch(v){case Ce.Browsing:o2.logEvent(k.browsingTimeToFirstTextToken,a,m[0].message.id);break}},[A,m,a,v]),i.jsxs("div",{"data-message-author-role":m[0].message.author.role,"data-message-id":m[0].message.id,dir:"auto",className:P(r,"text-message flex w-full flex-col items-end gap-2 whitespace-normal break-words text-start [.text-message+&]:mt-5"),"data-message-model-slug":m[0].message.metadata?.model_slug,children:[D&&i.jsxs("div",{className:"mb-1 ml-6 mt-1 flex items-start gap-1.5 text-sm font-normal text-token-text-tertiary sm:ml-7 lg:ml-8",children:[i.jsx(sM,{className:"icon-md mt-1 shrink-0"}),i.jsx("p",{className:"mr-2 line-clamp-3",children:D})]}),u&&i.jsx(ode,{messages:m}),i.jsx(wde,{messages:m}),i.jsx(A1e,{parts:h,attachments:e,isUserTurn:u,isCompletionInProgress:s,turnIndex:f,displayParts:o,isActivelyStreaming:c,shouldHideContent:T,showEditButton:x,onEnterEdit:C,clientThreadId:a,id:l,isEmpty:A,prevGroupedMessageType:v,prevGroupedMessages:y,flagSeverity:E,messages:m,citations:t,contentReferences:n,size:w}),i.jsx(s1e,{message:_?void 0:m[0],id:l,isFeedbackEnabled:p,onRequestMoreCompletions:g,clientThreadId:a,isUserTurn:u}),i.jsx(Ede,{isUserTurn:u,message:_?void 0:m[0]}),!u&&!c&&y&&v===Ce.SearchResult&&i.jsx(T1e,{messages:y})]})}function A1e({clientThreadId:e,id:t,displayParts:n,isCompletionInProgress:r,turnIndex:a,isActivelyStreaming:o,shouldHideContent:s,showEditButton:l=!1,onEnterEdit:c,isEmpty:u,prevGroupedMessageType:f,prevGroupedMessages:p,messages:m,citations:g,contentReferences:h,size:v,isUserTurn:y,parts:x,attachments:C}){const w=U(),_=d.useRef(!1),E=_L(n),[T,M]=d.useState({}),[A,D]=d.useState(!1),j=Cde(),{streamingContext:B}=bde();d.useEffect(()=>{j&&(B.setOnStylesUpdatedCallback(M),B.onStreamingChanged(r),B.setOnResetCallback(()=>D(!1)),r&&(D(!0),M(B.createTopLevelStyles())))},[j,r,B]);const N=m[0].message.metadata?.serialization_metadata,H=yO(m[0].message).length,R=d.useMemo(()=>({clientThreadId:e,messageId:t,turnIndex:a}),[e,t,a]),{toggleThreadSidebar:G}=la(),X=d.useCallback((ee,Y)=>{G({type:"searchSources",scrollToHeader:Y,clientThreadId:e,turnIndex:a,messageId:t})},[e,a,t,G]),ae=d.useCallback(()=>{G({type:"retrievalResults",clientThreadId:e,turnIndex:a})},[G,e,a]),$=i.jsx(C1e,{parts:x,attachments:C,isUserTurn:y,clientThreadId:e},"files-and-tables"),I=!!(C?.length||n.some(ee=>ee.type==="images")),O=hde();function Q(ee,Y){const W=f===Ce.CodeInterpreter?p?.map(pr=>pr.message):void 0,{text:de,contentReferences:fe}=lde(Y,g,h);let Ze=fe;O&&(Ze=fe.filter(pr=>pr.type!=="attribution"));const{processedText:st,displayedContentReferences:nn}=CO(de,Ze,o?void 0:W,!1,o);st.includes(xO)&&!_.current&&(_.current=!0,te.addError(new Error("Failed replaceTextWithDirectives"),{text:st,displayedContentReferences:nn}));const se=m[0].message,Ft=se.metadata?.message_locale;let $r=i.jsx(kf,{clientThreadId:e,messageId:t,isStreamingOrProcessing:A,size:v,className:P(o&&!j&&"result-streaming"),children:st===""?"&#8203;":st});if(Ft!=null){const pr=bO(Ft,!1);pr!=null&&($r=i.jsx(wO,{locale:pr,children:$r}))}return i.jsx(yde.Provider,{value:{analyticsMetadata:R,message:se,contentReferences:nn,onShowSearchResults:X,onShowRetrievalResults:ae,numImageResults:H,isActivelyStreaming:o,useSafeUrls:!0},children:$r},ee)}const oe=n.map((ee,Y)=>{if(ee.type==="transcription"){const W=s?null:ee.text;let de=null;if(y&&s)de=i.jsx("span",{className:"italic opacity-30",children:i.jsx(b,{...ac.contentRemoved})});else if(y&&W!=null)de=W.trim().length===0?i.jsx("span",{className:"italic opacity-30",children:i.jsx(v0,{text:w.formatMessage(ac.transcriptUnavailable),customSymbolOffsets:void 0})}):i.jsx("span",{className:"italic opacity-65",children:i.jsx(v0,{text:`“${W.trim()}”`,customSymbolOffsets:void 0})});else if(!y&&W!=null)return Q(Y,W);return i.jsx(C0,{containsImagesOrAttachments:I,isUserTurn:y,showEditButton:l,onEnterEdit:c,children:de},Y)}else if(ee.type==="text"){const W=s?null:ee.text;return!u&&!s&&!y?Q(Y,E):u&&o&&!y?j?i.jsx("div",{className:"pulsing-dot"},Y):i.jsx("div",{className:"result-streaming",children:i.jsx("span",{children:i.jsx("pre",{})})},Y):i.jsx(C0,{containsImagesOrAttachments:I,isUserTurn:y,showEditButton:l,onEnterEdit:c,children:y&&s?i.jsx("span",{className:"italic opacity-30",children:i.jsx(b,{...ac.contentRemoved})}):W?i.jsx(v0,{text:W,customSymbolOffsets:N?.custom_symbol_offsets}):null},Y)}else if(ee.type==="images"){const W=m[0].message.metadata?.attachments??[];return i.jsx(k1e,{assets:ee.imageAssets,attachments:W},Y)}else return null}),ne=n.findIndex(ee=>ee.type==="text");if(ne!==-1?oe.splice(ne,0,$):oe.push($),s&&y)oe.length=0,oe.push(i.jsx(C0,{containsImagesOrAttachments:I,isUserTurn:y,onEnterEdit:_e,children:i.jsx("span",{className:"italic opacity-30",children:i.jsx(b,{...ac.contentRemoved})})}));else if(s&&!y)return null;return i.jsx("div",{className:P("flex w-full flex-col gap-1 empty:hidden",y&&"items-end rtl:items-start",!y&&"first:pt-[3px]",A&&"streaming-response"),style:T,children:oe})}const ac=V({contentRemoved:{id:"textMessage.contentRemoved",defaultMessage:"Content removed"},transcriptUnavailable:{id:"textMessage.transcriptUnavailable",defaultMessage:"Transcript Unavailable"}}),s2=y1(()=>({delayedRenderingMessageIds:new Set})),P1e=e=>zi(s2,e);function TPe(){return P1e(e=>e.delayedRenderingMessageIds)}const x0={addDelayedRenderingMessage(e){s2.setState(t=>{if(t.delayedRenderingMessageIds.has(e))return t;const n=new Set(t.delayedRenderingMessageIds);return n.add(e),{delayedRenderingMessageIds:n}})},removeDelayedRenderingMessage(e){s2.setState(t=>{if(!t.delayedRenderingMessageIds.has(e))return t;const n=new Set(t.delayedRenderingMessageIds);return n.delete(e),{delayedRenderingMessageIds:n}})}};function O1e(e){const{isActivelyStreaming:t,...n}=e,r=lr(),a=r?.includes("debug")??!1,o=e.messages[e.messages.length-1].message.id,[s,l]=d.useState(jh(e.parts)),c=d.useRef(void 0);return c.current===void 0&&(c.current=r?.includes(_O)??!1?new ML(e.parts,l,t,void 0,{debug:a}):new Kr(e.parts,l,t)),d.useEffect(()=>{c.current!=null&&(c.current.onMessagePartsUpdated(e.parts,t),c.current.isBuffering()&&x0.addDelayedRenderingMessage(o))},[e.parts,o,t]),d.useEffect(()=>{c.current!=null&&!c.current.isBuffering()&&x0.removeDelayedRenderingMessage(o)},[s,o]),d.useEffect(()=>()=>x0.removeDelayedRenderingMessage(o),[o]),d.useEffect(()=>()=>{c.current!=null&&(c.current.destroy(),c.current=void 0)},[]),i.jsx(CM,{...n,displayParts:s,isActivelyStreaming:t||c.current?.isBuffering()})}function N1e({message:e,isCompletionInProgress:t,clientThreadId:n,className:r,isUserTurn:a,turnIndex:o,isFeedbackEnabled:s,prevGroupedMessageType:l,prevGroupedMessages:c,showEditButton:u,onEnterEdit:f,onRequestMoreCompletions:p}){const m=d.useMemo(()=>"parts"in e.message.content?e.message.content.parts:[Mr(e.message)],[e]);return i.jsx(I1e,{parts:m,messages:[e],isCompletionInProgress:t,className:r,citations:e.message.metadata?.citations,contentReferences:e.message.metadata?.content_references,attachments:e.message.metadata?.attachments,isUserTurn:a,turnIndex:o,id:e.nodeId,isFeedbackEnabled:s,onRequestMoreCompletions:p,clientThreadId:n,showEditButton:u,onEnterEdit:f,prevGroupedMessageType:l,prevGroupedMessages:c})}const EPe=J.memo(N1e);function I1e(e){const t=e.messages.length>1,{flagSeverity:n}=c4(t?void 0:e.messages[0]),r=n!=="danger"&&e.isCompletionInProgress,a=!e.parts.some(s=>s!==""),[o]=d.useState(()=>!e.isUserTurn&&(e.isCompletionInProgress||a));return o?i.jsx(O1e,{...e,isActivelyStreaming:r}):i.jsx(CM,{...e,displayParts:SL({isUserTurn:e.isUserTurn,parts:e.parts}),isActivelyStreaming:r})}function j1e({url:e,size:t=16,minSize:n,fallback:r,className:a}){const o=L1e(e,t);return o==null?r??null:n!=null?i.jsx(R1e,{faviconUrl:o,size:t,minSize:n,fallback:r,className:a}):i.jsx(xM,{faviconUrl:o,size:t,className:a})}function R1e({faviconUrl:e,size:t,minSize:n,fallback:r,className:a}){const{data:o,isLoading:s}=ye({queryKey:["imageSize",e],queryFn:()=>new Promise((l,c)=>{const u=new Image;u.onload=()=>{l(Math.min(u.width,u.height))},u.onerror=()=>{c()},u.src=e})});return s?i.jsx("div",{className:a}):o==null||o<n?r??null:i.jsx(xM,{faviconUrl:e,size:t,className:a})}function xM({faviconUrl:e,size:t,className:n}){return i.jsx("img",{src:e,alt:"Favicon",width:t,height:t,className:n})}function L1e(e,t){if(!e)return null;try{const{origin:n}=new URL(e);return`https://www.google.com/s2/favicons?domain=${n}&sz=${t}`}catch(n){return te.addError(n),null}}const kPe=e=>d.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},d.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.29289 9.29289C5.68342 8.90237 6.31658 8.90237 6.70711 9.29289L12 14.5858L17.2929 9.29289C17.6834 8.90237 18.3166 8.90237 18.7071 9.29289C19.0976 9.68342 19.0976 10.3166 18.7071 10.7071L12.7071 16.7071C12.5196 16.8946 12.2652 17 12 17C11.7348 17 11.4804 16.8946 11.2929 16.7071L5.29289 10.7071C4.90237 10.3166 4.90237 9.68342 5.29289 9.29289Z",fill:"currentColor"}));var $1e=(e=>(e.Sources="sources",e.Images="images",e))($1e||{}),D1e=(e=>(e.Links="links",e.Citations="citations",e.SearchResults="search_results",e))(D1e||{});function APe({tldr:e,trackContentReferenceEvent:t}){const n={url:e.url,title:e.display_title},r=e.url!=null&&e.url!=="";return d.useEffect(()=>{r&&t(k.searchContentReferenceShown,"search_content_reference_shown",e.type,n)},[r]),r?i.jsx("div",{className:"not-prose mb-3 flex flex-col gap-4 text-base",children:i.jsx(Fh,{href:e.url,onClick:()=>t(k.searchContentReferenceClicked,"search_content_reference_clicked",e.type,n),className:"group/tldr",children:i.jsxs("div",{className:"grid max-w-full shrink grid-cols-[1fr,auto] items-center gap-x-8 sm:gap-x-16",children:[i.jsxs("div",{className:"flex shrink flex-col overflow-hidden",children:[i.jsx("div",{className:"shrink text-lg font-semibold text-token-text-primary 2xl:text-xl",children:e.display_title}),i.jsx("div",{className:"flex items-center truncate text-token-link [overflow-wrap:anywhere] group-hover/tldr:opacity-70",children:qi(e.breadcrumbs)?.map((a,o)=>i.jsxs(d.Fragment,{children:[o!==0&&i.jsx(is,{className:"h-4 w-4 shrink-0"}),i.jsx("div",{className:"truncate",children:a.toLowerCase()})]},o))})]}),i.jsx(j1e,{url:e.url,size:128,minSize:32,className:"mr-[0.1875rem] h-7 w-7 shrink-0 rounded"}),e.snippet&&i.jsx("div",{className:"line-clamp-3 overflow-hidden text-ellipsis text-sm text-token-text-tertiary",children:e.snippet})]})})}):null}const bM=e=>d.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:106,height:106,viewBox:"0 0 106 106",fill:"none",...e},d.createElement("g",{filter:"url(#filter0_d_2004_36343)"},d.createElement("rect",{x:25,y:21,width:56,height:56,rx:28,fill:"white",shapeRendering:"crispEdges"}),d.createElement("rect",{x:25,y:21,width:56,height:56,rx:28,stroke:"black",strokeOpacity:.1,strokeLinejoin:"bevel",shapeRendering:"crispEdges"}),d.createElement("path",{d:"M66.8888 46.0965C67.2522 45.0193 67.3782 43.8779 67.2585 42.7487C67.1388 41.6196 66.776 40.5286 66.1945 39.549C65.3323 38.0673 64.0153 36.8942 62.4336 36.1989C60.8519 35.5037 59.0872 35.3222 57.3942 35.6806C56.6305 34.8315 55.6918 34.1531 54.641 33.6908C53.5901 33.2285 52.4513 32.9931 51.3008 33.0002C49.5698 32.9961 47.8823 33.5346 46.4814 34.5378C45.0805 35.5411 44.0387 36.9574 43.5061 38.5825C42.3785 38.8104 41.3132 39.2733 40.3816 39.9402C39.4499 40.6071 38.6733 41.4627 38.1038 42.4496C37.2348 43.9273 36.8639 45.6392 37.0447 47.3383C37.2254 49.0374 37.9484 50.636 39.1094 51.9035C38.7459 52.9806 38.6197 54.122 38.7394 55.2512C38.859 56.3804 39.2217 57.4713 39.8031 58.451C40.6654 59.9327 41.9823 61.1058 43.564 61.8011C45.1458 62.4963 46.9104 62.6778 48.6034 62.3194C49.367 63.1687 50.3056 63.8472 51.3565 64.3095C52.4074 64.7718 53.5463 65.0071 54.6969 64.9998C56.4291 65.0048 58.1182 64.4665 59.5201 63.4625C60.9221 62.4585 61.9644 61.0409 62.4967 59.4143C63.6243 59.1866 64.6897 58.7238 65.6214 58.0569C66.5531 57.39 67.3296 56.5343 67.899 55.5472C68.7667 54.0694 69.1365 52.3579 68.9549 50.6594C68.7734 48.9609 68.0499 47.3632 66.8888 46.0965ZM54.7634 62.9079C53.1497 62.9079 51.9004 62.419 50.8091 61.5201C50.8583 61.4936 50.9446 61.4469 51.0009 61.4128L57.4581 57.7325C57.6203 57.6416 57.7549 57.5097 57.8482 57.3503C57.9415 57.191 57.99 57.01 57.9888 56.826V47.8433L60.7187 49.3984C60.7329 49.4055 60.7452 49.416 60.7545 49.4288C60.7637 49.4417 60.7696 49.4566 60.7718 49.4722V56.9092C60.7711 60.2836 57.9242 62.9079 54.7634 62.9079ZM41.6418 57.4051C40.9297 56.191 40.673 54.7685 40.9168 53.3866C40.9647 53.415 41.0485 53.4654 41.1086 53.4995L47.5658 57.1799C47.7267 57.2728 47.9097 57.3218 48.0961 57.3218C48.2825 57.3218 48.4656 57.2728 48.6264 57.1799L56.51 52.6882V55.7983C56.511 55.8142 56.5079 55.8301 56.5011 55.8445C56.4943 55.8589 56.4839 55.8715 56.471 55.881L49.9435 59.5998C48.5472 60.3933 46.889 60.6078 45.3327 60.1963C43.7763 59.7849 42.449 58.781 41.6418 57.4051ZM39.9405 43.4955C40.6497 42.28 41.7695 41.3493 43.1039 40.8662C43.1039 40.9211 43.1039 41.0182 43.1039 41.0857V48.4464C43.1026 48.6303 43.151 48.8112 43.2442 48.9704C43.3374 49.1297 43.4719 49.2615 43.6339 49.3523L51.5168 53.8433L48.7876 55.3984C48.7741 55.4071 48.7586 55.4123 48.7426 55.4138C48.7265 55.4152 48.7103 55.4127 48.6955 55.4066L42.1673 51.6846C40.7731 50.8885 39.7557 49.5794 39.3383 48.0443C38.9209 46.5092 39.1374 44.8733 39.9405 43.4955ZM62.3669 48.6451L54.4833 44.1535L57.2126 42.5991C57.2261 42.5904 57.2416 42.5851 57.2576 42.5837C57.2737 42.5823 57.2898 42.5847 57.3047 42.5909L63.8329 46.311C64.8324 46.8814 65.6466 47.7208 66.1803 48.7311C66.714 49.7414 66.945 50.8808 66.8463 52.016C66.7477 53.1511 66.3234 54.235 65.6232 55.1409C64.923 56.0468 63.9758 56.7372 62.8924 57.1313V49.5504C62.8939 49.3671 62.8461 49.1867 62.7537 49.0276C62.6614 48.8686 62.5279 48.7366 62.3669 48.6451ZM65.0834 44.6077C65.0354 44.5787 64.9517 44.5289 64.8916 44.4948L58.4344 40.8144C58.2734 40.7218 58.0904 40.673 57.904 40.673C57.7177 40.673 57.5347 40.7218 57.3737 40.8144L49.4902 45.3061V42.196C49.4893 42.1801 49.4924 42.1643 49.4992 42.1499C49.506 42.1354 49.5163 42.1229 49.5292 42.1134L56.0567 38.3977C57.0567 37.8287 58.2003 37.5525 59.3536 37.6013C60.5068 37.6502 61.6222 38.0221 62.5691 38.6735C63.516 39.325 64.2554 40.229 64.7006 41.2799C65.1459 42.3308 65.2786 43.4851 65.0834 44.6077ZM48.0063 50.1535L45.2764 48.5985C45.2619 48.5916 45.2495 48.5812 45.2402 48.5683C45.2309 48.5554 45.2251 48.5404 45.2233 48.5247V41.0857C45.2241 39.9464 45.5537 38.8308 46.1736 37.8696C46.7936 36.9083 47.6782 36.1413 48.7239 35.6581C49.7696 35.175 50.9332 34.9957 52.0784 35.1414C53.2236 35.287 54.303 35.7515 55.1904 36.4805C55.1412 36.507 55.0555 36.5537 54.9986 36.5878L48.5414 40.2681C48.3795 40.3591 48.245 40.491 48.1517 40.6502C48.0585 40.8094 48.0098 40.9902 48.0108 41.174L48.0063 50.1535ZM49.4889 46.9993L53.0001 44.9982L56.5113 46.998V50.9988L53.0001 52.998L49.4889 50.9982V46.9993Z",fill:"black"})),d.createElement("defs",null,d.createElement("filter",{id:"filter0_d_2004_36343",x:.5,y:.5,width:105,height:105,filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},d.createElement("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),d.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),d.createElement("feOffset",{dy:4}),d.createElement("feGaussianBlur",{stdDeviation:12}),d.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),d.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.06 0"}),d.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_2004_36343"}),d.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_2004_36343",result:"shape"})))),wM=Ke(()=>qe(()=>import("./goovv48mvycq7wwm.js"),__vite__mapDeps([32,1])).then(e=>e.QRCodeSVG)),Ir=({onDismiss:e,title:t,content:n,onPrimaryCtaClick:r,primaryCtaText:a,primaryCtaQrLink:o,onPrimaryCtaQrClick:s,onSecondaryCtaClick:l,secondaryCtaText:c,icon:u,isElevated:f=!0,isPrimaryCtaDisabled:p=!1,isSecondaryCtaDisabled:m=!1})=>{const g=bl(),h=(a||c)&&i.jsxs("div",{className:"flex shrink-0 gap-2 pb-1 md:pb-0",children:[a&&i.jsx(re,{onClick:r,color:"primary",className:"shrink-0",disabled:p,children:a}),c&&i.jsx(re,{onClick:l,color:"secondary",className:"shrink-0",disabled:m,children:c})]});return i.jsxs("div",{className:P("flex w-full items-start gap-4 rounded-2xl border border-token-border-light bg-token-main-surface-primary py-4 pl-5 pr-3 text-sm text-token-text-primary [text-wrap:pretty] dark:border-transparent dark:bg-token-main-surface-secondary lg:mx-auto",f&&"shadow-xxs",g?"flex-col":"md:items-center"),children:[i.jsxs("div",{className:P("flex h-full w-full items-start gap-4",!g&&"md:items-center"),children:[u&&i.jsx("div",{className:"h-full",children:u}),i.jsxs("div",{className:P("mt-1.5 flex grow items-start gap-4 md:mt-0 md:flex-row md:items-center md:justify-between md:gap-8",o?"flex-row":"flex-col"),children:[i.jsxs("div",{className:"flex max-w-none flex-col",children:[t&&i.jsx("div",{className:P("font-bold text-token-text-primary"),children:t}),i.jsx("div",{className:P(t?"text-token-text-secondary":""),children:n})]}),o&&i.jsx(wM,{className:"min-h-[62px] min-w-[62px] cursor-pointer",onClick:s,size:62,value:o}),!g&&h]}),i.jsx("div",{className:"flex shrink-0 items-center gap-2",children:!!e&&i.jsx(zo,{onClick:e})})]}),g&&h]})},F1e=({onDismiss:e,title:t,content:n,onPrimaryCtaClick:r,primaryCtaText:a,onSecondaryCtaClick:o,secondaryCtaText:s})=>i.jsxs("div",{className:P("border-main-surface-secondary flex h-16 items-center border-b bg-token-main-surface-primary px-2 text-sm text-token-text-primary"),children:[i.jsxs("div",{className:"flex items-center justify-center",children:[!!e&&i.jsx(zo,{onClick:e,className:"-mr-2 text-token-text-tertiary"}),i.jsx(bM,{className:"h-16 w-16 rounded-sm pt-1 shadow-none"}),i.jsxs("div",{className:"-ml-1 flex flex-col",children:[t&&i.jsx("div",{className:"font-bold text-token-text-primary",children:t}),i.jsx("div",{className:P(t?"-mt-0.5 text-token-text-secondary":""),children:n})]})]}),i.jsxs("div",{className:"ml-auto flex justify-end",children:[a&&i.jsx(re,{onClick:r,color:"primary",className:"shrink-0",children:a}),s&&i.jsx(re,{onClick:o,color:"secondary",className:"mr-2 shrink-0",children:s})]})]});var B1e=rs,U1e=f1,H1e=u1;function V1e(e){return function(t,n,r){var a=Object(t);if(!U1e(t)){var o=B1e(n);t=H1e(t),n=function(l){return o(a[l],l,a)}}var s=e(t,n,r);return s>-1?a[o?t[s]:s]:void 0}}var G1e=V1e,W1e=G1e,z1e=Rx,q1e=W1e(z1e),Z1e=q1e;const Y1e=ve(Z1e),_M=Ee.DesktopBrowserExtensionAnnouncement,SM=Ee.DesktopBrowserExtensionReactiveAnnouncement,K1e=5,Q1e="https://chromewebstore.google.com/detail/searchgpt/ejcfepkfckglbgocfkanmcdngdijcgld";function J1e({announcementKey:e=_M,onClose:t}){d.useEffect(()=>{S.logEventWithStatsig(k.chatgptBrowserExtensionAnnouncementShown,"chatgpt_browser_extension_announcement_shown")},[]);const{markAsViewed:n}=ke(e),r=d.useCallback(()=>{n(),S.logEventWithStatsig(k.chatgptBrowserExtensionAnnouncementClosed,"chatgpt_browser_extension_announcement_closed"),t&&t()},[n,t]),a=d.useCallback(()=>{S.logEventWithStatsig(k.chatgptBrowserExtensionAnnouncementCTAClicked,"chatgpt_browser_extension_announcement_cta_clicked"),n(),t&&t()},[n,t]);return i.jsx(X1e,{downloadUrl:Q1e,announcementKey:e,handleCTAClicked:a,handleClose:r})}function PPe({onClose:e}){return J1e({announcementKey:SM,onClose:e})}function X1e({downloadUrl:e,announcementKey:t,handleCTAClicked:n,handleClose:r}){const a=()=>{n(),window.open(e)},o=i.jsxs("div",{className:"flex-grow",children:[i.jsx("div",{className:"mb-0.5 font-semibold",children:i.jsx(b,{id:"uAZwaE",defaultMessage:"Use ChatGPT for every search"})}),i.jsx("span",{className:"text-token-text-secondary",children:i.jsx(b,{id:"+wTq4L",defaultMessage:"Download the Chrome extension to switch your default search engine to ChatGPT, and get instant answers from trusted sources with every search."})})]});return i.jsx(Ir,{onPrimaryCtaClick:a,primaryCtaText:i.jsx(b,{id:"x9mKG0",defaultMessage:"Get Extension"}),onDismiss:()=>r(t),content:o})}function MM(e){const{value:t}=$t("2634628831"),n=rh(()=>document.documentElement.dataset.searchExtension==="1"),r=Zx(e.clientThreadId,z8.Search),o=!lr()?.includes(cs.SearchToolHoldout);return SO()&&!n&&r&&o&&t}function OPe(e){const t=MM(e),n=efe(),r=ke(_M);return r.eligible&&!r.isLoading&&t&&n&&!os(e.clientThreadId)&&e.conversationMode?.kind===Oe.PrimaryAssistant}function NPe(e){const t=MM(e),n=g1(e.clientThreadId),r=oh(e.clientThreadId,n),a=Y1e(r,c=>c.role===ie.User);var o=!1;const s=a?.messages[0]?.message;if(s?.content.content_type===je.Text){const c=s?.content.parts[0]?.toLowerCase();c&&(o=c.includes("chrome extension")||c.includes("default search"))}const l=ke(SM);return l.eligible&&!l.isLoading&&t&&o}function IPe(e){const t=Tt.getItem(Ue.SearchSettings)??{};t.hasSearchedMinTimes||(t.searchMessageIds||(t.searchMessageIds=[]),t.searchMessageIds.includes(e)||(t.searchMessageIds.push(e),t.searchMessageIds.length>=K1e&&(t.hasSearchedMinTimes=!0,delete t.searchMessageIds),Tt.setItem(Ue.SearchSettings,t)))}function efe(){return(Tt.getItem(Ue.SearchSettings)??{}).hasSearchedMinTimes===!0}const tfe="5.7.5",nfe=100,rfe=0,afe=350,ofe=24,sfe=24,ife="Comp 1",lfe=0,cfe=[],ufe=[{ddd:0,ind:1,ty:4,nm:"border",sr:1,ks:{o:{a:0,k:100,ix:2},r:{a:0,k:0,ix:2},p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:2},s:{a:0,k:[100,100],ix:2}},ao:0,hd:!1,shapes:[{ty:"gr",hd:!1,it:[{ty:"el",hd:!1,d:1,s:{a:0,k:[22,22],ix:2},p:{a:0,k:[0,0],ix:2}},{ty:"st",c:{a:0,k:[.203921568627451,.207843137254902,.2509803921568627],ix:2},o:{a:0,k:100,ix:2},w:{a:0,k:2,ix:2},hd:!1,lc:2,lj:2},{ty:"tm",s:{a:0,k:0,ix:2},e:{a:0,k:100,ix:2},o:{a:0,k:0,ix:2},m:1,hd:!1},{ty:"tr",hd:!1,p:{a:0,k:[12,12],ix:2},a:{a:0,k:[0,0],ix:2},s:{a:0,k:[100,100],ix:2},r:{a:0,k:-180,ix:2},o:{a:0,k:100,ix:2},sk:{a:0,k:0,ix:2},sa:{a:0,k:0,ix:2}}]}],ip:0,op:350,st:0,bm:0},{ddd:0,ind:2,ty:4,nm:"Path",sr:1,ks:{o:{a:0,k:100,ix:2},r:{a:0,k:0,ix:2},p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:2},s:{a:0,k:[100,100],ix:2}},ao:0,hd:!1,shapes:[{ty:"gr",hd:!1,it:[{ty:"sh",hd:!1,d:1,ks:{a:0,k:{c:!1,v:[[8.6485975,.1178352687211168],[8.880497499999999,1.074935268721117],[6.6505975,3.304865268721118],[6.6505975,6.016105268721118],[9.3617975,6.016105268721118],[11.5916975,3.786175268721117],[12.5487975,4.018115268721118],[11.1692975,8.727405268721117],[5.5576975,9.820205268721118],[3.272757499999999,12.10510526872112],[.561517499999999,12.10510526872112],[.561517499999999,9.393905268721117],[2.8464575,7.109005268721118],[3.9393075,1.497375268721117],[8.6485975,.1178352687211168],[8.6485975,.1178352687211168],[8.6485975,.1178352687211168]],i:[[0,0],[.3205000000000009,-.3204799999999999],[.7432999999999996,-.7433100000000001],[-.7487000000000013,-.7487000000000013],[-.7487000000000013,.7486999999999995],[-.7433000000000014,.743310000000001],[-.09659999999999869,-.4428200000000011],[1.278300000000002,-1.2783],[1.8610999999999986,.7885999999999989],[.7616466666666675,-.7616333333333323],[.7486899999999999,.7486999999999995],[-.7486899999999999,.7487000000000013],[-.7616466666666675,.7616333333333323],[-1.5171100000000006,1.5171199999999994],[-1.6442,-.3585899999999995],[0,0],[0,0]],o:[[.4428000000000001,.09658000000000033],[-.7432999999999996,.7433100000000001],[-.7487000000000013,.7486899999999999],[.7485999999999997,.7486999999999995],[.7432999999999996,-.743310000000001],[.3204999999999991,-.3204799999999999],[.3585999999999991,1.644189999999998],[-1.5170999999999992,1.5170999999999992],[-.7616466666666675,.761633333333334],[-.7486899999999999,.7486999999999995],[-.7486899999999999,-.7485999999999997],[.7616466666666666,-.7616333333333323],[-.7885500000000008,-1.8611],[1.278289999999998,-1.27829],[0,0],[0,0],[.4428000000000001,.09658000000000033]]}}},{ty:"fl",c:{a:0,k:[.6980392156862745,.3843137254901961,.996078431372549],ix:2},o:{a:0,k:100,ix:2},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tm",s:{a:0,k:0,ix:2},e:{a:0,k:100,ix:2},o:{a:0,k:0,ix:2},m:1,hd:!1},{ty:"tr",hd:!1,p:{a:1,k:[{t:0,s:[13.23,10.77154381752014],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}},{t:50,s:[12,12],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}},{t:100,s:[12,12],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}},{t:117,s:[12,12],i:{x:[.5],y:[1.5]},o:{x:[.8],y:[0]}},{t:227,s:[12,12],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}},{t:282,s:[13.23,10.77],i:{x:[1],y:[1]},o:{x:[0],y:[0]}}],ix:2},a:{a:1,k:[{t:0,s:[7.559483528137207,5.104858875274658],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}},{t:50,s:[7.559483528137207,5.104858875274658],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}}],ix:2},s:{a:1,k:[{t:0,s:[100,100],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}},{t:50,s:[121.15,121.15],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}},{t:60,s:[121.15,121.15],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}},{t:100,s:[121.15,121.15],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}},{t:117,s:[121.15,121.15],i:{x:[.5],y:[1.5]},o:{x:[.8],y:[0]}},{t:227,s:[121.15,121.15],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}},{t:282,s:[100,100],i:{x:[1],y:[1]},o:{x:[0],y:[0]}}],ix:2},r:{a:1,k:[{t:0,s:[0],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}},{t:50,s:[45],i:{x:[1],y:[1]},o:{x:[0],y:[0]}},{t:60,s:[45],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}},{t:100,s:[-45],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}},{t:117,s:[-45],i:{x:[.5],y:[1.5]},o:{x:[.8],y:[0]}},{t:167,s:[45],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}},{t:184,s:[45],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}},{t:217,s:[-45],i:{x:[1],y:[1]},o:{x:[0],y:[0]}},{t:227,s:[-45],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}},{t:282,s:[0],i:{x:[1],y:[1]},o:{x:[0],y:[0]}}],ix:2},o:{a:0,k:100,ix:2},sk:{a:1,k:[{t:0,s:[0],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}},{t:50,s:[0],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}}],ix:2},sa:{a:0,k:0,ix:2}}]}],ip:0,op:350,st:0,bm:0},{ddd:0,ind:3,ty:4,nm:"Circle",sr:1,ks:{o:{a:0,k:100,ix:2},r:{a:0,k:0,ix:2},p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:2},s:{a:0,k:[100,100],ix:2}},ao:0,hd:!1,shapes:[{ty:"gr",hd:!1,it:[{ty:"sh",hd:!1,d:1,ks:{a:0,k:{c:!1,v:[[0,-10],[10,0],[0,10],[-10,0],[0,-10]],i:[[-5.5228475,0],[0,-5.5228475],[5.5228475,0],[0,5.5228475],[-5.5228475,0]],o:[[5.5228475,0],[0,5.5228475],[-5.5228475,0],[0,-5.5228475],[5.5228475,0]]}}},{ty:"fl",c:{a:0,k:[.203921568627451,.207843137254902,.2509803921568627],ix:2},o:{a:0,k:100,ix:2},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tm",s:{a:0,k:0,ix:2},e:{a:0,k:100,ix:2},o:{a:0,k:0,ix:2},m:1,hd:!1},{ty:"tr",hd:!1,p:{a:0,k:[12,12],ix:2},a:{a:0,k:[0,0],ix:2},s:{a:0,k:[100,100],ix:2},r:{a:0,k:90,ix:2},o:{a:0,k:100,ix:2},sk:{a:0,k:0,ix:2},sa:{a:0,k:0,ix:2}}]}],ip:0,op:350,st:0,bm:0},{ddd:0,ind:4,ty:4,nm:"Circle",sr:1,ks:{o:{a:0,k:100,ix:2},r:{a:0,k:0,ix:2},p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:2},s:{a:0,k:[100,100],ix:2}},ao:0,hd:!1,shapes:[{ty:"gr",hd:!1,it:[{ty:"el",hd:!1,d:1,s:{a:0,k:[24,24],ix:2},p:{a:0,k:[0,0],ix:2}},{ty:"fl",c:{a:0,k:[.6980392156862745,.3843137254901961,.996078431372549],ix:2},o:{a:0,k:100,ix:2},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tm",s:{a:0,k:0,ix:2},e:{a:0,k:100,ix:2},o:{a:0,k:0,ix:2},m:1,hd:!1},{ty:"tr",hd:!1,p:{a:0,k:[12,12],ix:2},a:{a:0,k:[0,0],ix:2},s:{a:0,k:[100,100],ix:2},r:{a:0,k:-180,ix:2},o:{a:0,k:25,ix:2},sk:{a:0,k:0,ix:2},sa:{a:0,k:0,ix:2}}]}],ip:0,op:350,st:0,bm:0}],dfe=[],ffe={v:tfe,fr:nfe,ip:rfe,op:afe,w:ofe,h:sfe,nm:ife,ddd:lfe,assets:cfe,layers:ufe,markers:dfe},pfe="5.7.5",mfe=100,gfe=0,hfe=400,vfe=24,yfe=24,Cfe="Comp 1",xfe=0,bfe=[],wfe=[{ddd:0,ind:1,ty:3,nm:"",sr:1,ks:{o:{a:0,k:100,ix:2},r:{a:0,k:0,ix:2},p:{a:0,k:[12,12],ix:2},a:{a:0,k:[0,0],ix:2},s:{a:0,k:[100,100],ix:2}},ao:0,ip:0,op:400,st:0,bm:0,hd:!1},{ddd:0,ind:2,ty:4,nm:"Path's solid stroke",sr:1,ks:{o:{a:0,k:100,ix:2},r:{a:0,k:0,ix:2},p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:2},s:{a:0,k:[100,100],ix:2}},ao:0,hd:!1,parent:1,shapes:[{ty:"gr",hd:!1,it:[{ty:"sh",hd:!1,d:1,ks:{a:1,k:[{t:125,s:[{c:!1,v:[[3.5,0],[0,5.8332999999999995],[3.5,5.8332999999999995]],i:[[0,0],[1.166666666666667,-1.944433333333334],[-1.166666666666667,0]],o:[[-1.166666666666666,1.944433333333333],[1.166666666666666,0],[0,0]]}],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}},{t:200,s:[{c:!1,v:[[5.836999893188477,0],[9.336999893188477,5.83329963684082],[5.9886474609375,5.83329963684082]],i:[[-1.184650421142578,-1.832367897033691],[0,0],[-1.166666666666667,0]],o:[[1.184650897979736,1.832367539405823],[0,0],[0,0]]}],i:{x:[1],y:[1]},o:{x:[0],y:[0]}},{t:325,s:[{c:!1,v:[[5.836999893188477,0],[9.336999893188477,5.83329963684082],[5.9886474609375,5.83329963684082]],i:[[-1.184650421142578,-1.832367897033691],[0,0],[-1.166666666666667,0]],o:[[1.184650897979736,1.832367539405823],[0,0],[0,0]]}],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}},{t:400,s:[{c:!1,v:[[3.503000259399414,0],[.003000259399414062,5.83329963684082],[3.503000259399414,5.83329963684082]],i:[[.2074432373046875,-.3626899719238281],[0,0],[-1.166666666666667,0]],o:[[-.2074427604675293,.3626899123191833],[0,0],[0,0]]}],i:{x:[1],y:[1]},o:{x:[0],y:[0]}}],ix:2}},{ty:"st",c:{a:0,k:[.6941176470588235,.3803921568627451,.9921568627450981],ix:2},o:{a:0,k:100,ix:2},w:{a:0,k:2.33333,ix:2},hd:!1,lc:2,lj:2},{ty:"tm",s:{a:0,k:0,ix:2},e:{a:0,k:100,ix:2},o:{a:0,k:0,ix:2},m:1,hd:!1},{ty:"tr",hd:!1,p:{a:1,k:[{t:125,s:[-4.666999816894531,-4.666650772094727],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}},{t:200,s:[-4.67,-4.666650772094727],i:{x:[1],y:[1]},o:{x:[0],y:[0]}},{t:325,s:[-4.67,-4.666650772094727],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}}],ix:2},a:{a:0,k:[0,0],ix:2},s:{a:0,k:[100,100],ix:2},r:{a:0,k:0,ix:2},o:{a:0,k:100,ix:2},sk:{a:0,k:0,ix:2},sa:{a:0,k:0,ix:2}}]}],ip:0,op:400,st:0,bm:0},{ddd:0,ind:3,ty:4,nm:"Path's solid stroke",sr:1,ks:{o:{a:0,k:100,ix:2},r:{a:0,k:0,ix:2},p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:2},s:{a:0,k:[100,100],ix:2}},ao:0,hd:!1,parent:1,shapes:[{ty:"gr",hd:!1,it:[{ty:"sh",hd:!1,d:1,ks:{a:1,k:[{t:125,s:[{c:!1,v:[[0,2.3332999999999995],[3.5,0]],i:[[0,0],[-.7981999999999996,1.4169]],o:[[1.4311000000000007,0],[0,0]]}],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}},{t:200,s:[{c:!1,v:[[-2.333999633789062,2.333300590515137],[-5.833999633789062,0]],i:[[1.169005393981934,0],[.7811636924743652,1.481373190879822]],o:[[-1.169005155563354,0],[-.7811641693115234,-1.481372833251953]]}],i:{x:[1],y:[1]},o:{x:[0],y:[0]}},{t:325,s:[{c:!1,v:[[-2.333999633789062,2.333300590515137],[-5.833999633789062,0]],i:[[1.169005393981934,0],[.7811636924743652,1.481373190879822]],o:[[-1.169005155563354,0],[-.7811641693115234,-1.481372833251953]]}],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}},{t:400,s:[{c:!1,v:[[-.003000259399414062,2.333300590515137],[3.496999740600586,0]],i:[[-1.720494270324707,0],[-.6510887145996094,1.120759010314941]],o:[[1.720494627952576,0],[.6510882377624512,-1.120759010314941]]}],i:{x:[1],y:[1]},o:{x:[0],y:[0]}}],ix:2}},{ty:"st",c:{a:0,k:[.6941176470588235,.3803921568627451,.9921568627450981],ix:2},o:{a:0,k:100,ix:2},w:{a:0,k:2.33333,ix:2},hd:!1,lc:2,lj:2},{ty:"tm",s:{a:0,k:0,ix:2},e:{a:0,k:100,ix:2},o:{a:0,k:0,ix:2},m:1,hd:!1},{ty:"tr",hd:!1,p:{a:1,k:[{t:200,s:[1.166999816894531,2.33335018157959],i:{x:[1],y:[1]},o:{x:[0],y:[0]}},{t:325,s:[1.17,2.33335018157959],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}}],ix:2},a:{a:0,k:[0,0],ix:2},s:{a:0,k:[100,100],ix:2},r:{a:0,k:0,ix:2},o:{a:0,k:100,ix:2},sk:{a:0,k:0,ix:2},sa:{a:0,k:0,ix:2}}]}],ip:0,op:400,st:0,bm:0},{ddd:0,ind:4,ty:4,nm:"border",sr:1,ks:{o:{a:0,k:100,ix:2},r:{a:0,k:0,ix:2},p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:2},s:{a:0,k:[100,100],ix:2}},ao:0,hd:!1,shapes:[{ty:"gr",hd:!1,it:[{ty:"el",hd:!1,d:1,s:{a:0,k:[22,22],ix:2},p:{a:0,k:[0,0],ix:2}},{ty:"st",c:{a:0,k:[.203921568627451,.207843137254902,.2509803921568627],ix:2},o:{a:0,k:100,ix:2},w:{a:0,k:2,ix:2},hd:!1,lc:2,lj:2},{ty:"tm",s:{a:0,k:0,ix:2},e:{a:0,k:100,ix:2},o:{a:0,k:0,ix:2},m:1,hd:!1},{ty:"tr",hd:!1,p:{a:0,k:[12,12],ix:2},a:{a:0,k:[0,0],ix:2},s:{a:0,k:[100,100],ix:2},r:{a:0,k:-180,ix:2},o:{a:0,k:100,ix:2},sk:{a:0,k:0,ix:2},sa:{a:0,k:0,ix:2}}]}],ip:0,op:400,st:0,bm:0}],_fe=[],Sfe={v:pfe,fr:mfe,ip:gfe,op:hfe,w:vfe,h:yfe,nm:Cfe,ddd:xfe,assets:bfe,layers:wfe,markers:_fe},Mfe="5.7.5",Tfe=100,Efe=0,kfe=400,Afe=24,Pfe=24,Ofe="Comp 1",Nfe=0,Ife=[],jfe=[{ddd:0,ind:1,ty:3,nm:"",sr:1,ks:{o:{a:0,k:100,ix:2},r:{a:0,k:0,ix:2},p:{a:0,k:[12,12],ix:2},a:{a:0,k:[0,0],ix:2},s:{a:0,k:[100,100],ix:2}},ao:0,ip:0,op:400,st:0,bm:0,hd:!1},{ddd:0,ind:2,ty:4,nm:"Path's solid stroke",sr:1,ks:{o:{a:0,k:100,ix:2},r:{a:0,k:0,ix:2},p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:2},s:{a:0,k:[100,100],ix:2}},ao:0,hd:!1,parent:1,shapes:[{ty:"gr",hd:!1,it:[{ty:"sh",hd:!1,d:1,ks:{a:1,k:[{t:125,s:[{c:!1,v:[[3.5,0],[0,5.8332999999999995],[3.5,5.8332999999999995]],i:[[0,0],[1.166666666666667,-1.9444333333333343],[-1.166666666666667,0]],o:[[-1.166666666666666,1.9444333333333326],[1.166666666666666,0],[0,0]]}],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}},{t:200,s:[{c:!1,v:[[5.836999893188477,0],[9.336999893188477,5.83329963684082],[5.9886474609375,5.83329963684082]],i:[[-1.1846504211425781,-1.8323678970336914],[0,0],[-1.166666666666667,0]],o:[[1.1846508979797363,1.8323675394058228],[0,0],[0,0]]}],i:{x:[1],y:[1]},o:{x:[0],y:[0]}},{t:325,s:[{c:!1,v:[[5.836999893188477,0],[9.336999893188477,5.83329963684082],[5.9886474609375,5.83329963684082]],i:[[-1.1846504211425781,-1.8323678970336914],[0,0],[-1.166666666666667,0]],o:[[1.1846508979797363,1.8323675394058228],[0,0],[0,0]]}],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}},{t:400,s:[{c:!1,v:[[3.503000259399414,0],[.0030002593994140625,5.83329963684082],[3.503000259399414,5.83329963684082]],i:[[.2074432373046875,-.3626899719238281],[0,0],[-1.166666666666667,0]],o:[[-.2074427604675293,.36268991231918335],[0,0],[0,0]]}],i:{x:[1],y:[1]},o:{x:[0],y:[0]}}],ix:2}},{ty:"st",c:{a:0,k:[.6941176470588235,.3803921568627451,.9921568627450981],ix:2},o:{a:0,k:100,ix:2},w:{a:0,k:2.33333,ix:2},hd:!1,lc:2,lj:2},{ty:"tm",s:{a:0,k:0,ix:2},e:{a:0,k:100,ix:2},o:{a:0,k:0,ix:2},m:1,hd:!1},{ty:"tr",hd:!1,p:{a:1,k:[{t:125,s:[-4.666999816894531,-4.666650772094727],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}},{t:200,s:[-4.67,-4.666650772094727],i:{x:[1],y:[1]},o:{x:[0],y:[0]}},{t:325,s:[-4.67,-4.666650772094727],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}}],ix:2},a:{a:0,k:[0,0],ix:2},s:{a:0,k:[100,100],ix:2},r:{a:0,k:0,ix:2},o:{a:0,k:100,ix:2},sk:{a:0,k:0,ix:2},sa:{a:0,k:0,ix:2}}]}],ip:0,op:400,st:0,bm:0},{ddd:0,ind:3,ty:4,nm:"Path's solid stroke",sr:1,ks:{o:{a:0,k:100,ix:2},r:{a:0,k:0,ix:2},p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:2},s:{a:0,k:[100,100],ix:2}},ao:0,hd:!1,parent:1,shapes:[{ty:"gr",hd:!1,it:[{ty:"sh",hd:!1,d:1,ks:{a:1,k:[{t:125,s:[{c:!1,v:[[0,2.3332999999999995],[3.5,0]],i:[[0,0],[-.7981999999999996,1.4169]],o:[[1.4311000000000007,0],[0,0]]}],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}},{t:200,s:[{c:!1,v:[[-2.3339996337890625,2.3333005905151367],[-5.8339996337890625,0]],i:[[1.1690053939819336,0],[.7811636924743652,1.4813731908798218]],o:[[-1.1690051555633545,0],[-.7811641693115234,-1.4813728332519531]]}],i:{x:[1],y:[1]},o:{x:[0],y:[0]}},{t:325,s:[{c:!1,v:[[-2.3339996337890625,2.3333005905151367],[-5.8339996337890625,0]],i:[[1.1690053939819336,0],[.7811636924743652,1.4813731908798218]],o:[[-1.1690051555633545,0],[-.7811641693115234,-1.4813728332519531]]}],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}},{t:400,s:[{c:!1,v:[[-.0030002593994140625,2.3333005905151367],[3.496999740600586,0]],i:[[-1.720494270324707,0],[-.6510887145996094,1.1207590103149414]],o:[[1.7204946279525757,0],[.6510882377624512,-1.1207590103149414]]}],i:{x:[1],y:[1]},o:{x:[0],y:[0]}}],ix:2}},{ty:"st",c:{a:0,k:[.6941176470588235,.3803921568627451,.9921568627450981],ix:2},o:{a:0,k:100,ix:2},w:{a:0,k:2.33333,ix:2},hd:!1,lc:2,lj:2},{ty:"tm",s:{a:0,k:0,ix:2},e:{a:0,k:100,ix:2},o:{a:0,k:0,ix:2},m:1,hd:!1},{ty:"tr",hd:!1,p:{a:1,k:[{t:200,s:[1.1669998168945312,2.33335018157959],i:{x:[1],y:[1]},o:{x:[0],y:[0]}},{t:325,s:[1.17,2.33335018157959],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}}],ix:2},a:{a:0,k:[0,0],ix:2},s:{a:0,k:[100,100],ix:2},r:{a:0,k:0,ix:2},o:{a:0,k:100,ix:2},sk:{a:0,k:0,ix:2},sa:{a:0,k:0,ix:2}}]}],ip:0,op:400,st:0,bm:0},{ddd:0,ind:4,ty:4,nm:"border",sr:1,ks:{o:{a:0,k:100,ix:2},r:{a:0,k:0,ix:2},p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:2},s:{a:0,k:[100,100],ix:2}},ao:0,hd:!1,shapes:[{ty:"gr",hd:!1,it:[{ty:"el",hd:!1,d:1,s:{a:0,k:[22,22],ix:2},p:{a:0,k:[0,0],ix:2}},{ty:"st",c:{a:0,k:[1,1,1],ix:2},o:{a:0,k:100,ix:2},w:{a:0,k:2,ix:2},hd:!1,lc:2,lj:2},{ty:"tm",s:{a:0,k:0,ix:2},e:{a:0,k:100,ix:2},o:{a:0,k:0,ix:2},m:1,hd:!1},{ty:"tr",hd:!1,p:{a:0,k:[12,12],ix:2},a:{a:0,k:[0,0],ix:2},s:{a:0,k:[100,100],ix:2},r:{a:0,k:-180,ix:2},o:{a:0,k:100,ix:2},sk:{a:0,k:0,ix:2},sa:{a:0,k:0,ix:2}}]}],ip:0,op:400,st:0,bm:0}],Rfe=[],Lfe={v:Mfe,fr:Tfe,ip:Efe,op:kfe,w:Afe,h:Pfe,nm:Ofe,ddd:Nfe,assets:Ife,layers:jfe,markers:Rfe},$fe="5.7.5",Dfe=100,Ffe=0,Bfe=350,Ufe=24,Hfe=24,Vfe="Comp 1",Gfe=0,Wfe=[],zfe=[{ddd:0,ind:1,ty:4,nm:"border",sr:1,ks:{o:{a:0,k:100,ix:2},r:{a:0,k:0,ix:2},p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:2},s:{a:0,k:[100,100],ix:2}},ao:0,hd:!1,shapes:[{ty:"gr",hd:!1,it:[{ty:"el",hd:!1,d:1,s:{a:0,k:[22,22],ix:2},p:{a:0,k:[0,0],ix:2}},{ty:"st",c:{a:0,k:[1,1,1],ix:2},o:{a:0,k:100,ix:2},w:{a:0,k:2,ix:2},hd:!1,lc:2,lj:2},{ty:"tm",s:{a:0,k:0,ix:2},e:{a:0,k:100,ix:2},o:{a:0,k:0,ix:2},m:1,hd:!1},{ty:"tr",hd:!1,p:{a:0,k:[12,12],ix:2},a:{a:0,k:[0,0],ix:2},s:{a:0,k:[100,100],ix:2},r:{a:0,k:-180,ix:2},o:{a:0,k:100,ix:2},sk:{a:0,k:0,ix:2},sa:{a:0,k:0,ix:2}}]}],ip:0,op:350,st:0,bm:0},{ddd:0,ind:2,ty:4,nm:"Path",sr:1,ks:{o:{a:0,k:100,ix:2},r:{a:0,k:0,ix:2},p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:2},s:{a:0,k:[100,100],ix:2}},ao:0,hd:!1,shapes:[{ty:"gr",hd:!1,it:[{ty:"sh",hd:!1,d:1,ks:{a:0,k:{c:!1,v:[[8.6485975,.1178352687211168],[8.880497499999999,1.074935268721117],[6.6505975,3.304865268721118],[6.6505975,6.016105268721118],[9.3617975,6.016105268721118],[11.5916975,3.786175268721117],[12.5487975,4.018115268721118],[11.1692975,8.727405268721117],[5.5576975,9.820205268721118],[3.272757499999999,12.10510526872112],[.561517499999999,12.10510526872112],[.561517499999999,9.393905268721117],[2.8464575,7.109005268721118],[3.9393075,1.497375268721117],[8.6485975,.1178352687211168],[8.6485975,.1178352687211168],[8.6485975,.1178352687211168]],i:[[0,0],[.3205000000000009,-.3204799999999999],[.7432999999999996,-.7433100000000001],[-.7487000000000013,-.7487000000000013],[-.7487000000000013,.7486999999999995],[-.7433000000000014,.743310000000001],[-.09659999999999869,-.4428200000000011],[1.278300000000002,-1.2783],[1.8610999999999986,.7885999999999989],[.7616466666666675,-.7616333333333323],[.7486899999999999,.7486999999999995],[-.7486899999999999,.7487000000000013],[-.7616466666666675,.7616333333333323],[-1.5171100000000006,1.5171199999999994],[-1.6442,-.3585899999999995],[0,0],[0,0]],o:[[.4428000000000001,.09658000000000033],[-.7432999999999996,.7433100000000001],[-.7487000000000013,.7486899999999999],[.7485999999999997,.7486999999999995],[.7432999999999996,-.743310000000001],[.3204999999999991,-.3204799999999999],[.3585999999999991,1.644189999999998],[-1.5170999999999992,1.5170999999999992],[-.7616466666666675,.761633333333334],[-.7486899999999999,.7486999999999995],[-.7486899999999999,-.7485999999999997],[.7616466666666666,-.7616333333333323],[-.7885500000000008,-1.8611],[1.278289999999998,-1.27829],[0,0],[0,0],[.4428000000000001,.09658000000000033]]}}},{ty:"fl",c:{a:0,k:[.6980392156862745,.3843137254901961,.996078431372549],ix:2},o:{a:0,k:100,ix:2},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tm",s:{a:0,k:0,ix:2},e:{a:0,k:100,ix:2},o:{a:0,k:0,ix:2},m:1,hd:!1},{ty:"tr",hd:!1,p:{a:1,k:[{t:0,s:[13.23,10.77154381752014],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}},{t:50,s:[12,12],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}},{t:100,s:[12,12],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}},{t:117,s:[12,12],i:{x:[.5],y:[1.5]},o:{x:[.8],y:[0]}},{t:227,s:[12,12],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}},{t:282,s:[13.23,10.77],i:{x:[1],y:[1]},o:{x:[0],y:[0]}}],ix:2},a:{a:1,k:[{t:0,s:[7.559483528137207,5.104858875274658],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}},{t:50,s:[7.559483528137207,5.104858875274658],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}}],ix:2},s:{a:1,k:[{t:0,s:[100,100],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}},{t:50,s:[121.15,121.15],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}},{t:60,s:[121.15,121.15],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}},{t:100,s:[121.15,121.15],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}},{t:117,s:[121.15,121.15],i:{x:[.5],y:[1.5]},o:{x:[.8],y:[0]}},{t:227,s:[121.15,121.15],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}},{t:282,s:[100,100],i:{x:[1],y:[1]},o:{x:[0],y:[0]}}],ix:2},r:{a:1,k:[{t:0,s:[0],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}},{t:50,s:[45],i:{x:[1],y:[1]},o:{x:[0],y:[0]}},{t:60,s:[45],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}},{t:100,s:[-45],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}},{t:117,s:[-45],i:{x:[.5],y:[1.5]},o:{x:[.8],y:[0]}},{t:167,s:[45],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}},{t:184,s:[45],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}},{t:217,s:[-45],i:{x:[1],y:[1]},o:{x:[0],y:[0]}},{t:227,s:[-45],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}},{t:282,s:[0],i:{x:[1],y:[1]},o:{x:[0],y:[0]}}],ix:2},o:{a:0,k:100,ix:2},sk:{a:1,k:[{t:0,s:[0],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}},{t:50,s:[0],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}}],ix:2},sa:{a:0,k:0,ix:2}}]}],ip:0,op:350,st:0,bm:0},{ddd:0,ind:3,ty:4,nm:"Circle",sr:1,ks:{o:{a:0,k:100,ix:2},r:{a:0,k:0,ix:2},p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:2},s:{a:0,k:[100,100],ix:2}},ao:0,hd:!1,shapes:[{ty:"gr",hd:!1,it:[{ty:"sh",hd:!1,d:1,ks:{a:0,k:{c:!1,v:[[0,-10],[10,0],[0,10],[-10,0],[0,-10]],i:[[-5.5228475,0],[0,-5.5228475],[5.5228475,0],[0,5.5228475],[-5.5228475,0]],o:[[5.5228475,0],[0,5.5228475],[-5.5228475,0],[0,-5.5228475],[5.5228475,0]]}}},{ty:"fl",c:{a:0,k:[1,1,1],ix:2},o:{a:0,k:100,ix:2},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tm",s:{a:0,k:0,ix:2},e:{a:0,k:100,ix:2},o:{a:0,k:0,ix:2},m:1,hd:!1},{ty:"tr",hd:!1,p:{a:0,k:[12,12],ix:2},a:{a:0,k:[0,0],ix:2},s:{a:0,k:[100,100],ix:2},r:{a:0,k:90,ix:2},o:{a:0,k:100,ix:2},sk:{a:0,k:0,ix:2},sa:{a:0,k:0,ix:2}}]}],ip:0,op:350,st:0,bm:0},{ddd:0,ind:4,ty:4,nm:"Circle",sr:1,ks:{o:{a:0,k:100,ix:2},r:{a:0,k:0,ix:2},p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:2},s:{a:0,k:[100,100],ix:2}},ao:0,hd:!1,shapes:[{ty:"gr",hd:!1,it:[{ty:"el",hd:!1,d:1,s:{a:0,k:[24,24],ix:2},p:{a:0,k:[0,0],ix:2}},{ty:"fl",c:{a:0,k:[.6941176470588235,.3803921568627451,.9921568627450981],ix:2},o:{a:0,k:100,ix:2},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tm",s:{a:0,k:0,ix:2},e:{a:0,k:100,ix:2},o:{a:0,k:0,ix:2},m:1,hd:!1},{ty:"tr",hd:!1,p:{a:0,k:[12,12],ix:2},a:{a:0,k:[0,0],ix:2},s:{a:0,k:[100,100],ix:2},r:{a:0,k:-180,ix:2},o:{a:0,k:25,ix:2},sk:{a:0,k:0,ix:2},sa:{a:0,k:0,ix:2}}]}],ip:0,op:350,st:0,bm:0}],qfe=[],Zfe={v:$fe,fr:Dfe,ip:Ffe,op:Bfe,w:Ufe,h:Hfe,nm:Vfe,ddd:Gfe,assets:Wfe,layers:zfe,markers:qfe},Yfe=Ke(()=>qe(()=>import("./dzdyz5bl3nzi5cph.js"),__vite__mapDeps([33,1])));function TM({animationData:e,animationSegmentToPlay:t,animationLoopCounter:n}){const r=d.useRef(null);return d.useEffect(()=>{r.current?.playSegments(t,!0)},[n]),i.jsx(Yfe,{animationData:e,lottieRef:r,loop:!1,autoplay:!1})}function jPe(e){return i.jsx(cr,{width:"8",height:"9",viewBox:"0 0 8 9",fill:"none",...e,children:i.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.66607 0.376042C8.01072 0.605806 8.10385 1.07146 7.87408 1.4161L3.54075 7.9161C3.40573 8.11863 3.18083 8.24304 2.93752 8.24979C2.69421 8.25654 2.46275 8.1448 2.31671 7.95008L0.150044 5.06119C-0.098484 4.72982 -0.0313267 4.25972 0.300044 4.01119C0.631415 3.76266 1.10152 3.82982 1.35004 4.16119L2.88068 6.20204L6.62601 0.584055C6.85577 0.239408 7.32142 0.146278 7.66607 0.376042Z",fill:"currentColor"})})}function RPe(e){return i.jsxs(cr,{width:"4",height:"12",viewBox:"0 0 4 12",fill:"none",...e,children:[i.jsx("mask",{id:"path-1-inside-1_1975_4008",fill:"currentColor",children:i.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1 6.5C1 7.05228 1.44772 7.5 2 7.5C2.55228 7.5 3 7.05228 3 6.5V1.5C3 0.947715 2.55228 0.5 2 0.5C1.44772 0.5 1 0.947715 1 1.5L1 6.5ZM0.75 10.25C0.75 10.9404 1.30964 11.5 2 11.5C2.69036 11.5 3.25 10.9404 3.25 10.25C3.25 9.55964 2.69036 9 2 9C1.30964 9 0.75 9.55964 0.75 10.25Z"})}),i.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1 6.5C1 7.05228 1.44772 7.5 2 7.5C2.55228 7.5 3 7.05228 3 6.5V1.5C3 0.947715 2.55228 0.5 2 0.5C1.44772 0.5 1 0.947715 1 1.5L1 6.5ZM0.75 10.25C0.75 10.9404 1.30964 11.5 2 11.5C2.69036 11.5 3.25 10.9404 3.25 10.25C3.25 9.55964 2.69036 9 2 9C1.30964 9 0.75 9.55964 0.75 10.25Z",fill:"currentColor"}),i.jsx("path",{d:"M1 6.5H-0.25H1ZM1 1.5L-0.25 1.5L-0.25 1.5L1 1.5ZM2 6.25C2.13807 6.25 2.25 6.36193 2.25 6.5H-0.25C-0.25 7.74264 0.757359 8.75 2 8.75V6.25ZM1.75 6.5C1.75 6.36193 1.86193 6.25 2 6.25V8.75C3.24264 8.75 4.25 7.74264 4.25 6.5H1.75ZM1.75 1.5V6.5H4.25V1.5H1.75ZM2 1.75C1.86193 1.75 1.75 1.63807 1.75 1.5H4.25C4.25 0.257359 3.24264 -0.75 2 -0.75V1.75ZM2.25 1.5C2.25 1.63807 2.13807 1.75 2 1.75V-0.75C0.757359 -0.75 -0.25 0.257359 -0.25 1.5L2.25 1.5ZM2.25 6.5L2.25 1.5L-0.25 1.5L-0.25 6.5L2.25 6.5ZM2 10.25H-0.5C-0.5 11.6307 0.619288 12.75 2 12.75V10.25ZM2 10.25V12.75C3.38071 12.75 4.5 11.6307 4.5 10.25H2ZM2 10.25H2H4.5C4.5 8.86929 3.38071 7.75 2 7.75V10.25ZM2 10.25H2V7.75C0.619288 7.75 -0.5 8.86929 -0.5 10.25H2Z",fill:"currentColor",mask:"url(#path-1-inside-1_1975_4008)"})]})}function LPe(e){return i.jsx(cr,{width:"8",height:"9",viewBox:"0 0 8 9",fill:"none",...e,children:i.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.32256 1.48447C7.59011 1.16827 7.55068 0.695034 7.23447 0.427476C6.91827 0.159918 6.44503 0.199354 6.17748 0.515559L4.00002 3.08892L1.82256 0.515559C1.555 0.199354 1.08176 0.159918 0.765559 0.427476C0.449355 0.695034 0.409918 1.16827 0.677476 1.48447L3.01755 4.25002L0.677476 7.01556C0.409918 7.33176 0.449354 7.805 0.765559 8.07256C1.08176 8.34011 1.555 8.30068 1.82256 7.98447L4.00002 5.41111L6.17748 7.98447C6.44503 8.30068 6.91827 8.34011 7.23447 8.07256C7.55068 7.805 7.59011 7.33176 7.32256 7.01556L4.98248 4.25002L7.32256 1.48447Z",fill:"currentColor"})})}function $Pe({animationLoopCounter:e}){const t=b1();return i.jsx(TM,{animationData:t?ffe:Zfe,animationSegmentToPlay:[0,300],animationLoopCounter:e})}function DPe({animationLoopCounter:e}){const t=b1();return i.jsx(TM,{animationData:t?Sfe:Lfe,animationSegmentToPlay:[0,400],animationLoopCounter:e})}const FPe=e=>d.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},d.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 7C12.2652 7 12.5196 7.10536 12.7071 7.29289L18.7071 13.2929C19.0976 13.6834 19.0976 14.3166 18.7071 14.7071C18.3166 15.0976 17.6834 15.0976 17.2929 14.7071L12 9.41421L6.70711 14.7071C6.31658 15.0976 5.68342 15.0976 5.29289 14.7071C4.90237 14.3166 4.90237 13.6834 5.29289 13.2929L11.2929 7.29289C11.4804 7.10536 11.7348 7 12 7Z",fill:"currentColor"})),Kfe={[De.Browsing]:{group:Ce.Browsing},[De.BrowseTool]:{group:Ce.Browsing},[De.SearchGPTQuery]:{group:Ce.SearchGPTQuery},[De.RetrievalBrowsing]:{group:Ce.RetrievalBrowsing},[De.RetrievalBrowsingTool]:{group:Ce.RetrievalBrowsing},[De.ParallelBrowsing]:{group:Ce.ParallelBrowsing},[De.ParallelBrowsingTool]:{group:Ce.ParallelBrowsing},[De.JITPlugin]:{group:Ce.JITPlugin,alwaysStartsNewGroup:!0},[De.JITPluginTool]:{group:Ce.JITPlugin},[De.Dalle]:{group:Ce.Dalle,alwaysStartsNewGroup:!0},[De.DalleTool]:{group:Ce.Dalle},[De.oiw209h]:{group:Ce.oiw209h,alwaysStartsNewGroup:!0},[De.oiw209h_c]:{group:Ce.oiw209h},[De.CodeInterpreter]:{group:Ce.CodeInterpreter,alwaysStartsNewGroup:!0},[De.a8km123]:{group:Ce.a8km123},[De.f959b8c]:{group:Ce.f959b8c},[De.b1de6e2]:{group:Ce.b1de6e2},[De.b1de6e2_c]:{group:Ce.b1de6e2_c},[De.b1de6e2_s]:{group:Ce.b1de6e2_s},[De.is_loading_message]:{group:Ce.is_loading_message},[De.de1d73e]:{group:Ce.de1d73e},[De.CodeInterpreterTool]:{group:Ce.CodeInterpreter},[De.GizmoEditor]:{group:Ce.GizmoEditor},[De.SearchResultTool]:{group:Ce.SearchResult},[De.ImagePreloadTool]:{group:Ce.SearchResult},[De.CanmoreTool]:{group:Ce.Canmore},[De.SonicCanvas]:{group:Ce.SonicCanvas}};function Qfe(e){const t=[];for(let n=0;n<e.length;n++){const r=e[n],a=MO(r.message),o=e?.[n-1],s=Kfe[a],l=o!=null&&(oC(o.message)||TO(r.message)),c=a===De.Text&&Mr(r.message);if(sC(r.message))t.push({type:Ce.Debug,message:r});else if(s!==void 0){const u=t.findLast(f=>f.type!==Ce.Debug);u?.type===s.group&&"messages"in u&&!s.alwaysStartsNewGroup?u.messages.push(r):s.group!==Ce.Text&&s.group!==Ce.Debug&&t.push({type:s.group,messages:[r]})}else if(l&&c!=null){const u=t.pop();u?.type===Ce.MultiText?(u.messages.push(r),t.push(u)):u?.type===Ce.Text&&t.push({type:Ce.MultiText,messages:[u.message,r]})}else t.push({type:Ce.Text,message:r})}return t}const u4=e=>d.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},d.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 5C7 3.34315 8.34315 2 10 2H19C20.6569 2 22 3.34315 22 5V14C22 15.6569 20.6569 17 19 17H17V19C17 20.6569 15.6569 22 14 22H5C3.34315 22 2 20.6569 2 19V10C2 8.34315 3.34315 7 5 7H7V5ZM9 7H14C15.6569 7 17 8.34315 17 10V15H19C19.5523 15 20 14.5523 20 14V5C20 4.44772 19.5523 4 19 4H10C9.44772 4 9 4.44772 9 5V7ZM5 9C4.44772 9 4 9.44772 4 10V19C4 19.5523 4.44772 20 5 20H14C14.5523 20 15 19.5523 15 19V10C15 9.44772 14.5523 9 14 9H5Z",fill:"currentColor"}));function BPe(){const e=Ci(Ha.VoiceName)?.data,t=Ci(Ha.VoiceMainLanguage)?.data,n=Jfe();return{voiceName:Xfe(e,n),voiceMainLanguage:t??EO.Auto}}function Jfe(){const e=EM(),{currentLocale:t}=iC();return d.useCallback(()=>{if(e.length===0)return"juniper";let n=e[0].voice;return t.startsWith("zh")&&(n="cove"),n},[e,t])}function EM(){const{session:e}=ih(),t=e!=null,n=Ci(Ha.VoiceMainLanguage)?.data,{data:r}=ye({queryKey:["getUserSettingVoices",n],queryFn:()=>q.getUserSettingVoices(),enabled:t});return r?r.voices:[]}function Xfe(e,t){return e==="sky"?"juniper":e??t()}function oc(e){e.danger("Failed to copy to clipboard.",{duration:4,hasCloseButton:!0})}function wl(e,t,n){const{navigator:r}=n?.target?.ownerDocument?.defaultView??window;return new Promise((a,o)=>{if(!r?.clipboard){oc(t),o();return}try{if("write"in r.clipboard&&"supports"in ClipboardItem){const s=new ClipboardItem(Object.fromEntries(Object.entries(typeof e=="string"?{"text/plain":e}:e).map(([l,c])=>[l,typeof c=="string"?new Blob([c],{type:l}):c])));r.clipboard.write([s]).then(()=>a("success"),()=>{oc(t),o()})}else{const s=typeof e=="string"?e:e["text/plain"]??"";r.clipboard.writeText(s).then(()=>a("success"),()=>{oc(t),o()})}}catch{oc(t),o()}})}const kM=e=>d.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},d.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20.3215 4.17948C20.7747 4.49511 20.8862 5.11837 20.5706 5.57158L10.8206 19.5716C10.6514 19.8145 10.3833 19.97 10.0884 19.9962C9.79354 20.0223 9.50222 19.9165 9.29289 19.7072L3.54289 13.9572C3.15237 13.5667 3.15237 12.9335 3.54289 12.543C3.93342 12.1525 4.56658 12.1525 4.95711 12.543L9.86223 17.4481L18.9294 4.42859C19.245 3.97539 19.8683 3.86385 20.3215 4.17948Z",fill:"currentColor"}));function epe({title:e,description:t,confirmText:n,cancelText:r,isOpen:a=!1,onClose:o,onConfirm:s,primaryButtonColor:l="primary",textCenter:c=!1,children:u}){const f=U();return i.jsx(Te,{isOpen:a,onClose:o,type:"success",title:e,description:t,textCenter:c,primaryButton:i.jsx(Ye.Button,{title:n??f.formatMessage(R6.confirmLabel),color:l,onClick:s}),secondaryButton:i.jsx(Ye.Button,{title:r??f.formatMessage(R6.cancelLabel),color:"secondary",onClick:o}),children:u})}const R6=V({confirmLabel:{id:"ConfirmModal.confirmLabel",defaultMessage:"Confirm"},cancelLabel:{id:"ConfirmModal.cancelLabel",defaultMessage:"Cancel"}});var et=(e=>(e.DownloadMessages="download-messages",e.InviteUsersToWorkspace="invite-users-to-workspace",e.WorkspaceAppearance="workspace-appearance",e.KeyboardActions="keyboard-actions",e.UserContext="user-context",e.WorkspaceSwitcher="workspace-switcher",e.ReadOnlyConversationTemplate="read-only-conversation-template",e.CookieManagement="cookie-management",e.AgeVerificationInterstitial="age-verification-interstitial",e.GPTDetails="gpt-details",e.GPTPrivacySettings="gpt-privacy-settings",e.GPTFeedbackEmail="gpt-support-email",e.GPTReview="gpt-review",e.GPTRemoveThirdParty="gpt-remove-third-party",e.SharedConversationModeration="shared-conversation-moderation",e.ReportConversation="report-conversation",e.BlockingInitialComponent="blocking-initial-component",e.NoAuthNewChat="no-auth-new-chat",e.GlobalMemoryOnboarding="global-memory-onboarding",e.AccountPayment="account-payment",e.CreateExclusion="create-exclusion",e.AddServiceAccountKey="add-service-account-key",e.DeleteServiceAccountKey="delete-service-account-key",e))(et||{});const AM=Ue.IsNavigationCollapsed,PM=Ue.IsGptListCollapsed;function tpe(){const e=Tt.getItem(AM)??!1;return en.setCookie(Yt.NavigationState,e?"0":"1",{maxAge:2**30}),{collapsed:e}}function npe({collapsed:e}){Tt.setItem(AM,e),en.setCookie(Yt.NavigationState,e?"0":"1",{maxAge:2**30})}const xe=Me()(()=>({isThreadHeaderVisible:!0,isDesktopNavCollapsed:tpe().collapsed,isVoiceActive:!1,sharingModalThreadId:void 0,feedbackModalThreadId:void 0,leaveWorkspaceData:null,activeSidebar:!1,activeStageSidebar:!1,activeModals:new Set,isLatencyDevToolsVisible:!1,purchaseWorkspaceData:null,isGptListCollapsed:Tt.getItem(PM)??!0,browseMode:"conversation",voiceFeedbackThread:null,lastVoiceSessionStartTime:null,lastVoiceSessionEndTime:null,displayAnnouncementTooltip:null})),UPe={isThreadHeaderVisible:e=>e.isThreadHeaderVisible,isLatencyDevtoolsVisible:e=>e.isLatencyDevToolsVisible,isGptListCollapsed:e=>e.isGptListCollapsed},Re={setBrowseMode:e=>{xe.setState(t=>({...t,browseMode:e}))},enterGizmoEditor:()=>{xe.setState({browseMode:"gizmo-editor"})},exitGizmoEditor:()=>{xe.setState({browseMode:"conversation"})},toggleGptListCollapsed:()=>{xe.setState(e=>{const t=!e.isGptListCollapsed;return Tt.setItem(PM,t),S.logToggleShowGptList({isCollapsed:t}),{isGptListCollapsed:t}})},toggleNavSidebar:()=>{xe.getState().activeStageSidebar?Re.togglePopoverNavSidebar():Re.toggleDesktopNavCollapsed()},togglePopoverNavSidebar:()=>{Re.toggleActiveSidebar("popover-nav")},closePopoverNavSidebar:()=>{xe.setState(e=>e.activeSidebar==="popover-nav"?{activeSidebar:void 0}:{})},toggleDesktopNavCollapsed:e=>{xe.setState(t=>{const n=e??!t.isDesktopNavCollapsed;return npe({collapsed:n}),S.logToggleDesktopNavCollapsed({isDesktopNavCollapsed:n}),{isDesktopNavCollapsed:n}})},hideThreadHeader:()=>{xe.setState({isThreadHeaderVisible:!1})},showThreadHeader:()=>{xe.setState({isThreadHeaderVisible:!0})},openSharingModal(e,t){xe.setState({sharingModalThreadId:e}),S.logEvent(k.shareConversationOpenModal,{location:t})},closeSharingModal(){xe.setState({sharingModalThreadId:void 0})},openFeedbackModal(e){xe.setState({feedbackModalThreadId:e})},closeFeedbackModal(){xe.setState({feedbackModalThreadId:void 0})},setLeaveWorkspaceData(e){xe.setState({leaveWorkspaceData:e})},setPurchaseWorkspaceData(e){xe.setState({purchaseWorkspaceData:e})},setActiveSidebar(e){xe.setState({activeSidebar:e})},toggleActiveSidebar(e){xe.setState(t=>({activeSidebar:t.activeSidebar===e?!1:e}))},closeActiveSidebar(){xe.setState(()=>({activeSidebar:!1}))},setActiveStageSidebar(e){xe.setState({activeStageSidebar:e})},toggleModal(e){xe.setState(t=>{const n=new Set(t.activeModals);return n.has(e)?n.delete(e):n.add(e),{activeModals:n}})},openModal(e){xe.setState(t=>{const n=new Set(t.activeModals);return n.add(e),{activeModals:n}})},closeModal(e){xe.setState(t=>{const n=new Set(t.activeModals);return n.delete(e),{activeModals:n}})},closeAllActiveModals(){xe.setState({activeModals:new Set})},hideLatencyDevTools:()=>{xe.setState({isLatencyDevToolsVisible:!1})},showLatencyDevTools:()=>{xe.setState({isLatencyDevToolsVisible:!0})},showAnnouncementTooltipExclusively(e){xe.setState(t=>t.displayAnnouncementTooltip?t:{displayAnnouncementTooltip:e})}};function d4(e){return xe(t=>t.activeModals.has(e))}function Nf(){const{isUnauthenticated:e}=Lt(),t=d.useContext(lC).getCookie(Yt.NavigationState),n=xe(r=>r.isDesktopNavCollapsed);return e?!0:t?t==="0":n}function rpe(){const[e,t]=d.useState(!1),n=xe(r=>r.activeModals);return d.useEffect(()=>{t(r=>r||n.has("blocking-initial-component"))},[n]),e}function If(e){const[t,n]=d.useState(!1),{announcementKey:r,onDismiss:a,...o}=e,{children:s,show:l}=o,{layer:c,isLoading:u}=xn("717266490"),f=c.get("one_announcement_tooltip_per_session",!1),p=xe(h=>!!h.displayAnnouncementTooltip),m=xe(h=>!f||h.displayAnnouncementTooltip===r);if(d.useEffect(()=>{f&&l&&t&&Re.showAnnouncementTooltipExclusively(r)},[t,f,r,l]),d.useEffect(()=>{l&&!u&&(!f||m)&&(z.logEvent("announcement_tooltip_shown",null,{announcement_key:r}),S.logEvent(k.announcementTooltipShown,{announcement_key:r}))},[l,m,r,f,u]),p&&!m)return s;const g=()=>{(!f||m)&&(a(),u||(z.logEvent("announcement_tooltip_dismissed",null,{announcement_key:r}),S.logEvent(k.announcementTooltipDismissed,{announcement_key:r})))};return i.jsx(ape,{...o,onDismiss:g,renderAsInvisible:f&&!p,onTooltipChildrenBecomeVisible:()=>{f&&n(!0)}})}function ape({align:e,arrowPadding:t,alignOffset:n,show:r,onDismiss:a,children:o,title:s,side:l,sideOffset:c,theme:u="default",badge:f="new",contentAlign:p="start",description:m,className:g,onTooltipChildrenBecomeVisible:h,renderAsInvisible:v=!1,dismissOnOutsideClick:y=!1}){const x=d.useRef(null),C=w=>{r&&w&&w.getBoundingClientRect().width>0&&w.getBoundingClientRect().height>0&&h?.(),x.current=w};return i.jsxs(H5,{open:r,onOpenChange:w=>{w||a()},children:[i.jsx(Zu,{asChild:!0,onClick:()=>{a()},ref:C,children:o}),i.jsx(gS,{container:x.current?.ownerDocument.body,children:i.jsxs(V5,{arrowPadding:t,alignOffset:n,align:e,side:l,sideOffset:c,onOpenAutoFocus:w=>{w.preventDefault()},onCloseAutoFocus:w=>{w.preventDefault()},onInteractOutside:w=>{w.target instanceof Element&&x.current?.contains(w.target)?w.preventDefault():y?a():w.preventDefault()},updatePositionStrategy:"always",className:P("relative z-30 animate-slideLeftAndFade select-none rounded-xl p-4 text-sm shadow-sm",u==="default"?"bg-gray-900 text-white dark:bg-gray-50 dark:text-gray-700":"bg-blue-400 text-white",v&&"invisible"),children:[i.jsxs("div",{className:P("flex max-w-xs flex-col gap-1",g),children:[i.jsxs("div",{className:"mb-0.5 flex gap-2",children:[f==="new"?i.jsx("span",{className:P("rounded px-1.5 py-0.5 text-[10px] font-semibold uppercase leading-normal",u==="default"?"bg-token-main-surface-primary text-token-main-surface-primary-inverse":"bg-white text-blue-selection"),children:i.jsx(b,{...L6.new})}):f==="beta"&&i.jsx("span",{className:"rounded-full bg-blue-100 px-1.5 text-[10px] font-semibold text-blue-600",children:i.jsx(b,{...L6.beta})}),i.jsx("div",{className:P("grow font-semibold",p&&`text-${p}`),children:s}),i.jsx(mre,{className:"-my-1 -mr-1 p-1 opacity-70 transition hover:opacity-100",children:i.jsx(ls,{className:"icon-sm"})})]}),m!==void 0&&i.jsx("div",{className:P(p&&`text-${p}`),children:m})]}),i.jsx(gre,{asChild:!0,children:i.jsx("div",{className:P("relative top-[-6px] h-3 w-3 rotate-45 transform rounded-br-sm",u==="default"?"bg-gray-900 dark:bg-gray-50":"bg-blue-400")})})]})})]})}const L6=V({new:{id:"announcementTooltip.new",defaultMessage:"New"},beta:{id:"announcementTooltip.beta",defaultMessage:"Beta"}}),ope=({children:e})=>{const t=ux(),n=ca();return!t?.length||n?null:i.jsxs(ce.Root,{children:[i.jsx(ce.Trigger,{className:"h-10 px-2",children:e}),i.jsx(ce.Portal,{children:i.jsx(ce.Content,{align:"end",onCloseAutoFocus:r=>r.preventDefault(),children:t.map(r=>i.jsx(spe,{textdocId:r},r))})})]})},spe=({textdocId:e})=>{const t=Ui(B1(e));return i.jsx(ce.Item,{icon:za,onClick:()=>{V1.logButtonClick(X_.FILE_DRAWER_ITEM),Va(t.textdocId)},children:n2(t.title)})},HPe=()=>{const e=U(),t=ux(),n=Ki();if(!t||n)return null;const r=t.length;return r===1?i.jsx(ipe,{textdocId:t[0]}):i.jsx(ope,{children:i.jsx(ot,{label:e.formatMessage({id:"xX2Zyt",defaultMessage:"Open canvas"}),children:i.jsxs("div",{className:"flex items-center gap-1 text-token-text-secondary",style:{viewTransitionName:"var(--vt-thread-header-open-canvas)"},children:[i.jsx(za,{className:"icon-xl-heavy"}),r]})})})},ipe=({textdocId:e})=>{const t=U(),n=Ui(B1(e));return i.jsx(ot,{label:t.formatMessage({id:"xX2Zyt",defaultMessage:"Open canvas"}),children:i.jsx(Q$,{onClick:()=>Va(n.textdocId),icon:za,style:{viewTransitionName:"var(--vt-thread-header-open-canvas)"}})})},VPe=({children:e})=>Ki()?null:i.jsx(i.Fragment,{children:e}),GPe=e=>d.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},d.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.4998 7.5C11.4998 5.01472 13.5145 3 15.9998 3C18.4851 3 20.4998 5.01472 20.4998 7.5C20.4998 9.98528 18.4851 12 15.9998 12C13.5145 12 11.4998 9.98528 11.4998 7.5ZM15.9998 5C14.6191 5 13.4998 6.11929 13.4998 7.5C13.4998 8.88071 14.6191 10 15.9998 10C17.3805 10 18.4998 8.88071 18.4998 7.5C18.4998 6.11929 17.3805 5 15.9998 5ZM2.49978 8C2.49978 5.79086 4.29064 4 6.49978 4C8.70892 4 10.4998 5.79086 10.4998 8C10.4998 10.2091 8.70892 12 6.49978 12C4.29064 12 2.49978 10.2091 2.49978 8ZM6.49978 6C5.39521 6 4.49978 6.89543 4.49978 8C4.49978 9.10457 5.39521 10 6.49978 10C7.60435 10 8.49978 9.10457 8.49978 8C8.49978 6.89543 7.60435 6 6.49978 6ZM11.4364 14.5606C12.8874 13.385 14.7721 12.887 16.5742 13.0211C17.125 13.0621 17.5382 13.5418 17.4972 14.0926C17.4563 14.6433 16.9765 15.0566 16.4258 15.0156C15.0708 14.9148 13.7054 15.2963 12.6955 16.1145C11.7087 16.9141 10.9998 18.1781 10.9998 20C10.9998 20.5523 10.5521 21 9.99978 21C9.44749 21 8.99978 20.5523 8.99978 20C8.99978 17.5992 9.96238 15.7549 11.4364 14.5606ZM2.63451 13.949C4.15498 12.9883 6.07556 12.765 7.77119 13.2432C8.30275 13.3931 8.61214 13.9455 8.46224 14.477C8.31234 15.0086 7.75992 15.318 7.22836 15.1681C6.04081 14.8332 4.7115 15.0024 3.70288 15.6398C2.73131 16.2537 2 17.3348 2 19C2 19.5523 1.55228 20 1 20C0.447715 20 0 19.5523 0 19C0 16.6559 1.07699 14.9332 2.63451 13.949ZM20.4997 14.9956C21.052 14.9956 21.4997 15.4432 21.4998 15.9955L21.4999 17.4956H23C23.5523 17.4956 24 17.9433 24 18.4956C24 19.0479 23.5523 19.4956 23 19.4956H21.5V20.9956C21.5 21.5279 21.0523 21.9756 20.5 21.9956C19.9477 21.9756 19.5 21.5279 19.5 20.9956V19.4956H17.9998C17.4475 19.4756 16.9998 19.0479 16.9998 18.4956C16.9998 17.9433 17.4475 17.4756 17.9998 17.4956H19.4999L19.4998 15.9957C19.4997 15.4434 19.9474 14.9957 20.4997 14.9956Z",fill:"currentColor"})),lpe=e=>d.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:20,height:20,viewBox:"0 0 20 20",fill:"none",...e},d.createElement("path",{d:"M3.33341 14.167C2.32138 13.4068 1.66675 12.1965 1.66675 10.8333C1.66675 8.7227 3.23605 6.97861 5.27148 6.70422C5.94715 4.74263 7.80904 3.33331 10.0001 3.33331C12.7615 3.33331 15.0001 5.57189 15.0001 8.33331C16.841 8.33331 18.3334 9.8257 18.3334 11.6666C18.3334 12.9004 17.6631 13.9777 16.6667 14.554",stroke:"currentColor",strokeWidth:1.66667,strokeLinecap:"round",strokeLinejoin:"round"}),d.createElement("path",{d:"M7.08325 13.3334V11.6667H12.9166V13.3334C12.9166 14.7141 11.7973 15.8334 10.4166 15.8334H9.58325C8.20254 15.8334 7.08325 14.7141 7.08325 13.3334Z",stroke:"currentColor",strokeWidth:1.66667,strokeLinecap:"round",strokeLinejoin:"round"}),d.createElement("path",{d:"M10 15.8333V17.5",stroke:"currentColor",strokeWidth:1.66667,strokeLinecap:"round",strokeLinejoin:"round"}),d.createElement("path",{d:"M8.33325 9.59998V11.2666",stroke:"currentColor",strokeWidth:1.66667,strokeLinecap:"round",strokeLinejoin:"round"}),d.createElement("path",{d:"M11.6667 9.59998V11.2666",stroke:"currentColor",strokeWidth:1.66667,strokeLinecap:"round",strokeLinejoin:"round"})),WPe=e=>d.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},d.createElement("path",{d:"M6.16146 3.5H17.8385C18.3657 3.49998 18.8205 3.49997 19.195 3.53057C19.5904 3.56287 19.9836 3.63419 20.362 3.82698C20.9265 4.1146 21.3854 4.57354 21.673 5.13803C21.8658 5.51641 21.9371 5.90963 21.9694 6.30497C22 6.67954 22 7.1343 22 7.66144V15.5C22.5523 15.5 22.9999 15.9477 22.9999 16.5V17.5C22.9999 19.1569 21.6568 20.5 19.9999 20.5H3.99622C2.33936 20.5 0.996216 19.1569 0.996216 17.5V16.5C0.996216 15.9477 1.44393 15.5 1.99622 15.5H2L2 7.66146C1.99998 7.13431 1.99997 6.67955 2.03057 6.30497C2.06287 5.90963 2.13419 5.51641 2.32698 5.13803C2.6146 4.57354 3.07354 4.1146 3.63803 3.82698C4.01641 3.63419 4.40963 3.56287 4.80497 3.53057C5.17954 3.49997 5.63431 3.49998 6.16146 3.5ZM3.0014 17.5L3 17.5L2.9986 17.5H2.99622C2.99622 18.0523 3.44393 18.5 3.99622 18.5H19.9999C20.5522 18.5 20.9999 18.0523 20.9999 17.5H20.9986H15.236L14.4472 17.8944C14.3083 17.9639 14.1552 18 13.9999 18H9.99995C9.8447 18 9.69159 17.9639 9.55273 17.8944L8.76388 17.5H3.0014ZM20 15.5V7.7C20 7.12345 19.9992 6.75118 19.9761 6.46784C19.9539 6.19617 19.9162 6.09546 19.891 6.04601C19.7951 5.85785 19.6422 5.70487 19.454 5.609C19.4045 5.5838 19.3038 5.54612 19.0322 5.52393C18.7488 5.50078 18.3766 5.5 17.8 5.5H6.2C5.62345 5.5 5.25117 5.50078 4.96784 5.52393C4.69617 5.54612 4.59545 5.5838 4.54601 5.609C4.35785 5.70487 4.20487 5.85785 4.10899 6.04601C4.0838 6.09546 4.04612 6.19617 4.02393 6.46784C4.00078 6.75117 4 7.12345 4 7.7V15.5H8.99995C9.15519 15.5 9.3083 15.5361 9.44716 15.6056L10.236 16H13.7639L14.5527 15.6056C14.6916 15.5361 14.8447 15.5 14.9999 15.5H20Z",fill:"currentColor"})),zPe=e=>d.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e},d.createElement("path",{d:"M15.6729 3.91287C16.8918 2.69392 18.8682 2.69392 20.0871 3.91287C21.3061 5.13182 21.3061 7.10813 20.0871 8.32708L14.1499 14.2643C13.3849 15.0293 12.3925 15.5255 11.3215 15.6785L9.14142 15.9899C8.82983 16.0344 8.51546 15.9297 8.29289 15.7071C8.07033 15.4845 7.96554 15.1701 8.01005 14.8586L8.32149 12.6785C8.47449 11.6075 8.97072 10.615 9.7357 9.85006L15.6729 3.91287ZM18.6729 5.32708C18.235 4.88918 17.525 4.88918 17.0871 5.32708L11.1499 11.2643C10.6909 11.7233 10.3932 12.3187 10.3014 12.9613L10.1785 13.8215L11.0386 13.6986C11.6812 13.6068 12.2767 13.3091 12.7357 12.8501L18.6729 6.91287C19.1108 6.47497 19.1108 5.76499 18.6729 5.32708ZM11 3.99929C11.0004 4.55157 10.5531 4.99963 10.0008 5.00007C9.00227 5.00084 8.29769 5.00827 7.74651 5.06064C7.20685 5.11191 6.88488 5.20117 6.63803 5.32695C6.07354 5.61457 5.6146 6.07351 5.32698 6.63799C5.19279 6.90135 5.10062 7.24904 5.05118 7.8542C5.00078 8.47105 5 9.26336 5 10.4V13.6C5 14.7366 5.00078 15.5289 5.05118 16.1457C5.10062 16.7509 5.19279 17.0986 5.32698 17.3619C5.6146 17.9264 6.07354 18.3854 6.63803 18.673C6.90138 18.8072 7.24907 18.8993 7.85424 18.9488C8.47108 18.9992 9.26339 19 10.4 19H13.6C14.7366 19 15.5289 18.9992 16.1458 18.9488C16.7509 18.8993 17.0986 18.8072 17.362 18.673C17.9265 18.3854 18.3854 17.9264 18.673 17.3619C18.7988 17.1151 18.8881 16.7931 18.9393 16.2535C18.9917 15.7023 18.9991 14.9977 18.9999 13.9992C19.0003 13.4469 19.4484 12.9995 20.0007 13C20.553 13.0004 21.0003 13.4485 20.9999 14.0007C20.9991 14.9789 20.9932 15.7808 20.9304 16.4426C20.8664 17.116 20.7385 17.7136 20.455 18.2699C19.9757 19.2107 19.2108 19.9756 18.27 20.455C17.6777 20.7568 17.0375 20.8826 16.3086 20.9421C15.6008 21 14.7266 21 13.6428 21H10.3572C9.27339 21 8.39925 21 7.69138 20.9421C6.96253 20.8826 6.32234 20.7568 5.73005 20.455C4.78924 19.9756 4.02433 19.2107 3.54497 18.2699C3.24318 17.6776 3.11737 17.0374 3.05782 16.3086C2.99998 15.6007 2.99999 14.7266 3 13.6428V10.3572C2.99999 9.27337 2.99998 8.39922 3.05782 7.69134C3.11737 6.96249 3.24318 6.3223 3.54497 5.73001C4.02433 4.7892 4.78924 4.0243 5.73005 3.54493C6.28633 3.26149 6.88399 3.13358 7.55735 3.06961C8.21919 3.00673 9.02103 3.00083 9.99922 3.00007C10.5515 2.99964 10.9996 3.447 11 3.99929Z",fill:"currentColor"})),qPe=e=>d.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},d.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6 4C5.44772 4 5 4.44772 5 5V19C5 19.5523 5.44772 20 6 20H10C10.5523 20 11 20.4477 11 21C11 21.5523 10.5523 22 10 22H6C4.34315 22 3 20.6569 3 19V5C3 3.34315 4.34315 2 6 2H10C10.5523 2 11 2.44772 11 3C11 3.55228 10.5523 4 10 4H6ZM15.2929 7.29289C15.6834 6.90237 16.3166 6.90237 16.7071 7.29289L20.7071 11.2929C21.0976 11.6834 21.0976 12.3166 20.7071 12.7071L16.7071 16.7071C16.3166 17.0976 15.6834 17.0976 15.2929 16.7071C14.9024 16.3166 14.9024 15.6834 15.2929 15.2929L17.5858 13H11C10.4477 13 10 12.5523 10 12C10 11.4477 10.4477 11 11 11H17.5858L15.2929 8.70711C14.9024 8.31658 14.9024 7.68342 15.2929 7.29289Z",fill:"currentColor"})),ZPe=e=>d.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},d.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.5001 3.44338C12.1907 3.26474 11.8095 3.26474 11.5001 3.44338L4.83984 7.28868C4.53044 7.46731 4.33984 7.79744 4.33984 8.1547V15.8453C4.33984 16.2026 4.53044 16.5327 4.83984 16.7113L11.5001 20.5566C11.8095 20.7353 12.1907 20.7353 12.5001 20.5566L19.1604 16.7113C19.4698 16.5327 19.6604 16.2026 19.6604 15.8453V8.1547C19.6604 7.79744 19.4698 7.46731 19.1604 7.28868L12.5001 3.44338ZM10.5001 1.71133C11.4283 1.17543 12.5719 1.17543 13.5001 1.71133L20.1604 5.55663C21.0886 6.09252 21.6604 7.0829 21.6604 8.1547V15.8453C21.6604 16.9171 21.0886 17.9075 20.1604 18.4434L13.5001 22.2887C12.5719 22.8246 11.4283 22.8246 10.5001 22.2887L3.83984 18.4434C2.91164 17.9075 2.33984 16.9171 2.33984 15.8453V8.1547C2.33984 7.0829 2.91164 6.09252 3.83984 5.55663L10.5001 1.71133Z",fill:"currentColor"}),d.createElement("path",{d:"M9.44133 11.4454L9.92944 9.98105C10.0321 9.67299 10.4679 9.67299 10.5706 9.98105L11.0587 11.4454C11.2941 12.1517 11.8483 12.7059 12.5546 12.9413L14.019 13.4294C14.327 13.5321 14.327 13.9679 14.019 14.0706L12.5546 14.5587C11.8483 14.7941 11.2941 15.3483 11.0587 16.0546L10.5706 17.519C10.4679 17.827 10.0321 17.827 9.92944 17.519L9.44133 16.0546C9.2059 15.3483 8.65167 14.7941 7.94537 14.5587L6.48105 14.0706C6.17298 13.9679 6.17298 13.5321 6.48105 13.4294L7.94537 12.9413C8.65167 12.7059 9.2059 12.1517 9.44133 11.4454Z",fill:"currentColor"}),d.createElement("path",{d:"M14.4946 8.05961L14.7996 7.14441C14.8638 6.95187 15.1362 6.95187 15.2004 7.14441L15.5054 8.05961C15.6526 8.50104 15.999 8.84744 16.4404 8.99458L17.3556 9.29965C17.5481 9.36383 17.5481 9.63617 17.3556 9.70035L16.4404 10.0054C15.999 10.1526 15.6526 10.499 15.5054 10.9404L15.2004 11.8556C15.1362 12.0481 14.8638 12.0481 14.7996 11.8556L14.4946 10.9404C14.3474 10.499 14.001 10.1526 13.5596 10.0054L12.6444 9.70035C12.4519 9.63617 12.4519 9.36383 12.6444 9.29965L13.5596 8.99458C14.001 8.84744 14.3474 8.50104 14.4946 8.05961Z",fill:"currentColor"})),cpe=e=>d.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},d.createElement("path",{d:"M3.06957 10.8763C3.62331 6.43564 7.40967 3 12 3C14.2824 3 16.4028 3.85067 18.0118 5.25439V4C18.0118 3.44772 18.4595 3 19.0118 3C19.5641 3 20.0118 3.44772 20.0118 4V8C20.0118 8.55228 19.5641 9 19.0118 9H15C14.4477 9 14 8.55228 14 8C14 7.44772 14.4477 7 15 7H16.9571C15.6757 5.76379 13.9101 5 12 5C8.43108 5 5.48466 7.67174 5.0542 11.1237C4.98586 11.6718 4.48619 12.0607 3.93815 11.9923C3.39011 11.924 3.00123 11.4243 3.06957 10.8763ZM20.0618 12.0077C20.6099 12.076 20.9988 12.5757 20.9304 13.1237C20.3767 17.5644 16.5903 21 12 21C9.72322 21 7.60762 20.1535 5.99999 18.7559V20C5.99999 20.5523 5.55228 21 4.99999 21C4.44771 21 3.99999 20.5523 3.99999 20V16C3.99999 15.4477 4.44771 15 4.99999 15H8.99999C9.55228 15 9.99999 15.4477 9.99999 16C9.99999 16.5523 9.55228 17 8.99999 17H7.04285C8.32433 18.2362 10.0899 19 12 19C15.5689 19 18.5153 16.3283 18.9458 12.8763C19.0141 12.3282 19.5138 11.9393 20.0618 12.0077Z",fill:"currentColor"})),YPe=e=>d.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},d.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.5677 3.5C11.2129 3.5 10.8847 3.68789 10.7051 3.99377L9.89391 5.37524C9.3595 6.28538 8.38603 6.84786 7.3304 6.85645L5.73417 6.86945C5.3794 6.87233 5.0527 7.06288 4.87559 7.3702L4.43693 8.13135C4.2603 8.43784 4.25877 8.81481 4.43291 9.12273L5.22512 10.5235C5.74326 11.4397 5.74326 12.5603 5.22512 13.4765L4.43291 14.8773C4.25877 15.1852 4.2603 15.5622 4.43693 15.8687L4.87559 16.6298C5.0527 16.9371 5.3794 17.1277 5.73417 17.1306L7.33042 17.1436C8.38605 17.1522 9.35952 17.7146 9.89393 18.6248L10.7051 20.0062C10.8847 20.3121 11.2129 20.5 11.5677 20.5H12.4378C12.7926 20.5 13.1208 20.3121 13.3004 20.0062L14.1116 18.6248C14.646 17.7146 15.6195 17.1522 16.6751 17.1436L18.2714 17.1306C18.6262 17.1277 18.9529 16.9371 19.13 16.6298L19.5687 15.8687C19.7453 15.5622 19.7468 15.1852 19.5727 14.8773L18.7805 13.4765C18.2623 12.5603 18.2623 11.4397 18.7805 10.5235L19.5727 9.12273C19.7468 8.81481 19.7453 8.43784 19.5687 8.13135L19.13 7.3702C18.9529 7.06288 18.6262 6.87233 18.2714 6.86945L16.6751 6.85645C15.6195 6.84786 14.646 6.28538 14.1116 5.37524L13.3004 3.99377C13.1208 3.68788 12.7926 3.5 12.4378 3.5H11.5677ZM8.97978 2.98131C9.5186 2.06365 10.5033 1.5 11.5677 1.5H12.4378C13.5022 1.5 14.4869 2.06365 15.0257 2.98131L15.8369 4.36278C16.015 4.66616 16.3395 4.85365 16.6914 4.85652L18.2877 4.86951C19.352 4.87818 20.3321 5.4498 20.8635 6.37177L21.3021 7.13292C21.832 8.05239 21.8366 9.18331 21.3142 10.1071L20.522 11.5078C20.3493 11.8132 20.3493 12.1868 20.522 12.4922L21.3142 13.893C21.8366 14.8167 21.832 15.9476 21.3021 16.8671L20.8635 17.6282C20.3321 18.5502 19.352 19.1218 18.2877 19.1305L16.6914 19.1435C16.3395 19.1464 16.015 19.3339 15.8369 19.6372L15.0257 21.0187C14.4869 21.9363 13.5022 22.5 12.4378 22.5H11.5677C10.5033 22.5 9.5186 21.9363 8.97978 21.0187L8.16863 19.6372C7.99049 19.3339 7.666 19.1464 7.31413 19.1435L5.71789 19.1305C4.65357 19.1218 3.67347 18.5502 3.14213 17.6282L2.70347 16.8671C2.17358 15.9476 2.16899 14.8167 2.6914 13.893L3.48361 12.4922C3.65632 12.1868 3.65632 11.8132 3.48361 11.5078L2.6914 10.1071C2.16899 9.18331 2.17358 8.05239 2.70347 7.13292L3.14213 6.37177C3.67347 5.4498 4.65357 4.87818 5.71789 4.86951L7.31411 4.85652C7.66599 4.85366 7.99048 4.66616 8.16862 4.36278L8.97978 2.98131Z",fill:"currentColor"}),d.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.0028 10.5C11.1741 10.5 10.5024 11.1716 10.5024 12C10.5024 12.8284 11.1741 13.5 12.0028 13.5C12.8315 13.5 13.5032 12.8284 13.5032 12C13.5032 11.1716 12.8315 10.5 12.0028 10.5ZM8.50178 12C8.50178 10.067 10.0692 8.5 12.0028 8.5C13.9364 8.5 15.5038 10.067 15.5038 12C15.5038 13.933 13.9364 15.5 12.0028 15.5C10.0692 15.5 8.50178 13.933 8.50178 12Z",fill:"currentColor"})),KPe=e=>d.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},d.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.2929 3.29289C11.6834 2.90237 12.3166 2.90237 12.7071 3.29289L16.7071 7.29289C17.0976 7.68342 17.0976 8.31658 16.7071 8.70711C16.3166 9.09763 15.6834 9.09763 15.2929 8.70711L13 6.41421V15C13 15.5523 12.5523 16 12 16C11.4477 16 11 15.5523 11 15V6.41421L8.70711 8.70711C8.31658 9.09763 7.68342 9.09763 7.29289 8.70711C6.90237 8.31658 6.90237 7.68342 7.29289 7.29289L11.2929 3.29289ZM4 14C4.55228 14 5 14.4477 5 15V18C5 18.5523 5.44772 19 6 19H18C18.5523 19 19 18.5523 19 18V15C19 14.4477 19.4477 14 20 14C20.5523 14 21 14.4477 21 15V18C21 19.6569 19.6569 21 18 21H6C4.34315 21 3 19.6569 3 18V15C3 14.4477 3.44772 14 4 14Z",fill:"currentColor"})),QPe=e=>d.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},d.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.85719 3H15.1428C16.2266 2.99999 17.1007 2.99998 17.8086 3.05782C18.5375 3.11737 19.1777 3.24318 19.77 3.54497C20.7108 4.02433 21.4757 4.78924 21.955 5.73005C22.2568 6.32234 22.3826 6.96253 22.4422 7.69138C22.5 8.39925 22.5 9.27339 22.5 10.3572V13.6428C22.5 14.7266 22.5 15.6008 22.4422 16.3086C22.3826 17.0375 22.2568 17.6777 21.955 18.27C21.4757 19.2108 20.7108 19.9757 19.77 20.455C19.1777 20.7568 18.5375 20.8826 17.8086 20.9422C17.1008 21 16.2266 21 15.1428 21H8.85717C7.77339 21 6.89925 21 6.19138 20.9422C5.46253 20.8826 4.82234 20.7568 4.23005 20.455C3.28924 19.9757 2.52433 19.2108 2.04497 18.27C1.74318 17.6777 1.61737 17.0375 1.55782 16.3086C1.49998 15.6007 1.49999 14.7266 1.5 13.6428V10.3572C1.49999 9.27341 1.49998 8.39926 1.55782 7.69138C1.61737 6.96253 1.74318 6.32234 2.04497 5.73005C2.52433 4.78924 3.28924 4.02433 4.23005 3.54497C4.82234 3.24318 5.46253 3.11737 6.19138 3.05782C6.89926 2.99998 7.77341 2.99999 8.85719 3ZM6.35424 5.05118C5.74907 5.10062 5.40138 5.19279 5.13803 5.32698C4.57354 5.6146 4.1146 6.07354 3.82698 6.63803C3.69279 6.90138 3.60062 7.24907 3.55118 7.85424C3.50078 8.47108 3.5 9.26339 3.5 10.4V13.6C3.5 14.7366 3.50078 15.5289 3.55118 16.1458C3.60062 16.7509 3.69279 17.0986 3.82698 17.362C4.1146 17.9265 4.57354 18.3854 5.13803 18.673C5.40138 18.8072 5.74907 18.8994 6.35424 18.9488C6.97108 18.9992 7.76339 19 8.9 19H9.5V5H8.9C7.76339 5 6.97108 5.00078 6.35424 5.05118ZM11.5 5V19H15.1C16.2366 19 17.0289 18.9992 17.6458 18.9488C18.2509 18.8994 18.5986 18.8072 18.862 18.673C19.4265 18.3854 19.8854 17.9265 20.173 17.362C20.3072 17.0986 20.3994 16.7509 20.4488 16.1458C20.4992 15.5289 20.5 14.7366 20.5 13.6V10.4C20.5 9.26339 20.4992 8.47108 20.4488 7.85424C20.3994 7.24907 20.3072 6.90138 20.173 6.63803C19.8854 6.07354 19.4265 5.6146 18.862 5.32698C18.5986 5.19279 18.2509 5.10062 17.6458 5.05118C17.0289 5.00078 16.2366 5 15.1 5H11.5ZM5 8.5C5 7.94772 5.44772 7.5 6 7.5H7C7.55229 7.5 8 7.94772 8 8.5C8 9.05229 7.55229 9.5 7 9.5H6C5.44772 9.5 5 9.05229 5 8.5ZM5 12C5 11.4477 5.44772 11 6 11H7C7.55229 11 8 11.4477 8 12C8 12.5523 7.55229 13 7 13H6C5.44772 13 5 12.5523 5 12Z",fill:"currentColor"}));function JPe({className:e,icon:t,label:n,onClick:r,style:a,tabIndex:o=0,ref:s}){return i.jsx("label",{className:P(e,Eu.wrapper),style:a,tabIndex:-1,children:i.jsx("button",{className:Eu.label,"aria-label":n,onClick:r,tabIndex:o,ref:s,children:t})})}var OM="AlertDialog",[upe,XPe]=Qa(OM,[cC]),jr=cC(),NM=e=>{const{__scopeAlertDialog:t,...n}=e,r=jr(t);return i.jsx(M1,{...r,...n,modal:!0})};NM.displayName=OM;var dpe="AlertDialogTrigger",fpe=d.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,a=jr(n);return i.jsx(ch,{...a,...r,ref:t})});fpe.displayName=dpe;var ppe="AlertDialogPortal",IM=e=>{const{__scopeAlertDialog:t,...n}=e,r=jr(t);return i.jsx(T1,{...r,...n})};IM.displayName=ppe;var mpe="AlertDialogOverlay",jM=d.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,a=jr(n);return i.jsx(w1,{...a,...r,ref:t})});jM.displayName=mpe;var Bo="AlertDialogContent",[gpe,hpe]=upe(Bo),RM=d.forwardRef((e,t)=>{const{__scopeAlertDialog:n,children:r,...a}=e,o=jr(n),s=d.useRef(null),l=Or(t,s),c=d.useRef(null);return i.jsx(kO,{contentName:Bo,titleName:LM,docsSlug:"alert-dialog",children:i.jsx(gpe,{scope:n,cancelRef:c,children:i.jsxs(_1,{role:"alertdialog",...o,...a,ref:l,onOpenAutoFocus:rt(a.onOpenAutoFocus,u=>{u.preventDefault(),c.current?.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[i.jsx(AO,{children:r}),i.jsx(ype,{contentRef:s})]})})})});RM.displayName=Bo;var LM="AlertDialogTitle",$M=d.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,a=jr(n);return i.jsx(PO,{...a,...r,ref:t})});$M.displayName=LM;var DM="AlertDialogDescription",FM=d.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,a=jr(n);return i.jsx(OO,{...a,...r,ref:t})});FM.displayName=DM;var vpe="AlertDialogAction",BM=d.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,a=jr(n);return i.jsx(S1,{...a,...r,ref:t})});BM.displayName=vpe;var UM="AlertDialogCancel",HM=d.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,{cancelRef:a}=hpe(UM,n),o=jr(n),s=Or(t,a);return i.jsx(S1,{...o,...r,ref:s})});HM.displayName=UM;var ype=({contentRef:e})=>{const t=`\`${Bo}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Bo}\` by passing a \`${DM}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Bo}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return d.useEffect(()=>{document.getElementById(e.current?.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},Cpe=NM,xpe=IM,bpe=jM,wpe=RM,_pe=BM,Spe=HM,Mpe=$M,$6=FM;function VM({title:e,description:t,onClose:n,actionButton:r,cancelButton:a,moreInfoLink:o}){return i.jsx(Cpe,{open:!0,onOpenChange:s=>{s||n()},children:i.jsxs(xpe,{children:[i.jsx(bpe,{className:"fixed inset-0 border-token-border-medium radix-state-open:animate-show"}),i.jsxs(wpe,{className:"fixed start-1/2 top-1/2 flex max-h-[85vh] w-[90vw] max-w-lg -translate-x-1/2 -translate-y-1/2 flex-col gap-2 rounded-2xl bg-token-main-surface-primary shadow-2xl focus:outline-none radix-state-open:animate-alertShow",onEscapeKeyDown:s=>s.preventDefault(),children:[i.jsx(Mpe,{className:"border-b border-token-border-light p-4 text-lg font-semibold md:p-6",children:e}),i.jsxs("div",{className:"flex flex-col gap-4 p-4 md:p-6",children:[i.jsx($6,{className:"text-base",children:t}),i.jsxs("div",{className:"flex justify-end gap-2",children:[o&&i.jsx($6,{className:"flex-grow",children:o}),a&&i.jsx(Spe,{asChild:!0,children:a}),i.jsx(_pe,{asChild:!0,children:r})]})]})]})]})})}const GM="1696863369",Tpe=Ee.UseSidekick,Epe=Ee.SidekickLauncherOnboarding,kpe="https://help.openai.com/en/articles/9275200",Ape="https://persistent.oaistatic.com/sidekick/public/ChatGPT_Desktop_public_latest.dmg",WM="1697140512",Ppe=Ee.UseSidetron,Ope=Ee.hasSeenWindowsAppOnboarding,Npe="https://help.openai.com/en/articles/9982051",Ipe="https://apps.microsoft.com/detail/9nt1r1c2hh7j",zM="download";function qM(e,t){const n=Se(),r=NO(e).layer.get(t,!1);return n!=null&&r}function jpe(){return qM(GM,"has_sidekick_access")}function Rpe(){return qM(WM,"can_download_sidetron")}function f4(){const e=jpe(),t=Rpe();return{isSidekickAvailable:e,isSidetronAvailable:t,isDesktopAppAvailable:e||t}}function Lpe(e){return e===zM}function $pe(){const e=Ge(),{hash:t}=ds(),n=Lpe(t.slice(1));return{openModal:()=>{e({hash:zM})},closeModal:()=>{e({hash:""})},isOpen:n}}function eOe(e){const t=f4(),{isDesktopAppAvailable:n}=t,r=p4(t),a=z.getLayerValue({layerName:r.statsigLayerName,key:"show_nux_banner",defaultValue:!1}),{eligible:o,isLoading:s}=ke(r.downloadAnnouncement),{eligible:l,isLoading:c}=ke(r.onboardingAnnouncement);return{eligible:!(!o||!l||!n||e.conversationMode?.kind!==Oe.PrimaryAssistant)&&a,isLoading:c||s}}function tOe({onClose:e}){const t=f4(),n=p4(t);d.useEffect(()=>{S.logEvent(n.analyticsBannerShown),z.logEvent(n.statsigBannerShown)},[n.analyticsBannerShown,n.statsigBannerShown]);const{markAsViewed:r}=ke(n.downloadAnnouncement),a=d.useCallback(()=>{r(),S.logEvent(n.analyticsBannerDismissed),z.logEvent(n.statsigBannerDismissed),e&&e()},[r,e,n.analyticsBannerDismissed,n.statsigBannerDismissed]),o=d.useCallback(()=>{S.logEvent(n.analyticsBannerDownloadClicked),z.logEvent(n.statsigBannerDownloadClicked),r(),e&&e()},[r,e,n.analyticsBannerDownloadClicked,n.statsigBannerDownloadClicked]),s={...n,isAppAvailable:t.isDesktopAppAvailable,markAsDownloaded:o,markAsViewed:a};return i.jsx(Bpe,{...s})}function Dpe(e){window.open(e,"_blank")}function p4(e){return e.isSidekickAvailable?Wpe:zpe}function Fpe(e){return e.bannerTitle}function nOe(){const{closeModal:e,isOpen:t}=$pe(),n=f4(),{isDesktopAppAvailable:r}=n,a=p4(n),o=d.useMemo(()=>({isDesktopAppAvailable:r}),[r]),s=()=>{S.logEvent(a.analyticsModalClosed,o),z.logEvent(a.statsigModalClosed),e()},l=()=>{S.logEvent(a.analyticsModalDownloadClicked,o),z.logEvent(a.statsigModalDownloadClicked),e()};if(d.useEffect(()=>{t&&(S.logEvent(a.analyticsModalShown,{...o}),z.logEvent(a.statsigModalShown))},[o,t,a.analyticsModalShown,a.statsigModalShown]),!t)return null;const c={...a,isAppAvailable:n.isDesktopAppAvailable,markAsDownloaded:l,markAsViewed:s};return i.jsx(Upe,{...c})}function Bpe({downloadUrl:e,markAsDownloaded:t,markAsViewed:n,messages:r,learnMoreUrl:a}){const o=U(),s=d.useCallback(()=>{Dpe(e),t()},[t,e]),l=i.jsx(b,{...Fpe(r)}),c=i.jsx(b,{...r.bannerContent}),u=i.jsxs("div",{className:"flex-grow",children:[i.jsx("div",{className:"mb-0.5 font-semibold",children:l}),i.jsx("span",{className:"text-token-text-secondary",children:c}),i.jsxs(Fh,{href:a,className:"ml-2 gap-1 font-medium",children:[i.jsx(b,{...r.learnMore}),i.jsx(Dh,{className:"icon-sm inline-block"})]})]});return i.jsx(Ir,{onPrimaryCtaClick:s,primaryCtaText:o.formatMessage(r.download),onDismiss:n,content:u})}function Upe({downloadUrl:e,markAsDownloaded:t,markAsViewed:n,isAppAvailable:r,messages:a,learnMoreUrl:o}){const s=a.modalTitle,l=i.jsx(b,{...s}),c=i.jsx(b,{...a.modalContent}),u=i.jsx("div",{className:"mt-2",children:i.jsxs(Fh,{href:o,className:"flex items-center gap-1 font-medium",children:[i.jsx(b,{...a.learnMore}),i.jsx(Dh,{className:"icon-sm"})]})}),f=i.jsx(re,{as:"link",to:e,color:"primary",onClick:t,openNewTab:!0,children:i.jsx(b,{...a.download})}),p=i.jsx(re,{color:"secondary",onClick:n,children:i.jsx(b,{...Gpe.close})}),m=r?f:p,g=r?p:void 0;return i.jsx(VM,{onClose:n,title:l,description:c,actionButton:m,cancelButton:g,moreInfoLink:u})}const Hpe=V({bannerTitle:{id:"SidekickOnboarding.bannerTitle",defaultMessage:"ChatGPT is now available for macOS 14+ with Apple Silicon"},bannerContent:{id:"SidekickOnboarding.banner_content_3",defaultMessage:"Get faster access to ChatGPT with the Option + Space shortcut, and use Advanced Voice Mode to get hands-free answers while you work."},modalTitle:{id:"SidekickOnboarding.modalTitle",defaultMessage:"ChatGPT is available for macOS 14+ with Apple Silicon"},modalContent:{id:"SidekickOnboarding.modal_content_eligible",defaultMessage:"Quickly access ChatGPT from anywhere on your computer with the Option + Space shortcut. Share screenshots, upload files, and use Advanced Voice Mode to chat with your computer and get hands-free answers while you work."},learnMore:{id:"SidekickOnboarding.learn_more",defaultMessage:"Learn more"},download:{id:"SidekickOnboarding.download",defaultMessage:"Download"}}),Vpe=V({bannerTitle:{id:"SidetronOnboarding.bannerTitle",defaultMessage:"ChatGPT is now available for Windows 10+"},bannerContent:{id:"SidetronOnboarding.banner_content_3",defaultMessage:"Get faster access to ChatGPT with the Alt + Space shortcut, and use Advanced Voice Mode to get hands-free answers while you work."},modalTitle:{id:"SidetronOnboarding.modalTitle",defaultMessage:"ChatGPT is available for Windows 10+"},modalContent:{id:"SidetronOnboarding.modal_content_eligible",defaultMessage:"Quickly access ChatGPT from anywhere on your computer with the Alt + Space shortcut. Share screenshots, upload files, and use Advanced Voice Mode to chat with your computer and get hands-free answers while you work."},learnMore:{id:"SidetronOnboarding.learn_more",defaultMessage:"Learn more"},download:{id:"SidetronOnboarding.download",defaultMessage:"Download on Microsoft Store"}}),Gpe=V({close:{id:"SidekickOnboarding.close",defaultMessage:"Close"}}),Wpe={downloadUrl:Ape,messages:Hpe,learnMoreUrl:kpe,analyticsModalShown:k.sidekickDownloadModalShown,analyticsModalClosed:k.sidekickDownloadModalClosed,analyticsModalDownloadClicked:k.sidekickDownloadModalDownloaded,analyticsBannerShown:k.sidekickAnnouncementShown,analyticsBannerDismissed:k.sidekickAnnouncementDismissed,analyticsBannerDownloadClicked:k.sidekickAnnouncementLinkClicked,statsigLayerName:GM,statsigModalShown:"chatgpt_sidekick_modal_shown",statsigModalClosed:"chatgpt_sidekick_modal_closed",statsigModalDownloadClicked:"chatgpt_sidekick_modal_download_clicked",statsigBannerShown:"chatgpt_sidekick_announcement_shown",statsigBannerDismissed:"chatgpt_sidekick_announcement_closed",statsigBannerDownloadClicked:"chatgpt_sidekick_announcement_download_clicked",downloadAnnouncement:Tpe,onboardingAnnouncement:Epe},zpe={downloadUrl:Ipe,messages:Vpe,learnMoreUrl:Npe,analyticsModalShown:k.sidetronDownloadModalShown,analyticsModalClosed:k.sidetronDownloadModalClosed,analyticsModalDownloadClicked:k.sidetronDownloadModalDownloaded,analyticsBannerShown:k.sidetronAnnouncementShown,analyticsBannerDismissed:k.sidetronAnnouncementDismissed,analyticsBannerDownloadClicked:k.sidetronAnnouncementLinkClicked,statsigLayerName:WM,statsigModalShown:"chatgpt_sidetron_modal_shown",statsigModalClosed:"chatgpt_sidetron_modal_closed",statsigModalDownloadClicked:"chatgpt_sidetron_modal_download_clicked",statsigBannerShown:"chatgpt_sidetron_announcement_shown",statsigBannerDismissed:"chatgpt_sidetron_announcement_closed",statsigBannerDownloadClicked:"chatgpt_sidetron_announcement_download_clicked",downloadAnnouncement:Ppe,onboardingAnnouncement:Ope},qpe=25;function Zpe(e,t=0,n="",r=qpe,a=void 0){return ye({queryKey:["workspace",e,t,n],queryFn:async()=>await q.getWorkspaceUsers(e,t,r,n),placeholderData:a,enabled:!!e})}function rOe(e){const{data:t}=Zpe(e);return t?.total??0}const Ype=["AF","AL","DZ","AS","AD","AO","AI","AQ","AG","AR","AM","AW","AU","AT","AZ","BS","BH","BD","BB","BY","BE","BZ","BJ","BM","BT","BO","BQ","BA","BW","BV","BR","IO","BN","BG","BF","BI","CV","KH","CM","CA","KY","CF","TD","CL","CN","CX","CC","CO","KM","CD","CG","CK","CR","HR","CU","CW","CY","CZ","CI","DK","DJ","DM","DO","EC","EG","SV","GQ","ER","EE","SZ","ET","FK","FO","FJ","FI","FR","GF","PF","TF","GA","GM","GE","DE","GH","GI","GR","GL","GD","GP","GU","GT","GG","GN","GW","GY","HT","HM","VA","HN","HK","HU","IS","IN","ID","IR","IQ","IE","IM","IL","IT","JM","JP","JE","JO","KZ","KE","KI","KP","KR","KW","KG","LA","LV","LB","LS","LR","LY","LI","LT","LU","MO","MG","MW","MY","MV","ML","MT","MH","MQ","MR","MU","YT","MX","FM","MD","MC","MN","ME","MS","MA","MZ","MM","NA","NR","NP","NL","NC","NZ","NI","NE","NG","NU","NF","MP","NO","OM","PK","PW","PS","PA","PG","PY","PE","PH","PN","PL","PT","PR","QA","MK","RO","RU","RW","RE","BL","SH","KN","LC","MF","PM","VC","WS","SM","ST","SA","SN","RS","SC","SL","SG","SX","SK","SI","SB","SO","ZA","GS","SS","ES","LK","SD","SR","SJ","SE","CH","SY","TW","TJ","TZ","TH","TL","TG","TK","TO","TT","TN","TR","TM","TC","TV","UG","UA","AE","GB","UM","US","UY","UZ","VU","VE","VN","VG","VI","WF","EH","YE","ZM","ZW","AX"],Kpe=new Set(["AT","BE","BG","HR","CY","CZ","DK","EE","FI","FR","DE","GR","HU","IS","IE","IT","LV","LI","LT","LU","MT","NL","NO","PL","PT","RO","SK","SI","ES","SE"]),ti="US",Qpe="GB",Jpe="CH",Xpe={AF:"Afghanistan",AL:"Albania",DZ:"Algeria",AS:"American Samoa",AD:"Andorra",AO:"Angola",AI:"Anguilla",AQ:"Antarctica",AG:"Antigua & Barbuda",AR:"Argentina",AM:"Armenia",AW:"Aruba",AU:"Australia",AT:"Austria",AZ:"Azerbaijan",BS:"Bahamas",BH:"Bahrain",BD:"Bangladesh",BB:"Barbados",BY:"Belarus",BE:"Belgium",BZ:"Belize",BJ:"Benin",BM:"Bermuda",BT:"Bhutan",BO:"Bolivia",BQ:"Caribbean Netherlands",BA:"Bosnia & Herzegovina",BW:"Botswana",BV:"Bouvet Island",BR:"Brazil",IO:"British Indian Ocean Territory",BN:"Brunei",BG:"Bulgaria",BF:"Burkina Faso",BI:"Burundi",CV:"Cape Verde",KH:"Cambodia",CM:"Cameroon",CA:"Canada",KY:"Cayman Islands",CF:"Central African Republic",TD:"Chad",CL:"Chile",CN:"China",CX:"Christmas Island",CC:"Cocos (Keeling) Islands",CO:"Colombia",KM:"Comoros",CD:"Congo - Kinshasa",CG:"Congo - Brazzaville",CK:"Cook Islands",CR:"Costa Rica",HR:"Croatia",CU:"Cuba",CW:"Curaçao",CY:"Cyprus",CZ:"Czechia",CI:"Côte d’Ivoire",DK:"Denmark",DJ:"Djibouti",DM:"Dominica",DO:"Dominican Republic",EC:"Ecuador",EG:"Egypt",SV:"El Salvador",GQ:"Equatorial Guinea",ER:"Eritrea",EE:"Estonia",SZ:"Eswatini",ET:"Ethiopia",FK:"Falkland Islands (Islas Malvinas)",FO:"Faroe Islands",FJ:"Fiji",FI:"Finland",FR:"France",GF:"French Guiana",PF:"French Polynesia",TF:"French Southern Territories",GA:"Gabon",GM:"Gambia",GE:"Georgia",DE:"Germany",GH:"Ghana",GI:"Gibraltar",GR:"Greece",GL:"Greenland",GD:"Grenada",GP:"Guadeloupe",GU:"Guam",GT:"Guatemala",GG:"Guernsey",GN:"Guinea",GW:"Guinea-Bissau",GY:"Guyana",HT:"Haiti",HM:"Heard & McDonald Islands",VA:"Vatican City",HN:"Honduras",HK:"Hong Kong",HU:"Hungary",IS:"Iceland",IN:"India",ID:"Indonesia",IR:"Iran",IQ:"Iraq",IE:"Ireland",IM:"Isle of Man",IL:"Israel",IT:"Italy",JM:"Jamaica",JP:"Japan",JE:"Jersey",JO:"Jordan",KZ:"Kazakhstan",KE:"Kenya",KI:"Kiribati",KP:"North Korea",KR:"South Korea",KW:"Kuwait",KG:"Kyrgyzstan",LA:"Laos",LV:"Latvia",LB:"Lebanon",LS:"Lesotho",LR:"Liberia",LY:"Libya",LI:"Liechtenstein",LT:"Lithuania",LU:"Luxembourg",MO:"Macao",MG:"Madagascar",MW:"Malawi",MY:"Malaysia",MV:"Maldives",ML:"Mali",MT:"Malta",MH:"Marshall Islands",MQ:"Martinique",MR:"Mauritania",MU:"Mauritius",YT:"Mayotte",MX:"Mexico",FM:"Micronesia",MD:"Moldova",MC:"Monaco",MN:"Mongolia",ME:"Montenegro",MS:"Montserrat",MA:"Morocco",MZ:"Mozambique",MM:"Myanmar (Burma)",NA:"Namibia",NR:"Nauru",NP:"Nepal",NL:"Netherlands",NC:"New Caledonia",NZ:"New Zealand",NI:"Nicaragua",NE:"Niger",NG:"Nigeria",NU:"Niue",NF:"Norfolk Island",MP:"Northern Mariana Islands",NO:"Norway",OM:"Oman",PK:"Pakistan",PW:"Palau",PS:"Palestine",PA:"Panama",PG:"Papua New Guinea",PY:"Paraguay",PE:"Peru",PH:"Philippines",PN:"Pitcairn Islands",PL:"Poland",PT:"Portugal",PR:"Puerto Rico",QA:"Qatar",MK:"North Macedonia",RO:"Romania",RU:"Russia",RW:"Rwanda",RE:"Réunion",BL:"St. Barthélemy",SH:"St. Helena",KN:"St. Kitts & Nevis",LC:"St. Lucia",MF:"St. Martin",PM:"St. Pierre & Miquelon",VC:"St. Vincent & Grenadines",WS:"Samoa",SM:"San Marino",ST:"São Tomé & Príncipe",SA:"Saudi Arabia",SN:"Senegal",RS:"Serbia",SC:"Seychelles",SL:"Sierra Leone",SG:"Singapore",SX:"Sint Maarten",SK:"Slovakia",SI:"Slovenia",SB:"Solomon Islands",SO:"Somalia",ZA:"South Africa",GS:"South Georgia & South Sandwich Islands",SS:"South Sudan",ES:"Spain",LK:"Sri Lanka",SD:"Sudan",SR:"Suriname",SJ:"Svalbard & Jan Mayen",SE:"Sweden",CH:"Switzerland",SY:"Syria",TW:"Taiwan",TJ:"Tajikistan",TZ:"Tanzania",TH:"Thailand",TL:"Timor-Leste",TG:"Togo",TK:"Tokelau",TO:"Tonga",TT:"Trinidad & Tobago",TN:"Tunisia",TR:"Türkiye",TM:"Turkmenistan",TC:"Turks & Caicos Islands",TV:"Tuvalu",UG:"Uganda",UA:"Ukraine",AE:"United Arab Emirates",GB:"United Kingdom",UM:"U.S. Outlying Islands",US:"United States",UY:"Uruguay",UZ:"Uzbekistan",VU:"Vanuatu",VE:"Venezuela",VN:"Vietnam",VG:"British Virgin Islands",VI:"U.S. Virgin Islands",WF:"Wallis & Futuna",EH:"Western Sahara",YE:"Yemen",ZM:"Zambia",ZW:"Zimbabwe",AX:"Åland Islands"};function e0e(e){return Ype.includes(e)}function aOe(e,t){return t?(te.addAction(`Force using ${ti}`,{user_country:e}),ti):e==null||!e0e(e)?(te.addError(`User country is null or unrecognized - will use ${ti}`,{user_country:e}),ti):e}function oOe(e){try{const t=new Intl.DisplayNames([e],{type:"region"});return n=>t.of(n)??""}catch(t){return te.addError("Failed to create country display name formatter, will fallback to en_US locale display name",{cause:t}),n=>Xpe[n]??""}}function t0e(e){return Kpe.has(e)}const ZM="USD",YM="GBP",i2="EUR";function sOe(e){return t0e(e)||e==Jpe?i2:e==Qpe?YM:ZM}const Xo=V({dollarSign:{id:"currencyCodes.dollarSign",defaultMessage:"$"},dollarCode:{id:"currencyCodes.dollarCode",defaultMessage:"USD"},poundSign:{id:"currencyCodes.poundSign",defaultMessage:"£"},poundCode:{id:"currencyCodes.poundCode",defaultMessage:"GBP"},euroSign:{id:"currencyCodes.euroSign",defaultMessage:"€"},euroCode:{id:"currencyCodes.euroCode",defaultMessage:"EUR"}}),Dd={sign:Xo.dollarSign,code:Xo.dollarCode},Fd={sign:Xo.poundSign,code:Xo.poundCode},Bd={sign:Xo.euroSign,code:Xo.euroCode},iOe="https://help.openai.com/en/collections/3943089-billing",lOe="https://openai.com/chatgpt/enterprise",cOe="https://help.openai.com/en/articles/7905690-how-do-i-cancel-my-apple-subscription-for-chatgpt-plus-in-the-chatgpt-ios-app",uOe="https://help.openai.com/en/articles/8258076-how-to-cancel-my-plus-subscription-in-the-chatgpt-android-app",dOe="https://help.openai.com/en/articles/7102672-how-can-i-access-gpt-4",n0e="pricing",fOe="team-pricing",pOe={WEBAPP:"chatgpt_web",MOBILE_IOS:"chatgpt_mobile_ios",MOBILE_ANDROID:"chatgpt_mobile_android",GRANTED:"chatgpt_gratis_recepient",NOT_PURCHASED:"chatgpt_not_purchased"},mOe={ALREADY_PAID:"User is already paid"},gOe={country:ti,currency:ZM};let l2;function oa(e,t){l2=t,e({hash:n0e})}function hOe(e){e({hash:""})}function vOe(){const e=l2;return l2=void 0,e}const r0e=e=>d.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},d.createElement("path",{d:"M6 12C6 11.4477 6.44772 11 7 11H17C17.5523 11 18 11.4477 18 12C18 12.5523 17.5523 13 17 13H7C6.44772 13 6 12.5523 6 12Z",fill:"currentColor"})),m4=e=>d.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},d.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 3C12.5523 3 13 3.44772 13 4L13 11H20C20.5523 11 21 11.4477 21 12C21 12.5523 20.5523 13 20 13L13 13L13 20C13 20.5523 12.5523 21 12 21C11.4477 21 11 20.5523 11 20L11 13L4 13C3.44772 13 3 12.5523 3 12C3 11.4477 3.44772 11 4 11L11 11L11 4C11 3.44772 11.4477 3 12 3Z",fill:"currentColor"}));he.ol`ml-5 list-decimal`;const a0e=he.ul`ml-3 list-disc`,o0e=he.li`marker:text-token-text-tertiary text-token-text-primary mb-2`;function KM(e){const t=d.useRef({value:e,previous:e});return d.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var g4="Radio",[s0e,QM]=Qa(g4),[i0e,l0e]=s0e(g4),JM=d.forwardRef((e,t)=>{const{__scopeRadio:n,name:r,checked:a=!1,required:o,disabled:s,value:l="on",onCheck:c,form:u,...f}=e,[p,m]=d.useState(null),g=Or(t,y=>m(y)),h=d.useRef(!1),v=p?u||!!p.closest("form"):!0;return i.jsxs(i0e,{scope:n,checked:a,disabled:s,children:[i.jsx(Rt.button,{type:"button",role:"radio","aria-checked":a,"data-state":tT(a),"data-disabled":s?"":void 0,disabled:s,value:l,...f,ref:g,onClick:rt(e.onClick,y=>{a||c?.(),v&&(h.current=y.isPropagationStopped(),h.current||y.stopPropagation())})}),v&&i.jsx(c0e,{control:p,bubbles:!h.current,name:r,value:l,checked:a,required:o,disabled:s,form:u,style:{transform:"translateX(-100%)"}})]})});JM.displayName=g4;var XM="RadioIndicator",eT=d.forwardRef((e,t)=>{const{__scopeRadio:n,forceMount:r,...a}=e,o=l0e(XM,n);return i.jsx(Gi,{present:r||o.checked,children:i.jsx(Rt.span,{"data-state":tT(o.checked),"data-disabled":o.disabled?"":void 0,...a,ref:t})})});eT.displayName=XM;var c0e=e=>{const{control:t,checked:n,bubbles:r=!0,...a}=e,o=d.useRef(null),s=KM(n),l=uC(t);return d.useEffect(()=>{const c=o.current,u=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(u,"checked").set;if(s!==n&&p){const m=new Event("click",{bubbles:r});p.call(c,n),c.dispatchEvent(m)}},[s,n,r]),i.jsx("input",{type:"radio","aria-hidden":!0,defaultChecked:n,...a,tabIndex:-1,ref:o,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function tT(e){return e?"checked":"unchecked"}var u0e=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],h4="RadioGroup",[d0e,yOe]=Qa(h4,[E1,QM]),nT=E1(),rT=QM(),[f0e,p0e]=d0e(h4),aT=d.forwardRef((e,t)=>{const{__scopeRadioGroup:n,name:r,defaultValue:a,value:o,required:s=!1,disabled:l=!1,orientation:c,dir:u,loop:f=!0,onValueChange:p,...m}=e,g=nT(n),h=dC(u),[v,y]=Wi({prop:o,defaultProp:a,onChange:p});return i.jsx(f0e,{scope:n,name:r,required:s,disabled:l,value:v,onValueChange:y,children:i.jsx(fC,{asChild:!0,...g,orientation:c,dir:h,loop:f,children:i.jsx(Rt.div,{role:"radiogroup","aria-required":s,"aria-orientation":c,"data-disabled":l?"":void 0,dir:h,...m,ref:t})})})});aT.displayName=h4;var oT="RadioGroupItem",sT=d.forwardRef((e,t)=>{const{__scopeRadioGroup:n,disabled:r,...a}=e,o=p0e(oT,n),s=o.disabled||r,l=nT(n),c=rT(n),u=d.useRef(null),f=Or(t,u),p=o.value===a.value,m=d.useRef(!1);return d.useEffect(()=>{const g=v=>{u0e.includes(v.key)&&(m.current=!0)},h=()=>m.current=!1;return document.addEventListener("keydown",g),document.addEventListener("keyup",h),()=>{document.removeEventListener("keydown",g),document.removeEventListener("keyup",h)}},[]),i.jsx(pC,{asChild:!0,...l,focusable:!s,active:p,children:i.jsx(JM,{disabled:s,required:o.required,checked:p,...c,...a,name:o.name,ref:f,onCheck:()=>o.onValueChange(a.value),onKeyDown:rt(g=>{g.key==="Enter"&&g.preventDefault()}),onFocus:rt(a.onFocus,()=>{m.current&&u.current?.click()})})})});sT.displayName=oT;var m0e="RadioGroupIndicator",iT=d.forwardRef((e,t)=>{const{__scopeRadioGroup:n,...r}=e,a=rT(n);return i.jsx(eT,{...a,...r,ref:t})});iT.displayName=m0e;var COe=aT,lT=sT,cT=iT;const g0e=he.div`p-6`,h0e=he.label`font-semibold text-base cursor-pointer`,v0e=he.div`flex flex-col gap-3 text-token-text-secondary text-sm mt-3`,y0e=he.p`text-token-text-primary`,D6=he.s`text-token-text-tertiary`,xo=999,xOe=2;function bOe({billingType:e,name:t,billingFeatures:n,cost:r,currencySign:a,currencyCode:o,monthlyCost:s,discountedMonthlyCost:l,costStructure:c}){const u=U();return i.jsxs(g0e,{children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx(lT,{value:e,id:e,className:"h-5 w-5 cursor-pointer rounded-full border border-token-border-medium bg-token-main-surface-primary outline-none hover:bg-token-main-surface-secondary radix-state-checked:border-green-500 radix-state-checked:bg-green-500",children:i.jsx(cT,{className:"flex items-center justify-center",children:i.jsx(k1,{className:"mt-0.25 h-[14px] w-[14px] stroke-[3] text-white"})})}),i.jsx(h0e,{htmlFor:e,children:i.jsx(b,{...t})})]}),i.jsxs(v0e,{children:[i.jsxs("div",{children:[i.jsx(y0e,{children:i.jsx(b,{...r,values:{monthlyCost:s,discountedMonthlyCost:l,currencyCode:u.formatMessage(o),currencySign:u.formatMessage(a),s:(...f)=>i.jsx(D6,{children:f})}})}),i.jsx("p",{children:i.jsx(b,{...c})})]}),i.jsx(a0e,{children:n.map(f=>i.jsx(o0e,{children:i.jsx(b,{...f,values:{monthlyCost:s,minimumMonthlyCost:l*2,currencyCode:u.formatMessage(o),currencySign:u.formatMessage(a),s:(...p)=>i.jsx(D6,{children:p})}})},f.id))})]})]})}function wOe({numSeats:e,minSeats:t,setNumSeats:n}){return i.jsxs("div",{className:"mb-3 flex items-center",children:[i.jsx("button",{disabled:e<=t,onClick:r=>{const a=r.shiftKey;n(o=>Yu(o-=a?10:1,t,xo))},className:"px-4 py-2 disabled:cursor-not-allowed disabled:text-token-text-secondary",children:i.jsx(r0e,{className:"icon-sm"})}),i.jsx("input",{type:"number",min:t,max:xo,name:"seats",value:e,onChange:r=>{n(parseInt(r.target.value))},onBlur:()=>{e<t&&n(t),e>xo&&n(xo),e||n(t)},className:"m-0 h-9 appearance-none rounded border border-gray-200 px-2 py-0 text-center text-sm text-gray-800 shadow-none outline-none ring-transparent focus:border-green-500 focus:ring-green-500 dark:border-gray-700"}),i.jsx("button",{disabled:e>=xo,onClick:r=>{const a=r.shiftKey;n(o=>Yu(o+=a?10:1,t,xo))},className:"px-4 py-2 disabled:cursor-not-allowed disabled:text-token-text-secondary",children:i.jsx(m4,{className:"icon-sm"})})]})}const me=V({flexiblePlanName:{id:"teamBilling.flexiblePlan.name",defaultMessage:"Flexible plan"},flexiblePlanCost:{id:"teamBilling.flexiblePlan.cost",defaultMessage:"{currencyCode} {currencySign}{monthlyCost}"},flexibleBilledMonthly:{id:"teamBilling.flexiblePlan.billedMonthly",defaultMessage:"Price billed monthly"},flexibleAddRemoveUsers:{id:"teamBilling.flexiblePlan.addRemoveUsers",defaultMessage:"Add or remove users as needed"},flexibleMinBill:{id:"teamBilling.flexiblePlan.minBill",defaultMessage:"The minimum monthly bill is for 2 users, {currencyCode} {currencySign}{minimumMonthlyCost}/month"},seatsTitle:{id:"teamBilling.seatsTitle",defaultMessage:"Seats"},summaryTitle:{id:"teamBilling.summaryTitle",defaultMessage:"Summary"},annualPlanName:{id:"teamBilling.annualPlan.name",defaultMessage:"Annual plan"},annualPlanCost:{id:"teamBilling.annualPlan.cost",defaultMessage:"{currencyCode} {currencySign}{discountedMonthlyCost} <s>{currencySign}{monthlyCost}</s>"},annualBilledAnnually:{id:"teamBilling.annualPlan.billedAnnually",defaultMessage:"Annual price billed annually"},annualAddUsersWithRenewal:{id:"teamBilling.annualPlan.addUsersWithRenewal",defaultMessage:"Add users as needed, remove users only when you renew the contract"},annualMinBill:{id:"teamBilling.annualPlan.minBill",defaultMessage:"The minimum bill is for 2 users, {currencyCode} {currencySign}{minimumMonthlyCost}/month billed annually"},teamsCostStructure:{id:"teamBilling.teamsCostStructure",defaultMessage:"per person/month"},annualSavingsPercentage:{id:"teamBilling.annualSavingsPercentage",defaultMessage:"16.7% off"},createWorkspace:{id:"createWorkspace.title",defaultMessage:"Create workspace"},cancel:{id:"createWorkspace.cancel",defaultMessage:"Cancel"},selectTeamPlan:{id:"createWorkspace.selectTeamPlan",defaultMessage:"Select Team Plan"},selectTeamPlanModalTitle:{id:"createWorkspace.selectTeamPlanModalTitle",defaultMessage:"Select your team plan"},continueToBillingButton:{id:"createWorkspace.continueToBillingButton",defaultMessage:"Continue to billing"},paymentErrorWarning:{id:"createWorkspace.paymentErrorWarning",defaultMessage:"The payments page encountered an error. Please try again. If the problem continues, please visit help.openai.com."},selectBillingOption:{id:"createWorkspace.selectBillingOption",defaultMessage:"Select billing options"},annualPlanSelected:{id:"teamBilling.annualPlanSelected",defaultMessage:"ChatGPT Team annual plan"},annualPlanBilled:{id:"teamBilling.annualPlanBilled",defaultMessage:"Price billed annually, starting {date}"},annualPlanTotal:{id:"teamBilling.annualPlanTotal",defaultMessage:"{currencyCode} {currencySign}{totalCost} per year total"},flexiblePlanSelected:{id:"teamBilling.flexiblePlanSelected",defaultMessage:"ChatGPT Team flexible plan"},flexiblePlanBilled:{id:"teamBilling.flexiblePlanBilled",defaultMessage:"Price billed monthly, starting {date}"},flexiblePlanTotal:{id:"teamBilling.flexiblePlanTotal",defaultMessage:"{currencyCode} {currencySign}{totalCost} per month total"},continueToPricePreview:{id:"teamBilling.continueToPricePreview",defaultMessage:"Continue"},changeEffectDate:{id:"teamBilling.changeEffectDate",defaultMessage:"This change will take effect at your next renewal on {date}"},confirmPageChangeEffectDate:{id:"teamBilling.confirmPageChangeEffectDate",defaultMessage:"Your billing schedule will change from {current_plan} to {new_plan} starting at your next renewal on {date}"},confirmChange:{id:"teamBilling.confirmChange",defaultMessage:"Confirm"}}),C0e={type:"month",name:me.flexiblePlanName,cost:me.flexiblePlanCost,monthlyCost:30,discountedMonthlyCost:30,unitCost:30,currencySign:Dd.sign,currencyCode:Dd.code,costStructure:me.teamsCostStructure,billingFeatures:[me.flexibleBilledMonthly,me.flexibleAddRemoveUsers,me.flexibleMinBill]},x0e={type:"year",name:me.annualPlanName,cost:me.annualPlanCost,monthlyCost:30,discountedMonthlyCost:25,unitCost:25*12,currencySign:Dd.sign,currencyCode:Dd.code,costStructure:me.teamsCostStructure,originalCost:me.flexiblePlanCost,savingsFromOriginal:me.annualSavingsPercentage,billingFeatures:[me.annualBilledAnnually,me.annualAddUsersWithRenewal,me.annualMinBill]},b0e={type:"month",name:me.flexiblePlanName,cost:me.flexiblePlanCost,monthlyCost:30,discountedMonthlyCost:20,unitCost:30,currencySign:Fd.sign,currencyCode:Fd.code,costStructure:me.teamsCostStructure,billingFeatures:[me.flexibleBilledMonthly,me.flexibleAddRemoveUsers,me.flexibleMinBill]},w0e={type:"year",name:me.annualPlanName,cost:me.annualPlanCost,monthlyCost:30,discountedMonthlyCost:25,unitCost:25*12,currencySign:Fd.sign,currencyCode:Fd.code,costStructure:me.teamsCostStructure,originalCost:me.flexiblePlanCost,savingsFromOriginal:me.annualSavingsPercentage,billingFeatures:[me.annualBilledAnnually,me.annualAddUsersWithRenewal,me.annualMinBill]},_0e={type:"month",name:me.flexiblePlanName,cost:me.flexiblePlanCost,monthlyCost:34,discountedMonthlyCost:34,unitCost:34,currencySign:Bd.sign,currencyCode:Bd.code,costStructure:me.teamsCostStructure,billingFeatures:[me.flexibleBilledMonthly,me.flexibleAddRemoveUsers,me.flexibleMinBill]},S0e={type:"year",name:me.annualPlanName,cost:me.annualPlanCost,monthlyCost:34,discountedMonthlyCost:29,unitCost:29*12,currencySign:Bd.sign,currencyCode:Bd.code,costStructure:me.teamsCostStructure,originalCost:me.flexiblePlanCost,savingsFromOriginal:me.annualSavingsPercentage,billingFeatures:[me.annualBilledAnnually,me.annualAddUsersWithRenewal,me.annualMinBill]};function _Oe(e){return e===i2?{flexibleBillingPlan:_0e,annualBillingPlan:S0e}:e===YM?{flexibleBillingPlan:b0e,annualBillingPlan:w0e}:{flexibleBillingPlan:C0e,annualBillingPlan:x0e}}function v4(){return d.useContext(mC).isElectron}const M0e="ext-oai-did",T0e="ext-login-allow-phone",E0e="ext-signup-allow-phone",k0e="ext-use-new-phone-ui";function A0e(e){return{[M0e]:e}}function P0e(){const{layer:e}=xn("1346366956");return()=>e.get("use_email_otp",!1)}const SOe={auth0:i.jsx(b,{id:"mfaModals.auth0",defaultMessage:"username & password"}),"google-oauth2":i.jsx(b,{id:"mfaModals.google-oauth2",defaultMessage:"Google"}),windowslive:i.jsx(b,{id:"mfaModals.microsoft",defaultMessage:"Microsoft"}),apple:i.jsx(b,{id:"mfaModals.apple",defaultMessage:"Apple"}),samlp:i.jsx(b,{id:"mfaModals.samlp",defaultMessage:"your company's single sign on solution"}),oidc:i.jsx(b,{id:"mfaModals.oidc",defaultMessage:"your company's single sign on solution"})},O0e="oai-auth-provider";function N0e(){const e=v4(),{value:t}=ct("1072178956"),{value:n}=ct("3342258807");if(e){if(n)return I0e;if(t)return j0e}}const I0e=ai.OpenAISidetron,j0e=ai.Auth0Sidetron;function R0e(){const{value:e}=$t("719574156");return e}function L0e(){const{layer:e}=xn("1346366956");return()=>e.get("login_allow_phone",!1)}function $0e(){const{layer:e}=xn("1346366956");return()=>e.get("signup_allow_phone",!1)}function D0e(){const{layer:e}=xn("1346366956");return()=>e.get("use_new_phone_ui",!1)}function F0e(){const{layer:e}=xn("1914829685");return()=>e.get("forward_to_authapi",!1)}function B0e(e,t,n){return t&&n?ai.OpenAI:t?ai.LoginWebAuth0:ai.Auth0}function un(){const[e]=fs(),{value:t}=$t("1198030896"),n=P0e(),r=R0e(),a=L0e(),o=$0e(),l=D0e()(),{country:c}=Zi(),u=F0e(),f=N0e();return({authType:m="signup",callbackUrl:g="/",additionalAuthParams:h={},callback:v,shouldOpenPaymentModalOnAuth:y=!1,forceAuthFlow:x=void 0}={})=>{const C=x===R9.Auth0,w=x===R9.AuthApi,_=u(),E=f??B0e(e,t,(_||w)&&!C),T=n(),M=a(),A=o();y&&en.setCookie(Yt.ShowPaymentModal,!0,{maxAge:6*60*60}),sessionStorage.setItem(O0e,E.toString()),v?.(E),xh.signIn(E,{callbackUrl:g},{prompt:"login",screen_hint:m,...A0e(IO()),...T?{use_email_otp:"true"}:{},...M||r?{[T0e]:"true"}:{},...A?{[E0e]:"true"}:{},...c?{country_code:c}:{},...l?{[k0e]:"true"}:{},...h})}}const uT=typeof document<"u"?J.useLayoutEffect:()=>{};function U0e(e){const t=d.useRef(null);return uT(()=>{t.current=e},[e]),d.useCallback((...n)=>{const r=t.current;return r?.(...n)},[])}const _l=e=>{var t;return(t=e?.ownerDocument)!==null&&t!==void 0?t:document},Oa=e=>e&&"window"in e&&e.window===e?e:_l(e).defaultView||window;function H0e(e){var t;return typeof window>"u"||window.navigator==null?!1:((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.brands.some(n=>e.test(n.brand)))||e.test(window.navigator.userAgent)}function V0e(e){var t;return typeof window<"u"&&window.navigator!=null?e.test(((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.platform)||window.navigator.platform):!1}function dT(e){let t=null;return()=>(t==null&&(t=e()),t)}const G0e=dT(function(){return V0e(/^Mac/i)}),W0e=dT(function(){return H0e(/Android/i)});function z0e(e){return e.mozInputSource===0&&e.isTrusted?!0:W0e()&&e.pointerType?e.type==="click"&&e.buttons===1:e.detail===0&&!e.pointerType}class q0e{isDefaultPrevented(){return this.nativeEvent.defaultPrevented}preventDefault(){this.defaultPrevented=!0,this.nativeEvent.preventDefault()}stopPropagation(){this.nativeEvent.stopPropagation(),this.isPropagationStopped=()=>!0}isPropagationStopped(){return!1}persist(){}constructor(t,n){this.nativeEvent=n,this.target=n.target,this.currentTarget=n.currentTarget,this.relatedTarget=n.relatedTarget,this.bubbles=n.bubbles,this.cancelable=n.cancelable,this.defaultPrevented=n.defaultPrevented,this.eventPhase=n.eventPhase,this.isTrusted=n.isTrusted,this.timeStamp=n.timeStamp,this.type=t}}function fT(e){let t=d.useRef({isFocused:!1,observer:null});uT(()=>{const r=t.current;return()=>{r.observer&&(r.observer.disconnect(),r.observer=null)}},[]);let n=U0e(r=>{e?.(r)});return d.useCallback(r=>{if(r.target instanceof HTMLButtonElement||r.target instanceof HTMLInputElement||r.target instanceof HTMLTextAreaElement||r.target instanceof HTMLSelectElement){t.current.isFocused=!0;let a=r.target,o=s=>{t.current.isFocused=!1,a.disabled&&n(new q0e("blur",s)),t.current.observer&&(t.current.observer.disconnect(),t.current.observer=null)};a.addEventListener("focusout",o,{once:!0}),t.current.observer=new MutationObserver(()=>{if(t.current.isFocused&&a.disabled){var s;(s=t.current.observer)===null||s===void 0||s.disconnect();let l=a===document.activeElement?null:document.activeElement;a.dispatchEvent(new FocusEvent("blur",{relatedTarget:l})),a.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:l}))}}),t.current.observer.observe(a,{attributes:!0,attributeFilter:["disabled"]})}},[n])}function Z0e(e){let{isDisabled:t,onFocus:n,onBlur:r,onFocusChange:a}=e;const o=d.useCallback(c=>{if(c.target===c.currentTarget)return r&&r(c),a&&a(!1),!0},[r,a]),s=fT(o),l=d.useCallback(c=>{const u=_l(c.target);c.target===c.currentTarget&&u.activeElement===c.target&&(n&&n(c),a&&a(!0),s(c))},[a,n,s]);return{focusProps:{onFocus:!t&&(n||a||r)?l:void 0,onBlur:!t&&(r||a)?o:void 0}}}let Sl=null,c2=new Set,di=new Map,Ya=!1,u2=!1;const Y0e={Tab:!0,Escape:!0};function y4(e,t){for(let n of c2)n(e,t)}function K0e(e){return!(e.metaKey||!G0e()&&e.altKey||e.ctrlKey||e.key==="Control"||e.key==="Shift"||e.key==="Meta")}function Ud(e){Ya=!0,K0e(e)&&(Sl="keyboard",y4("keyboard",e))}function En(e){Sl="pointer",(e.type==="mousedown"||e.type==="pointerdown")&&(Ya=!0,y4("pointer",e))}function pT(e){z0e(e)&&(Ya=!0,Sl="virtual")}function mT(e){e.target===window||e.target===document||(!Ya&&!u2&&(Sl="virtual",y4("virtual",e)),Ya=!1,u2=!1)}function gT(){Ya=!1,u2=!0}function d2(e){if(typeof window>"u"||di.get(Oa(e)))return;const t=Oa(e),n=_l(e);let r=t.HTMLElement.prototype.focus;t.HTMLElement.prototype.focus=function(){Ya=!0,r.apply(this,arguments)},n.addEventListener("keydown",Ud,!0),n.addEventListener("keyup",Ud,!0),n.addEventListener("click",pT,!0),t.addEventListener("focus",mT,!0),t.addEventListener("blur",gT,!1),typeof PointerEvent<"u"?(n.addEventListener("pointerdown",En,!0),n.addEventListener("pointermove",En,!0),n.addEventListener("pointerup",En,!0)):(n.addEventListener("mousedown",En,!0),n.addEventListener("mousemove",En,!0),n.addEventListener("mouseup",En,!0)),t.addEventListener("beforeunload",()=>{hT(e)},{once:!0}),di.set(t,{focus:r})}const hT=(e,t)=>{const n=Oa(e),r=_l(e);t&&r.removeEventListener("DOMContentLoaded",t),di.has(n)&&(n.HTMLElement.prototype.focus=di.get(n).focus,r.removeEventListener("keydown",Ud,!0),r.removeEventListener("keyup",Ud,!0),r.removeEventListener("click",pT,!0),n.removeEventListener("focus",mT,!0),n.removeEventListener("blur",gT,!1),typeof PointerEvent<"u"?(r.removeEventListener("pointerdown",En,!0),r.removeEventListener("pointermove",En,!0),r.removeEventListener("pointerup",En,!0)):(r.removeEventListener("mousedown",En,!0),r.removeEventListener("mousemove",En,!0),r.removeEventListener("mouseup",En,!0)),di.delete(n))};function Q0e(e){const t=_l(e);let n;return t.readyState!=="loading"?d2(e):(n=()=>{d2(e)},t.addEventListener("DOMContentLoaded",n)),()=>hT(e,n)}typeof document<"u"&&Q0e();function vT(){return Sl!=="pointer"}const J0e=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function X0e(e,t,n){var r;const a=typeof window<"u"?Oa(n?.target).HTMLInputElement:HTMLInputElement,o=typeof window<"u"?Oa(n?.target).HTMLTextAreaElement:HTMLTextAreaElement,s=typeof window<"u"?Oa(n?.target).HTMLElement:HTMLElement,l=typeof window<"u"?Oa(n?.target).KeyboardEvent:KeyboardEvent;return e=e||n?.target instanceof a&&!J0e.has(n==null||(r=n.target)===null||r===void 0?void 0:r.type)||n?.target instanceof o||n?.target instanceof s&&n?.target.isContentEditable,!(e&&t==="keyboard"&&n instanceof l&&!Y0e[n.key])}function eme(e,t,n){d2(),d.useEffect(()=>{let r=(a,o)=>{X0e(!!n?.isTextInput,a,o)&&e(vT())};return c2.add(r),()=>{c2.delete(r)}},t)}function tme(e){let{isDisabled:t,onBlurWithin:n,onFocusWithin:r,onFocusWithinChange:a}=e,o=d.useRef({isFocusWithin:!1}),s=d.useCallback(u=>{o.current.isFocusWithin&&!u.currentTarget.contains(u.relatedTarget)&&(o.current.isFocusWithin=!1,n&&n(u),a&&a(!1))},[n,a,o]),l=fT(s),c=d.useCallback(u=>{!o.current.isFocusWithin&&document.activeElement===u.target&&(r&&r(u),a&&a(!0),o.current.isFocusWithin=!0,l(u))},[r,a,l]);return t?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:c,onBlur:s}}}let Hd=!1,b0=0;function f2(){Hd=!0,setTimeout(()=>{Hd=!1},50)}function F6(e){e.pointerType==="touch"&&f2()}function nme(){if(!(typeof document>"u"))return typeof PointerEvent<"u"?document.addEventListener("pointerup",F6):document.addEventListener("touchend",f2),b0++,()=>{b0--,!(b0>0)&&(typeof PointerEvent<"u"?document.removeEventListener("pointerup",F6):document.removeEventListener("touchend",f2))}}function MOe(e){let{onHoverStart:t,onHoverChange:n,onHoverEnd:r,isDisabled:a}=e,[o,s]=d.useState(!1),l=d.useRef({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;d.useEffect(nme,[]);let{hoverProps:c,triggerHoverEnd:u}=d.useMemo(()=>{let f=(g,h)=>{if(l.pointerType=h,a||h==="touch"||l.isHovered||!g.currentTarget.contains(g.target))return;l.isHovered=!0;let v=g.currentTarget;l.target=v,t&&t({type:"hoverstart",target:v,pointerType:h}),n&&n(!0),s(!0)},p=(g,h)=>{if(l.pointerType="",l.target=null,h==="touch"||!l.isHovered)return;l.isHovered=!1;let v=g.currentTarget;r&&r({type:"hoverend",target:v,pointerType:h}),n&&n(!1),s(!1)},m={};return typeof PointerEvent<"u"?(m.onPointerEnter=g=>{Hd&&g.pointerType==="mouse"||f(g,g.pointerType)},m.onPointerLeave=g=>{!a&&g.currentTarget.contains(g.target)&&p(g,g.pointerType)}):(m.onTouchStart=()=>{l.ignoreEmulatedMouseEvents=!0},m.onMouseEnter=g=>{!l.ignoreEmulatedMouseEvents&&!Hd&&f(g,"mouse"),l.ignoreEmulatedMouseEvents=!1},m.onMouseLeave=g=>{!a&&g.currentTarget.contains(g.target)&&p(g,"mouse")}),{hoverProps:m,triggerHoverEnd:p}},[t,n,r,a,l]);return d.useEffect(()=>{a&&u({currentTarget:l.target},l.pointerType)},[a]),{hoverProps:c,isHovered:o}}function TOe(e={}){let{autoFocus:t=!1,isTextInput:n,within:r}=e,a=d.useRef({isFocused:!1,isFocusVisible:t||vT()}),[o,s]=d.useState(!1),[l,c]=d.useState(()=>a.current.isFocused&&a.current.isFocusVisible),u=d.useCallback(()=>c(a.current.isFocused&&a.current.isFocusVisible),[]),f=d.useCallback(g=>{a.current.isFocused=g,s(g),u()},[u]);eme(g=>{a.current.isFocusVisible=g,u()},[],{isTextInput:n});let{focusProps:p}=Z0e({isDisabled:r,onFocusChange:f}),{focusWithinProps:m}=tme({isDisabled:!r,onFocusWithinChange:f});return{isFocused:o,isFocusVisible:l,focusProps:r?m:p}}var rme=Object.defineProperty,ame=(e,t,n)=>t in e?rme(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,w0=(e,t,n)=>(ame(e,typeof t!="symbol"?t+"":t,n),n);let ome=class{constructor(){w0(this,"current",this.detect()),w0(this,"handoffState","pending"),w0(this,"currentId",0)}set(t){this.current!==t&&(this.handoffState="pending",this.currentId=0,this.current=t)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},$a=new ome;function ao(e){return $a.isServer?null:e instanceof Node?e.ownerDocument:e!=null&&e.hasOwnProperty("current")&&e.current instanceof Node?e.current.ownerDocument:document}function jf(e){typeof queueMicrotask=="function"?queueMicrotask(e):Promise.resolve().then(e).catch(t=>setTimeout(()=>{throw t}))}function Rr(){let e=[],t={addEventListener(n,r,a,o){return n.addEventListener(r,a,o),t.add(()=>n.removeEventListener(r,a,o))},requestAnimationFrame(...n){let r=requestAnimationFrame(...n);return t.add(()=>cancelAnimationFrame(r))},nextFrame(...n){return t.requestAnimationFrame(()=>t.requestAnimationFrame(...n))},setTimeout(...n){let r=setTimeout(...n);return t.add(()=>clearTimeout(r))},microTask(...n){let r={current:!0};return jf(()=>{r.current&&n[0]()}),t.add(()=>{r.current=!1})},style(n,r,a){let o=n.style.getPropertyValue(r);return Object.assign(n.style,{[r]:a}),this.add(()=>{Object.assign(n.style,{[r]:o})})},group(n){let r=Rr();return n(r),this.add(()=>r.dispose())},add(n){return e.includes(n)||e.push(n),()=>{let r=e.indexOf(n);if(r>=0)for(let a of e.splice(r,1))a()}},dispose(){for(let n of e.splice(0))n()}};return t}function Rf(){let[e]=d.useState(Rr);return d.useEffect(()=>()=>e.dispose(),[e]),e}let xt=(e,t)=>{$a.isServer?d.useEffect(e,t):d.useLayoutEffect(e,t)};function oo(e){let t=d.useRef(e);return xt(()=>{t.current=e},[e]),t}let Be=function(e){let t=oo(e);return J.useCallback((...n)=>t.current(...n),[t])};function sme(e){let t=e.width/2,n=e.height/2;return{top:e.clientY-n,right:e.clientX+t,bottom:e.clientY+n,left:e.clientX-t}}function ime(e,t){return!(!e||!t||e.right<t.left||e.left>t.right||e.bottom<t.top||e.top>t.bottom)}function kOe({disabled:e=!1}={}){let t=d.useRef(null),[n,r]=d.useState(!1),a=Rf(),o=Be(()=>{t.current=null,r(!1),a.dispose()}),s=Be(l=>{if(a.dispose(),t.current===null){t.current=l.currentTarget,r(!0);{let c=ao(l.currentTarget);a.addEventListener(c,"pointerup",o,!1),a.addEventListener(c,"pointermove",u=>{if(t.current){let f=sme(u);r(ime(f,t.current.getBoundingClientRect()))}},!1),a.addEventListener(c,"pointercancel",o,!1)}}});return{pressed:n,pressProps:e?{}:{onPointerDown:s,onPointerUp:o,onClick:o}}}let lme=d.createContext(void 0);function yT(){return d.useContext(lme)}function p2(...e){return Array.from(new Set(e.flatMap(t=>typeof t=="string"?t.split(" "):[]))).filter(Boolean).join(" ")}function sa(e,t,...n){if(e in t){let a=t[e];return typeof a=="function"?a(...n):a}let r=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map(a=>`"${a}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,sa),r}var Vd=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(Vd||{}),Jr=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(Jr||{});function Sn({ourProps:e,theirProps:t,slot:n,defaultTag:r,features:a,visible:o=!0,name:s,mergeRefs:l}){l=l??cme;let c=CT(t,e);if(o)return sc(c,n,r,s,l);let u=a??0;if(u&2){let{static:f=!1,...p}=c;if(f)return sc(p,n,r,s,l)}if(u&1){let{unmount:f=!0,...p}=c;return sa(f?0:1,{0(){return null},1(){return sc({...p,hidden:!0,style:{display:"none"}},n,r,s,l)}})}return sc(c,n,r,s,l)}function sc(e,t={},n,r,a){let{as:o=n,children:s,refName:l="ref",...c}=_0(e,["unmount","static"]),u=e.ref!==void 0?{[l]:e.ref}:{},f=typeof s=="function"?s(t):s;"className"in c&&c.className&&typeof c.className=="function"&&(c.className=c.className(t)),c["aria-labelledby"]&&c["aria-labelledby"]===c.id&&(c["aria-labelledby"]=void 0);let p={};if(t){let m=!1,g=[];for(let[h,v]of Object.entries(t))typeof v=="boolean"&&(m=!0),v===!0&&g.push(h.replace(/([A-Z])/g,y=>`-${y.toLowerCase()}`));if(m){p["data-headlessui-state"]=g.join(" ");for(let h of g)p[`data-${h}`]=""}}if(o===d.Fragment&&(Object.keys(Ma(c)).length>0||Object.keys(Ma(p)).length>0))if(!d.isValidElement(f)||Array.isArray(f)&&f.length>1){if(Object.keys(Ma(c)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${r} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(Ma(c)).concat(Object.keys(Ma(p))).map(m=>`  - ${m}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(m=>`  - ${m}`).join(`
`)].join(`
`))}else{let m=f.props,g=m?.className,h=typeof g=="function"?(...x)=>p2(g(...x),c.className):p2(g,c.className),v=h?{className:h}:{},y=CT(f.props,Ma(_0(c,["ref"])));for(let x in p)x in y&&delete p[x];return d.cloneElement(f,Object.assign({},y,p,u,{ref:a(f.ref,u.ref)},v))}return d.createElement(o,Object.assign({},_0(c,["ref"]),o!==d.Fragment&&u,o!==d.Fragment&&p),f)}function AOe(){let e=d.useRef([]),t=d.useCallback(n=>{for(let r of e.current)r!=null&&(typeof r=="function"?r(n):r.current=n)},[]);return(...n)=>{if(!n.every(r=>r==null))return e.current=n,t}}function cme(...e){return e.every(t=>t==null)?void 0:t=>{for(let n of e)n!=null&&(typeof n=="function"?n(t):n.current=t)}}function CT(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},n={};for(let r of e)for(let a in r)a.startsWith("on")&&typeof r[a]=="function"?(n[a]!=null||(n[a]=[]),n[a].push(r[a])):t[a]=r[a];if(t.disabled||t["aria-disabled"])for(let r in n)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(r)&&(n[r]=[a=>{var o;return(o=a?.preventDefault)==null?void 0:o.call(a)}]);for(let r in n)Object.assign(t,{[r](a,...o){let s=n[r];for(let l of s){if((a instanceof Event||a?.nativeEvent instanceof Event)&&a.defaultPrevented)return;l(a,...o)}}});return t}function POe(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},n={};for(let r of e)for(let a in r)a.startsWith("on")&&typeof r[a]=="function"?(n[a]!=null||(n[a]=[]),n[a].push(r[a])):t[a]=r[a];for(let r in n)Object.assign(t,{[r](...a){let o=n[r];for(let s of o)s?.(...a)}});return t}function tn(e){var t;return Object.assign(d.forwardRef(e),{displayName:(t=e.displayName)!=null?t:e.name})}function Ma(e){let t=Object.assign({},e);for(let n in t)t[n]===void 0&&delete t[n];return t}function _0(e,t=[]){let n=Object.assign({},e);for(let r of t)r in n&&delete n[r];return n}let ume="span";var Gd=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(Gd||{});function dme(e,t){var n;let{features:r=1,...a}=e,o={ref:t,"aria-hidden":(r&2)===2?!0:(n=a["aria-hidden"])!=null?n:void 0,hidden:(r&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(r&4)===4&&(r&2)!==2&&{display:"none"}}};return Sn({ourProps:o,theirProps:a,slot:{},defaultTag:ume,name:"Hidden"})}let m2=tn(dme),fme=d.createContext(void 0);function pme(){return d.useContext(fme)}function OOe(e){let t=e.parentElement,n=null;for(;t&&!(t instanceof HTMLFieldSetElement);)t instanceof HTMLLegendElement&&(n=t),t=t.parentElement;let r=t?.getAttribute("disabled")==="";return r&&mme(n)?!1:r}function mme(e){if(!e)return!1;let t=e.previousElementSibling;for(;t!==null;){if(t instanceof HTMLLegendElement)return!1;t=t.previousElementSibling}return!0}let xT=Symbol();function gme(e,t=!0){return Object.assign(e,{[xT]:t})}function zn(...e){let t=d.useRef(e);d.useEffect(()=>{t.current=e},[e]);let n=Be(r=>{for(let a of t.current)a!=null&&(typeof a=="function"?a(r):a.current=r)});return e.every(r=>r==null||r?.[xT])?void 0:n}let C4=d.createContext(null);C4.displayName="DescriptionContext";function bT(){let e=d.useContext(C4);if(e===null){let t=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,bT),t}return e}function hme(){let[e,t]=d.useState([]);return[e.length>0?e.join(" "):void 0,d.useMemo(()=>function(n){let r=Be(o=>(t(s=>[...s,o]),()=>t(s=>{let l=s.slice(),c=l.indexOf(o);return c!==-1&&l.splice(c,1),l}))),a=d.useMemo(()=>({register:r,slot:n.slot,name:n.name,props:n.props,value:n.value}),[r,n.slot,n.name,n.props,n.value]);return J.createElement(C4.Provider,{value:a},n.children)},[t])]}let vme="p";function yme(e,t){let n=d.useId(),r=yT(),{id:a=`headlessui-description-${n}`,...o}=e,s=bT(),l=zn(t);xt(()=>s.register(a),[a,s.register]);let c=r||!1,u=d.useMemo(()=>({...s.slot,disabled:c}),[s.slot,c]),f={ref:l,...s.props,id:a};return Sn({ourProps:f,theirProps:o,slot:u,defaultTag:vme,name:s.name||"Description"})}let Cme=tn(yme),xme=Object.assign(Cme,{});var wT=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(wT||{});let Lf=d.createContext(null);Lf.displayName="LabelContext";function _T(){let e=d.useContext(Lf);if(e===null){let t=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,_T),t}return e}function bme(e){var t,n,r;let a=(n=(t=d.useContext(Lf))==null?void 0:t.value)!=null?n:void 0;return((r=void 0)!=null?r:0)>0?[a,...e].filter(Boolean).join(" "):a}function NOe({inherit:e=!1}={}){let t=bme(),[n,r]=d.useState([]),a=e?[t,...n].filter(Boolean):n;return[a.length>0?a.join(" "):void 0,d.useMemo(()=>function(o){let s=Be(c=>(r(u=>[...u,c]),()=>r(u=>{let f=u.slice(),p=f.indexOf(c);return p!==-1&&f.splice(p,1),f}))),l=d.useMemo(()=>({register:s,slot:o.slot,name:o.name,props:o.props,value:o.value}),[s,o.slot,o.name,o.props,o.value]);return J.createElement(Lf.Provider,{value:l},o.children)},[r])]}let wme="label";function _me(e,t){var n;let r=d.useId(),a=_T(),o=pme(),s=yT(),{id:l=`headlessui-label-${r}`,htmlFor:c=o??((n=a.props)==null?void 0:n.htmlFor),passive:u=!1,...f}=e,p=zn(t);xt(()=>a.register(l),[l,a.register]);let m=Be(y=>{let x=y.currentTarget;if(x instanceof HTMLLabelElement&&y.preventDefault(),a.props&&"onClick"in a.props&&typeof a.props.onClick=="function"&&a.props.onClick(y),x instanceof HTMLLabelElement){let C=document.getElementById(x.htmlFor);if(C){let w=C.getAttribute("disabled");if(w==="true"||w==="")return;let _=C.getAttribute("aria-disabled");if(_==="true"||_==="")return;(C instanceof HTMLInputElement&&(C.type==="radio"||C.type==="checkbox")||C.role==="radio"||C.role==="checkbox"||C.role==="switch")&&C.click(),C.focus({preventScroll:!0})}}}),g=s||!1,h=d.useMemo(()=>({...a.slot,disabled:g}),[a.slot,g]),v={ref:p,...a.props,id:l,htmlFor:c,onClick:m};return u&&("onClick"in v&&(delete v.htmlFor,delete v.onClick),"onClick"in f&&delete f.onClick),Sn({ourProps:v,theirProps:f,slot:h,defaultTag:c?wme:"div",name:a.name||"Label"})}let Sme=tn(_me);Object.assign(Sme,{});let Mme=d.createContext(()=>{});function Tme({value:e,children:t}){return J.createElement(Mme.Provider,{value:e},t)}function Eme(e){if(e===null)return{width:0,height:0};let{width:t,height:n}=e.getBoundingClientRect();return{width:t,height:n}}function IOe(e,t=!1){let[n,r]=d.useReducer(()=>({}),{}),a=d.useMemo(()=>Eme(e),[e,n]);return xt(()=>{if(!e)return;let o=new ResizeObserver(r);return o.observe(e),()=>{o.disconnect()}},[e]),t?{width:`${a.width}px`,height:`${a.height}px`}:a}let kme=class extends Map{constructor(t){super(),this.factory=t}get(t){let n=super.get(t);return n===void 0&&(n=this.factory(t),this.set(t,n)),n}};function ST(e,t){let n=e(),r=new Set;return{getSnapshot(){return n},subscribe(a){return r.add(a),()=>r.delete(a)},dispatch(a,...o){let s=t[a].call(n,...o);s&&(n=s,r.forEach(l=>l()))}}}function MT(e){return d.useSyncExternalStore(e.subscribe,e.getSnapshot,e.getSnapshot)}let Ame=new kme(()=>ST(()=>[],{ADD(e){return this.includes(e)?this:[...this,e]},REMOVE(e){let t=this.indexOf(e);if(t===-1)return this;let n=this.slice();return n.splice(t,1),n}}));function As(e,t){let n=Ame.get(t),r=d.useId(),a=MT(n);if(xt(()=>{if(e)return n.dispatch("ADD",r),()=>n.dispatch("REMOVE",r)},[n,e]),!e)return!1;let o=a.indexOf(r),s=a.length;return o===-1&&(o=s,s+=1),o===s-1}let g2=new Map,fi=new Map;function B6(e){var t;let n=(t=fi.get(e))!=null?t:0;return fi.set(e,n+1),n!==0?()=>U6(e):(g2.set(e,{"aria-hidden":e.getAttribute("aria-hidden"),inert:e.inert}),e.setAttribute("aria-hidden","true"),e.inert=!0,()=>U6(e))}function U6(e){var t;let n=(t=fi.get(e))!=null?t:1;if(n===1?fi.delete(e):fi.set(e,n-1),n!==1)return;let r=g2.get(e);r&&(r["aria-hidden"]===null?e.removeAttribute("aria-hidden"):e.setAttribute("aria-hidden",r["aria-hidden"]),e.inert=r.inert,g2.delete(e))}function Pme(e,{allowed:t,disallowed:n}={}){let r=As(e,"inert-others");xt(()=>{var a,o;if(!r)return;let s=Rr();for(let c of(a=n?.())!=null?a:[])c&&s.add(B6(c));let l=(o=t?.())!=null?o:[];for(let c of l){if(!c)continue;let u=ao(c);if(!u)continue;let f=c.parentElement;for(;f&&f!==u.body;){for(let p of f.children)l.some(m=>p.contains(m))||s.add(B6(p));f=f.parentElement}}return s.dispose},[r,t,n])}function Ome(e,t,n){let r=oo(a=>{let o=a.getBoundingClientRect();o.x===0&&o.y===0&&o.width===0&&o.height===0&&n()});d.useEffect(()=>{if(!e)return;let a=t===null?null:t instanceof HTMLElement?t:t.current;if(!a)return;let o=Rr();if(typeof ResizeObserver<"u"){let s=new ResizeObserver(()=>r.current(a));s.observe(a),o.add(()=>s.disconnect())}if(typeof IntersectionObserver<"u"){let s=new IntersectionObserver(()=>r.current(a));s.observe(a),o.add(()=>s.disconnect())}return()=>o.dispose()},[t,r,e])}let Wd=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(","),Nme=["[data-autofocus]"].map(e=>`${e}:not([tabindex='-1'])`).join(",");var vr=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e[e.AutoFocus=64]="AutoFocus",e))(vr||{}),h2=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(h2||{}),Ime=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(Ime||{});function TT(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(Wd)).sort((t,n)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}function jme(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(Nme)).sort((t,n)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var ET=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(ET||{});function kT(e,t=0){var n;return e===((n=ao(e))==null?void 0:n.body)?!1:sa(t,{0(){return e.matches(Wd)},1(){let r=e;for(;r!==null;){if(r.matches(Wd))return!0;r=r.parentElement}return!1}})}function ROe(e){let t=ao(e);Rr().nextFrame(()=>{t&&!kT(t.activeElement,0)&&or(e)})}var Rme=(e=>(e[e.Keyboard=0]="Keyboard",e[e.Mouse=1]="Mouse",e))(Rme||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",e=>{e.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:e.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function or(e){e?.focus({preventScroll:!0})}let Lme=["textarea","input"].join(",");function $me(e){var t,n;return(n=(t=e?.matches)==null?void 0:t.call(e,Lme))!=null?n:!1}function Dme(e,t=n=>n){return e.slice().sort((n,r)=>{let a=t(n),o=t(r);if(a===null||o===null)return 0;let s=a.compareDocumentPosition(o);return s&Node.DOCUMENT_POSITION_FOLLOWING?-1:s&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function LOe(e,t){return Uo(TT(),t,{relativeTo:e})}function Uo(e,t,{sorted:n=!0,relativeTo:r=null,skipElements:a=[]}={}){let o=Array.isArray(e)?e.length>0?e[0].ownerDocument:document:e.ownerDocument,s=Array.isArray(e)?n?Dme(e):e:t&64?jme(e):TT(e);a.length>0&&s.length>1&&(s=s.filter(g=>!a.some(h=>h!=null&&"current"in h?h?.current===g:h===g))),r=r??o.activeElement;let l=(()=>{if(t&5)return 1;if(t&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),c=(()=>{if(t&1)return 0;if(t&2)return Math.max(0,s.indexOf(r))-1;if(t&4)return Math.max(0,s.indexOf(r))+1;if(t&8)return s.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),u=t&32?{preventScroll:!0}:{},f=0,p=s.length,m;do{if(f>=p||f+p<=0)return 0;let g=c+f;if(t&16)g=(g+p)%p;else{if(g<0)return 3;if(g>=p)return 1}m=s[g],m?.focus(u),f+=l}while(m!==o.activeElement);return t&6&&$me(m)&&m.select(),2}function AT(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function Fme(){return/Android/gi.test(window.navigator.userAgent)}function Bme(){return AT()||Fme()}function zs(e,t,n,r){let a=oo(n);d.useEffect(()=>{if(!e)return;function o(s){a.current(s)}return document.addEventListener(t,o,r),()=>document.removeEventListener(t,o,r)},[e,t,r])}function PT(e,t,n,r){let a=oo(n);d.useEffect(()=>{if(!e)return;function o(s){a.current(s)}return window.addEventListener(t,o,r),()=>window.removeEventListener(t,o,r)},[e,t,r])}const H6=30;function Ume(e,t,n){let r=As(e,"outside-click"),a=oo(n),o=d.useCallback(function(c,u){if(c.defaultPrevented)return;let f=u(c);if(f===null||!f.getRootNode().contains(f)||!f.isConnected)return;let p=function m(g){return typeof g=="function"?m(g()):Array.isArray(g)||g instanceof Set?g:[g]}(t);for(let m of p)if(m!==null&&(m.contains(f)||c.composed&&c.composedPath().includes(m)))return;return!kT(f,ET.Loose)&&f.tabIndex!==-1&&c.preventDefault(),a.current(c,f)},[a,t]),s=d.useRef(null);zs(r,"pointerdown",c=>{var u,f;s.current=((f=(u=c.composedPath)==null?void 0:u.call(c))==null?void 0:f[0])||c.target},!0),zs(r,"mousedown",c=>{var u,f;s.current=((f=(u=c.composedPath)==null?void 0:u.call(c))==null?void 0:f[0])||c.target},!0),zs(r,"click",c=>{Bme()||s.current&&(o(c,()=>s.current),s.current=null)},!0);let l=d.useRef({x:0,y:0});zs(r,"touchstart",c=>{l.current.x=c.touches[0].clientX,l.current.y=c.touches[0].clientY},!0),zs(r,"touchend",c=>{let u={x:c.changedTouches[0].clientX,y:c.changedTouches[0].clientY};if(!(Math.abs(u.x-l.current.x)>=H6||Math.abs(u.y-l.current.y)>=H6))return o(c,()=>c.target instanceof HTMLElement?c.target:null)},!0),PT(r,"blur",c=>o(c,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function Ml(...e){return d.useMemo(()=>ao(...e),[...e])}function OT(e,t,n,r){let a=oo(n);d.useEffect(()=>{e=e??window;function o(s){a.current(s)}return e.addEventListener(t,o,r),()=>e.removeEventListener(t,o,r)},[e,t,r])}function $Oe(e,t){return d.useMemo(()=>{var n;if(e.type)return e.type;let r=(n=e.as)!=null?n:"button";if(typeof r=="string"&&r.toLowerCase()==="button"||t?.tagName==="BUTTON"&&!t.hasAttribute("type"))return"button"},[e.type,e.as,t])}function Hme(){let e;return{before({doc:t}){var n;let r=t.documentElement,a=(n=t.defaultView)!=null?n:window;e=Math.max(0,a.innerWidth-r.clientWidth)},after({doc:t,d:n}){let r=t.documentElement,a=Math.max(0,r.clientWidth-r.offsetWidth),o=Math.max(0,e-a);n.style(r,"paddingRight",`${o}px`)}}}function Vme(){return AT()?{before({doc:e,d:t,meta:n}){function r(a){return n.containers.flatMap(o=>o()).some(o=>o.contains(a))}t.microTask(()=>{var a;if(window.getComputedStyle(e.documentElement).scrollBehavior!=="auto"){let l=Rr();l.style(e.documentElement,"scrollBehavior","auto"),t.add(()=>t.microTask(()=>l.dispose()))}let o=(a=window.scrollY)!=null?a:window.pageYOffset,s=null;t.addEventListener(e,"click",l=>{if(l.target instanceof HTMLElement)try{let c=l.target.closest("a");if(!c)return;let{hash:u}=new URL(c.href),f=e.querySelector(u);f&&!r(f)&&(s=f)}catch{}},!0),t.addEventListener(e,"touchstart",l=>{if(l.target instanceof HTMLElement)if(r(l.target)){let c=l.target;for(;c.parentElement&&r(c.parentElement);)c=c.parentElement;t.style(c,"overscrollBehavior","contain")}else t.style(l.target,"touchAction","none")}),t.addEventListener(e,"touchmove",l=>{if(l.target instanceof HTMLElement){if(l.target.tagName==="INPUT")return;if(r(l.target)){let c=l.target;for(;c.parentElement&&c.dataset.headlessuiPortal!==""&&!(c.scrollHeight>c.clientHeight||c.scrollWidth>c.clientWidth);)c=c.parentElement;c.dataset.headlessuiPortal===""&&l.preventDefault()}else l.preventDefault()}},{passive:!1}),t.add(()=>{var l;let c=(l=window.scrollY)!=null?l:window.pageYOffset;o!==c&&window.scrollTo(0,o),s&&s.isConnected&&(s.scrollIntoView({block:"nearest"}),s=null)})})}}:{}}function Gme(){return{before({doc:e,d:t}){t.style(e.documentElement,"overflow","hidden")}}}function Wme(e){let t={};for(let n of e)Object.assign(t,n(t));return t}let Na=ST(()=>new Map,{PUSH(e,t){var n;let r=(n=this.get(e))!=null?n:{doc:e,count:0,d:Rr(),meta:new Set};return r.count++,r.meta.add(t),this.set(e,r),this},POP(e,t){let n=this.get(e);return n&&(n.count--,n.meta.delete(t)),this},SCROLL_PREVENT({doc:e,d:t,meta:n}){let r={doc:e,d:t,meta:Wme(n)},a=[Vme(),Hme(),Gme()];a.forEach(({before:o})=>o?.(r)),a.forEach(({after:o})=>o?.(r))},SCROLL_ALLOW({d:e}){e.dispose()},TEARDOWN({doc:e}){this.delete(e)}});Na.subscribe(()=>{let e=Na.getSnapshot(),t=new Map;for(let[n]of e)t.set(n,n.documentElement.style.overflow);for(let n of e.values()){let r=t.get(n.doc)==="hidden",a=n.count!==0;(a&&!r||!a&&r)&&Na.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),n.count===0&&Na.dispatch("TEARDOWN",n)}});function zme(e,t,n=()=>({containers:[]})){let r=MT(Na),a=t?r.get(t):void 0,o=a?a.count>0:!1;return xt(()=>{if(!(!t||!e))return Na.dispatch("PUSH",t,n),()=>Na.dispatch("POP",t,n)},[e,t]),o}function qme(e,t,n=()=>[document.body]){let r=As(e,"scroll-lock");zme(r,t,a=>{var o;return{containers:[...(o=a.containers)!=null?o:[],n]}})}function V6(e){return[e.screenX,e.screenY]}function DOe(){let e=d.useRef([-1,-1]);return{wasMoved(t){let n=V6(t);return e.current[0]===n[0]&&e.current[1]===n[1]?!1:(e.current=n,!0)},update(t){e.current=V6(t)}}}function Zme(e=0){let[t,n]=d.useState(e),r=d.useCallback(c=>n(c),[t]),a=d.useCallback(c=>n(u=>u|c),[t]),o=d.useCallback(c=>(t&c)===c,[t]),s=d.useCallback(c=>n(u=>u&~c),[n]),l=d.useCallback(c=>n(u=>u^c),[n]);return{flags:t,setFlag:r,addFlag:a,hasFlag:o,removeFlag:s,toggleFlag:l}}var Yme={},G6,W6;typeof process<"u"&&typeof globalThis<"u"&&typeof Element<"u"&&((G6=process==null?void 0:Yme)==null?void 0:G6.NODE_ENV)==="test"&&typeof((W6=Element?.prototype)==null?void 0:W6.getAnimations)>"u"&&(Element.prototype.getAnimations=function(){return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.","Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.","","Example usage:","```js","import { mockAnimationsApi } from 'jsdom-testing-mocks'","mockAnimationsApi()","```"].join(`
`)),[]});var Kme=(e=>(e[e.None=0]="None",e[e.Closed=1]="Closed",e[e.Enter=2]="Enter",e[e.Leave=4]="Leave",e))(Kme||{});function Qme(e){let t={};for(let n in e)e[n]===!0&&(t[`data-${n}`]="");return t}function Jme(e,t,n,r){let[a,o]=d.useState(n),{hasFlag:s,addFlag:l,removeFlag:c}=Zme(e&&a?3:0),u=d.useRef(!1),f=d.useRef(!1),p=Rf();return xt(()=>{var m;if(e){if(n&&o(!0),!t){n&&l(3);return}return(m=r?.start)==null||m.call(r,n),Xme(t,{inFlight:u,prepare(){f.current?f.current=!1:f.current=u.current,u.current=!0,!f.current&&(n?(l(3),c(4)):(l(4),c(2)))},run(){f.current?n?(c(3),l(4)):(c(4),l(3)):n?c(1):l(1)},done(){var g;f.current&&typeof t.getAnimations=="function"&&t.getAnimations().length>0||(u.current=!1,c(7),n||o(!1),(g=r?.end)==null||g.call(r,n))}})}},[e,n,t,p]),e?[a,{closed:s(1),enter:s(2),leave:s(4),transition:s(2)||s(4)}]:[n,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function Xme(e,{prepare:t,run:n,done:r,inFlight:a}){let o=Rr();return tge(e,{prepare:t,inFlight:a}),o.nextFrame(()=>{n(),o.requestAnimationFrame(()=>{o.add(ege(e,r))})}),o.dispose}function ege(e,t){var n,r;let a=Rr();if(!e)return a.dispose;let o=!1;a.add(()=>{o=!0});let s=(r=(n=e.getAnimations)==null?void 0:n.call(e).filter(l=>l instanceof CSSTransition))!=null?r:[];return s.length===0?(t(),a.dispose):(Promise.allSettled(s.map(l=>l.finished)).then(()=>{o||t()}),a.dispose)}function tge(e,{inFlight:t,prepare:n}){if(t!=null&&t.current){n();return}let r=e.style.transition;e.style.transition="none",n(),e.offsetHeight,e.style.transition=r}function FOe(e,{container:t,accept:n,walk:r}){let a=d.useRef(n),o=d.useRef(r);d.useEffect(()=>{a.current=n,o.current=r},[n,r]),xt(()=>{if(!t||!e)return;let s=ao(t);if(!s)return;let l=a.current,c=o.current,u=Object.assign(p=>l(p),{acceptNode:l}),f=s.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,u,!1);for(;f.nextNode();)c(f.currentNode)},[t,e,a,o])}function x4(e,t){let n=d.useRef([]),r=Be(e);d.useEffect(()=>{let a=[...n.current];for(let[o,s]of t.entries())if(n.current[o]!==s){let l=r(t,a);return n.current=t,l}},[r,...t])}function BOe(){const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map(t=>{let{brand:n,version:r}=t;return n+"/"+r}).join(" "):navigator.userAgent}let $f=d.createContext(null);$f.displayName="OpenClosedContext";var Hn=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(Hn||{});function Df(){return d.useContext($f)}function nge({value:e,children:t}){return J.createElement($f.Provider,{value:e},t)}function rge({children:e}){return J.createElement($f.Provider,{value:null},e)}function age(e){function t(){document.readyState!=="loading"&&(e(),document.removeEventListener("DOMContentLoaded",t))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",t),t())}let Wr=[];age(()=>{function e(t){if(!(t.target instanceof HTMLElement)||t.target===document.body||Wr[0]===t.target)return;let n=t.target;n=n.closest(Wd),Wr.unshift(n??t.target),Wr=Wr.filter(r=>r!=null&&r.isConnected),Wr.splice(10)}window.addEventListener("click",e,{capture:!0}),window.addEventListener("mousedown",e,{capture:!0}),window.addEventListener("focus",e,{capture:!0}),document.body.addEventListener("click",e,{capture:!0}),document.body.addEventListener("mousedown",e,{capture:!0}),document.body.addEventListener("focus",e,{capture:!0})});function oge(e){throw new Error("Unexpected object: "+e)}var sge=(e=>(e[e.First=0]="First",e[e.Previous=1]="Previous",e[e.Next=2]="Next",e[e.Last=3]="Last",e[e.Specific=4]="Specific",e[e.Nothing=5]="Nothing",e))(sge||{});function UOe(e,t){let n=t.resolveItems();if(n.length<=0)return null;let r=t.resolveActiveIndex(),a=r??-1;switch(e.focus){case 0:{for(let o=0;o<n.length;++o)if(!t.resolveDisabled(n[o],o,n))return o;return r}case 1:{a===-1&&(a=n.length);for(let o=a-1;o>=0;--o)if(!t.resolveDisabled(n[o],o,n))return o;return r}case 2:{for(let o=a+1;o<n.length;++o)if(!t.resolveDisabled(n[o],o,n))return o;return r}case 3:{for(let o=n.length-1;o>=0;--o)if(!t.resolveDisabled(n[o],o,n))return o;return r}case 4:{for(let o=0;o<n.length;++o)if(t.resolveId(n[o],o,n)===e.id)return o;return r}case 5:return null;default:oge(e)}}function NT(e){let t=Be(e),n=d.useRef(!1);d.useEffect(()=>(n.current=!1,()=>{n.current=!0,jf(()=>{n.current&&t()})}),[t])}function ige(){let e=typeof document>"u";return"useSyncExternalStore"in W9?(t=>t.useSyncExternalStore)(W9)(()=>()=>{},()=>!1,()=>!e):!1}function Tl(){let e=ige(),[t,n]=d.useState($a.isHandoffComplete);return t&&$a.isHandoffComplete===!1&&n(!1),d.useEffect(()=>{t!==!0&&n(!0)},[t]),d.useEffect(()=>$a.handoff(),[]),e?!1:t}let IT=d.createContext(!1);function lge(){return d.useContext(IT)}function z6(e){return J.createElement(IT.Provider,{value:e.force},e.children)}function cge(e){let t=lge(),n=d.useContext(RT),r=Ml(e),[a,o]=d.useState(()=>{var s;if(!t&&n!==null)return(s=n.current)!=null?s:null;if($a.isServer)return null;let l=r?.getElementById("headlessui-portal-root");if(l)return l;if(r===null)return null;let c=r.createElement("div");return c.setAttribute("id","headlessui-portal-root"),r.body.appendChild(c)});return d.useEffect(()=>{a!==null&&(r!=null&&r.body.contains(a)||r==null||r.body.appendChild(a))},[a,r]),d.useEffect(()=>{t||n!==null&&o(n.current)},[n,o,t]),a}let jT=d.Fragment,uge=tn(function(e,t){let n=e,r=d.useRef(null),a=zn(gme(f=>{r.current=f}),t),o=Ml(r),s=cge(r),[l]=d.useState(()=>{var f;return $a.isServer?null:(f=o?.createElement("div"))!=null?f:null}),c=d.useContext(v2),u=Tl();return xt(()=>{!s||!l||s.contains(l)||(l.setAttribute("data-headlessui-portal",""),s.appendChild(l))},[s,l]),xt(()=>{if(l&&c)return c.register(l)},[c,l]),NT(()=>{var f;!s||!l||(l instanceof Node&&s.contains(l)&&s.removeChild(l),s.childNodes.length<=0&&((f=s.parentElement)==null||f.removeChild(s)))}),u?!s||!l?null:bh.createPortal(Sn({ourProps:{ref:a},theirProps:n,slot:{},defaultTag:jT,name:"Portal"}),l):null});function dge(e,t){let n=zn(t),{enabled:r=!0,...a}=e;return r?J.createElement(uge,{...a,ref:n}):Sn({ourProps:{ref:n},theirProps:a,slot:{},defaultTag:jT,name:"Portal"})}let fge=d.Fragment,RT=d.createContext(null);function pge(e,t){let{target:n,...r}=e,a={ref:zn(t)};return J.createElement(RT.Provider,{value:n},Sn({ourProps:a,theirProps:r,defaultTag:fge,name:"Popover.Group"}))}let v2=d.createContext(null);function mge(){let e=d.useContext(v2),t=d.useRef([]),n=Be(o=>(t.current.push(o),e&&e.register(o),()=>r(o))),r=Be(o=>{let s=t.current.indexOf(o);s!==-1&&t.current.splice(s,1),e&&e.unregister(o)}),a=d.useMemo(()=>({register:n,unregister:r,portals:t}),[n,r,t]);return[t,d.useMemo(()=>function({children:o}){return J.createElement(v2.Provider,{value:a},o)},[a])]}let gge=tn(dge),LT=tn(pge),hge=Object.assign(gge,{Group:LT});function vge(e,t=typeof document<"u"?document.defaultView:null,n){let r=As(e,"escape");OT(t,"keydown",a=>{r&&(a.defaultPrevented||a.key===wT.Escape&&n(a))})}function yge(){var e;let[t]=d.useState(()=>typeof window<"u"&&typeof window.matchMedia=="function"?window.matchMedia("(pointer: coarse)"):null),[n,r]=d.useState((e=t?.matches)!=null?e:!1);return xt(()=>{if(!t)return;function a(o){r(o.matches)}return t.addEventListener("change",a),()=>t.removeEventListener("change",a)},[t]),n}function Cge({defaultContainers:e=[],portals:t,mainTreeNode:n}={}){let r=Ml(n),a=Be(()=>{var o,s;let l=[];for(let c of e)c!==null&&(c instanceof HTMLElement?l.push(c):"current"in c&&c.current instanceof HTMLElement&&l.push(c.current));if(t!=null&&t.current)for(let c of t.current)l.push(c);for(let c of(o=r?.querySelectorAll("html > *, body > *"))!=null?o:[])c!==document.body&&c!==document.head&&c instanceof HTMLElement&&c.id!=="headlessui-portal-root"&&(n&&(c.contains(n)||c.contains((s=n?.getRootNode())==null?void 0:s.host))||l.some(u=>c.contains(u))||l.push(c));return l});return{resolveContainers:a,contains:Be(o=>a().some(s=>s.contains(o)))}}let $T=d.createContext(null);function q6({children:e,node:t}){let[n,r]=d.useState(null),a=DT(t??n);return J.createElement($T.Provider,{value:a},e,a===null&&J.createElement(m2,{features:Gd.Hidden,ref:o=>{var s,l;if(o){for(let c of(l=(s=ao(o))==null?void 0:s.querySelectorAll("html > *, body > *"))!=null?l:[])if(c!==document.body&&c!==document.head&&c instanceof HTMLElement&&c!=null&&c.contains(o)){r(c);break}}}}))}function DT(e=null){var t;return(t=d.useContext($T))!=null?t:e}function b4(){let e=d.useRef(!1);return xt(()=>(e.current=!0,()=>{e.current=!1}),[]),e}var ni=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(ni||{});function xge(){let e=d.useRef(0);return PT(!0,"keydown",t=>{t.key==="Tab"&&(e.current=t.shiftKey?1:0)},!0),e}function FT(e){if(!e)return new Set;if(typeof e=="function")return new Set(e());let t=new Set;for(let n of e.current)n.current instanceof HTMLElement&&t.add(n.current);return t}let bge="div";var Aa=(e=>(e[e.None=0]="None",e[e.InitialFocus=1]="InitialFocus",e[e.TabLock=2]="TabLock",e[e.FocusLock=4]="FocusLock",e[e.RestoreFocus=8]="RestoreFocus",e[e.AutoFocus=16]="AutoFocus",e))(Aa||{});function wge(e,t){let n=d.useRef(null),r=zn(n,t),{initialFocus:a,initialFocusFallback:o,containers:s,features:l=15,...c}=e;Tl()||(l=0);let u=Ml(n);Tge(l,{ownerDocument:u});let f=Ege(l,{ownerDocument:u,container:n,initialFocus:a,initialFocusFallback:o});kge(l,{ownerDocument:u,container:n,containers:s,previousActiveElement:f});let p=xge(),m=Be(x=>{let C=n.current;C&&(w=>w())(()=>{sa(p.current,{[ni.Forwards]:()=>{Uo(C,vr.First,{skipElements:[x.relatedTarget,o]})},[ni.Backwards]:()=>{Uo(C,vr.Last,{skipElements:[x.relatedTarget,o]})}})})}),g=As(!!(l&2),"focus-trap#tab-lock"),h=Rf(),v=d.useRef(!1),y={ref:r,onKeyDown(x){x.key=="Tab"&&(v.current=!0,h.requestAnimationFrame(()=>{v.current=!1}))},onBlur(x){if(!(l&4))return;let C=FT(s);n.current instanceof HTMLElement&&C.add(n.current);let w=x.relatedTarget;w instanceof HTMLElement&&w.dataset.headlessuiFocusGuard!=="true"&&(BT(C,w)||(v.current?Uo(n.current,sa(p.current,{[ni.Forwards]:()=>vr.Next,[ni.Backwards]:()=>vr.Previous})|vr.WrapAround,{relativeTo:x.target}):x.target instanceof HTMLElement&&or(x.target)))}};return J.createElement(J.Fragment,null,g&&J.createElement(m2,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:m,features:Gd.Focusable}),Sn({ourProps:y,theirProps:c,defaultTag:bge,name:"FocusTrap"}),g&&J.createElement(m2,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:m,features:Gd.Focusable}))}let _ge=tn(wge),Sge=Object.assign(_ge,{features:Aa});function Mge(e=!0){let t=d.useRef(Wr.slice());return x4(([n],[r])=>{r===!0&&n===!1&&jf(()=>{t.current.splice(0)}),r===!1&&n===!0&&(t.current=Wr.slice())},[e,Wr,t]),Be(()=>{var n;return(n=t.current.find(r=>r!=null&&r.isConnected))!=null?n:null})}function Tge(e,{ownerDocument:t}){let n=!!(e&8),r=Mge(n);x4(()=>{n||t?.activeElement===t?.body&&or(r())},[n]),NT(()=>{n&&or(r())})}function Ege(e,{ownerDocument:t,container:n,initialFocus:r,initialFocusFallback:a}){let o=d.useRef(null),s=As(!!(e&1),"focus-trap#initial-focus"),l=b4();return x4(()=>{if(e===0)return;if(!s){a!=null&&a.current&&or(a.current);return}let c=n.current;c&&jf(()=>{if(!l.current)return;let u=t?.activeElement;if(r!=null&&r.current){if(r?.current===u){o.current=u;return}}else if(c.contains(u)){o.current=u;return}if(r!=null&&r.current)or(r.current);else{if(e&16){if(Uo(c,vr.First|vr.AutoFocus)!==h2.Error)return}else if(Uo(c,vr.First)!==h2.Error)return;if(a!=null&&a.current&&(or(a.current),t?.activeElement===a.current))return;console.warn("There are no focusable elements inside the <FocusTrap />")}o.current=t?.activeElement})},[a,s,e]),o}function kge(e,{ownerDocument:t,container:n,containers:r,previousActiveElement:a}){let o=b4(),s=!!(e&4);OT(t?.defaultView,"focus",l=>{if(!s||!o.current)return;let c=FT(r);n.current instanceof HTMLElement&&c.add(n.current);let u=a.current;if(!u)return;let f=l.target;f&&f instanceof HTMLElement?BT(c,f)?(a.current=f,or(f)):(l.preventDefault(),l.stopPropagation(),or(u)):or(a.current)},!0)}function BT(e,t){for(let n of e)if(n.contains(t))return!0;return!1}function UT(e){var t;return!!(e.enter||e.enterFrom||e.enterTo||e.leave||e.leaveFrom||e.leaveTo)||((t=e.as)!=null?t:VT)!==d.Fragment||J.Children.count(e.children)===1}let Ff=d.createContext(null);Ff.displayName="TransitionContext";var Age=(e=>(e.Visible="visible",e.Hidden="hidden",e))(Age||{});function Pge(){let e=d.useContext(Ff);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}function Oge(){let e=d.useContext(Bf);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}let Bf=d.createContext(null);Bf.displayName="NestingContext";function Uf(e){return"children"in e?Uf(e.children):e.current.filter(({el:t})=>t.current!==null).filter(({state:t})=>t==="visible").length>0}function HT(e,t){let n=oo(e),r=d.useRef([]),a=b4(),o=Rf(),s=Be((g,h=Jr.Hidden)=>{let v=r.current.findIndex(({el:y})=>y===g);v!==-1&&(sa(h,{[Jr.Unmount](){r.current.splice(v,1)},[Jr.Hidden](){r.current[v].state="hidden"}}),o.microTask(()=>{var y;!Uf(r)&&a.current&&((y=n.current)==null||y.call(n))}))}),l=Be(g=>{let h=r.current.find(({el:v})=>v===g);return h?h.state!=="visible"&&(h.state="visible"):r.current.push({el:g,state:"visible"}),()=>s(g,Jr.Unmount)}),c=d.useRef([]),u=d.useRef(Promise.resolve()),f=d.useRef({enter:[],leave:[]}),p=Be((g,h,v)=>{c.current.splice(0),t&&(t.chains.current[h]=t.chains.current[h].filter(([y])=>y!==g)),t?.chains.current[h].push([g,new Promise(y=>{c.current.push(y)})]),t?.chains.current[h].push([g,new Promise(y=>{Promise.all(f.current[h].map(([x,C])=>C)).then(()=>y())})]),h==="enter"?u.current=u.current.then(()=>t?.wait.current).then(()=>v(h)):v(h)}),m=Be((g,h,v)=>{Promise.all(f.current[h].splice(0).map(([y,x])=>x)).then(()=>{var y;(y=c.current.shift())==null||y()}).then(()=>v(h))});return d.useMemo(()=>({children:r,register:l,unregister:s,onStart:p,onStop:m,wait:u,chains:f}),[l,s,r,p,m,f,u])}let VT=d.Fragment,GT=Vd.RenderStrategy;function Nge(e,t){var n,r;let{transition:a=!0,beforeEnter:o,afterEnter:s,beforeLeave:l,afterLeave:c,enter:u,enterFrom:f,enterTo:p,entered:m,leave:g,leaveFrom:h,leaveTo:v,...y}=e,[x,C]=d.useState(null),w=d.useRef(null),_=UT(e),E=zn(..._?[w,t,C]:t===null?[]:[t]),T=(n=y.unmount)==null||n?Jr.Unmount:Jr.Hidden,{show:M,appear:A,initial:D}=Pge(),[j,B]=d.useState(M?"visible":"hidden"),N=Oge(),{register:H,unregister:R}=N;xt(()=>H(w),[H,w]),xt(()=>{if(T===Jr.Hidden&&w.current){if(M&&j!=="visible"){B("visible");return}return sa(j,{hidden:()=>R(w),visible:()=>H(w)})}},[j,w,H,R,M,T]);let G=Tl();xt(()=>{if(_&&G&&j==="visible"&&w.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[w,j,G,_]);let X=D&&!A,ae=A&&M&&D,$=d.useRef(!1),I=HT(()=>{$.current||(B("hidden"),R(w))},N),O=Be(W=>{$.current=!0;let de=W?"enter":"leave";I.onStart(w,de,fe=>{fe==="enter"?o?.():fe==="leave"&&l?.()})}),Q=Be(W=>{let de=W?"enter":"leave";$.current=!1,I.onStop(w,de,fe=>{fe==="enter"?s?.():fe==="leave"&&c?.()}),de==="leave"&&!Uf(I)&&(B("hidden"),R(w))});d.useEffect(()=>{_&&a||(O(M),Q(M))},[M,_,a]);let oe=!(!a||!_||!G||X),[,ne]=Jme(oe,x,M,{start:O,end:Q}),ee=Ma({ref:E,className:((r=p2(y.className,ae&&u,ae&&f,ne.enter&&u,ne.enter&&ne.closed&&f,ne.enter&&!ne.closed&&p,ne.leave&&g,ne.leave&&!ne.closed&&h,ne.leave&&ne.closed&&v,!ne.transition&&M&&m))==null?void 0:r.trim())||void 0,...Qme(ne)}),Y=0;return j==="visible"&&(Y|=Hn.Open),j==="hidden"&&(Y|=Hn.Closed),ne.enter&&(Y|=Hn.Opening),ne.leave&&(Y|=Hn.Closing),J.createElement(Bf.Provider,{value:I},J.createElement(nge,{value:Y},Sn({ourProps:ee,theirProps:y,defaultTag:VT,features:GT,visible:j==="visible",name:"Transition.Child"})))}function Ige(e,t){let{show:n,appear:r=!1,unmount:a=!0,...o}=e,s=d.useRef(null),l=UT(e),c=zn(...l?[s,t]:t===null?[]:[t]);Tl();let u=Df();if(n===void 0&&u!==null&&(n=(u&Hn.Open)===Hn.Open),n===void 0)throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[f,p]=d.useState(n?"visible":"hidden"),m=HT(()=>{n||p("hidden")}),[g,h]=d.useState(!0),v=d.useRef([n]);xt(()=>{g!==!1&&v.current[v.current.length-1]!==n&&(v.current.push(n),h(!1))},[v,n]);let y=d.useMemo(()=>({show:n,appear:r,initial:g}),[n,r,g]);xt(()=>{n?p("visible"):!Uf(m)&&s.current!==null&&p("hidden")},[n,m]);let x={unmount:a},C=Be(()=>{var _;g&&h(!1),(_=e.beforeEnter)==null||_.call(e)}),w=Be(()=>{var _;g&&h(!1),(_=e.beforeLeave)==null||_.call(e)});return J.createElement(Bf.Provider,{value:m},J.createElement(Ff.Provider,{value:y},Sn({ourProps:{...x,as:d.Fragment,children:J.createElement(WT,{ref:c,...x,...o,beforeEnter:C,beforeLeave:w})},theirProps:{},defaultTag:d.Fragment,features:GT,visible:f==="visible",name:"Transition"})))}function jge(e,t){let n=d.useContext(Ff)!==null,r=Df()!==null;return J.createElement(J.Fragment,null,!n&&r?J.createElement(y2,{ref:t,...e}):J.createElement(WT,{ref:t,...e}))}let y2=tn(Ige),WT=tn(Nge),w4=tn(jge),Rge=Object.assign(y2,{Child:w4,Root:y2});var Lge=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(Lge||{}),$ge=(e=>(e[e.SetTitleId=0]="SetTitleId",e))($ge||{});let Dge={0(e,t){return e.titleId===t.id?e:{...e,titleId:t.id}}},_4=d.createContext(null);_4.displayName="DialogContext";function Hf(e){let t=d.useContext(_4);if(t===null){let n=new Error(`<${e} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Hf),n}return t}function Fge(e,t){return sa(t.type,Dge,e,t)}let Z6=tn(function(e,t){let n=d.useId(),{id:r=`headlessui-dialog-${n}`,open:a,onClose:o,initialFocus:s,role:l="dialog",autoFocus:c=!0,__demoMode:u=!1,unmount:f=!1,...p}=e,m=d.useRef(!1);l=function(){return l==="dialog"||l==="alertdialog"?l:(m.current||(m.current=!0,console.warn(`Invalid role [${l}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")}();let g=Df();a===void 0&&g!==null&&(a=(g&Hn.Open)===Hn.Open);let h=d.useRef(null),v=zn(h,t),y=Ml(h),x=a?0:1,[C,w]=d.useReducer(Fge,{titleId:null,descriptionId:null,panelRef:d.createRef()}),_=Be(()=>o(!1)),E=Be(O=>w({type:0,id:O})),T=Tl()?x===0:!1,[M,A]=mge(),D={get current(){var O;return(O=C.panelRef.current)!=null?O:h.current}},j=DT(),{resolveContainers:B}=Cge({mainTreeNode:j,portals:M,defaultContainers:[D]}),N=g!==null?(g&Hn.Closing)===Hn.Closing:!1;Pme(u||N?!1:T,{allowed:Be(()=>{var O,Q;return[(Q=(O=h.current)==null?void 0:O.closest("[data-headlessui-portal]"))!=null?Q:null]}),disallowed:Be(()=>{var O;return[(O=j?.closest("body > *:not(#headlessui-portal-root)"))!=null?O:null]})}),Ume(T,B,O=>{O.preventDefault(),_()}),vge(T,y?.defaultView,O=>{O.preventDefault(),O.stopPropagation(),document.activeElement&&"blur"in document.activeElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur(),_()}),qme(u||N?!1:T,y,B),Ome(T,h,_);let[H,R]=hme(),G=d.useMemo(()=>[{dialogState:x,close:_,setTitleId:E,unmount:f},C],[x,C,_,E,f]),X=d.useMemo(()=>({open:x===0}),[x]),ae={ref:v,id:r,role:l,tabIndex:-1,"aria-modal":u?void 0:x===0?!0:void 0,"aria-labelledby":C.titleId,"aria-describedby":H,unmount:f},$=!yge(),I=Aa.None;return T&&!u&&(I|=Aa.RestoreFocus,I|=Aa.TabLock,c&&(I|=Aa.AutoFocus),$&&(I|=Aa.InitialFocus)),J.createElement(rge,null,J.createElement(z6,{force:!0},J.createElement(hge,null,J.createElement(_4.Provider,{value:G},J.createElement(LT,{target:h},J.createElement(z6,{force:!1},J.createElement(R,{slot:X},J.createElement(A,null,J.createElement(Sge,{initialFocus:s,initialFocusFallback:h,containers:B,features:I},J.createElement(Tme,{value:_},Sn({ourProps:ae,theirProps:p,slot:X,defaultTag:Bge,features:Uge,visible:x===0,name:"Dialog"})))))))))))}),Bge="div",Uge=Vd.RenderStrategy|Vd.Static;function Hge(e,t){let{transition:n=!1,open:r,...a}=e,o=Df(),s=e.hasOwnProperty("open")||o!==null,l=e.hasOwnProperty("onClose");if(!s&&!l)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!s)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!l)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(!o&&typeof e.open!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${e.open}`);if(typeof e.onClose!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${e.onClose}`);return(r!==void 0||n)&&!a.static?J.createElement(q6,null,J.createElement(Rge,{show:r,transition:n,unmount:a.unmount},J.createElement(Z6,{ref:t,...a}))):J.createElement(q6,null,J.createElement(Z6,{ref:t,open:r,...a}))}let Vge="div";function Gge(e,t){let n=d.useId(),{id:r=`headlessui-dialog-panel-${n}`,transition:a=!1,...o}=e,[{dialogState:s,unmount:l},c]=Hf("Dialog.Panel"),u=zn(t,c.panelRef),f=d.useMemo(()=>({open:s===0}),[s]),p=Be(g=>{g.stopPropagation()}),m={ref:u,id:r,onClick:p};return J.createElement(a?w4:d.Fragment,{...a?{unmount:l}:{}},Sn({ourProps:m,theirProps:o,slot:f,defaultTag:Vge,name:"Dialog.Panel"}))}let Wge="div";function zge(e,t){let{transition:n=!1,...r}=e,[{dialogState:a,unmount:o}]=Hf("Dialog.Backdrop"),s=d.useMemo(()=>({open:a===0}),[a]),l={ref:t,"aria-hidden":!0};return J.createElement(n?w4:d.Fragment,{...n?{unmount:o}:{}},Sn({ourProps:l,theirProps:r,slot:s,defaultTag:Wge,name:"Dialog.Backdrop"}))}let qge="h2";function Zge(e,t){let n=d.useId(),{id:r=`headlessui-dialog-title-${n}`,...a}=e,[{dialogState:o,setTitleId:s}]=Hf("Dialog.Title"),l=zn(t);d.useEffect(()=>(s(r),()=>s(null)),[r,s]);let c=d.useMemo(()=>({open:o===0}),[o]);return Sn({ourProps:{ref:l,id:r},theirProps:a,slot:c,defaultTag:qge,name:"Dialog.Title"})}let Yge=tn(Hge),Kge=tn(Gge);tn(zge);let Qge=tn(Zge),HOe=Object.assign(Yge,{Panel:Kge,Title:Qge,Description:xme});function VOe(e,t){let n=d.useRef({left:0,top:0});if(xt(()=>{if(!t)return;let a=t.getBoundingClientRect();a&&(n.current=a)},[e,t]),t==null||!e||t===document.activeElement)return!1;let r=t.getBoundingClientRect();return r.top!==n.current.top||r.left!==n.current.left}let Y6=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function K6(e){var t,n;let r=(t=e.innerText)!=null?t:"",a=e.cloneNode(!0);if(!(a instanceof HTMLElement))return r;let o=!1;for(let l of a.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))l.remove(),o=!0;let s=o?(n=a.innerText)!=null?n:"":r;return Y6.test(s)&&(s=s.replace(Y6,"")),s}function Jge(e){let t=e.getAttribute("aria-label");if(typeof t=="string")return t.trim();let n=e.getAttribute("aria-labelledby");if(n){let r=n.split(" ").map(a=>{let o=document.getElementById(a);if(o){let s=o.getAttribute("aria-label");return typeof s=="string"?s.trim():K6(o).trim()}return null}).filter(Boolean);if(r.length>0)return r.join(", ")}return K6(e).trim()}function GOe(e){let t=d.useRef(""),n=d.useRef("");return Be(()=>{let r=e.current;if(!r)return"";let a=r.innerText;if(t.current===a)return n.current;let o=Jge(r).trim().toLowerCase();return t.current=a,n.current=o,o})}const Xge="https://help.openai.com/en/collections/3742473-chatgpt",e2e="https://help.openai.com/en/articles/9982051",t2e="https://help.openai.com/en/articles/6825453-chatgpt-release-notes",n2e="https://help.openai.com/en/articles/10003026-windows-app-release-notes";function r2e(){return us?e2e:Xge}function a2e(){return us?n2e:t2e}function WOe(){const e=U(),t=e.formatMessage(wr.adminRoleName),n=e.formatMessage(wr.ownerRoleName),r=e.formatMessage(wr.standardRoleName);return d.useMemo(()=>({[Ra.OWNER]:n,[Ra.ADMIN]:t,[Ra.STANDARD]:r}),[n,t,r])}function zOe(e){const t=U();return e?.isWorkspaceAccount()?e.isTeam()?t.formatMessage(wr.teamPlanName):e.isEdu()?t.formatMessage(wr.eduPlanName):t.formatMessage(wr.enterprisePlanName):t.formatMessage(wr.personalPlanName)}function o2e(e){const t=U();return zT(t,e)}function s2e(){const e=Se(),t=U();return zT(t,e)}function zT(e,t){return t==null||t.isPersonalAccount()?e.formatMessage(wr.personalWorkspaceTitle):t.data.name??e.formatMessage(wr.defaultWorkspaceTitle)}function qT(){return cn()?.email??null}function qOe(){const e=cn();return e?.name??e?.email??null}function ZT(){return Pn(({workspaces:e})=>e)}function i2e(){const{data:e}=uh();return e?.accountItems.filter(t=>!t.isDeactivated())??[]}function ZOe(e){return ZT().find(r=>r.id===e)?.role===Ra.OWNER}function YOe(e){return ZT().find(r=>r.id===e)?.role===Ra.ADMIN}const wr=V({defaultWorkspaceTitle:{id:"useWorkspaces.defaultWorkspaceTitle",defaultMessage:"Untitled Workspace"},personalWorkspaceTitle:{id:"useWorkspaces.personalWorkspaceTitle",defaultMessage:"Personal account"},personalPlanName:{id:"useWorkspaces.personalPlanName",defaultMessage:"Personal"},enterprisePlanName:{id:"useWorkspaces.enterprisePlanName",defaultMessage:"Enterprise"},eduPlanName:{id:"useWorkspaces.eduPlanName",defaultMessage:"Edu"},teamPlanName:{id:"useWorkspaces.teamPlanName",defaultMessage:"Team"},adminRoleName:{id:"useWorkspaces.adminRoleName",defaultMessage:"Admin"},ownerRoleName:{id:"useWorkspaces.ownerRoleName",defaultMessage:"Owner"},standardRoleName:{id:"useWorkspacews.standardRoleName",defaultMessage:"Member"}}),S4=e=>d.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},d.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3 12C3 10.8954 3.89543 10 5 10C6.10457 10 7 10.8954 7 12C7 13.1046 6.10457 14 5 14C3.89543 14 3 13.1046 3 12ZM10 12C10 10.8954 10.8954 10 12 10C13.1046 10 14 10.8954 14 12C14 13.1046 13.1046 14 12 14C10.8954 14 10 13.1046 10 12ZM17 12C17 10.8954 17.8954 10 19 10C20.1046 10 21 10.8954 21 12C21 13.1046 20.1046 14 19 14C17.8954 14 17 13.1046 17 12Z",fill:"currentColor"})),Da=e=>d.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},d.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15 5C14.4477 5 14 4.55228 14 4C14 3.44772 14.4477 3 15 3H20C20.5523 3 21 3.44772 21 4V9C21 9.55228 20.5523 10 20 10C19.4477 10 19 9.55228 19 9V6.41421L13.7071 11.7071C13.3166 12.0976 12.6834 12.0976 12.2929 11.7071C11.9024 11.3166 11.9024 10.6834 12.2929 10.2929L17.5858 5H15ZM4 7C4 5.34315 5.34315 4 7 4H10C10.5523 4 11 4.44772 11 5C11 5.55228 10.5523 6 10 6H7C6.44772 6 6 6.44772 6 7V17C6 17.5523 6.44772 18 7 18H17C17.5523 18 18 17.5523 18 17V14C18 13.4477 18.4477 13 19 13C19.5523 13 20 13.4477 20 14V17C20 18.6569 18.6569 20 17 20H7C5.34315 20 4 18.6569 4 17V7Z",fill:"currentColor"})),so=e=>d.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},d.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 4C9.79086 4 8 5.79086 8 8H16C16 5.79086 14.2091 4 12 4ZM6 10C5.44772 10 5 10.4477 5 11V19C5 19.5523 5.44772 20 6 20H18C18.5523 20 19 19.5523 19 19V11C19 10.4477 18.5523 10 18 10H6ZM6 8C6 4.68629 8.68629 2 12 2C15.3137 2 18 4.68629 18 8C19.6569 8 21 9.34315 21 11V19C21 20.6569 19.6569 22 18 22H6C4.34315 22 3 20.6569 3 19V11C3 9.34315 4.34315 8 6 8ZM10 14C10 12.8954 10.8954 12 12 12C13.1046 12 14 12.8954 14 14C14 14.7403 13.5978 15.3866 13 15.7324V17C13 17.5523 12.5523 18 12 18C11.4477 18 11 17.5523 11 17V15.7324C10.4022 15.3866 10 14.7403 10 14Z",fill:"currentColor"})),YT="prompt-textarea";function KT(){document.getElementById(YT)?.focus()}const KOe={getAndReset:(e,t)=>{const n=Tt.getItem(Ue.RestoreMessageAfterOauthRedirect);return Tt.removeItem(Ue.RestoreMessageAfterOauthRedirect),!n||n.userId!==e||t!==n.serverThreadId||Date.now()>n.expiresAt?null:n},set:(e,t,n)=>{const r={userId:e,serverThreadId:t,inputText:n,expiresAt:Date.now()+6e4};Tt.setItem(Ue.RestoreMessageAfterOauthRedirect,r)}},l2e=()=>Ga.useState(Ga.getPersistedSystemHints).has(_t.Search),c2e=()=>{const e=Ga.useStore(),t=d.useCallback(()=>e.getPersistedSystemHintTrigger(_t.Search),[e]),n=d.useCallback(()=>e.clearPersistedSystemHintTrigger(_t.Search),[e]),r=d.useCallback((a,o,s)=>{(a?e.addPersistedSystemHint:e.removePersistedSystemHint)(_t.Search,o,s)},[e]);return{getSearchModeTrigger:t,clearSearchModeTrigger:n,setThreadSearchMode:r}},QOe=(e,t,n)=>e?"file_upload_pending":t?n?"text_content_too_long":void 0:"empty_text_content",u2e=e=>e.replace(/[\u{E0000}-\u{E007F}]+/gu,""),JOe=e=>{const t=u2e(e.getContentToSend().content);return Math.ceil(t.length/4)},d2e="OAI-Echo-Logs",bo={FOCUS_IN:0,FOCUS_OUT:1,COPY:2,PASTE:3,TOUCH_START:4,TOUCH_END:5},QT=[];function wo(e){return()=>{QT.push({type:e,ts:Math.round(performance.now())})}}const f2e={focusin:wo(bo.FOCUS_IN),focusout:wo(bo.FOCUS_OUT),copy:wo(bo.COPY),paste:wo(bo.PASTE),touchstart:wo(bo.TOUCH_START),touchend:wo(bo.TOUCH_END)};function XOe(e){const t=e??document.getElementById(YT);for(const[n,r]of Object.entries(f2e))t?.removeEventListener(n,r),t?.addEventListener(n,r)}function p2e(){return{[d2e]:QT.slice(0,10).map(e=>`${e.type},${e.ts}`).join(",")}}const eNe=(e,t,n,r)=>e.value?t.text(e.value,[t.marks.startend.create(n),...r??[]]):null;var zd=200,Zt=function(){};Zt.prototype.append=function(t){return t.length?(t=Zt.from(t),!this.length&&t||t.length<zd&&this.leafAppend(t)||this.length<zd&&t.leafPrepend(this)||this.appendInner(t)):this};Zt.prototype.prepend=function(t){return t.length?Zt.from(t).append(this):this};Zt.prototype.appendInner=function(t){return new m2e(this,t)};Zt.prototype.slice=function(t,n){return t===void 0&&(t=0),n===void 0&&(n=this.length),t>=n?Zt.empty:this.sliceInner(Math.max(0,t),Math.min(this.length,n))};Zt.prototype.get=function(t){if(!(t<0||t>=this.length))return this.getInner(t)};Zt.prototype.forEach=function(t,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length),n<=r?this.forEachInner(t,n,r,0):this.forEachInvertedInner(t,n,r,0)};Zt.prototype.map=function(t,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length);var a=[];return this.forEach(function(o,s){return a.push(t(o,s))},n,r),a};Zt.from=function(t){return t instanceof Zt?t:t&&t.length?new JT(t):Zt.empty};var JT=function(e){function t(r){e.call(this),this.values=r}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={length:{configurable:!0},depth:{configurable:!0}};return t.prototype.flatten=function(){return this.values},t.prototype.sliceInner=function(a,o){return a==0&&o==this.length?this:new t(this.values.slice(a,o))},t.prototype.getInner=function(a){return this.values[a]},t.prototype.forEachInner=function(a,o,s,l){for(var c=o;c<s;c++)if(a(this.values[c],l+c)===!1)return!1},t.prototype.forEachInvertedInner=function(a,o,s,l){for(var c=o-1;c>=s;c--)if(a(this.values[c],l+c)===!1)return!1},t.prototype.leafAppend=function(a){if(this.length+a.length<=zd)return new t(this.values.concat(a.flatten()))},t.prototype.leafPrepend=function(a){if(this.length+a.length<=zd)return new t(a.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(t.prototype,n),t}(Zt);Zt.empty=new JT([]);var m2e=function(e){function t(n,r){e.call(this),this.left=n,this.right=r,this.length=n.length+r.length,this.depth=Math.max(n.depth,r.depth)+1}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},t.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},t.prototype.forEachInner=function(r,a,o,s){var l=this.left.length;if(a<l&&this.left.forEachInner(r,a,Math.min(o,l),s)===!1||o>l&&this.right.forEachInner(r,Math.max(a-l,0),Math.min(this.length,o)-l,s+l)===!1)return!1},t.prototype.forEachInvertedInner=function(r,a,o,s){var l=this.left.length;if(a>l&&this.right.forEachInvertedInner(r,a-l,Math.max(o,l)-l,s+l)===!1||o<l&&this.left.forEachInvertedInner(r,Math.min(a,l),o,s)===!1)return!1},t.prototype.sliceInner=function(r,a){if(r==0&&a==this.length)return this;var o=this.left.length;return a<=o?this.left.slice(r,a):r>=o?this.right.slice(r-o,a-o):this.left.slice(r,o).append(this.right.slice(0,a-o))},t.prototype.leafAppend=function(r){var a=this.right.leafAppend(r);if(a)return new t(this.left,a)},t.prototype.leafPrepend=function(r){var a=this.left.leafPrepend(r);if(a)return new t(a,this.right)},t.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new t(this.left,new t(this.right,r)):new t(this,r)},t}(Zt);const tNe={"prosemirror-parent":"_prosemirror-parent_cy42l_1"},C2=Me(()=>({focusedObject:null}));function nNe(){return C2(e=>e.focusedObject)}const rNe={setFocusedObject:e=>{C2.setState({focusedObject:e})},close(){C2.setState({focusedObject:null})}};var XT=(e=>(e.DOGFOODING="dogfooding",e.ALPHA="alpha",e))(XT||{});function g2e(e){return["gpt-4o-gdrive","gpt-4o-gdrive-1007-mclick","gpt-4o-gdrive-1124","gpt-4o-gdrive-1124-citation"].includes(e??"")}function h2e(e){return cde()&&g2e(e)}function v2e(e){const t=h2e(e),n=y2e();return t&&!!n}function y2e(){const e=x1("1001765573");if(!e.config.get("ca_enabled",!1))return null;const n=e.config.get("feedback_format",null);return n&&Object.values(XT).includes(n)?n:null}const M4=Me(()=>({displayingSideBySideFeedback:!1,unskippable:!1})),C2e=d.createContext({isWithinDataAnalysisToolMessage:!1}),x2e=e=>d.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},d.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.16146 3H16.8385C17.3657 2.99998 17.8205 2.99997 18.195 3.03057C18.5904 3.06287 18.9836 3.13419 19.362 3.32698C19.9265 3.6146 20.3854 4.07354 20.673 4.63803C20.8658 5.01641 20.9371 5.40963 20.9694 5.80497C21 6.17954 21 6.6343 21 7.16144V16.8386C21 17.3657 21 17.8205 20.9694 18.195C20.9371 18.5904 20.8658 18.9836 20.673 19.362C20.3854 19.9265 19.9265 20.3854 19.362 20.673C18.9836 20.8658 18.5904 20.9371 18.195 20.9694C17.8205 21 17.3657 21 16.8386 21H7.16144C6.6343 21 6.17954 21 5.80497 20.9694C5.40963 20.9371 5.01641 20.8658 4.63803 20.673C4.07354 20.3854 3.6146 19.9265 3.32698 19.362C3.13419 18.9836 3.06287 18.5904 3.03057 18.195C2.99997 17.8205 2.99998 17.3657 3 16.8385V7.16146C2.99998 6.63431 2.99997 6.17955 3.03057 5.80497C3.06287 5.40963 3.13419 5.01641 3.32698 4.63803C3.6146 4.07354 4.07354 3.6146 4.63803 3.32698C5.01641 3.13419 5.40963 3.06287 5.80497 3.03057C6.17955 2.99997 6.63431 2.99998 7.16146 3ZM5.96784 5.02393C5.69617 5.04612 5.59546 5.0838 5.54601 5.109C5.35785 5.20487 5.20487 5.35785 5.109 5.54601C5.0838 5.59546 5.04612 5.69617 5.02393 5.96784C5.00078 6.25117 5 6.62345 5 7.2V13.5858L5.87868 12.7071C7.05026 11.5355 8.94975 11.5355 10.1213 12.7071L16.4142 19H16.8C17.3766 19 17.7488 18.9992 18.0322 18.9761C18.3038 18.9539 18.4045 18.9162 18.454 18.891C18.6422 18.7951 18.7951 18.6422 18.891 18.454C18.9162 18.4045 18.9539 18.3038 18.9761 18.0322C18.9992 17.7488 19 17.3766 19 16.8V7.2C19 6.62345 18.9992 6.25118 18.9761 5.96784C18.9539 5.69617 18.9162 5.59546 18.891 5.54601C18.7951 5.35785 18.6422 5.20487 18.454 5.109C18.4045 5.0838 18.3038 5.04612 18.0322 5.02393C17.7488 5.00078 17.3766 5 16.8 5H7.2C6.62345 5 6.25117 5.00078 5.96784 5.02393ZM13.5858 19L8.70711 14.1213C8.31658 13.7308 7.68342 13.7308 7.2929 14.1213L5 16.4142V16.8C5 17.3766 5.00078 17.7488 5.02393 18.0322C5.04612 18.3038 5.0838 18.4045 5.109 18.454C5.20487 18.6422 5.35785 18.7951 5.54601 18.891C5.59546 18.9162 5.69617 18.9539 5.96784 18.9761C6.25117 18.9992 6.62345 19 7.2 19H13.5858ZM14.5 8.5C13.9477 8.5 13.5 8.94772 13.5 9.5C13.5 10.0523 13.9477 10.5 14.5 10.5C15.0523 10.5 15.5 10.0523 15.5 9.5C15.5 8.94772 15.0523 8.5 14.5 8.5ZM11.5 9.5C11.5 7.84315 12.8431 6.5 14.5 6.5C16.1569 6.5 17.5 7.84315 17.5 9.5C17.5 11.1569 16.1569 12.5 14.5 12.5C12.8431 12.5 11.5 11.1569 11.5 9.5Z",fill:"currentColor"}));function b2e({jupyterMessage:e}){const t=ah(),n=U();if(t)return i.jsxs("div",{className:"my-1 flex h-52 w-full max-w-xs flex-col items-center justify-center gap-2 rounded-md border-black/5 bg-gray-100 p-7 text-center text-token-text-tertiary dark:border-white/10",children:[i.jsx(x2e,{className:"icon-lg"}),i.jsx(b,{...b2.imageNotSupported})]});if(e.image_payload!=null)return i.jsx("img",{className:"my-1",src:`data:image/png;base64,${e.image_payload}`,alt:n.formatMessage(b2.altText)});if(e.image_url!=null){const r=vl(e.image_url);return i.jsx(S2e,{fileId:r})}return null}const w2e=30*1e3,eE=100,x2=1.5,_2e=Math.log(1-w2e*(1-x2)/eE)/Math.log(x2);function S2e({fileId:e}){const t=U(),{data:n,isLoading:r,refetch:a}=ye({queryKey:["getFileDownloadLink",e],queryFn:()=>q.getFileDownloadLink(e),refetchInterval:o=>{const s=o.state.dataUpdateCount;return o.state.data?.status===Cr.Success||s>_2e||o.state.status===Cr.Error?!1:Math.pow(x2,s)*eE}});return d.useEffect(()=>{if(n?.status===Cr.Success){const s=new URL(n.download_url,location.toString()).searchParams.get("se");s!=null&&!r&&new Date>new Date(s)&&a()}},[n,r,a]),n?.status!==Cr.Success?null:i.jsx("img",{src:n.download_url,className:"my-1 max-h-full max-w-full",alt:t.formatMessage(b2.altText)})}const b2=V({imageNotSupported:{id:"CodeExecutionOutputImage.imageNotSupported",defaultMessage:"Image output is not supported in a shared chat"},altText:{id:"CodeExecutionOutputImage.altText",defaultMessage:"Output image"}});function aNe({FormattedText:e,message:t}){const n=b1();return i.jsx(C2e.Provider,{value:{isWithinDataAnalysisToolMessage:!0},children:i.jsx(e,{className:P("markdown prose w-full break-words dark:prose-invert",n?"dark":"light"),children:M2e(t)})})}function M2e(e){function t(n,r){return`\`\`\`${r}
${n}
\`\`\``}if(e.content.content_type==="code")return t(e.content.text,"python");if(e.recipient==="python"){if(e.content.content_type!=="text")throw new Error("Unexpected content type for code message");const n=e.content.parts;if(n.length!==1||typeof n[0]!="string")throw new Error("Unexpected parts for code message");return t(n[0],"python")}throw new Error("Unexpected code message format")}function oNe({message:e}){const t=U();if(e.content.content_type!==je.ExecutionOutput)return null;const n=e.metadata?.aggregate_result;if(!n)return te.addError("Corrupt code execution result message"),null;const r=n.messages.filter(E2e),a=r.length>0,o=n.final_expression_output!=null,s=n.in_kernel_exception!=null;return i.jsxs(i.Fragment,{children:[a&&i.jsx(Q6,{label:"STDOUT/STDERR",output:r.map((l,c)=>i.jsx("span",{className:l.stream_name==="stderr"?"text-red-500":"",children:l.text},`${c}`))}),o&&i.jsx(Q6,{label:t.formatMessage({id:"codeInterpreterMessage.resultLabel",defaultMessage:"Result"}),output:n.final_expression_output}),s&&i.jsx(T2e,{traceback:n.in_kernel_exception.traceback.join("")})]})}function Q6({label:e,output:t}){return i.jsxs("div",{className:"bg-gray-700 p-4 text-xs",children:[i.jsx("div",{className:"mb-1 text-gray-400",children:e}),i.jsx("div",{className:"prose flex flex-col-reverse text-white",children:i.jsx("pre",{className:"shrink-0",children:t})})]})}function T2e({traceback:e}){return i.jsx("div",{className:"overflow-auto border-t border-gray-500 text-white",children:i.jsx("div",{className:"border-l-4 border-red-500 p-2 text-xs",children:i.jsx("div",{className:"scrollbar-thin scrollbar-thumb-gray-400 scrollbar-track-gray-700 flex max-h-64 flex-col-reverse",children:i.jsx("pre",{className:"shrink-0",children:e})})})})}function sNe({message:e}){if(e.content.content_type!==je.ExecutionOutput)return null;const t=e.metadata?.aggregate_result;return t?i.jsx(i.Fragment,{children:t.messages.filter(tE).map((n,r)=>i.jsx(b2e,{jupyterMessage:n},r))}):(te.addError("Corrupt code execution result message"),null)}function E2e(e){return e.message_type==="stream"}function tE(e){return e.message_type==="image"||"image_url"in e&&Tue(e.image_url+"")}function iNe(){const e=cn(),t=Se();return t&&e&&!jO(e)&&t.isEnterprisey()}function lNe(){return aC(cs.ChartSerialization)}function cNe(e,t){const n=e==="chart"?Ue.HasSeenAdaInteractiveChart:Ue.HasSeenAdaInteractiveTable,[r,a]=d.useState(Tt.getItem(n,{userId:t})??!1),o=d.useCallback(()=>{a(!0),Tt.setItem(n,!0,{userId:t})},[n,t]);return[r,o]}function uNe(e){const[t,n]=d.useState([]),r=gC(e,a=>a?.tree.getBranchFromLeaf(a?.currentLeafId??"root")??[]);return d.useEffect(()=>{const a=nE(r);a.length!==t.length&&n(a)},[t.length,e,r]),t}function k2e(e){return gC(e,t=>{const n=t?.tree.getBranchFromLeaf(t?.currentLeafId??"root");return n!=null&&nE(n).length>0})}function A2e(e){const t=e.metadata?.aggregate_result?.messages.filter(tE)??[];let n=0;const r=(e.metadata?.ada_visualizations??[]).map(o=>{let s=o;return o.type=="chart"&&(s={...o,fallback_image:t[n++]}),s}),a=(e.metadata?.attachments??[]).filter(o=>YS(o.name)).map(o=>({type:"table",file_id:o.id??"",title:QS(o),file_name:o.name,context_connector_info:o.context_connector_info}));return[...r,...a]}function nE(e){return e.filter(n=>n.message?.author.role==="tool"&&n.message?.author.name==="python"||(n.message?.metadata?.attachments??[]).length>0).flatMap(n=>A2e(n.message))}Me(e=>({selectedSpreadsheet:null,setSelectedSpreadsheet:t=>e({selectedSpreadsheet:t})}));async function P2e(e,t,n){const r=await e.text(),{parse:a}=await qe(async()=>{const{parse:s}=await import("./oeujip5i1ptrxie5.js");return{parse:s}},[]),o=a(r);return{content:{columnNames:o.shift(),columnTypes:o[0].map(()=>"string"),rows:o},file_name:t,download_url:n}}function O2e(e){const t=e[0].values.length,n=[];for(let r=0;r<t;r++){const a=e.map(o=>o.values[r]);n.push(a)}return n}function dNe(e){return ye({queryKey:["ada-visualization","chart",e.file_id],queryFn:async()=>{const t=await q.getFileDownloadLink(e.file_id);if(t.status===Cr.Success){const r=await(await fetch(t.download_url)).json();return{content:{chart_type:r.type,title:r.title,labels:r.labels,datasets:r.datasets,x_label:r.x_label,y_label:r.y_label},file_name:t.file_name??"",download_url:t.download_url}}else throw new Error("Failed to download chart json from interpreter")}})}function fNe(e){return ye({queryKey:["ada-visualization","table",e.file_id],queryFn:async()=>{if(e.file_name&&Nue(e.file_name)){const t=await q.getAdaExcelFileContents(e.file_id);return{content:t.sheets.map(n=>({name:n.name,columnNames:n.columns.map(r=>r.name),columnTypes:n.columns.map(()=>"string"),rows:O2e(n.columns)})),download_url:t.download_url,file_name:e.file_name}}else{const t=await q.getFileDownloadLink(e.file_id);if(t.status===Cr.Success){const n=await fetch(t.download_url);return P2e(n,t.file_name??"",t.download_url)}else throw new Error("Failed to download from interpreter")}}})}function N2e(e){const t=M4(),n=k2e(e),r=vM();return n&&r&&!t.displayingSideBySideFeedback}const Vf=e=>{d.useEffect(e,[])},rE={isParagenVisible:!1,isParagenSkipped:!1},I2e=()=>{const{config:e}=A1("4274348958"),t=e.get("show_paragen_skip_button",null),n=e.get("show_paragen_descriptor_labels",null),r=e.get("default_paragen_descriptor_label",null);return{shouldShowParagenLabels:n,defaultParagenLabel:r,shouldShowSkipButton:t}},T4=Me(Vn(()=>rE)),qd=T4.setState,j2e={reset:()=>qd(rE),skipParagen:()=>{qd(e=>{e.isParagenSkipped=!0})}},pNe=()=>T4(({isParagenSkipped:e})=>e),mNe=()=>{Vf(()=>(qd(e=>{e.isParagenVisible=!0}),()=>{qd(e=>{e.isParagenVisible=!1})}))},R2e="https://challenges.cloudflare.com/turnstile/v0/api.js",L2e={[Mc.PAID]:"0x4AAAAAAASbFNinhLLnW5f1",[Mc.FREEACCOUNT]:"0x4AAAAAAACPe2BTwOIpYk6H",[Mc.NOAUTH]:"0x4AAAAAAASbHVR44GU82lOI"};class Zd{toString(){return JSON.stringify(this.toJSON())}}class S0 extends Zd{constructor(t){super(),this.message=t,this.message=t}toJSON(){return{"Turnstile-Internal-Error":this.message}}}class $2e extends Zd{constructor(t){super(),this.errorCode=t,this.errorCode=t}toJSON(){return{"Turnstile-Client-Error":this.errorCode}}}class D2e{app=Mc.NOAUTH;status="idle";turnstileInstancePromise=null;enforcementTokenPromise=null;requestStartTimeMs=0;_onCompleted;_onError;async initializeAndGatherData(t){this._getOrCreateInstance(t)}async _getOrCreateInstance(t){return!t.turnstile?.required||t.turnstile?.dx?null:(this.app!==t.persona&&(this.app=t.persona,this.turnstileInstancePromise=this._getTurnstileInstancePromise()),this.turnstileInstancePromise??new S0("Turnstile instance not initialized."))}async getEnforcementToken(t){return t.turnstile?.dx?RO(t.turnstile.dx):this.startEnforcement(t).then(n=>(this.enforcementTokenPromise=null,n?n.toString():null))}async startEnforcement(t){return t.turnstile?.required?this.enforcementTokenPromise!==null?this.enforcementTokenPromise:this.enforcementTokenPromise=this._getEnforcementToken(t):null}async _getEnforcementToken(t,n){const r=await this._getOrCreateInstance(t);return r instanceof Zd||r===null?r:new Promise((a,o)=>{this.setOnCompleted(s=>{const l=performance.now()-this.requestStartTimeMs;te.addAction("turnstile_get_token_success",{app:this.app.toString(),durationMs:l}),a(s)}),this.setOnError(s=>{if(!n)this._getEnforcementToken(t,!0).then(a,o);else{const l=performance.now()-this.requestStartTimeMs;te.addAction("turnstile_get_token_error",{app_release:"0749372c57dc2f5a1c6aa5f4f9802a682aebf139",error:s,app:this.app.toString(),durationMs:l}),a(new $2e(s))}}),this.setStatus("ready"),this.requestStartTimeMs=performance.now(),r.reset(),r.execute()})}setStatus(t){this.status=t}onCompleted(t){this._onCompleted?.(t)}setOnCompleted(t){this._onCompleted=t}onError(t){this._onError?.(t)}setOnError(t){this._onError=t}onExpired(){this.enforcementTokenPromise=null}_getTurnstileInstancePromise(t){if(this.turnstileInstancePromise!==null)if(t)this.turnstileInstancePromise.then(n=>{n instanceof Zd||n.remove()}),this.turnstileInstancePromise=null;else return this.turnstileInstancePromise;return this.turnstileInstancePromise=new Promise((n,r)=>{const a="onloadTurnstileCallback";Object.defineProperty(window,a,{value:()=>{if(this.status==="ready")return;this.setStatus("script_loaded");const{turnstile:u}=window;if(u===null){this.setStatus("error"),t?(te.addAction("turnstile_instance_missing",{app_release:"0749372c57dc2f5a1c6aa5f4f9802a682aebf139",app:this.app.toString()}),n(new S0("Turnstile instance missing"))):this._getTurnstileInstancePromise(!0).then(n,r);return}u.render("#"+o,{sitekey:L2e[this.app],execution:"execute",callback:this.onCompleted.bind(this),"error-callback":this.onError.bind(this),"expired-callback":this.onExpired.bind(this)}),n(u)}});const o="cf-turnstile",s="cf-turnstile-script";document.getElementById(o)?.remove(),document.getElementById(s)?.remove();const l=document.createElement("div");l.id=o,l.hidden=!0,document.body.appendChild(l),this.setStatus("loading");const c=document.createElement("script");c.id=s,c.src=R2e+`?onload=${a}`,c.async=!0,c.defer=!0,c.onerror=()=>{this.setStatus("error"),t?(te.addAction("turnstile_script_load_error",{app_release:"0749372c57dc2f5a1c6aa5f4f9802a682aebf139",app:this.app.toString()}),n(new S0("Turnstile script failed to load"))):this._getTurnstileInstancePromise(!0).then(n,r)},document.body.appendChild(c)}),this.turnstileInstancePromise}}const w2=new D2e,aE=Me(Vn(()=>({userMessageCount:Number(localStorage.getItem(Ue.NoAuthUserMessageCount)??0)}))),F2e={incrementUserMessageCount:()=>{aE.setState(e=>{const t=e.userMessageCount+1;e.userMessageCount=t,localStorage.setItem(Ue.NoAuthUserMessageCount,String(t))})}};var it=(e=>(e.Starter="starter",e.Reply="reply",e.Autocomplete="autocomplete",e))(it||{}),B2e=(e=>(e.Search="Search",e))(B2e||{});const oE={data:void 0},_2=Me()(()=>({...oE}));function S2(e){if(e.data==null)return _2.setState(e);const t=e.data.suggestions.map(n=>({text:n,type:it.Reply}));_2.setState({data:{messageId:e.data.messageId,suggestions:t}})}function gNe(){return _2(e=>e.data)}const U2e=async(e,t,n)=>{S2({data:void 0});const r=await q.generateSuggestions(e,t,n),{suggestions:a}=r;S2({data:{messageId:t,suggestions:a}})},sE=()=>{S2(oE)};function J6(e){return e.status,e.status==="fulfilled"?e.value:null}function H2e(e,t){return{forceParagen:e.forceParagen,forceParagenModel:e.forceParagenModel.value,forceRateLimit:e.forceRateLimit,resetRateLimits:e.resetRateLimits,disableSystemContentToggling:e.rebaseSystemMessageContent?!0:void 0,forceUseSearch:e.forceUseSearch??t?.forceUseSearch,paragenStreamType:e.paragenStreamType,paragenCotSummaryDisplay:e.paragenCotSummaryDisplay}}async function V2e({navigateToAuth:e,completionRequestProfiler:t}){t?.logTiming("start_chat_requirements");const n=await hC();t?.logTiming("fetched_chat_requirements"),n.force_login&&e({authType:"login"});const[r,a]=await Promise.allSettled([w2.getEnforcementToken(n).then(o=>(t?.logTiming("fetched_turnstile_token"),o)),nm.getEnforcementToken(n).then(o=>(t?.logTiming("fetched_p_token"),o))]);return{chatRequirements:n,proofToken:J6(a),turnstileToken:J6(r)}}async function G2e(e){const{prependMessages:t,appendMessages:n,cancelActiveRequests:r,cancelRequests:a,clientThreadId:o,completionMetadata:s,currentModelId:l,debugSettings:c,defaultModelId:u,eventMetadata:f,extraStreamParams:p,focusOnNewCompletion:m=!0,isUnauthenticated:g,navigateToAuth:h,preRequestCompletion:v,promptId:y,requestCompletion:x,requestedModelId:C,turnTracker:w,profiler:_,type:E,updateTree:T,useDefaultModel:M}=e;sE(),j2e.reset(),r&&a();const A=performance.now();let D=l;C?D=C:M&&(D=u);const{chatRequirements:j,proofToken:B,turnstileToken:N}=await V2e({navigateToAuth:h,completionRequestProfiler:_});v?.(o,y),await x({model:D,completionType:E,parentNodeId:y,metadata:f,focusOnNewCompletion:m,completionMetadata:s,chatReq:j,turnstileToken:N,proofToken:B,preflightTime:performance.now()-A,extraStreamParams:H2e(c,p),prependMessages:t,appendMessages:n,updateTree:T,turnTracker:w,profiler:_}),g&&F2e.incrementUserMessageCount()}const Ps=Me(()=>({messagesDevData:{},activeNodeId:void 0,ui:{focusedNodeId:void 0}})),W2e=()=>Ps.getState().ui.focusedNodeId,Os=()=>Ps.getState().messagesDevData;function hNe(e){const t=Object.keys(Os()),n=t.indexOf(e);if(n===-1)throw new Error("Key not found in object");const r=(n+1)%t.length;return t[r]}function vNe(e){const t=Object.keys(Os()),n=t.indexOf(e);if(n===-1)throw new Error("Key not found in object");const r=(n-1+t.length)%t.length;return t[r]}function yNe(e){return Object.keys(Os()).indexOf(e)}const CNe=()=>Object.keys(Os()).length;function z2e(e,t){for(var n,r=-1,a=e.length;++r<a;){var o=t(e[r]);o!==void 0&&(n=n===void 0?o:n+o)}return n}var q2e=z2e,Z2e=q2e,Y2e=NaN;function K2e(e,t){var n=e==null?0:e.length;return n?Z2e(e,t)/n:Y2e}var Q2e=K2e,J2e=Q2e,X2e=Bi;function ehe(e){return J2e(e,X2e)}var the=ehe;const nhe=ve(the);function rhe(e){return e.length===0?null:e.reduce((n,r)=>n+r,0)/e.length}function ahe(e){const t=e.length;if(t===0)return 0;const n=rhe(e)||0,r=e.reduce((a,o)=>a+Math.pow(o-n,2),0)/t;return Math.sqrt(r)}function X6(e,t){const n=e.slice().sort((l,c)=>l-c),r=t*(n.length-1),a=Math.floor(r),o=Math.ceil(r);if(a===o)return n[a];const s=r-a;return(1-s)*n[a]+s*n[o]}function ohe(e){if(e.length===0)return null;const t=e.slice().sort((r,a)=>r-a),n=Math.floor(t.length/2);return t.length%2===0?(t[n-1]+t[n])/2:t[n]}var jn=(e=>(e.FirstTokenLatency="first_token_lat",e.TotalRequestTime="total_request_time",e.TokenCount="token_count",e.StdDevTokenLatency="std_dev_token_lat",e.MeanTokenLatency="mean_token_lat",e.MedianTokenLatency="median_token_lat",e.MinTokenLatency="min_token_lat",e.MaxTokenLatency="max_token_lat",e.P95TokenLatency="p95_token_lat",e.P99TokenLatency="p99_token_lat",e))(jn||{});const iE=e=>{const t=e.filter(m=>m.requestCount>1);let n=0;for(let m=0;m<e.length;m++){const g=e[m];if(n=g.requestDuration,g.content!=="")break}const r=X6(t.map(m=>m.lastTokenDuration),.95),a=X6(t.map(m=>m.lastTokenDuration),.99),o=nhe(t.map(m=>m.lastTokenDuration)),s=ohe(t.map(m=>m.lastTokenDuration)),l=t.filter(m=>m.lastTokenDuration!==0).reduce((m,g)=>Math.min(m,g.lastTokenDuration),1/0),c=t.reduce((m,g)=>Math.max(m,g.lastTokenDuration),-1/0),u=ahe(t.map(m=>m.lastTokenDuration)),f=e[e.length-1]?.requestDuration;return[{id:"first_token_lat",name:"First Token lat.",stat:n>0?`${n.toFixed(2)}ms`:null,value:n>0?n:null,category:"summary"},{id:"total_request_time",name:"Total request time",stat:f?`${(f/1e3).toFixed(2)}s`:null,value:f||null,category:"summary"},{id:"token_count",name:"Token count",stat:`${e.length}`,value:e.length,category:"summary"},{id:"std_dev_token_lat",name:"Std dev Token lat.",stat:`${u.toFixed(2)}`,value:u,category:"token"},{id:"mean_token_lat",name:"Mean Token lat.",stat:o?`${o.toFixed(2)}ms`:null,value:o??null,category:"aggregate"},{id:"median_token_lat",name:"Median Token lat.",stat:s?`${s.toFixed(2)}ms`:null,value:s??null,category:"token"},{id:"min_token_lat",name:"Min Token lat.",stat:`${l.toFixed(2)}ms`,value:l??null,category:"token"},{id:"max_token_lat",name:"Max Token lat.",stat:`${c.toFixed(2)}ms`,value:c??null,category:"token"},{id:"p95_token_lat",name:"p95 Token lat.",stat:r?`${r.toFixed(2)}ms`:null,value:r??null,category:"aggregate"},{id:"p99_token_lat",name:"p99 Token lat.",stat:a?`${a.toFixed(2)}ms`:null,value:a??null,category:"aggregate"}]},xNe=()=>{const e=Os(),t=W2e();if(!e||!t)return{stats:[],targetLatencyData:[]};const r=e[t]?.data??[];return{stats:iE(r),targetLatencyData:r}},she=(e,t,n,r)=>{Ps.setState(a=>{const o={focusedNodeId:e},s={status:"active",data:[],model:t,serverRequestId:n,preflightTime:r};return{...a,activeNodeId:e,ui:o,messagesDevData:{...a.messagesDevData,[e]:s}}})},ihe=(e,t,n)=>{const r=n?.search_source;Ps.setState(a=>{const o=a.messagesDevData[e];return{...a,activeNodeId:e,messagesDevData:{...a.messagesDevData,[e]:{...o,data:[...o?.data??[],t],searchSource:r}}}})},Yn=(e,t)=>t.find(n=>n.id===e)?.value,lhe=e=>{const n=Os()[e],r=iE(n.data),{preflightTime:a,model:o,serverRequestId:s,searchSource:l}=n,c={model:o,serverRequestId:s,preflightTime:a,searchSource:l,countTokens:Yn(jn.TokenCount,r),tsFirstToken:Yn(jn.FirstTokenLatency,r),tsMaxTokenTime:Yn(jn.MaxTokenLatency,r),tsMeanTokenWithoutFirst:Yn(jn.MeanTokenLatency,r),tsMedianTokenWithoutFirst:Yn(jn.MedianTokenLatency,r),tsMinTokenTime:Yn(jn.MinTokenLatency,r),tsStdDevTokenTime:Yn(jn.StdDevTokenLatency,r),tsP95TokenWithoutFirst:Yn(jn.P95TokenLatency,r),tsP99TokenWithoutFirst:Yn(jn.P99TokenLatency,r),tsTotalRequestTime:Yn(jn.TotalRequestTime,r)};q.postLatencyTimingEvent(c)},che=e=>Ps.setState(t=>{const n={...t.messagesDevData[e],status:"finished"};return{...t,messagesDevData:{...t.messagesDevData,[e]:n}}}),bNe=e=>Ps.setState(t=>({...t,ui:{...t.ui,focusedNodeId:e}}));class uhe{completionStartTime=Date.now();completionEndTime;blurDuringCompletionTime;refocusTime;constructor(){window.addEventListener("blur",this.onWindowBlur)}logFocusAfterBlurDuringCompletionEvent=()=>{z.logEvent("chatgpt_focus_after_blur_during_completion",null,{completion_duration_ms:`${this.completionEndTime-this.completionStartTime}`,blur_time_ms:`${this.blurDuringCompletionTime-this.completionStartTime}`,refocus_time_ms:`${this.refocusTime-this.completionStartTime}`}),S.logEvent(k.focusAfterBlurDuringCompletion,{completion_duration_ms:`${this.completionEndTime-this.completionStartTime}`,blur_time_ms:`${this.blurDuringCompletionTime-this.completionStartTime}`,refocus_time_ms:`${this.refocusTime-this.completionStartTime}`})};onWindowBlur=()=>{this.blurDuringCompletionTime===void 0&&(this.blurDuringCompletionTime=Date.now(),window.addEventListener("focus",this.onWindowFocusAfterBlur))};onWindowFocusAfterBlur=()=>{this.refocusTime=Date.now(),this.completionEndTime!==void 0&&this.logFocusAfterBlurDuringCompletionEvent(),this.cleanupFocusAfterBlurListener()};cleanupFocusAfterBlurListener=()=>{window.removeEventListener("focus",this.onWindowFocusAfterBlur)};onMessageError=()=>{window.removeEventListener("blur",this.onWindowBlur)};onMessageDone=()=>{window.removeEventListener("blur",this.onWindowBlur),this.blurDuringCompletionTime!==void 0&&(this.completionEndTime=Date.now(),z.logEvent("chatgpt_blur_during_completion",null,{completion_duration_ms:`${this.completionEndTime-this.completionStartTime}`,blur_time_ms:`${this.blurDuringCompletionTime-this.completionStartTime}`}),S.logEvent(k.blurDuringCompletion,{completion_duration_ms:`${this.completionEndTime-this.completionStartTime}`,blur_time_ms:`${this.blurDuringCompletionTime-this.completionStartTime}`}),this.refocusTime!==void 0&&this.logFocusAfterBlurDuringCompletionEvent())}}class dhe{constructor(t){this.requestLatencyId=t}requestStartTime=performance.now();requestLastTokenTime=performance.now();requestCount=0;requestTimes=[];onResponse(t,n,r){const a=performance.now(),o=a-this.requestLastTokenTime,s=a-this.requestStartTime;this.requestLastTokenTime=a,this.requestCount+=1;const l={requestCount:this.requestCount,requestDuration:s,lastTokenDuration:Number(JSON.stringify(o)),messageType:n.content.content_type,content:vC(n)?Mr(n):""};this.requestTimes.push(l),t.type==="message"?ihe(this.requestLatencyId,l,n.metadata):t.type==="done"&&r!=null&&(che(this.requestLatencyId),lhe(this.requestLatencyId))}}class wNe{static async getOrCreateSubscription({endpoint:t,p256dh:n,auth:r}){return K.safePost("/notifications/subscription/register",{requestBody:{platform:"web",web_metadata:{endpoint:t,p256dh:n},token:r}})}static async getSettings(){return K.safeGet("/notifications/settings",{})}static async updateSettings(t){const{category:n,...r}=t;return K.safePatch("/notifications/settings",{requestBody:{updates:{[n]:r}}})}}const fhe=1e4,lE=Me(Vn(()=>({settings:[],notifications:[]}))),M2=e=>{const t=crypto.randomUUID();lE.setState(r=>{r.notifications.push({...e,id:t})});const n=e.timeout??fhe;setTimeout(()=>{phe(t)},n)},phe=e=>{lE.setState(t=>{t.notifications=t.notifications.filter(n=>n.id!==e)})};const _Ne="https://help.openai.com/en/articles/8590148-memory-faq";function cE(e,t=!0){return["memories",{gizmoId:e,includeMemoryEntries:t}]}function mhe(e,t=!0,n=!0){return ye({queryKey:cE(e,t),queryFn:async()=>{const r=await q.getMemories(e,t),a=Math.min(Math.floor(100*r.memory_num_tokens/r.memory_max_tokens),100);return{...r,memoryFullPct:a}},refetchOnMount:"always",enabled:n})}async function ghe(e,t){if(t.metadata?.client_actions===void 0||t.metadata.client_actions.length===0)return[];const r=t.metadata.client_actions.filter(o=>o.type==="browser_tool");return r.length==0?[]:(await Promise.all(r.map(o=>Che(e,o.action,t)))).flat()}class hhe{conversationId;constructor(t){this.conversationId=t}createRequest(t){return new Promise((n,r)=>{const a=new BroadcastChannel(Math.random().toString()),o=setTimeout(()=>{r("Timeout"),a.close()},6e4);a.onmessage=l=>{n(l.data),clearTimeout(o),a.close()};const s={action:"browse",id:this.conversationId,...t,channel:a.name};window.postMessage(s,"*")})}browse(t){return this.createRequest({url:t,type:"browse"})}back(){return this.createRequest({type:"back"})}click(t){return this.createRequest({target:t,type:"click"})}scroll(t){return this.createRequest({amount:t,type:"scroll"})}quote(t,n){return this.createRequest({quote_start:t,quote_end:n,type:"quote"})}}function vhe(e){for(const t in e.urls)e.text.includes(`${t}`)||delete e.urls[t]}function ic(e,t,n){return vhe(n),{id:fa(),author:{role:ie.Tool,name:"browser"},content:{content_type:je.TetherBrowsingDisplay,result:n.text,summary:n.title},metadata:{_cite_metadata:{citation_format:{name:"tether_og"},metadata_list:[{type:"webpage",title:n.title,url:n.url,text:n.text}]}},recipient:"all"}}function yhe(e,t,n){return{id:fa(),author:{role:ie.Tool,name:"browser"},content:{content_type:je.Text,parts:[`${JSON.stringify(n)}`]},recipient:"all"}}async function Che(e,t,n){const r=new hhe(e);try{switch(t.command){case"back":{const a=await r.back();return[ic(e,n,a)]}case"quote":{const a=await r.quote(t.quote_start,t.quote_end);return[yhe(e,n,a)]}case"scroll":{const a=await r.scroll(t.amount);return[ic(e,n,a)]}case"open_url":{const a=await r.browse(t.url);return[ic(e,n,a)]}case"click":{const a=await r.click(t.target);return[ic(e,n,a)]}default:throw new Error("Unsupported browser action type "+t)}}catch(a){return te.addError(a),[{id:fa(),author:{role:ie.Tool,name:"browser"},content:{content_type:je.Text,parts:[`Error making browse call: ${a}`]},recipient:"all"}]}}function ey(e,t){e.updateNodeMetadata(t.id,{completionSampleFinishTime:Date.now()})}class xhe{constructor(t,n,r,a,o,s,l,c,u,f,p,m,g){this.queryClient=t,this.clientThreadId=n,this.targetNodeId=r,this.completionType=a,this.model=o,this.eventSource=s,this.onCreate=l,this.isCompanionWindow=c,this.callModelAgain=f,this.onCompletionFinished=p,this.isHistoryAndTrainingDisabled=g,this.currentTree=F.getTree(n),this.currentNodeId=r,this.activeBranchLastMessage=this.currentTree.getMessage(this.currentNodeId),this.isCompanionWindow=c,this.completionLatencyTracker=new dhe(u),this.turnTracker=m,this.turnTracker.onCompletionStarted(a,this.model)}currentTree;currentNodeId;firstResponse=!0;didCreateFirstCompletionInNewThread=!1;activeBranchLastMessage;messagesToUpdate={};allIncompleteStreamedMessages={};responseThreadId;isCompletionBlocked=!1;isEitherFlagged=!1;variantsInStreamInfo;activeBranchNodeId;blurDuringCompletionTracker=new uhe;completionLatencyTracker;turnTracker;debouncedUpdateCompletion=mx(()=>{this.isCompletionBlocked||F.updateTree(this.clientThreadId,t=>{Object.values(this.messagesToUpdate).forEach(n=>{t.updateNodeMessage(n.id,n)})}),this.messagesToUpdate={}},50,{leading:!0,maxWait:50});handleResponse=async t=>{if(t.type!=="done"&&this.turnTracker.onUpdateEventCount(),this.completionLatencyTracker.onResponse(t,this.activeBranchLastMessage,this.responseThreadId),this.responseThreadId===void 0&&"conversationId"in t){const n=t.conversationId;this.responseThreadId=n,os(this.clientThreadId)&&F.getServerThreadId(this.clientThreadId)!==n&&(F.setServerIdForNewThread(this.clientThreadId,n),S.logEvent(k.attributeClientThreadToServerThread,{client_thread_id:this.clientThreadId,server_thread_id:n}))}switch(t.type){case"error":this.handleError(t);break;case"num_variants_in_stream":this.bindVariantInfoToTree(t);break;case"moderation":this.handleModeration(t);break;case"url_moderation":this.handleUrlModeration(t);break;case"message":this.handleMessage(t),this.debouncedUpdateCompletion();break;case"done":this.handleDone();break;case"gizmo_inline_review":this.handleGizmoInlineReview(t);break;case"title_generation":this.handleTitleGeneration(t);break;case"conversation_detail_metadata":this.handleConversationDetailMetadata(t);break}};handleError(t){const n=t.error,r=n?.message||"Something went wrong",a=n instanceof vt&&n.code||"",o=n instanceof vt&&n.status,s=n instanceof vt?n.detail?.can_retry:void 0;switch(this.turnTracker.handleRawError(r,o),F.updateTree(this.clientThreadId,l=>{l.updateNodeMessage(this.currentNodeId,this.activeBranchLastMessage),l.updateNodeMetadata(this.currentNodeId,{err:r,errType:"danger",errCode:a,completionSampleFinishTime:Date.now(),canRetry:s})}),a){case Dn.ContentPolicy:case Dn.ContentOrTos:case a2:case nC:break;default:r!==void 0&&z.logEvent("chatgpt_conversation_error_web",r)}if(this.blurDuringCompletionTracker.onMessageError(),this.cleanUp(),this.onCompletionFinished(this.responseThreadId),n instanceof vt&&n.code===a2){const l=n.detail?.clears_in;l&&(n1e(new Date(Date.now()+l*1e3).toISOString()),setTimeout(()=>{gM()},l*1e3))}}handleGizmoInlineReview(t){F.setPromptGptRating(this.clientThreadId,t.gizmoId)}handleTitleGeneration(t){F.setTitle(this.clientThreadId,t.title,v1.Generated)}handleConversationDetailMetadata(t){const{default_model_slug:n}=t;n&&F.setThreadModelId(this.clientThreadId,n),rm.updateDetails(t)}bindVariantInfoToTree(t){this.variantsInStreamInfo=t,F.updateTree(this.clientThreadId,n=>{const r=n.getParentPromptNode(this.currentNodeId);n.updateNodeMetadata(r.id,{variantsInStreamInfo:this.variantsInStreamInfo})})}handleModeration(t){const{isCompletion:n,messageId:r,conversationId:a,flagged:o,blocked:s,disclaimers:l,metadata:c}=t,u=!!l?.length&&n;(o||s||u)&&(this.isEitherFlagged=!0,s&&n&&(this.isCompletionBlocked=!0),F.updateTree(this.clientThreadId,f=>{const p=f.messageIdToNodeId(r);s&&f.clearNodeMessageParts(p),f.updateNodeMetadata(p,{...(u&&!!l?.length&&LO(l,s))??{},...o&&$O,...s&&(c?.model_incompatibility?DO:FO),completionSampleFinishTime:Date.now()})}),S.logEvent(n?s?k.completionBlockedByModeration:k.completionFlaggedByModeration:s?k.promptBlockedByModeration:k.promptFlaggedByModeration,{threadId:a,id:r}))}handleUrlModeration(t){const{conversationId:n,url:r,isSafe:a}=t;a&&F.addThreadSafeUrl(n,r)}handleMessage(t){let n=!0;const{message:r,conversationId:a}=t;if(this.turnTracker.onMessageUpdate(r.metadata?.model_slug,r.metadata?.gizmo_id,r.author.name,r.author.role),this.firstResponse&&!this.currentTree.hasReceivedServerCompletion){if(this.currentTree.hasNodeOrMessageId(r.id))return r?.author.role!==ie.User?void 0:F.updateTree(this.clientThreadId,o=>{o.updateNodeMessage(r.id,r)});if(r.author.role===ie.User&&r.content.content_type===je.UserEditableContext)return;if((r?.author.role===ie.System||r?.author.role===ie.Developer)&&(r.metadata?.parent_id?this.currentTree.getNodeByIdOrMessageId(r.metadata.parent_id):void 0)?.message.author.role!==ie.User){this.currentTree.appendSystemMessageToRoot(r);return}}if(this.firstResponse&&r.metadata?.rebase_system_message){F.updateTree(this.clientThreadId,o=>{if(r.metadata?.parent_id==null)throw Error("Unexpected rebased system message without parent");const s=o.getNodeByIdOrMessageId(this.targetNodeId);o.deleteNode(this.targetNodeId),o.addNode(r.id,r,r.metadata.parent_id,r.author.role),o.addNode(s.id,s.message,r.id,s.message.author.role)});return}if(this.firstResponse){const o=Ba.getState().threads[this.clientThreadId]?.continuingFromSharedConversationId!=null;F.removeContinuingFromSharedConversationId(this.clientThreadId),this.firstResponse=!1,this.didCreateFirstCompletionInNewThread=!this.currentTree.hasReceivedServerCompletion||o,F.updateTree(this.clientThreadId,l=>{l.updateNodeMessage(this.currentNodeId,r)}),this.didCreateFirstCompletionInNewThread&&Xg.onCreate(this.onCreate,a,this.queryClient,this.isHistoryAndTrainingDisabled,this.isCompanionWindow);const s={id:this.targetNodeId,threadId:a,completionType:this.completionType,eventSource:this.eventSource,model:this.model};if(this.completionType===ea.Next){const l=Ba.getState().threads[a],c=l?.conversationTurns?.length,u=l?.conversationTurns?.filter(p=>p.role==ie.User),f=u&&u[u.length-1]?.messages[0].message;if(f?.content.content_type==je.Text){const p=f.content.parts.join("").length,m=u?.length??0;s.countConversationTurns=c,s.countUserSubmittedMessages=m,s.countLastUserPromptTextMessageLength=p}}S.logEvent(k.generateCompletion,s)}else if(this.completionType!==ea.Continue){const o=this.currentTree.containsNodeOrMessageId(r.id),s=r.metadata?.parent_id;if(o||(this.debouncedUpdateCompletion.flush(),F.updateTree(this.clientThreadId,l=>{if(s==null)throw new Error(`Received a message with no parentId: ${JSON.stringify(r)}`);l.addNode(r.id,r,s,ie.Assistant)})),s!=null&&s===this.activeBranchNodeId){const l=this.allIncompleteStreamedMessages[s];l!=null&&(F.updateTree(this.clientThreadId,c=>{ey(c,l)}),delete this.allIncompleteStreamedMessages[s])}if(n=(this.variantsInStreamInfo?.num_variants_in_stream??1)===1||this.activeBranchNodeId==null||this.activeBranchNodeId===r.id||this.currentTree.isAncestorOfNode(this.activeBranchNodeId,r.id),n&&this.activeBranchNodeId!==r.id){this.activeBranchNodeId=r.id,this.currentNodeId=r.id;const l=F.getThreadCurrentLeafId(this.clientThreadId);this.currentTree.messageIdToNodeId(this.currentNodeId)!==this.currentTree.messageIdToNodeId(l)&&F.setThreadCurrentLeafId(this.clientThreadId,this.currentNodeId),s!=null&&F.updateTree(this.clientThreadId,c=>{const u=c.getParentPromptNode(r.id);c.updateNodeMetadata(u.id,{variantsInStreamInfo:this.variantsInStreamInfo})})}}if(r?.author.role===ie.Tool&&r?.author.name==="bio"){const o=r.metadata?.gizmo_id;setTimeout(()=>{this.queryClient.invalidateQueries({queryKey:cE(o)})},5e3)}n&&(this.activeBranchLastMessage=r),this.messagesToUpdate[r.id]=r,this.allIncompleteStreamedMessages[r.id]=r}async handleDone(){if(this.turnTracker.model_message_update_count>0?this.turnTracker.logCompletion({type:qr.Success}):this.turnTracker.logCompletion({type:qr.Error,error:{reason:"empty_response",message:"Successful completion ended with no messages"}}),this.isCompletionBlocked||(this.debouncedUpdateCompletion.flush(),this.isEitherFlagged||(this.didCreateFirstCompletionInNewThread&&Xg.onCreateFinished(this.queryClient,this.responseThreadId,this.isHistoryAndTrainingDisabled),this.onCompletionFinished(this.responseThreadId))),F.updateTree(this.clientThreadId,t=>{Object.values(this.allIncompleteStreamedMessages).forEach(n=>{ey(t,n)})}),P1.publish({kind:"createConversation",clientThreadId:this.clientThreadId}),this.blurDuringCompletionTracker.onMessageDone(),this.cleanUp(),this.activeBranchLastMessage?.metadata?.client_actions!==void 0){const t=await ghe(this.clientThreadId,this.activeBranchLastMessage);t.length>0&&this.callModelAgain(this.currentNodeId,t)}}cleanUp(){setTimeout(()=>{_i(this.clientThreadId,{source:yr.CLIENT,value:Tn.UNREAD});const t=F.getTitle(this.clientThreadId),n=BO.getCurrentConversationTurns(dh(this.clientThreadId)),r=n[n.length-1],a=Pr(r?.messages)?.message.content,o=a?.content_type===je.Text?a.parts[0]:void 0;M2({title:t,subtitle:o,clientThreadId:this.clientThreadId}),Ua.removeRequest(this.targetNodeId),F.releaseThread(this.clientThreadId)},0)}}const Yd=new Set,SNe=e=>{d.useEffect(()=>(Yd.add(e),()=>{Yd.delete(e)}),[e])},bhe=()=>Yd.size>0,whe=()=>Promise.allSettled(Array.from(Yd).map(e=>e())),_he=window.location.host+"/ces",She="https",Mhe=`${She}://${_he}`;var Nt=(e=>(e.DEFAULT="default",e.INTERNAL="internal",e.JAWBONE="jawbone",e.MOONSHINE="moonshine",e))(Nt||{});class ty{counterMap=new Map;histMap=new Map}class The{metrics=new ty;postUrl=`${Mhe}/statsc/flush`;postInterval=3e4;maxPostErrors=10;isScheduled=!1;numMetricPostErrors=0;numLostMetrics=0;count(t,n,r=[],a=1){if(!this.isEnabled())return;const o=this.makeKey(t,n,r);var s=this.metrics.counterMap;const l=s.get(o);l?l.value+=a:s.set(o,{namespace:t,metric:n,tags:r,value:a}),this.scheduleIfNeeded()}hist(t,n,r=[],a){if(!this.isEnabled())return;const o=this.makeKey(t,n,r);var s=this.metrics.histMap;const l=s.get(o);l?l.values.push(a):s.set(o,{namespace:t,metric:n,tags:r,values:[a]}),this.scheduleIfNeeded()}makeKey(t,n,r){const a=r.map(o=>`${o.key}=${o.value}`).sort().join(",");return`${t}:${n}:${a}`}isEnabled(){return z.checkGateWithExposureLoggingDisabled("1578703058")}scheduleIfNeeded(){this.isScheduled||(this.isScheduled=!0,this.schedule())}schedule(){setTimeout(()=>{this.postMetrics()},this.postInterval)}hasPendingMetrics(){return this.metrics.counterMap.size>0||this.metrics.histMap.size>0||this.numMetricPostErrors>0}async postMetrics(){var t=this.metrics;this.metrics=new ty;var n=t.counterMap.size+t.histMap.size,r=Array.from(t.counterMap.values());this.numMetricPostErrors>0&&(r.push({namespace:"internal",metric:"post_errors",tags:[],value:this.numMetricPostErrors}),r.push({namespace:"internal",metric:"lost_metrics",tags:[],value:this.numLostMetrics}));const a={counters:r,histograms:Array.from(t.histMap.values()),client_type:"web"},o=JSON.stringify(a);try{await K.post(this.postUrl,a,{authOption:tm.Anonymous}),this.numMetricPostErrors=0}catch(s){s instanceof vt||te.addError(s,{json:o}),this.numMetricPostErrors++,this.numLostMetrics+=n,this.numMetricPostErrors>this.maxPostErrors&&(te.addAction(`Exceeded maximum number of post errors (${this.maxPostErrors}). Dropping ${this.numLostMetrics} metrics.`),this.numMetricPostErrors=0,this.numLostMetrics=0)}this.hasPendingMetrics()?this.schedule():this.isScheduled=!1}}const Wt=new The,Ro=e=>{if(e.type===it.Starter&&e.category==="onboarding")return"";switch(e.type){case it.Reply:return e.text;case it.Starter:case it.Autocomplete:return e.prompt}},Ehe=e=>e.type===it.Reply,uE=e=>e.type===it.Starter,E4=e=>e.type===it.Autocomplete,bu=e=>E4(e)&&!!e.theme,khe=(e,t,n,r)=>{switch(z.logEvent("chatgpt_prompt_use_suggestion",E4(e)&&!bu(e)?"":Ro(e),{id:uE(e)||bu(e)?e.id??"":"",index:`${t}`,type:e.type}),e.type){case it.Reply:S.logEvent(k.useSuggestedReply,{value:Ro(e),prompt_type:it.Reply,messageId:r});break;case it.Starter:S.logEvent(k.useStarterPrompt,{value:Ro(e),prompt_type:it.Starter,title:e.title,body:e.body,id:e.id,category:e.category,client_thread_id:n,messageId:r,index:t,theme:e.theme});break;case it.Autocomplete:{const a=bu(e);S.logEvent(k.useAutocomplete,{value:a?Ro(e):"",prompt_type:it.Autocomplete,title:a?e.title:"",body:a?e.body:"",id:a?e.id:"",category:e.category,index:t,messageId:r,client_thread_id:n,theme:e.theme??""});break}}},MNe=(e,t)=>{const n=F.getThreadCurrentLeafId(t),r=F.getTree(t).getMessageId(n);if(z.logEvent("chatgpt_prompt_show_suggestions",`count_${e.length}`,{type:e[0].type}),e.every(Ehe))S.logEvent(k.showSuggestedReplies,{prompt_count:e.length,prompt_type:it.Reply,client_thread_id:t,suggestions:e.map(a=>a.text),message_id:r});else if(e.every(uE)){const{isAdditional:a}=e[0];S.logEvent(a?k.moreStarterPromptsShown:k.showStarterPrompts,{prompt_count:e.length,prompt_type:it.Starter,titles:e.map(o=>o.title),bodies:e.map(o=>o.body),ids:e.map(o=>o.id),client_thread_id:t,message_id:r,themes:e.map(o=>o.theme??"")}),a&&S.logEvent(k.expandMoreStarterPrompts,{client_thread_id:t,message_id:r})}else if(e.every(E4)){const a=!!e.find(o=>bu(o));S.logEvent(k.showAutocompletePrompts,{prompt_count:e.length,prompt_type:it.Autocomplete,titles:e.map(o=>a?o.title:""),bodies:e.map(o=>a?o.body:""),ids:e.map(o=>a?o.id:""),client_thread_id:t,message_id:r,themes:e.map(o=>o.theme??"")})}else te.addError("Unhandled suggestion type",{type:e[0].type})},TNe=e=>{const t=F.getThreadCurrentLeafId(e),n=F.getTree(e).getMessageId(t);S.logEvent(k.showExpandMoreStarterPromptsButton,{client_thread_id:e,message_id:n})},ENe=e=>{const t=F.getThreadCurrentLeafId(e),n=F.getTree(e).getMessageId(t);S.logEvent(k.expandMoreStarterPrompts,{client_thread_id:e,message_id:n})};async function Ahe(e,t){const n=e.getReader();let r;for(;!(r=await n.read()).done;)t(r.value)}function Phe(e){let t,n,r,a=!1;return function(s){t===void 0?(t=s,n=0,r=-1):t=Nhe(t,s);const l=t.length;let c=0;for(;n<l;){a&&(t[n]===10&&(c=++n),a=!1);let u=-1;for(;n<l&&u===-1;++n)switch(t[n]){case 58:r===-1&&(r=n-c);break;case 13:a=!0;case 10:u=n;break}if(u===-1)break;e(t.subarray(c,u),r),c=n,r=-1}c===l?t=void 0:c!==0&&(t=t.subarray(c),n-=c)}}function Ohe(e,t,n){let r=ny();const a=new TextDecoder;return function(s,l){if(s.length===0)n?.(r),r=ny();else if(l>0){const c=a.decode(s.subarray(0,l)),u=l+(s[l+1]===32?2:1),f=a.decode(s.subarray(u));switch(c){case"data":r.data=r.data?r.data+`
`+f:f;break;case"event":r.event=f;break;case"id":e(r.id=f);break;case"retry":const p=parseInt(f,10);isNaN(p)||t(r.retry=p);break}}}}function Nhe(e,t){const n=new Uint8Array(e.length+t.length);return n.set(e),n.set(t,e.length),n}function ny(){return{data:"",event:"",id:"",retry:void 0}}var Ihe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};const T2="text/event-stream",jhe=1e3,ry="last-event-id";function Rhe(e,t){var{signal:n,headers:r,onopen:a,onmessage:o,onclose:s,onerror:l,openWhenHidden:c,fetch:u}=t,f=Ihe(t,["signal","headers","onopen","onmessage","onclose","onerror","openWhenHidden","fetch"]);return new Promise((p,m)=>{const g=Object.assign({},r);g.accept||(g.accept=T2);let h;function v(){h.abort(),document.hidden||E()}c||document.addEventListener("visibilitychange",v);let y=jhe,x=0;function C(){document.removeEventListener("visibilitychange",v),window.clearTimeout(x),h.abort()}n?.addEventListener("abort",()=>{C(),p()});const w=u??window.fetch,_=a??Lhe;async function E(){var T;h=new AbortController;try{const M=await w(e,Object.assign(Object.assign({},f),{headers:g,signal:h.signal}));await _(M),await Ahe(M.body,Phe(Ohe(A=>{A?g[ry]=A:delete g[ry]},A=>{y=A},o))),s?.(),C(),p()}catch(M){if(!h.signal.aborted)try{const A=(T=l?.(M))!==null&&T!==void 0?T:y;window.clearTimeout(x),x=window.setTimeout(E,A)}catch(A){C(),m(A)}}}E()})}function Lhe(e){const t=e.headers.get("content-type");if(!t?.startsWith(T2))throw new Error(`Expected content-type to be ${T2}, Actual: ${t}`)}var $he=typeof globalThis=="object"?globalThis:typeof self=="object"?self:typeof window=="object"?window:typeof global=="object"?global:{},Ia="1.6.0",ay=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/;function Dhe(e){var t=new Set([e]),n=new Set,r=e.match(ay);if(!r)return function(){return!1};var a={major:+r[1],minor:+r[2],patch:+r[3],prerelease:r[4]};if(a.prerelease!=null)return function(c){return c===e};function o(l){return n.add(l),!1}function s(l){return t.add(l),!0}return function(c){if(t.has(c))return!0;if(n.has(c))return!1;var u=c.match(ay);if(!u)return o(c);var f={major:+u[1],minor:+u[2],patch:+u[3],prerelease:u[4]};return f.prerelease!=null||a.major!==f.major?o(c):a.major===0?a.minor===f.minor&&a.patch<=f.patch?s(c):o(c):a.minor<=f.minor?s(c):o(c)}}var Fhe=Dhe(Ia),Bhe=Ia.split(".")[0],Ri=Symbol.for("opentelemetry.js.api."+Bhe),Li=$he;function El(e,t,n,r){var a;r===void 0&&(r=!1);var o=Li[Ri]=(a=Li[Ri])!==null&&a!==void 0?a:{version:Ia};if(!r&&o[e]){var s=new Error("@opentelemetry/api: Attempted duplicate registration of API: "+e);return n.error(s.stack||s.message),!1}if(o.version!==Ia){var s=new Error("@opentelemetry/api: Registration of version v"+o.version+" for "+e+" does not match previously registered API v"+Ia);return n.error(s.stack||s.message),!1}return o[e]=t,n.debug("@opentelemetry/api: Registered a global for "+e+" v"+Ia+"."),!0}function Ka(e){var t,n,r=(t=Li[Ri])===null||t===void 0?void 0:t.version;if(!(!r||!Fhe(r)))return(n=Li[Ri])===null||n===void 0?void 0:n[e]}function kl(e,t){t.debug("@opentelemetry/api: Unregistering a global for "+e+" v"+Ia+".");var n=Li[Ri];n&&delete n[e]}var Uhe=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),a,o=[],s;try{for(;(t===void 0||t-- >0)&&!(a=r.next()).done;)o.push(a.value)}catch(l){s={error:l}}finally{try{a&&!a.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return o},Hhe=function(e,t,n){if(n||arguments.length===2)for(var r=0,a=t.length,o;r<a;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))},Vhe=function(){function e(t){this._namespace=t.namespace||"DiagComponentLogger"}return e.prototype.debug=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return qs("debug",this._namespace,t)},e.prototype.error=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return qs("error",this._namespace,t)},e.prototype.info=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return qs("info",this._namespace,t)},e.prototype.warn=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return qs("warn",this._namespace,t)},e.prototype.verbose=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return qs("verbose",this._namespace,t)},e}();function qs(e,t,n){var r=Ka("diag");if(r)return n.unshift(t),r[e].apply(r,Hhe([],Uhe(n),!1))}var fn;(function(e){e[e.NONE=0]="NONE",e[e.ERROR=30]="ERROR",e[e.WARN=50]="WARN",e[e.INFO=60]="INFO",e[e.DEBUG=70]="DEBUG",e[e.VERBOSE=80]="VERBOSE",e[e.ALL=9999]="ALL"})(fn||(fn={}));function Ghe(e,t){e<fn.NONE?e=fn.NONE:e>fn.ALL&&(e=fn.ALL),t=t||{};function n(r,a){var o=t[r];return typeof o=="function"&&e>=a?o.bind(t):function(){}}return{error:n("error",fn.ERROR),warn:n("warn",fn.WARN),info:n("info",fn.INFO),debug:n("debug",fn.DEBUG),verbose:n("verbose",fn.VERBOSE)}}var Whe=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),a,o=[],s;try{for(;(t===void 0||t-- >0)&&!(a=r.next()).done;)o.push(a.value)}catch(l){s={error:l}}finally{try{a&&!a.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return o},zhe=function(e,t,n){if(n||arguments.length===2)for(var r=0,a=t.length,o;r<a;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))},qhe="diag",ir=function(){function e(){function t(a){return function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];var l=Ka("diag");if(l)return l[a].apply(l,zhe([],Whe(o),!1))}}var n=this,r=function(a,o){var s,l,c;if(o===void 0&&(o={logLevel:fn.INFO}),a===n){var u=new Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return n.error((s=u.stack)!==null&&s!==void 0?s:u.message),!1}typeof o=="number"&&(o={logLevel:o});var f=Ka("diag"),p=Ghe((l=o.logLevel)!==null&&l!==void 0?l:fn.INFO,a);if(f&&!o.suppressOverrideMessage){var m=(c=new Error().stack)!==null&&c!==void 0?c:"<failed to generate stacktrace>";f.warn("Current logger will be overwritten from "+m),p.warn("Current logger will overwrite one already registered from "+m)}return El("diag",p,n,!0)};n.setLogger=r,n.disable=function(){kl(qhe,n)},n.createComponentLogger=function(a){return new Vhe(a)},n.verbose=t("verbose"),n.debug=t("debug"),n.info=t("info"),n.warn=t("warn"),n.error=t("error")}return e.instance=function(){return this._instance||(this._instance=new e),this._instance},e}(),Zhe=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),a,o=[],s;try{for(;(t===void 0||t-- >0)&&!(a=r.next()).done;)o.push(a.value)}catch(l){s={error:l}}finally{try{a&&!a.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return o},Yhe=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Khe=function(){function e(t){this._entries=t?new Map(t):new Map}return e.prototype.getEntry=function(t){var n=this._entries.get(t);if(n)return Object.assign({},n)},e.prototype.getAllEntries=function(){return Array.from(this._entries.entries()).map(function(t){var n=Zhe(t,2),r=n[0],a=n[1];return[r,a]})},e.prototype.setEntry=function(t,n){var r=new e(this._entries);return r._entries.set(t,n),r},e.prototype.removeEntry=function(t){var n=new e(this._entries);return n._entries.delete(t),n},e.prototype.removeEntries=function(){for(var t,n,r=[],a=0;a<arguments.length;a++)r[a]=arguments[a];var o=new e(this._entries);try{for(var s=Yhe(r),l=s.next();!l.done;l=s.next()){var c=l.value;o._entries.delete(c)}}catch(u){t={error:u}}finally{try{l&&!l.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}return o},e.prototype.clear=function(){return new e},e}(),Qhe=Symbol("BaggageEntryMetadata"),Jhe=ir.instance();function Xhe(e){return e===void 0&&(e={}),new Khe(new Map(Object.entries(e)))}function kNe(e){return typeof e!="string"&&(Jhe.error("Cannot create baggage metadata from unknown type: "+typeof e),e=""),{__TYPE__:Qhe,toString:function(){return e}}}function dE(e){return Symbol.for(e)}var e5e=function(){function e(t){var n=this;n._currentContext=t?new Map(t):new Map,n.getValue=function(r){return n._currentContext.get(r)},n.setValue=function(r,a){var o=new e(n._currentContext);return o._currentContext.set(r,a),o},n.deleteValue=function(r){var a=new e(n._currentContext);return a._currentContext.delete(r),a}}return e}(),t5e=new e5e,Ns=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(r[o]=a[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),n5e=function(){function e(){}return e.prototype.createHistogram=function(t,n){return d5e},e.prototype.createCounter=function(t,n){return u5e},e.prototype.createUpDownCounter=function(t,n){return f5e},e.prototype.createObservableGauge=function(t,n){return m5e},e.prototype.createObservableCounter=function(t,n){return p5e},e.prototype.createObservableUpDownCounter=function(t,n){return g5e},e.prototype.addBatchObservableCallback=function(t,n){},e.prototype.removeBatchObservableCallback=function(t){},e}(),k4=function(){function e(){}return e}(),r5e=function(e){Ns(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.add=function(n,r){},t}(k4),a5e=function(e){Ns(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.add=function(n,r){},t}(k4),o5e=function(e){Ns(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.record=function(n,r){},t}(k4),A4=function(){function e(){}return e.prototype.addCallback=function(t){},e.prototype.removeCallback=function(t){},e}(),s5e=function(e){Ns(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t}(A4),i5e=function(e){Ns(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t}(A4),l5e=function(e){Ns(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t}(A4),c5e=new n5e,u5e=new r5e,d5e=new o5e,f5e=new a5e,p5e=new s5e,m5e=new i5e,g5e=new l5e,h5e={get:function(e,t){if(e!=null)return e[t]},keys:function(e){return e==null?[]:Object.keys(e)}},v5e={set:function(e,t,n){e!=null&&(e[t]=n)}},y5e=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),a,o=[],s;try{for(;(t===void 0||t-- >0)&&!(a=r.next()).done;)o.push(a.value)}catch(l){s={error:l}}finally{try{a&&!a.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return o},C5e=function(e,t,n){if(n||arguments.length===2)for(var r=0,a=t.length,o;r<a;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))},x5e=function(){function e(){}return e.prototype.active=function(){return t5e},e.prototype.with=function(t,n,r){for(var a=[],o=3;o<arguments.length;o++)a[o-3]=arguments[o];return n.call.apply(n,C5e([r],y5e(a),!1))},e.prototype.bind=function(t,n){return n},e.prototype.enable=function(){return this},e.prototype.disable=function(){return this},e}(),b5e=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),a,o=[],s;try{for(;(t===void 0||t-- >0)&&!(a=r.next()).done;)o.push(a.value)}catch(l){s={error:l}}finally{try{a&&!a.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return o},w5e=function(e,t,n){if(n||arguments.length===2)for(var r=0,a=t.length,o;r<a;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))},M0="context",_5e=new x5e,Gf=function(){function e(){}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalContextManager=function(t){return El(M0,t,ir.instance())},e.prototype.active=function(){return this._getContextManager().active()},e.prototype.with=function(t,n,r){for(var a,o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];return(a=this._getContextManager()).with.apply(a,w5e([t,n,r],b5e(o),!1))},e.prototype.bind=function(t,n){return this._getContextManager().bind(t,n)},e.prototype._getContextManager=function(){return Ka(M0)||_5e},e.prototype.disable=function(){this._getContextManager().disable(),kl(M0,ir.instance())},e}(),E2;(function(e){e[e.NONE=0]="NONE",e[e.SAMPLED=1]="SAMPLED"})(E2||(E2={}));var fE="0000000000000000",pE="00000000000000000000000000000000",S5e={traceId:pE,spanId:fE,traceFlags:E2.NONE},pi=function(){function e(t){t===void 0&&(t=S5e),this._spanContext=t}return e.prototype.spanContext=function(){return this._spanContext},e.prototype.setAttribute=function(t,n){return this},e.prototype.setAttributes=function(t){return this},e.prototype.addEvent=function(t,n){return this},e.prototype.setStatus=function(t){return this},e.prototype.updateName=function(t){return this},e.prototype.end=function(t){},e.prototype.isRecording=function(){return!1},e.prototype.recordException=function(t,n){},e}(),P4=dE("OpenTelemetry Context Key SPAN");function O4(e){return e.getValue(P4)||void 0}function M5e(){return O4(Gf.getInstance().active())}function N4(e,t){return e.setValue(P4,t)}function T5e(e){return e.deleteValue(P4)}function E5e(e,t){return N4(e,new pi(t))}function mE(e){var t;return(t=O4(e))===null||t===void 0?void 0:t.spanContext()}var k5e=/^([0-9a-f]{32})$/i,A5e=/^[0-9a-f]{16}$/i;function P5e(e){return k5e.test(e)&&e!==pE}function O5e(e){return A5e.test(e)&&e!==fE}function gE(e){return P5e(e.traceId)&&O5e(e.spanId)}function N5e(e){return new pi(e)}var T0=Gf.getInstance(),hE=function(){function e(){}return e.prototype.startSpan=function(t,n,r){r===void 0&&(r=T0.active());var a=!!n?.root;if(a)return new pi;var o=r&&mE(r);return I5e(o)&&gE(o)?new pi(o):new pi},e.prototype.startActiveSpan=function(t,n,r,a){var o,s,l;if(!(arguments.length<2)){arguments.length===2?l=n:arguments.length===3?(o=n,l=r):(o=n,s=r,l=a);var c=s??T0.active(),u=this.startSpan(t,o,c),f=N4(c,u);return T0.with(f,l,void 0,u)}},e}();function I5e(e){return typeof e=="object"&&typeof e.spanId=="string"&&typeof e.traceId=="string"&&typeof e.traceFlags=="number"}var j5e=new hE,R5e=function(){function e(t,n,r,a){this._provider=t,this.name=n,this.version=r,this.options=a}return e.prototype.startSpan=function(t,n,r){return this._getTracer().startSpan(t,n,r)},e.prototype.startActiveSpan=function(t,n,r,a){var o=this._getTracer();return Reflect.apply(o.startActiveSpan,o,arguments)},e.prototype._getTracer=function(){if(this._delegate)return this._delegate;var t=this._provider.getDelegateTracer(this.name,this.version,this.options);return t?(this._delegate=t,this._delegate):j5e},e}(),L5e=function(){function e(){}return e.prototype.getTracer=function(t,n,r){return new hE},e}(),$5e=new L5e,oy=function(){function e(){}return e.prototype.getTracer=function(t,n,r){var a;return(a=this.getDelegateTracer(t,n,r))!==null&&a!==void 0?a:new R5e(this,t,n,r)},e.prototype.getDelegate=function(){var t;return(t=this._delegate)!==null&&t!==void 0?t:$5e},e.prototype.setDelegate=function(t){this._delegate=t},e.prototype.getDelegateTracer=function(t,n,r){var a;return(a=this._delegate)===null||a===void 0?void 0:a.getTracer(t,n,r)},e}(),sy;(function(e){e[e.NOT_RECORD=0]="NOT_RECORD",e[e.RECORD=1]="RECORD",e[e.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"})(sy||(sy={}));var iy;(function(e){e[e.INTERNAL=0]="INTERNAL",e[e.SERVER=1]="SERVER",e[e.CLIENT=2]="CLIENT",e[e.PRODUCER=3]="PRODUCER",e[e.CONSUMER=4]="CONSUMER"})(iy||(iy={}));var ly;(function(e){e[e.UNSET=0]="UNSET",e[e.OK=1]="OK",e[e.ERROR=2]="ERROR"})(ly||(ly={}));var cy=Gf.getInstance(),ANe=ir.instance(),D5e=function(){function e(){}return e.prototype.getMeter=function(t,n,r){return c5e},e}(),F5e=new D5e,E0="metrics",B5e=function(){function e(){}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalMeterProvider=function(t){return El(E0,t,ir.instance())},e.prototype.getMeterProvider=function(){return Ka(E0)||F5e},e.prototype.getMeter=function(t,n,r){return this.getMeterProvider().getMeter(t,n,r)},e.prototype.disable=function(){kl(E0,ir.instance())},e}(),PNe=B5e.getInstance(),U5e=function(){function e(){}return e.prototype.inject=function(t,n){},e.prototype.extract=function(t,n){return t},e.prototype.fields=function(){return[]},e}(),I4=dE("OpenTelemetry Baggage Key");function vE(e){return e.getValue(I4)||void 0}function H5e(){return vE(Gf.getInstance().active())}function V5e(e,t){return e.setValue(I4,t)}function G5e(e){return e.deleteValue(I4)}var k0="propagation",W5e=new U5e,z5e=function(){function e(){this.createBaggage=Xhe,this.getBaggage=vE,this.getActiveBaggage=H5e,this.setBaggage=V5e,this.deleteBaggage=G5e}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalPropagator=function(t){return El(k0,t,ir.instance())},e.prototype.inject=function(t,n,r){return r===void 0&&(r=v5e),this._getGlobalPropagator().inject(t,n,r)},e.prototype.extract=function(t,n,r){return r===void 0&&(r=h5e),this._getGlobalPropagator().extract(t,n,r)},e.prototype.fields=function(){return this._getGlobalPropagator().fields()},e.prototype.disable=function(){kl(k0,ir.instance())},e.prototype._getGlobalPropagator=function(){return Ka(k0)||W5e},e}(),ONe=z5e.getInstance(),A0="trace",q5e=function(){function e(){this._proxyTracerProvider=new oy,this.wrapSpanContext=N5e,this.isSpanContextValid=gE,this.deleteSpan=T5e,this.getSpan=O4,this.getActiveSpan=M5e,this.getSpanContext=mE,this.setSpan=N4,this.setSpanContext=E5e}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalTracerProvider=function(t){var n=El(A0,this._proxyTracerProvider,ir.instance());return n&&this._proxyTracerProvider.setDelegate(t),n},e.prototype.getTracerProvider=function(){return Ka(A0)||this._proxyTracerProvider},e.prototype.getTracer=function(t,n){return this.getTracerProvider().getTracer(t,n)},e.prototype.disable=function(){kl(A0,ir.instance()),this._proxyTracerProvider=new oy},e}(),yE=q5e.getInstance(),k2=(e=>(e.V1="v1",e))(k2||{});class Z5e{prevObjByChannel=[];prevDelta={channel:0,op:"add",path:"",value:void 0};applyDelta(t){try{const n=this.decodeDelta(t),r=n.channel,a=this.prevObjByChannel[r],o=Q5e(a,n);return this.prevObjByChannel[r]=o,o}catch(n){te.addError(`Error applying delta: ${n}`)}}decodeDelta(t){K5e(t);const n=Y5e(t,this.prevDelta),r=CE(n);return this.prevDelta=r,r}}function Y5e(e,t){for(const[n,r]of xE)n!=="value"&&!(r in e)&&(e[r]=t[n]);return e}function CE(e){const t=e;for(const[n,r]of xE)r in e&&(t[n]=e[r],delete e[r]);return t.op==="patch"&&(t.value=t.value.map(CE)),t}function K5e(e){if(!e||typeof e!="object")throw new Error("Unexpected delta non-object")}const xE=[["channel","c"],["path","p"],["op","o"],["value","v"]];function Q5e(e,t){return J2({__root:e},r=>bE(r,t)).__root}function bE(e,t){const n=e4e(t.path??"");for(let a=0;a<n.length-1;a++)e[n[a]]===void 0&&(typeof n[a+1]=="number"?e[n[a]]=[]:e[n[a]]={}),e=e[n[a]];const r=n[n.length-1];switch(t.op){case"patch":for(const a of t.value){const o={__root:e[r]};bE(o,a),e[r]=o.__root}break;case"add":Array.isArray(e)?e.splice(r,0,t.value):e[r]=t.value;break;case"remove":Array.isArray(e)?e.splice(r,1):delete e[r];break;case"replace":e[r]=t.value;break;case"append":if(typeof e[r]=="string")e[r]+=t.value;else if(Array.isArray(e[r]))e[r].push(...t4e(t.value));else if(uy(e[r])&&uy(t.value))for(let a in t.value)e[r][a]=t.value[a];else e[r]=t.value;break;case"truncate":e[r]&&(typeof e[r]=="string"?e[r]=e[r].substring(0,t.value):Array.isArray(e[r])&&(e[r].length=t.value));break;default:throw new Error("Unknown json delta operation")}}function J5e(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}const X5e=/^(?:0|[1-9]\d*)$/d;function e4e(e){const t=["__root"];if(e==="")return t;e[0]==="/"&&(e=e.substring(1));for(const n of e.split("/"))X5e.test(n)?t.push(parseInt(n,10)):t.push(J5e(n));return t}function t4e(e){return Array.isArray(e)?e:[e]}function uy(e){return typeof e=="object"&&e!=null&&!Array.isArray(e)}const n4e=1e3*30,Zs=yE.getTracer("completion");class dy extends Error{}function r4e(e,t,n,r){return(async()=>{bhe()&&await whe();const o=new AbortController,s="threadId"in t?t.threadId:void 0,l="continueFromSharedConversationId"in t?t.continueFromSharedConversationId:void 0,c=fa(),u=t.model,f={action:t.completionType,messages:t.messages.length>0?t.messages:void 0,conversation_id:s,continue_from_shared_conversation_id:s!=null?void 0:l,parent_message_id:t.parentMessageId,model:t.model,timezone_offset_min:new Date().getTimezoneOffset(),timezone:Intl.DateTimeFormat().resolvedOptions().timeZone,variant_purpose:t.completionMetadata?.variantPurpose,suggestions:t.completionMetadata?.suggestions?t.completionMetadata.suggestions.map(I=>Ro(I)):void 0,chosen_suggestion:t.completionMetadata?.suggestion?{type:t.completionMetadata.suggestion.type,index:t.completionMetadata.suggestionIndex,source:t.completionMetadata?.suggestion.type===it.Autocomplete?t.completionMetadata.suggestion.source:void 0,user_input:t.completionMetadata?.suggestion.type===it.Autocomplete?t.completionMetadata.suggestion.userInput:void 0}:void 0,history_and_training_disabled:t.historyDisabled,juice:t.completionMetadata?.juice,conversation_mode:t.completionMetadata?.conversationMode,force_paragen:t.forceParagen,force_paragen_model_slug:t.forceParagenModel,force_indepth_feedback:t.forceIndepthFeedback,force_rate_limit:t.forceRateLimit,reset_rate_limits:t.resetRateLimits,disable_system_content_toggling:t.disableSystemContentToggling,websocket_request_id:c,source:t.completionMetadata?.source,system_hints:t.completionMetadata?.systemHints,prefetch_ids:t.completionMetadata?.prefetchIds,supports_buffering:!0,supported_encodings:[k2.V1],conversation_origin:t.conversationOrigin,force_use_search:t.forceUseSearch,client_reported_search_source:t.completionMetadata?.searchSource,client_contextual_info:t.contextualInfo,paragen_stream_type_override:t.paragenStreamType==="none"?null:t.paragenStreamType,paragen_cot_summary_display_override:t.paragenCotSummaryDisplay==="none"?null:t.paragenCotSummaryDisplay,is_onboarding_conversation:t.isOnboardingConversation},p=u.startsWith("o1")&&u.endsWith("o");let m,g;const h=yC(e);sh(h)?(g=window.location.origin+"/backend-anon",m=K.getUnauthHeaders().additionalHeaders):(p?g=window.location.origin+"/backend-alt":g=window.location.origin+"/backend-api",m=K.getAuthedHeadersWithAccessToken(h?.accessToken));const v=`${g}/conversation`,y=UO(t.chatReq,t.turnstileToken,t.proofToken,null),x={...m,...p2e(),...y};let C=!1,w=!1,_=!1,E=!1,T,M,A,D,j;Zs.startActiveSpan("completion.response",I=>{T=Zs.startSpan("completion.first_response"),M=Zs.startSpan("completion.first_token_including_tool_calls"),A=Zs.startSpan("completion.first_token_including_visible_content"),D=Zs.startSpan("completion.first_token"),j=I});const B=yE.setSpan(cy.active(),j);let N=null,H=!1;function R(){H||(H=!0,n({type:"done"}),sv())}function G(I){if(t.turnTracker.onBytesReceived(I.data),I.data==="[DONE]")o.abort(),j.end(),R();else if(I.event!=="ping")try{let O=JSON.parse(I.data);if(I.event==="delta_encoding")if(O===k2.V1)t.turnTracker.stream_encoding=O,N=new Z5e;else{te.addError(`[completion-delta] unknown delta encoding: ${O}`);return}else if(I.event==="delta"){if(!N){te.addError("[completion-delta] delta event before delta_encoding");return}O=N.applyDelta(O)}if(O.error){const Q=vt.createWithErrorMessage(v,"server",O.error);throw n({type:"error",error:Q}),Q}else"type"in O?O.type==="gizmo_inline_review"?n({type:"gizmo_inline_review",gizmoId:O.gizmo_id}):O.type==="title_generation"?n({type:"title_generation",title:O.title,conversation_id:O.conversation_id}):O.type==="moderation"?n({type:"moderation",conversationId:O.conversation_id,messageId:O.message_id,isCompletion:O.is_completion,flagged:O.moderation_response.flagged,blocked:O.moderation_response.blocked,disclaimers:O.moderation_response.disclaimers,metadata:O.moderation_response.metadata}):O.type==="url_moderation"?n({type:"url_moderation",conversationId:O.conversation_id,messageId:O.message_id,url:O.url_moderation_result.full_url,isSafe:O.url_moderation_result.is_safe}):O.type==="num_variants_in_stream"?n({type:"num_variants_in_stream",num_variants_in_stream:O.num_variants_in_stream,display_treatment:O.display_treatment}):O.type==="conversation_detail_metadata"?n(O):O.type==="message_stream_complete"&&R():(n({type:"message",message:O.message,conversationId:O.conversation_id}),C||(C=!0,T.end()),!w&&O.message.author.role===ie.Assistant&&(w=!0,M.end()),!_&&O.message.author.role===ie.Assistant&&vC(O.message)&&(_=!0,A.end()),!E&&O.message.author.role===ie.Assistant&&GO(O.message)&&(E=!0,D.end()))}catch(O){if(O instanceof vt)throw O}}let X=null,ae=setTimeout(()=>{X===!0?(S.logEvent(k.asyncResponseWaitTooLong,{}),t.turnTracker.logCompletion({type:qr.Error,error:{reason:"timeout",message:"Async Response Took Too Long to Come Back"}})):X===!1&&(S.logEvent(k.sseResponseWaitTooLong,{}),t.turnTracker.logCompletion({type:qr.Error,error:{reason:"timeout",message:"SSE Response Took Too Long to Come Back"}}))},n4e);return Wt.count(Nt.DEFAULT,"completion_request"),Wt.hist(Nt.DEFAULT,"completion_request_time",[],.2),cy.with(B,()=>(t.profiler?.logTiming("fetch_event_source"),Rhe(v,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json",...x},body:JSON.stringify(f),signal:o.signal,openWhenHidden:!0,async onopen(I){const O=I.headers.get("content-type")??"",Q=I.headers.get("Cf-Ray")??null;if(I.ok&&O.includes("text/event-stream")){X=!1,r(Q,t.model,t.turnTracker);return}else if(O.includes("application/json")){const oe=await I.json(),ne=new vt(v,I.status,oe);if(ne.isServerError())throw ne;if((ne?.code==="expired_session_key"||ne?.code==="invalid_api_key"||ne?.code==="token_expired")&&typeof window<"u"&&window._oaiHandleSessionExpired?.("stream",JSON.stringify(ne)),ne?.code==="deactivated_workspace"){window.location.href.includes("/workspace/deactivated")||(window.location.href="/workspace/deactivated");return}throw ne}else{const oe=await I.text();throw new vt(v,I.status,{detail:{message:L9,code:"unexpected_content_type",contentType:O,text:oe?.substring(0,1e3)}})}},onmessage:I=>{if(X)throw vt.createWithErrorMessage(v,"server",L9);ae&&(clearTimeout(ae),ae=null),G(I)},onerror(I){let O=I instanceof Error?I:new Error(JSON.stringify(I));throw O instanceof dy||X||(O.message==="Failed to fetch"&&(O=vt.createWithErrorMessage(v,"server",`An error occurred. Either the engine you requested does not exist or there was another issue processing your request. ${$9}`)),O.message==="network error"&&(O=vt.createWithErrorMessage(v,"client",`A network error occurred. Please check your connection and try again. ${$9}`)),HO("fetch-error:conversation:new-message",{url:v,message:O?.message}),n({type:"error",error:O}),sv(O)),O}}))).catch(async I=>{I instanceof dy||(I instanceof vt?VO(I):te.addError(I),t.turnTracker.handleRawError(I.message??"Something went wrong",I.status))}),o})()}function a4e({clientThreadId:e,onCompletionFinished:t=_e,onCreate:n=_e}){const r=be(),a=b1(),o=fh(),s=d.useRef(t),l=eh();s.current=t;const c=d.useCallback(async function({model:u,completionType:f,parentNodeId:p,metadata:m,focusOnNewCompletion:g=!0,completionMetadata:h,chatReq:v,turnstileToken:y,proofToken:x,preflightTime:C,extraStreamParams:w,prependMessages:_,appendMessages:E,updateTree:T,turnTracker:M,profiler:A}){P1.publish({kind:"requestCompletion"});const D=F.getTree(e);F.retainThread(e);const j=zO(),B=`${WO}${e}-${j}`,N=`${e}-${j}`;T?.();const H=D.getNodeByIdOrMessageId(p);D.getConversationTurns(p).length>2&&F.updateScrollToMessageId(e,H.message.id);const X={gizmo_id:H.message.metadata?.gizmo_id};h?.juice!=null&&(X.snorkle_status=1),F.updateTree(e,W=>{W.addNode(B,"",p,ie.Assistant,void 0,X)}),g&&F.setThreadCurrentLeafId(e,B);let ae,$=[],I=D.getNodeByIdOrMessageId(H.parentId);for(;I!=null&&(I.metadata?.isPlaceholderTemplateAssistantWelcomeMessage===!0||I.metadata?.isClientCreatedSystemMessage===!0);){const W=I.message;$.unshift(W);const de=D.getNodeByIdOrMessageId(I.parentId);ae=de.message?.id??de.id,I=de}if(f===ea.Next||f===ea.Variant){const W=D.getNodeByIdOrMessageId(H.parentId);if(ae??=W.message?.id??W.id,_){let de=H.parentId,fe=H.id;F.updateTree(e,Ze=>{for(const st of _)Ze.insertNodeBefore(fe,{id:st.id,message:st,parentId:de,children:[]}),de=st.id}),$.push(..._)}if($.push(H.message),E){let de=p;F.updateTree(e,fe=>{for(const Ze of E)fe.insertNodeBefore(B,{id:Ze.id,message:Ze,parentId:de,children:[]}),de=Ze.id}),$.push(...E)}$=o4e($,w)}else ae??=H.message.id;const O=F.getServerThreadId(e);O===void 0&&os(e)&&F.updateInitialThreadDataForNewThread(e,u);async function Q(W,de){const fe=performance.now(),Ze=await hC();w2.initializeAndGatherData(Ze),nm.initializeAndGatherData(Ze),F.updateTree(e,se=>{for(const Ft of de)se.addNode(Ft.id,Ft,W,ie.Assistant,{completionSampleFinishTime:Date.now()}),W=Ft.id}),F.setThreadCurrentLeafId(e,W);const st=await w2.getEnforcementToken(Ze),nn=await nm.getEnforcementToken(Ze);c({model:u,completionType:ea.Next,parentNodeId:W,metadata:{},chatReq:Ze,turnstileToken:st??null,proofToken:nn??null,preflightTime:performance.now()-fe,extraStreamParams:w,turnTracker:M})}M.updateAttachmentCount($);const oe=new xhe(r,e,B,f,u,m.eventSource,n,o,N,Q,(...W)=>s.current(...W),M,l),ne=(W,de,fe)=>{W&&fe.onReceivedRequestId(W),she(N,de,W,C)},ee={is_dark_mode:a,time_since_loaded:Math.floor(performance.now()/1e3),page_height:window?.innerHeight,page_width:window?.innerWidth,pixel_ratio:window?.devicePixelRatio,screen_height:window?.screen?.height,screen_width:window?.screen?.width},Y=await r4e(r,{conversationOrigin:F.getConversationOrigin(e),model:u,completionType:f,threadId:O,continueFromSharedConversationId:dh(e)?.continuingFromSharedConversationId,historyDisabled:l,parentMessageId:ae,messages:$,chatReq:v,turnstileToken:y??null,proofToken:x??null,completionMetadata:h,...w,turnTracker:M,profiler:A,contextualInfo:ee,isOnboardingConversation:h?.isOnboardingConversation},oe.handleResponse,ne);_i(e,{source:yr.CLIENT,value:Tn.STREAMING}),Ua.addRequest(B,Y,M),o2.onCompletionRequestStarted(B)},[e,r,n,o,l,a]);return c}const o4e=(e,t)=>{let n=e;return t?.forceUseSearch===!1&&e.length>0&&(n=e.map(r=>{const{system_hints:a,...o}=r.metadata||{};return{...r,metadata:{...o,system_hints:a?.filter(s=>s!==_t.Search)}}})),n},s4e=Ke(()=>qe(()=>import("./hq69z4ryh8uml18t.js"),__vite__mapDeps([34,1,35,3,4,36])).then(e=>e.CAFeedbackModal));function NNe({clientThreadId:e,currentModelId:t,defaultModelId:n,onCompletionFinished:r,onThreadCreated:a,preRequestCompletion:o}){const s=WS(),l=un(),{isUnauthenticated:c}=Lt(),u=be(),f=ss(e),p=Se(),m=N2e(e),g=M4(),h=ia(),{config:v}=A1("1013114931"),y=v.get("show_follow_ups",!1)&&p?.isPersonalAccount(),x=!g.displayingSideBySideFeedback&&y,C=d.useCallback(N=>{const R=F.getTree(e).getLeafFromNode(N);F.setThreadCurrentLeafId(e,R.id)},[e]),w=v2e(t),[_,E]=d.useState(),T=d.useCallback(({nodeId:N,messageId:H,rating:R})=>{const G=F.getServerThreadId(e);S.logEvent(k.thumbRating,{id:H,threadId:G,rating:R,model:t});const X=F.getTree(e),ae=X.getNodeByIdOrMessageId(N);if(G!==void 0&&!w&&q.submitMessageFeedback({message_id:H,conversation_id:G,rating:R}),F.updateTree(e,$=>{$.updateNodeMetadata(N,{rating:R})}),w){E(i.jsx(s4e,{citations:ae.message.metadata?.citations??[],rating:R,conversationId:G??"",messageId:H,onSubmit:()=>{E(void 0)},onCancel:()=>E(void 0),conversationTree:X,nodeId:N},`${N}-${R}`));return}},[e,t,w]),M=d.useCallback(N=>{if(N==null||(r?.(N),h)||(f?.kind===Oe.GizmoInteraction&&Xx.handleGizmoInteracted(u,f.gizmo_id),!(m||x)))return;const R=F.getThreadCurrentLeafId(N),G=F.getTree(N).getMessage(R);oC(G)||qO(G)||U2e(N,G.id,t)},[f,t,r,u,m,x,h]),A=a4e({clientThreadId:e,onCompletionFinished:M,onCreate:a}),D=d.useCallback(()=>{const N=F.getThreadCurrentLeafId(e);if(N==null)return;const R=F.getTree(e).getBranchFromLeaf(N);Ua.abortRequests(R.map(G=>G.id))},[e]),j=d.useCallback(N=>G2e({cancelRequests:D,clientThreadId:e,currentModelId:t,debugSettings:s,defaultModelId:n,isUnauthenticated:c,navigateToAuth:l,preRequestCompletion:o,requestCompletion:A,...N}),[D,e,t,s,n,c,l,o,A]),B=d.useCallback((N,H,R,G=!0,X="none",ae)=>{const I=F.getTree(e).getParentPromptNode(N).id;j({type:ea.Variant,promptId:I,eventMetadata:H,cancelActiveRequests:!1,focusOnNewCompletion:G,useDefaultModel:ae,completionMetadata:{variantPurpose:X,conversationMode:vn.getConversationMode(e)},turnTracker:R})},[e,j]);return{caModal:_,onRequestCompletion:j,onRequestMoreCompletions:B,onChangeItemInView:C,onChangeRating:T,cancelRequests:D}}function wE(){const{value:e}=ct("491279851");return e}function INe(){const{value:e}=$t("1524207076");return e}function j4(e){const t=wE();return e?t&&kn(e):!1}function i4e(){const e=rh(()=>!0)??!1,t=ZO(),n=Se(),r=!e||n==null,a=r||t.authStatus!==am.LoggedIn?null:Tt.getItem(Ue.LastUsedModel,{workspaceId:n.id,userId:t.user.id});return t.authStatus!==am.LoggedIn?{isLoading:!1,modelId:null}:r?{isLoading:!0}:{isLoading:!1,modelId:a?.modelId??null}}const Fe=V({tooManyFilesTitle:{id:"Go/YH4",defaultMessage:"Files impacting responses"},tooManyFilesDescription:{id:"mPTTw+",defaultMessage:"Responses may be lower quality due to the number of files this project is using."},newChatInProject:{id:"jRHQMo",defaultMessage:"New chat in this project"},emptyFileInstructions:{id:"si7jJz",defaultMessage:"Add documents, code files, images, and more. {gizmoNameText} can access their contents when you chat inside the project."},emptyFileGizmoName:{id:"xr5T2P",defaultMessage:"{gizmoName}"},addConversationToSnorlax:{id:"PU4d/V",defaultMessage:"Add to project"},removeConversationFromSnorlax:{id:"xSI3aZ",defaultMessage:"Remove from {projectName}"},moveConversationToSnorlax:{id:"M97tb/",defaultMessage:"Move to project"},moveConversationToSnorlaxError:{id:"mA7nfR",defaultMessage:"Failed to move the conversation to the project"},unableToLoadProjectHistory:{id:"tQ7WMF",defaultMessage:"Unable to load projects"},retryLoadingProjectHistory:{id:"zefgl5",defaultMessage:"Retry loading project history"},newProjectButton:{id:"2qkMU1",defaultMessage:"New project"},newProjectHeaderButton:{id:"g/JmfL",defaultMessage:"Create new project"},nameTooLong:{id:"feWA6K",defaultMessage:"Project names cannot be longer than {length} characters."},createProjectSubmit:{id:"AHBOEO",defaultMessage:"Create project"},createProjectCancel:{id:"DxU9sm",defaultMessage:"Cancel"},projectNameLabel:{id:"aBtY0G",defaultMessage:"Project name"},projectNameDescription:{id:"NQrF3x",defaultMessage:"Give your project a name"},projectNamePlaceholder:{id:"XS7JR8",defaultMessage:"E.g. Birthday Party Planning"},newChatProjectDropdownItem:{id:"MutDla",defaultMessage:"New chat in {name}"},cancel:{id:"iz2OBQ",defaultMessage:"Cancel"},save:{id:"gTdsTU",defaultMessage:"Save"},removeFile:{id:"COAUqx",defaultMessage:"Remove file"},customInstructionsTitle:{id:"K7k/ns",defaultMessage:"Add instructions"},customInstructionsDescription:{id:"mpKjkc",defaultMessage:"Tailor the way ChatGPT responds in this project"},filesCount:{id:"XKCsL9",defaultMessage:"{count} {count, plural, one {file} other {files}}"},interpreterOnlyLabel:{id:"/Bdw7C",defaultMessage:"File contents may not be accessible"},defaultColor:{id:"1nrbk9",defaultMessage:"Default color"},editCustomInstructionsTitle:{id:"nedukh",defaultMessage:"Instructions"},editCustomInstructionsSubtitle:{id:"NgP+hF",defaultMessage:"How can ChatGPT best help you with this project?"},editCustomInstructionsDescription:{id:"PNY7g9",defaultMessage:"You can ask ChatGPT to focus on certain topics, or ask it to use a certain tone or format for responses."},searchingProjectFiles:{id:"dZazsY",defaultMessage:"Searching project files"},addAction:{id:"vTkTuN",defaultMessage:"Add Action"},editActions:{id:"Lx3frs",defaultMessage:"Edit Actions"},addCustomInstructions:{id:"rEdrLS",defaultMessage:"Add custom instructions"},instructionsTooLong:{id:"hwBx62",defaultMessage:"Project instructions cannot be longer than {length} characters."},dragInstructions:{id:"yA3Jxu",defaultMessage:"Add anything"},dragAllAccepted:{id:"CJNN+O",defaultMessage:"Drop any file here to add it to the project"},dragTooManyFiles:{id:"O2Xr4P",defaultMessage:"Too many files"},unknownError:{id:"Eu2Hdz",defaultMessage:"Unknown error occurred"},dragTooManyFilesError:{id:"cz7kmK",defaultMessage:"Error uploading: Projects can't contain more than {MAX_FILES_PER_PROJECT} files"},dragTooManyFilesDescription:{id:"RqJpJg",defaultMessage:"Projects can't contain more than {MAX_FILES_PER_PROJECT} files"},addFilesToProject:{id:"yMVX4l",defaultMessage:"Add files"},filesThatCanBeReferenced:{id:"0mQnwH",defaultMessage:"Add documents, code files, images, and more. {projectName} can access their contents when you chat inside the project."},projectFilesModalTitle:{id:"o6Ozbv",defaultMessage:"Project files"},addFilesButtonLabel:{id:"yMVX4l",defaultMessage:"Add files"},filesControlDescription:{id:"Y/Z2lM",defaultMessage:"Chats in this project can access file content"},projectDetailsSectionLabel:{id:"9y2Kag",defaultMessage:"Details"},hideProjectDetailsTooltip:{id:"Ar0X7X",defaultMessage:"Hide project details"},showProjectDetailsTooltip:{id:"a8ust8",defaultMessage:"Show project details"},showProjectDetailsButton:{id:"ni4Lkt",defaultMessage:"Show project details"},projectsHeading:{id:"GHFgIA",defaultMessage:"Projects"},seeMoreProjectItems:{id:"znMnZ9",defaultMessage:"See more"},emptyChatsInProjectTitle:{id:"KU7dtU",defaultMessage:"Chats will show up here"},chatsInProjectTitle:{id:"jgAOuP",defaultMessage:"Chats in this project"},projectSettingsSubmitButton:{id:"TayvQF",defaultMessage:"Save"},loadingProjects:{id:"oKi2Bo",defaultMessage:"Loading projects"},seeAllChats:{id:"PwRmke",defaultMessage:"See All"},newChatTitle:{id:"RtFhWK",defaultMessage:"New chat"},unableToLoadHistory:{id:"tQ7WMF",defaultMessage:"Unable to load projects"},retryLoadingHistory:{id:"IoImQ5",defaultMessage:"Retry"},showProjectDetailsDropdown:{id:"LUjGtd",defaultMessage:"Show project details"},deleteProjectModalTitle:{id:"pPgHKT",defaultMessage:"Delete project?"},deleteProjectModalButton:{id:"v3/17x",defaultMessage:"Delete project"},cancelDeleteProjectModalButton:{id:"E7RoUe",defaultMessage:"Cancel"},deleteProjectModalDescription:{id:"Vl4p9p",defaultMessage:"<bold>This will permanently delete all project files and chats.</bold> To save chats, move them to your chat list or another project before deleting."},deleteProjectDropdownButton:{id:"dD0vWg",defaultMessage:"Delete project"},projectInstructionsPlaceholder:{id:"w/NZvS",defaultMessage:"e.g. “Respond in Spanish. Reference the latest JavaScript documentation. Keep answers short and focused.”"},newProjectButtonTooltip:{id:"oh2NTp",defaultMessage:"New project"},deleteProjectFailedToast:{id:"KAw2h3",defaultMessage:"Failed to delete project. Please try again."},editProjectNameDropdownButton:{id:"VcTUYI",defaultMessage:"Edit project name"},showChatsForProjectTooltip:{id:"FcBR2j",defaultMessage:"Show chats"},hideChatsForProjectTooltip:{id:"ZjBLTY",defaultMessage:"Hide chats"},projectHelperBoxTitle:{id:"QIriII",defaultMessage:"What's a project?"},projectHelperBoxDescription:{id:"QEsg2b",defaultMessage:"Projects keep chats, files, and custom instructions in one place. Use them for ongoing work, or just to keep things tidy."},projectsNuxTooltipTitle:{id:"Ub7Cl2",defaultMessage:"Introducing projects"},projectsNuxTooltipDescription:{id:"aLohnf",defaultMessage:"Keep chats, files, and custom instructions all in one place. Ideal for organizing work or shaping big ideas."}});function l4e(e,t){for(var n=-1,r=e==null?0:e.length;++n<r&&t(e[n],n,e)!==!1;);return e}var c4e=l4e,u4e=CC,d4e=X2;function f4e(e,t,n,r){var a=!n;n||(n={});for(var o=-1,s=t.length;++o<s;){var l=t[o],c=r?r(n[l],e[l],l,n,e):void 0;c===void 0&&(c=e[l]),a?d4e(n,l,c):u4e(n,l,c)}return n}var Wf=f4e,p4e=Wf,m4e=u1;function g4e(e,t){return e&&p4e(t,m4e(t),e)}var h4e=g4e,v4e=Wf,y4e=xC;function C4e(e,t){return e&&v4e(t,y4e(t),e)}var x4e=C4e,Kd={exports:{}};Kd.exports;(function(e,t){var n=H8,r=t&&!t.nodeType&&t,a=r&&!0&&e&&!e.nodeType&&e,o=a&&a.exports===r,s=o?n.Buffer:void 0,l=s?s.allocUnsafe:void 0;function c(u,f){if(f)return u.slice();var p=u.length,m=l?l(p):new u.constructor(p);return u.copy(m),m}e.exports=c})(Kd,Kd.exports);var b4e=Kd.exports;function w4e(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}var _4e=w4e,S4e=Wf,M4e=YO;function T4e(e,t){return S4e(e,M4e(e),t)}var E4e=T4e,k4e=Wf,A4e=KO;function P4e(e,t){return k4e(e,A4e(e),t)}var O4e=P4e,N4e=Object.prototype,I4e=N4e.hasOwnProperty;function j4e(e){var t=e.length,n=new e.constructor(t);return t&&typeof e[0]=="string"&&I4e.call(e,"index")&&(n.index=e.index,n.input=e.input),n}var R4e=j4e,fy=QO;function L4e(e){var t=new e.constructor(e.byteLength);return new fy(t).set(new fy(e)),t}var R4=L4e,$4e=R4;function D4e(e,t){var n=t?$4e(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}var F4e=D4e,B4e=/\w*$/;function U4e(e){var t=new e.constructor(e.source,B4e.exec(e));return t.lastIndex=e.lastIndex,t}var H4e=U4e,py=bC,my=py?py.prototype:void 0,gy=my?my.valueOf:void 0;function V4e(e){return gy?Object(gy.call(e)):{}}var G4e=V4e,W4e=R4;function z4e(e,t){var n=t?W4e(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}var q4e=z4e,Z4e=R4,Y4e=F4e,K4e=H4e,Q4e=G4e,J4e=q4e,X4e="[object Boolean]",e9e="[object Date]",t9e="[object Map]",n9e="[object Number]",r9e="[object RegExp]",a9e="[object Set]",o9e="[object String]",s9e="[object Symbol]",i9e="[object ArrayBuffer]",l9e="[object DataView]",c9e="[object Float32Array]",u9e="[object Float64Array]",d9e="[object Int8Array]",f9e="[object Int16Array]",p9e="[object Int32Array]",m9e="[object Uint8Array]",g9e="[object Uint8ClampedArray]",h9e="[object Uint16Array]",v9e="[object Uint32Array]";function y9e(e,t,n){var r=e.constructor;switch(t){case i9e:return Z4e(e);case X4e:case e9e:return new r(+e);case l9e:return Y4e(e,n);case c9e:case u9e:case d9e:case f9e:case p9e:case m9e:case g9e:case h9e:case v9e:return J4e(e,n);case t9e:return new r;case n9e:case o9e:return new r(e);case r9e:return K4e(e);case a9e:return new r;case s9e:return Q4e(e)}}var C9e=y9e,x9e=ns,hy=Object.create,b9e=function(){function e(){}return function(t){if(!x9e(t))return{};if(hy)return hy(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}(),w9e=b9e,_9e=w9e,S9e=JO,M9e=XO;function T9e(e){return typeof e.constructor=="function"&&!M9e(e)?_9e(S9e(e)):{}}var E9e=T9e,k9e=ph,A9e=wC,P9e="[object Map]";function O9e(e){return A9e(e)&&k9e(e)==P9e}var N9e=O9e,I9e=N9e,j9e=mh,vy=_C,yy=vy&&vy.isMap,R9e=yy?j9e(yy):I9e,L9e=R9e,$9e=ph,D9e=wC,F9e="[object Set]";function B9e(e){return D9e(e)&&$9e(e)==F9e}var U9e=B9e,H9e=U9e,V9e=mh,Cy=_C,xy=Cy&&Cy.isSet,G9e=xy?V9e(xy):H9e,W9e=G9e,z9e=eN,q9e=c4e,Z9e=CC,Y9e=h4e,K9e=x4e,Q9e=b4e,J9e=_4e,X9e=E4e,eve=O4e,tve=nN,nve=rN,rve=ph,ave=R4e,ove=C9e,sve=E9e,ive=p1,lve=tN,cve=L9e,uve=ns,dve=W9e,fve=u1,pve=xC,mve=1,gve=2,hve=4,_E="[object Arguments]",vve="[object Array]",yve="[object Boolean]",Cve="[object Date]",xve="[object Error]",SE="[object Function]",bve="[object GeneratorFunction]",wve="[object Map]",_ve="[object Number]",ME="[object Object]",Sve="[object RegExp]",Mve="[object Set]",Tve="[object String]",Eve="[object Symbol]",kve="[object WeakMap]",Ave="[object ArrayBuffer]",Pve="[object DataView]",Ove="[object Float32Array]",Nve="[object Float64Array]",Ive="[object Int8Array]",jve="[object Int16Array]",Rve="[object Int32Array]",Lve="[object Uint8Array]",$ve="[object Uint8ClampedArray]",Dve="[object Uint16Array]",Fve="[object Uint32Array]",ze={};ze[_E]=ze[vve]=ze[Ave]=ze[Pve]=ze[yve]=ze[Cve]=ze[Ove]=ze[Nve]=ze[Ive]=ze[jve]=ze[Rve]=ze[wve]=ze[_ve]=ze[ME]=ze[Sve]=ze[Mve]=ze[Tve]=ze[Eve]=ze[Lve]=ze[$ve]=ze[Dve]=ze[Fve]=!0;ze[xve]=ze[SE]=ze[kve]=!1;function wu(e,t,n,r,a,o){var s,l=t&mve,c=t&gve,u=t&hve;if(n&&(s=a?n(e,r,a,o):n(e)),s!==void 0)return s;if(!uve(e))return e;var f=ive(e);if(f){if(s=ave(e),!l)return J9e(e,s)}else{var p=rve(e),m=p==SE||p==bve;if(lve(e))return Q9e(e,l);if(p==ME||p==_E||m&&!a){if(s=c||m?{}:sve(e),!l)return c?eve(e,K9e(s,e)):X9e(e,Y9e(s,e))}else{if(!ze[p])return a?e:{};s=ove(e,p,l)}}o||(o=new z9e);var g=o.get(e);if(g)return g;o.set(e,s),dve(e)?e.forEach(function(y){s.add(wu(y,t,n,y,e,o))}):cve(e)&&e.forEach(function(y,x){s.set(x,wu(y,t,n,x,e,o))});var h=u?c?nve:tve:c?pve:fve,v=f?void 0:h(e);return q9e(v||e,function(y,x){v&&(x=y,y=e[x]),Z9e(s,x,wu(y,t,n,x,e,o))}),s}var Bve=wu,Uve=Bve,Hve=1,Vve=4;function Gve(e){return Uve(e,Hve|Vve)}var Wve=Gve;const lc=ve(Wve);function zve(e){returnwindow.location.origin+`${Z1(e)}`}function jNe(e,t,n,r){wl(zve(e),t,n),r&&t.info(r,{testId:"copy-gizmo-url-toast"})}function RNe(e){return e.some(t=>t.type===C1.JIT_PLUGIN)}function qve(e){return"gizmo_id"in e?e.gizmo_id??null:null}function Zve(e){return{id:e.gizmo.id,instructions:e.gizmo.instructions,name:e.gizmo.display.name,description:e.gizmo.display.description??"",emoji:e.gizmo.display.emoji??void 0,theme:e.gizmo.display.theme??void 0,profilePictureId:e.gizmo.display.profile_pic_id??void 0,profilePictureUrl:e.gizmo.display.profile_picture_url??void 0,promptStarters:e.gizmo.display.prompt_starters??[],tools:lc(e.tools),files:lc(e.files),sharing:e.gizmo.sharing?lc(e.gizmo.sharing):{subjects:[],recipient:e.gizmo.share_recipient},trainingDisabled:e.gizmo.training_disabled??!1,sharingRecipient:e.gizmo.share_recipient,sharingTargets:lc(e.gizmo.sharing_targets),liveVersion:e.gizmo.live_version??0,contextStuffingBudget:e.gizmo.context_stuffing_budget}}async function Yve(e,t,n,r,a,o){try{await q.updateConversationGizmo(r,a)}catch{e.danger(t.formatMessage(Fe.moveConversationToSnorlaxError))}o&&kn(o)&&n.invalidateQueries({queryKey:[Qo,{gizmoId:o}]}),a&&kn(a)&&n.invalidateQueries({queryKey:[Qo,{gizmoId:a}]}),(!a||!o||!kn(a)||!kn(o))&&n.invalidateQueries({queryKey:[J5]}),F.setGizmoId(r,a),a&&n.invalidateQueries({queryKey:On(n,a,!1).queryKey})}const Kve=e=>["conversation","init",e],Qve=({clientThreadId:e,conversationMode:t,clientModelId:n,enabled:r},a)=>{const o=qve(t),s=os(e)?null:e;return{gcTime:0,refetchOnWindowFocus:!0,refetchOnMount:"always",queryKey:Kve(e),queryFn:()=>q.getConversationDetails({conversationId:s,gizmoId:o,requestedDefaultModel:n}),enabled:r&&!D$(e)}},Jve=e=>(Ne(),ye(Qve(e))),Xve=(e,t)=>{const n=(typeof e=="string"?[e]:e)??[];for(const r of n)if(r&&t.has(r))return r;return null},e3e=(e,t,n)=>{const r=Wx(),[a,o]=fs(),s=a.get("model"),l=i4e();let c=null;const{isLoading:u}=l;u||(c=l.modelId);const{config:f}=A1("4156060548"),p=f.get("is_enabled",!0);F$(e);const m=aN(e)??null,g=[s,m,c],h=Xve(g,r);d.useEffect(()=>{F.initThread(e,t,h),n?.shouldScrollToBottom&&F.updateScrollToMessageId(e,"finalAgentTurn"),rm.reset()},[e,n?.shouldScrollToBottom]);const v=()=>{o(w=>(w.delete("model"),w))},{isLoading:y,data:x}=Jve({clientThreadId:e,clientModelId:g.find(w=>!!w)??null,conversationMode:t,enabled:p?!u:!0}),C=SC();d.useEffect(()=>{if(!(!s||y)){if(!r.has(s)||C.find(w=>w.model_slug===s))return v();F.setThreadModelId(e,s)}},[s,C,r,e]),d.useEffect(()=>{if(y||!x)return;const{default_model_slug:w}=x;s&&w&&s!==w&&v(),rm.updateDetails(x),w&&F.setThreadModelId(e,w)},[y,x])};function Qd(e,t="/",n={}){e(t,{replace:n?.replace,state:TE()})}function TE(){return{newConversationSignal:{}}}function LNe(e){return e.state?.newConversationSignal}const EE="gpt-4o-jawbone",t3e=()=>{const{layer:e}=xn("1346366956");return e.get("signup_cta_copy","SIGN_UP")},io=e=>{switch(t3e()){case"SIGN_UP":return e;case"SIGN_UP_FOR_FREE":return cc.signUpForFreeCta;case"CREATE_ACCOUNT":return cc.createAccountCta;case"CREATE_NEW_ACCOUNT":return cc.createNewAccountCta;case"CREATE_FREE_ACCOUNT":return cc.createFreeAccountCta}},cc=V({createAccountCta:{id:"createAccountCta",defaultMessage:"Create account"},createNewAccountCta:{id:"createNewAccountCta",defaultMessage:"Create new account"},createFreeAccountCta:{id:"createFreeAccountCta",defaultMessage:"Create free account"},signUpForFreeCta:{id:"signUpForFreeCta",defaultMessage:"Sign up for free"}});function n3e(e){z.logEvent("chatgpt_web_thread_tap_new_thread"),Tt.getItem(Ue.HasSeenNewChatModal)===!0?Qd(e):(Tt.setItem(Ue.HasSeenNewChatModal,!0),Re.openModal(et.NoAuthNewChat))}function $Ne(){return d4(et.NoAuthNewChat)?i.jsx(r3e,{onClose:()=>{Re.closeModal(et.NoAuthNewChat)}}):null}function r3e({onClose:e}){const t=un(),n=Ge(),r=A1("1934819688"),a=r.config.get("is_redesign_enabled",!1),o=r.config.get("secondary_button_type","cancel"),s=io(Ct.signUpButtonText),l=p=>{p.preventDefault(),t({authType:"signup",callback:m=>{z.logEvent("chatgpt_new_chat_modal_sign_up_link_clicked"),S.logSignUpButtonClicked({location:"New chat modal",provider:m})}})},c=p=>{p.preventDefault(),t({authType:"login",callback:m=>{z.logEvent("chatgpt_new_chat_modal_log_in_link_clicked"),S.logLogInButtonClicked({location:"New chat modal",provider:m})}})},u=()=>{z.logEvent("chatgpt_new_chat_modal_cancel_button_clicked"),S.logEvent(k.newChatModalCancelButtonClicked),e()},f=()=>{z.logEvent("chatgpt_new_chat_modal_new_chat_button_clicked"),S.logNewChatButtonClicked({location:"New Chat Modal New Chat Button"}),Qd(n),e()};return d.useEffect(()=>{z.logEvent("chatgpt_new_chat_modal_shown"),S.logEvent(k.newChatModalShown)},[]),i.jsx(Te,{isOpen:!0,type:"success",onClose:e,noPadding:!0,size:"custom",className:"max-w-sm",children:i.jsxs("div",{className:"flex flex-col justify-center p-6",children:[i.jsxs("div",{className:"mb-2 grid w-full grid-cols-[1fr,auto,1fr] items-center",children:[i.jsx("div",{}),i.jsx("div",{className:"text-xl font-medium",children:i.jsx(b,{id:"d+R7z5",defaultMessage:"Clear current chat?"})}),i.jsx("div",{className:"flex justify-end",children:a?i.jsx(zo,{onClick:e}):null})]}),i.jsx("p",{className:"mb-6 text-center text-token-text-secondary",children:i.jsx(b,{id:"+Olycu",defaultMessage:"To start a new chat, your current conversation will be discarded. <signup>Sign up</signup> or <login>log in</login> to save chats.",values:{signup:p=>i.jsx("a",{href:"#",className:"font-medium text-token-text-primary",onClick:l,children:p}),login:p=>i.jsx("a",{href:"#",className:"font-medium text-token-text-primary",onClick:c,children:p})}})}),i.jsx(re,{className:"mb-3",color:a?"primary":"danger",size:"giant",onClick:f,children:i.jsx(b,{id:"cBGbrD",defaultMessage:"Clear chat"})}),o==="cancel"?i.jsx(re,{size:"giant",onClick:u,color:"secondary",children:i.jsx(b,{...Ct.cancelButtonText})}):null,o==="login"?i.jsx(re,{size:"giant",onClick:()=>{t({authType:"login",callback:p=>{S.logLogInButtonClicked({location:"New chat modal",provider:p})}})},color:"ghost",children:i.jsx(b,{...Ct.logInButtonText})}):null,o==="signup"?i.jsx(re,{size:"giant",onClick:()=>{t({authType:"signup",callback:p=>{S.logSignUpButtonClicked({location:"New chat modal",provider:p})}})},color:"ghost",children:i.jsx(b,{...s})}):null]})})}function a3e({clientThreadId:e,location:t}){const n=be(),{id:r}=q1(e),a=Xi(!0),o=Ge(),s=ia(),l=ds();return d.useCallback(()=>{sh(yC(n))?n3e(o):s?o({pathname:l.pathname,search:l.search},{state:TE()}):r===EE?o({pathname:"/"}):(a({modelId:r,location:t}),z.logEvent("chatgpt_web_thread_tap_new_thread"))},[n,t,r,a,o,s,l])}function DNe({clientThreadId:e,setClientThreadId:t}){const n=be(),r=oN(),a=r?{kind:Oe.GizmoInteraction,gizmo_id:r}:{kind:Oe.PrimaryAssistant};e3e(e,a,{shouldScrollToBottom:!0});const o=Ge(),s=q1(e),l=d.useRef(s);l.current=s;const c=gh(e),{data:u}=pa(c),f=j4(c),p=d.useCallback(()=>{t?.(sN());const h=l.current;o(h.tags.includes(ja.GPT_4)?"/":`/?model=${h.id}`,{replace:!0})},[t,o]),m=a3e({clientThreadId:e,location:"Model switcher menu item"}),g=d.useCallback((h,v)=>{vn.getThread(h)?.disableConversationNavigation||v||(f?o(Ii(h,u)):pue(o,n,h))},[u,f,o,n]);return{createNewThread:m,onThreadCreated:g,resetThread:p}}function L4(){return i.jsx("div",{className:"border-token-text-quartenary items-center rounded-full border px-1 py-0.5 text-[8px] font-semibold uppercase leading-3 text-token-text-secondary dark:border-token-border-heavy dark:text-token-text-tertiary",children:i.jsx(b,{id:"mP0mrm",defaultMessage:"Beta"})})}const mi=V({pageTitle:{id:"CHk10n",defaultMessage:"Tasks"},emptyStateTitle:{id:"WZwnBu",defaultMessage:"Start creating tasks"},emptyStateDescription:{id:"VGFt6n",defaultMessage:"Ask ChatGPT to do things in the future."},emptyStateTryYourOwn:{id:"ARS7Xs",defaultMessage:"Try your own"},makingAutomation:{id:"nngZkS",defaultMessage:"Creating task..."},updatingAutomation:{id:"TtVqbi",defaultMessage:"Updating task..."},cancelModalDescription:{id:"ovdvFi",defaultMessage:"Are you sure you want to cancel? Your changes will not be saved."},pauseBanner:{id:"Shy3x+",defaultMessage:"This task is paused."},editModalTitle:{id:"TATVBL",defaultMessage:"Task"},editModalName:{id:"6yXwm0",defaultMessage:"Name"},editModalInstructions:{id:"6m8uZT",defaultMessage:"Instructions"},editModalSchedule:{id:"wjzsc9",defaultMessage:"Schedule"},editModalDelete:{id:"jmdwEu",defaultMessage:"Delete"},editModalCancel:{id:"CkqFyL",defaultMessage:"Cancel"},editModalSave:{id:"tw230z",defaultMessage:"Save"},editModalSaveSuccess:{id:"2bPf6t",defaultMessage:"Task saved"},editModalSaveFailure:{id:"s9XRUo",defaultMessage:"Failed to save task"},editModalMissingTaskName:{id:"Gvl61x",defaultMessage:"A task name is required."},editModalMissingInstructions:{id:"50eJR5",defaultMessage:"Instructions are required."},editModalTooFarInFuture:{id:"pRMB4Q",defaultMessage:"Tasks can’t be scheduled more than 2 years in the future."},editModalInPast:{id:"og7U6X",defaultMessage:"Please choose a date in the future."},seeMore:{id:"e818FO",defaultMessage:"See more"},scheduleFrequencyOnce:{id:"ubLvlf",defaultMessage:"Doesn't repeat"},scheduleFrequencyDaily:{id:"fCPVKk",defaultMessage:"Daily"},scheduleFrequencyWeekly:{id:"LBJNa8",defaultMessage:"Weekly"},scheduleFrequencyMonthly:{id:"KtDbq5",defaultMessage:"Monthly"},scheduleFrequencyYearly:{id:"jPb1ga",defaultMessage:"Annually"},scheduleFrequencyCustom:{id:"aW+M+B",defaultMessage:"Custom"},scheduleNextThreeTimes:{id:"jHrFIq",defaultMessage:"Next three times"},scheduleCustomScheduleTitle:{id:"S55b0f",defaultMessage:"To update this custom schedule, just ask ChatGPT"},scheduleCustomScheduleContent:{id:"HzgAWq",defaultMessage:'For example, "do this every 3 weeks on Tuesday"'},scheduleCustomScheduleOpenChat:{id:"QIZwlV",defaultMessage:"Open chat"},pausedPill:{id:"H45WpI",defaultMessage:"Paused"},customSchedule:{id:"xBDjE1",defaultMessage:"Custom schedule"},deleteModalConfirmation:{id:"VvP/mR",defaultMessage:"Are you sure you want to delete this task? This cannot be undone."},deleteModalSuccess:{id:"yOFuly",defaultMessage:"Task deleted"},deleteModalFailure:{id:"/sJV6Y",defaultMessage:"Failed to delete task"},deleteModalTitle:{id:"ghUY4y",defaultMessage:"Delete task"},lastRunToday:{id:"32N654",defaultMessage:"Today"},lastRunYesterday:{id:"0J3FW6",defaultMessage:"Yesterday"},notificationsBannerAllow:{id:"cw4hGs",defaultMessage:"Allow"},notificationsBannerNotNow:{id:"zwEnmc",defaultMessage:"Not now"},notificationsBannerTitle:{id:"aZg1Bl",defaultMessage:"Turn on desktop notifications"},notificationsBannerContent:{id:"I6r+8F",defaultMessage:"Get notified when there’s an update on your tasks."},attachmentEdit:{id:"/KHfm0",defaultMessage:"Edit"},attachmentViewAll:{id:"aytzuS",defaultMessage:"View all tasks"},localizedRuntimeTomorrow:{id:"yK7y4m",defaultMessage:"Tomorrow"},scheduled:{id:"Vor1nS",defaultMessage:"Scheduled"},paused:{id:"ATWDeu",defaultMessage:"Paused"},completed:{id:"Ur4kmZ",defaultMessage:"Completed"}}),FNe={nextRunTime:e=>i.jsx(b,{id:"/OfbaB",defaultMessage:"Next run {nextRunTime}",values:{nextRunTime:e}}),runtimeDaily:e=>i.jsx(b,{id:"jawbone.runtime.daily",defaultMessage:"Daily at {localizedTime}",values:{localizedTime:e}}),runtimeWeeklyShort:e=>i.jsx(b,{id:"iTSfMl",defaultMessage:"Weekly on {localizedDayOfWeek}",values:{localizedDayOfWeek:e}}),runtimeWeekly:(e,t)=>i.jsx(b,{id:"jawbone.runtime.weekly",defaultMessage:"Weekly on {localizedDayOfWeek} at {localizedTime}",values:{localizedDayOfWeek:e,localizedTime:t}}),runtimeMonthly:e=>i.jsx(b,{id:"jawbone.runtime.monthly",defaultMessage:"Monthly on the {monthDay, selectordinal, one {#st} two {#nd} few {#rd} other {#th}}",values:{monthDay:e}}),runtimeYearly:(e,t)=>i.jsx(b,{id:"jawbone.runtime.yearly",defaultMessage:"Annually on {localizedMonth} {day}",values:{localizedMonth:e,day:t}}),runtimeToday:e=>i.jsx(b,{id:"hStcUW",defaultMessage:"Today at {localizedTime}",values:{localizedTime:e}}),runtimeTomorrow:e=>i.jsx(b,{id:"BF9QGd",defaultMessage:"Tomorrow at {localizedTime}",values:{localizedTime:e}}),runtimeNextFiveDays:(e,t)=>i.jsx(b,{id:"BF9QGd",defaultMessage:"Tomorrow at {localizedTime}",values:{localizedTime:t}}),runtimeThisYear:(e,t)=>i.jsx(b,{id:"L9Pqre",defaultMessage:"{localizedMonthDay} at {localizedTime}",values:{localizedMonthDay:e,localizedTime:t}}),runtimeOutsideThisYear:(e,t)=>i.jsx(b,{id:"XOR8K9",defaultMessage:"{localizedDate} at {localizedTime}",values:{localizedDate:e,localizedTime:t}})};function kE(){return"/tasks"}const $4=e=>d.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},d.createElement("path",{d:"M10.663 6.3872C10.8152 6.29068 11 6.40984 11 6.59007V8C11 8.55229 11.4477 9 12 9C12.5523 9 13 8.55229 13 8V6.59007C13 6.40984 13.1848 6.29068 13.337 6.3872C14.036 6.83047 14.5 7.61105 14.5 8.5C14.5 9.53284 13.8737 10.4194 12.9801 10.8006C12.9932 10.865 13 10.9317 13 11V13C13 13.5523 12.5523 14 12 14C11.4477 14 11 13.5523 11 13V11C11 10.9317 11.0068 10.865 11.0199 10.8006C10.1263 10.4194 9.5 9.53284 9.5 8.5C9.5 7.61105 9.96397 6.83047 10.663 6.3872Z",fill:"currentColor"}),d.createElement("path",{d:"M17.9754 4.01031C17.8588 4.00078 17.6965 4.00001 17.4 4.00001H9.8C8.94342 4.00001 8.36113 4.00078 7.91104 4.03756C7.47262 4.07338 7.24842 4.1383 7.09202 4.21799C6.7157 4.40974 6.40973 4.7157 6.21799 5.09202C6.1383 5.24842 6.07337 5.47263 6.03755 5.91104C6.00078 6.36113 6 6.94343 6 7.80001V16.1707C6.31278 16.0602 6.64937 16 7 16H18L18 4.60001C18 4.30348 17.9992 4.14122 17.9897 4.02464C17.9893 4.02 17.9889 4.0156 17.9886 4.01145C17.9844 4.01107 17.98 4.01069 17.9754 4.01031ZM17.657 18H7C6.44772 18 6 18.4477 6 19C6 19.5523 6.44772 20 7 20H17.657C17.5343 19.3301 17.5343 18.6699 17.657 18ZM4 19L4 7.75871C3.99999 6.95374 3.99998 6.28937 4.04419 5.74818C4.09012 5.18608 4.18868 4.66938 4.43597 4.18404C4.81947 3.43139 5.43139 2.81947 6.18404 2.43598C6.66937 2.18869 7.18608 2.09012 7.74818 2.0442C8.28937 1.99998 8.95373 1.99999 9.7587 2L17.4319 2C17.6843 1.99997 17.9301 1.99994 18.1382 2.01695C18.3668 2.03563 18.6366 2.07969 18.908 2.21799C19.2843 2.40974 19.5903 2.7157 19.782 3.09203C19.9203 3.36345 19.9644 3.63318 19.9831 3.86178C20.0001 4.06994 20 4.31574 20 4.56812L20 17C20 17.1325 19.9736 17.2638 19.9225 17.386C19.4458 18.5253 19.4458 19.4747 19.9225 20.614C20.0517 20.9227 20.0179 21.2755 19.8325 21.5541C19.6471 21.8326 19.3346 22 19 22H7C5.34315 22 4 20.6569 4 19Z",fill:"currentColor"})),AE=e=>d.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},d.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.10003 4.70006C9.54185 5.03143 9.6314 5.65823 9.30003 6.10006L6.30002 10.1001C6.13556 10.3193 5.8883 10.4615 5.61604 10.4933C5.34379 10.5251 5.07041 10.4438 4.85984 10.2683L3.35984 9.01828C2.93556 8.66472 2.87824 8.03415 3.2318 7.60987C3.58537 7.1856 4.21593 7.12827 4.64021 7.48184L5.33158 8.05798L7.70003 4.90006C8.0314 4.45823 8.6582 4.36869 9.10003 4.70006ZM12 7.50006C12 6.94777 12.4477 6.50006 13 6.50006H20C20.5523 6.50006 21 6.94777 21 7.50006C21 8.05234 20.5523 8.50006 20 8.50006H13C12.4477 8.50006 12 8.05234 12 7.50006ZM3.00003 16.5001C3.00003 14.8432 4.34318 13.5001 6.00003 13.5001C7.65687 13.5001 9.00003 14.8432 9.00003 16.5001C9.00003 18.157 7.65687 19.5001 6.00003 19.5001C4.34318 19.5001 3.00003 18.157 3.00003 16.5001ZM6.00003 15.5001C5.44773 15.5001 5.00003 15.9478 5.00003 16.5001C5.00003 17.0524 5.44773 17.5001 6.00003 17.5001C6.55232 17.5001 7.00003 17.0524 7.00003 16.5001C7.00003 15.9478 6.55232 15.5001 6.00003 15.5001ZM12 16.5001C12 15.9478 12.4477 15.5001 13 15.5001H20C20.5523 15.5001 21 15.9478 21 16.5001C21 17.0523 20.5523 17.5001 20 17.5001H13C12.4477 17.5001 12 17.0523 12 16.5001Z",fill:"currentcolor"})),PE=e=>d.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},d.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 4C10.3431 4 9 5.34315 9 7C9 8.65685 10.3431 10 12 10C13.6569 10 15 8.65685 15 7C15 5.34315 13.6569 4 12 4ZM7 7C7 4.23858 9.23858 2 12 2C14.7614 2 17 4.23858 17 7C17 9.76142 14.7614 12 12 12C9.23858 12 7 9.76142 7 7Z",fill:"currentColor"}),d.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.9684 14.0022C11.1062 14.537 10.7843 15.0823 10.2495 15.22C7.46676 15.9369 5.5 18.2894 5.5 20.9999C5.5 21.5522 5.05228 21.9999 4.5 21.9999C3.94772 21.9999 3.5 21.5522 3.5 20.9999C3.5 17.2714 6.1909 14.2002 9.75054 13.2833C10.2854 13.1455 10.8306 13.4674 10.9684 14.0022Z",fill:"currentColor"}),d.createElement("path",{d:"M17.25 15.625C17.25 16.5225 16.5225 17.25 15.625 17.25C14.7275 17.25 14 16.5225 14 15.625C14 14.7275 14.7275 14 15.625 14C16.5225 14 17.25 14.7275 17.25 15.625Z",fill:"currentColor"}),d.createElement("path",{d:"M21.75 15.625C21.75 16.5225 21.0225 17.25 20.125 17.25C19.2275 17.25 18.5 16.5225 18.5 15.625C18.5 14.7275 19.2275 14 20.125 14C21.0225 14 21.75 14.7275 21.75 15.625Z",fill:"currentColor"}),d.createElement("path",{d:"M21.75 20.125C21.75 21.0225 21.0225 21.75 20.125 21.75C19.2275 21.75 18.5 21.0225 18.5 20.125C18.5 19.2275 19.2275 18.5 20.125 18.5C21.0225 18.5 21.75 19.2275 21.75 20.125Z",fill:"currentColor"}),d.createElement("path",{d:"M17.25 20.125C17.25 21.0225 16.5225 21.75 15.625 21.75C14.7275 21.75 14 21.0225 14 20.125C14 19.2275 14.7275 18.5 15.625 18.5C16.5225 18.5 17.25 19.2275 17.25 20.125Z",fill:"currentColor"}));function BNe({menuItemComponent:e}){const t=Se(),n=Ge(),r=Tf();return i.jsxs(i.Fragment,{children:[r&&i.jsx(e,{onClick:()=>{n(kE())},icon:AE,children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(b,{...mi.pageTitle}),i.jsx(L4,{})]})}),t?.canInteractWithGizmos()&&i.jsx(e,{onClick:()=>{S.logEvent(k.accountMenuClickMyGPTs),n(BS())},icon:PE,children:i.jsx(b,{id:"popoverNavigation.myGpts",defaultMessage:"My GPTs"})}),i.jsx(e,{icon:$4,onClick:()=>{Re.openModal(et.UserContext),S.logEvent(k.accountMenuClickCustomizeChatGPT)},children:i.jsx(b,{id:"popoverNavigation.chatPreferences.1",defaultMessage:"Customize ChatGPT"})})]})}const o3e=e=>d.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},d.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3 6C3 4.34315 4.34315 3 6 3H12C13.6569 3 15 4.34315 15 6V7H18C19.6569 7 21 8.34315 21 10V19H22C22.5523 19 23 19.4477 23 20C23 20.5523 22.5523 21 22 21H2C1.44772 21 1 20.5523 1 20C1 19.4477 1.44772 19 2 19H3V6ZM5 19H8V17C8 16.4477 8.44772 16 9 16C9.55228 16 10 16.4477 10 17V19H13V6C13 5.44772 12.5523 5 12 5H6C5.44772 5 5 5.44772 5 6V19ZM15 19H19V10C19 9.44772 18.5523 9 18 9H15V19Z",fill:"currentColor"}));function UNe({menuItemComponent:e,routedMenuItemComponent:t}){const n=Se(),r=ct("2756095923")?.value&&n?.isEdu()&&n?.isStandardUserOfAccount(),a=Ge(),o=Tf();return i.jsxs(i.Fragment,{children:[!r&&i.jsx(t,{to:"/admin",icon:o3e,children:i.jsx(b,{...P0.myWorkspaceSettings})}),o&&i.jsx(e,{onClick:()=>{a(kE())},icon:AE,children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(b,{...mi.pageTitle}),i.jsx(L4,{})]})}),i.jsx(t,{to:BS(),onClick:()=>{S.logEvent(k.accountMenuClickMyGPTs)},icon:PE,children:i.jsx(b,{...P0.myGpts})}),i.jsx(e,{onClick:()=>{Re.openModal(et.UserContext),S.logEvent(k.accountMenuClickCustomizeChatGPT)},icon:$4,children:i.jsx(b,{...P0.chatPreferences})})]})}const P0=V({myWorkspaceSettings:{id:"workspacePopoverNavigation.myWorkspaceSettings",defaultMessage:"Manage workspace"},chatPreferences:{id:"B4s/Jz",defaultMessage:"Customize ChatGPT"},myGpts:{id:"workspacePopoverNavigation.myGpts",defaultMessage:"My GPTs"}});var D4="Tabs",[s3e,HNe]=Qa(D4,[E1]),OE=E1(),[i3e,F4]=s3e(D4),NE=d.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:a,defaultValue:o,orientation:s="horizontal",dir:l,activationMode:c="automatic",...u}=e,f=dC(l),[p,m]=Wi({prop:r,onChange:a,defaultProp:o});return i.jsx(i3e,{scope:n,baseId:J8(),value:p,onValueChange:m,orientation:s,dir:f,activationMode:c,children:i.jsx(Rt.div,{dir:f,"data-orientation":s,...u,ref:t})})});NE.displayName=D4;var IE="TabsList",jE=d.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...a}=e,o=F4(IE,n),s=OE(n);return i.jsx(fC,{asChild:!0,...s,orientation:o.orientation,dir:o.dir,loop:r,children:i.jsx(Rt.div,{role:"tablist","aria-orientation":o.orientation,...a,ref:t})})});jE.displayName=IE;var RE="TabsTrigger",LE=d.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:a=!1,...o}=e,s=F4(RE,n),l=OE(n),c=FE(s.baseId,r),u=BE(s.baseId,r),f=r===s.value;return i.jsx(pC,{asChild:!0,...l,focusable:!a,active:f,children:i.jsx(Rt.button,{type:"button",role:"tab","aria-selected":f,"aria-controls":u,"data-state":f?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:c,...o,ref:t,onMouseDown:rt(e.onMouseDown,p=>{!a&&p.button===0&&p.ctrlKey===!1?s.onValueChange(r):p.preventDefault()}),onKeyDown:rt(e.onKeyDown,p=>{[" ","Enter"].includes(p.key)&&s.onValueChange(r)}),onFocus:rt(e.onFocus,()=>{const p=s.activationMode!=="manual";!f&&!a&&p&&s.onValueChange(r)})})})});LE.displayName=RE;var $E="TabsContent",DE=d.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:a,children:o,...s}=e,l=F4($E,n),c=FE(l.baseId,r),u=BE(l.baseId,r),f=r===l.value,p=d.useRef(f);return d.useEffect(()=>{const m=requestAnimationFrame(()=>p.current=!1);return()=>cancelAnimationFrame(m)},[]),i.jsx(Gi,{present:a||f,children:({present:m})=>i.jsx(Rt.div,{"data-state":f?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!m,id:u,tabIndex:0,...s,ref:t,style:{...e.style,animationDuration:p.current?"0s":void 0},children:m&&o})})});DE.displayName=$E;function FE(e,t){return`${e}-trigger-${t}`}function BE(e,t){return`${e}-content-${t}`}var VNe=NE,GNe=jE,l3e=LE,c3e=DE,B4="Switch",[u3e,WNe]=Qa(B4),[d3e,f3e]=u3e(B4),UE=d.forwardRef((e,t)=>{const{__scopeSwitch:n,name:r,checked:a,defaultChecked:o,required:s,disabled:l,value:c="on",onCheckedChange:u,form:f,...p}=e,[m,g]=d.useState(null),h=Or(t,w=>g(w)),v=d.useRef(!1),y=m?f||!!m.closest("form"):!0,[x=!1,C]=Wi({prop:a,defaultProp:o,onChange:u});return i.jsxs(d3e,{scope:n,checked:x,disabled:l,children:[i.jsx(Rt.button,{type:"button",role:"switch","aria-checked":x,"aria-required":s,"data-state":GE(x),"data-disabled":l?"":void 0,disabled:l,value:c,...p,ref:h,onClick:rt(e.onClick,w=>{C(_=>!_),y&&(v.current=w.isPropagationStopped(),v.current||w.stopPropagation())})}),y&&i.jsx(p3e,{control:m,bubbles:!v.current,name:r,value:c,checked:x,required:s,disabled:l,form:f,style:{transform:"translateX(-100%)"}})]})});UE.displayName=B4;var HE="SwitchThumb",VE=d.forwardRef((e,t)=>{const{__scopeSwitch:n,...r}=e,a=f3e(HE,n);return i.jsx(Rt.span,{"data-state":GE(a.checked),"data-disabled":a.disabled?"":void 0,...r,ref:t})});VE.displayName=HE;var p3e=e=>{const{control:t,checked:n,bubbles:r=!0,...a}=e,o=d.useRef(null),s=KM(n),l=uC(t);return d.useEffect(()=>{const c=o.current,u=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(u,"checked").set;if(s!==n&&p){const m=new Event("click",{bubbles:r});p.call(c,n),c.dispatchEvent(m)}},[s,n,r]),i.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...a,tabIndex:-1,ref:o,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function GE(e){return e?"checked":"unchecked"}var m3e=UE,g3e=VE;function h3e({onChange:e,enabled:t,label:n,disabled:r,icon:a=null,size:o="normal",id:s,testId:l,backgroundColor:c="black"}){const u=d.useCallback(()=>{e?.(!t)},[t,e]);return i.jsx(m3e,{id:s,checked:t,disabled:r,onCheckedChange:u,"aria-label":n,className:P("focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-token-text-secondary focus-visible:ring-offset-2 focus-visible:radix-state-checked:ring-black focus-visible:dark:ring-token-main-surface-primary focus-visible:dark:radix-state-checked:ring-green-600",r?"cursor-not-allowed opacity-50":"cursor-pointer",c==="green"?"bg-green-600 bg-opacity-15 radix-state-checked:bg-green-600":"bg-gray-200 radix-state-checked:bg-black dark:border dark:border-token-border-medium dark:bg-transparent","relative shrink-0 rounded-full dark:radix-state-checked:border-green-600 dark:radix-state-checked:bg-green-600",o==="normal"?"h-[20px] w-[32px]":o==="large"?"h-[32px] w-[54px]":"h-[19px] w-[30px]"),"data-testid":l,children:i.jsx(g3e,{className:P("flex items-center justify-center rounded-full","transition-transform duration-100 will-change-transform ltr:translate-x-0.5 rtl:-translate-x-0.5","bg-white",o==="normal"?"h-[16px] w-[16px] ltr:radix-state-checked:translate-x-[14px] rtl:radix-state-checked:translate-x-[-14px]":o==="large"?"h-[26px] w-[26px] ltr:radix-state-checked:translate-x-[24px] rtl:radix-state-checked:translate-x-[-24px]":"h-[15px] w-[15px] ltr:radix-state-checked:translate-x-[13px] rtl:radix-state-checked:translate-x-[-13px]"),children:a})})}var Jd=(e=>(e.General="General",e.DesktopApp="DesktopApp",e.BetaFeatures="BetaFeatures",e.DataControls="DataControls",e.Personalization="Personalization",e.Jawbone="Jawbone",e.BuilderProfile="BuilderProfile",e.ConnectorSettings="ConnectorSettings",e.Speech="Speech",e.Security="Security",e.Nimbus="Nimbus",e.Subscription="Subscription",e))(Jd||{});function zNe({value:e,icon:t,label:n,testId:r}){const a=ua();return i.jsxs(l3e,{className:P("group flex items-center justify-start gap-2 rounded-md px-2 py-1.5 text-sm text-token-text-primary radix-state-active:bg-token-main-surface-tertiary radix-state-active:text-token-text-primary md:radix-state-active:bg-token-main-surface-secondary",{"flex-1 justify-center":!a}),value:e,"data-testid":r,children:[t,i.jsx("div",{className:a?"text-left":"truncate",children:n})]})}function qNe({value:e,children:t}){return i.jsx(c3e,{className:"max-h-[calc(100vh-150px)] w-full overflow-y-auto md:min-h-[380px]",value:e,children:i.jsx("div",{className:"flex flex-col gap-3 px-4 pb-6 text-sm text-token-text-primary sm:px-6 md:ps-0 md:pt-5",children:t})})}function ZNe({children:e}){return i.jsx("div",{className:"border-b border-token-border-light pb-3 last-of-type:border-b-0",children:e})}const WE=he.div`text-xs text-token-text-secondary pr-12 mt-3`;function YNe({label:e,disabled:t,enabled:n,onChange:r,description:a,toggleTooltip:o,isLoading:s=!1,testId:l}){let c=i.jsx(h3e,{disabled:t,enabled:n,onChange:r,label:e,icon:t?i.jsx(so,{className:"icon-xs dark:text-black"}):null,size:"normal",testId:l});return o!=null&&(c=i.jsx(ot,{label:o,side:"top",sideOffset:4,children:c})),i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("div",{children:e}),s?i.jsx(yn,{}):c]}),a!=null&&i.jsx(WE,{children:a})]})}function KNe({color:e="secondary",disabled:t,label:n,buttonLabel:r,onClick:a,description:o,testId:s}){const l=o?"items-start":"items-center";return i.jsxs("div",{className:P("flex",l,"justify-between"),children:[i.jsxs("div",{children:[i.jsx("div",{children:n}),o!=null&&i.jsx(WE,{children:o})]}),i.jsx(re,{className:"shrink-0",color:e,disabled:!!t,onClick:a,"data-testid":s,children:r})]})}function QNe({onClick:e,label:t,stateLabel:n,testId:r}){return i.jsx("button",{className:"w-full",onClick:e,"data-testid":r,children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("div",{children:t}),i.jsxs("div",{className:"flex items-center text-token-text-secondary",children:[n&&i.jsx("div",{className:"-mt-0.5 me-1",children:n}),i.jsx(iN,{className:"icon-sm"})]})]})})}function v3e(e){return e?.startsWith("settings")??!1}function zE(){const{hash:e}=ds(),t=Ge(),n=v3e(e.slice(1)),r=n?e.slice(1).split("/")[1]:void 0,a=Object.values(Jd).includes(r)?r:Jd.General;return{openSettings:o=>{const s=o?`settings/${o}`:"settings";t({hash:s})},closeSettings:()=>{t({hash:""})},isOpen:n,currentTab:a}}const y3e=Xa({queryKey:["clientApplications"],queryFn:q.getClientApplications});function JNe(){const{data:e,isLoading:t}=ye(y3e),{value:n}=$t("582612297");return{clientApplications:e?.items.filter(a=>a.type==="apple"?n:!0),isLoading:t}}function XNe(){const e=Ne();return Ve({mutationFn:q.revokeClientApplication,onSuccess:()=>{window.location.reload()},onError:t=>{te.addError("Failed to revoke client application",{error:t}),e.danger("Failed to disconnect. Please try again later.")}})}const C3e=e=>d.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},d.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 21C10.8954 21 10 20.1046 10 19C10 17.8954 10.8954 17 12 17C13.1046 17 14 17.8954 14 19C14 20.1046 13.1046 21 12 21ZM12 14C10.8954 14 10 13.1046 10 12C10 10.8954 10.8954 10 12 10C13.1046 10 14 10.8954 14 12C14 13.1046 13.1046 14 12 14ZM12 7C10.8954 7 10 6.10457 10 5C10 3.89543 10.8954 3 12 3C13.1046 3 14 3.89543 14 5C14 6.10457 13.1046 7 12 7Z",fill:"currentColor"})),by=Me()(()=>({showFlyout:!1,showProjectSettingsModal:!1})),x3e={setShowFlyout:e=>{by.setState(()=>({showFlyout:e}))},setShowProjectSettingsModal:e=>{by.setState(()=>({showProjectSettingsModal:e}))}},eIe="ChatGPT",tIe="Untitled",nIe=10,A2=50,b3e=300,w3e=8e3,rIe=5;function aIe(e,t){if(t==null)return e;function n(r){return typeof r=="object"&&r!=null?Array.isArray(r)?r.map(n):Object.fromEntries(Object.entries(r).map(([a,o])=>[a,n(o)])):r===null?void 0:r}return t=n(t),{...e,...t}}var _3e=(e=>(e[e.Loading=0]="Loading",e[e.UploadingProfilePic=1]="UploadingProfilePic",e[e.GeneratingProfilePic=2]="GeneratingProfilePic",e[e.GizmoNameTooLong=3]="GizmoNameTooLong",e[e.GizmoDescriptionTooLong=4]="GizmoDescriptionTooLong",e[e.GizmoInstructionsTooLong=5]="GizmoInstructionsTooLong",e[e.NameEmpty=6]="NameEmpty",e[e.MissingPublicActionPrivacyPolicyURL=7]="MissingPublicActionPrivacyPolicyURL",e[e.MissingCategory=8]="MissingCategory",e))(_3e||{});function oIe(e){switch(e){case 0:return"Loading";case 1:return"Uploading profile picture";case 2:return"Generating profile picture";case 3:return"GPT name too long";case 4:return"GPT description too long";case 5:return"GPT instructions too long";case 6:return"GPT name cannot be empty";case 7:return"Public actions require valid privacy policy URLs";case 8:return"Public GPTs must have a category"}}function S3e(e){return e==="link"||e==="marketplace"}function M3e(e){try{return new URL(e),!0}catch{return!1}}function sIe(e,t,n){const r=e.name.length>A2,a=(e.description?.length??0)>b3e,o=(e.instructions?.length??0)>w3e,s=[];if(e?.name===""&&s.push(6),r&&s.push(3),a&&s.push(4),o&&s.push(5),t!=null&&S3e(t)){const l=e.tools?.filter(c=>c.type===C1.JIT_PLUGIN);for(const c of l){const u=c.metadata?.privacy_policy_url;if(u==null||!M3e(u)){s.push(7);break}}}return t===Gt.Marketplace&&n==null&&s.push(8),s}const T3e={id:void 0,instructions:"",name:"",description:"",emoji:void 0,theme:void 0,profilePictureId:void 0,profilePictureUrl:void 0,promptStarters:[],sharing:{recipient:Gt.Private,subjects:[]},tools:[{type:C1.DALLE}],files:[],trainingDisabled:!1,liveVersion:0,contextStuffingBudget:null},ri=5,Xd=new Map;class U4{static upsert(t){return K.safePost("/gizmos/snorlax/upsert",{parameters:{},requestBody:t})}static getSnorlaxHistory(t=null){return K.get(`${ge}/gizmos/snorlax/sidebar`,{params:{conversations_per_gizmo:`${ri}`,...t?{cursor:t}:{}}})}static async fetchSnorlaxHistory(t=null,n){const r=await this.getSnorlaxHistory(t),{items:a}=r;a.forEach(s=>{const l=s.gizmo.gizmo.id;n.setQueryData(On(n,l).queryKey,c=>{if(!c)return s.gizmo}),n.setQueryData([Qo,{gizmoId:l}],c=>{if(!c)return Xd.set(l,!0),{pages:[s.conversations],pageParams:[]}})});const o=a.map(s=>({gizmo:s.gizmo}));return{...r,items:o}}static delete(t){return K.delete(`${ge}/gizmos/${t}`)}}const qE="snorlax-history",Ho="NEW_SNORLAX_KEY";function E3e(){const e=be();return Ve({mutationFn:async({update:t,id:n})=>{if(!n)throw new Error("No gizmo ID found for upsert");let r;if(n===Ho)r=T3e;else{let C=e.getQueryData(On(e,n,!1).queryKey);if(C||(C=await tt.getGizmo(n,!1)),!C)throw new Error("No existing gizmo resource found for upsert");r=Zve(C)}const a=typeof t=="function"?t(r):{...r,...t};if(lN(a,r))return{id:n};const{id:o,instructions:s,name:l,description:c,emoji:u,theme:f,profilePictureId:p,profilePictureUrl:m,promptStarters:g,files:h,trainingDisabled:v}=a;if(o!==n&&n!==Ho)throw new Error("Error updating project. ID mismatch");const y={gizmo_id:n!==Ho?n:void 0,instructions:s,display:{name:l,description:c,emoji:u,theme:f,profile_pic_id:p,profile_picture_url:m,prompt_starters:g},tools:[],files:h.map(C=>({...C,location:$h.FILE_SERVICE})),training_disabled:v,sharing:[{type:Gt.Private,capabilities:Hx}],categories:void 0},x=await U4.upsert(y);if(x.error)throw new Vx;return{id:x.resource?.gizmo.id,resource:x.resource}},scope:{id:"snorlax"},onSettled:t=>{H4(e),t?.resource&&e.setQueryData(On(e,t.resource.gizmo.id,!1).queryKey,t.resource)}})}function k3e(e=null){const t=wE(),n=be(),{data:r,fetchNextPage:a,hasNextPage:o,isLoading:s,isFetchingNextPage:l,isError:c,refetch:u}=ps({queryKey:[qE],queryFn:async({pageParam:p})=>U4.fetchSnorlaxHistory(p,n),initialPageParam:e,getNextPageParam:p=>p.cursor??void 0,enabled:t});return{snorlaxes:d.useMemo(()=>r?.pages.flatMap(p=>p.items)??[],[r]),data:r,fetchNextPage:a,hasNextPage:o,refetch:u,isLoading:s,isFetchingNextPage:l,isError:c}}async function iIe(e){const t=be();d.useEffect(()=>{Xd.get(e)&&(t.invalidateQueries({queryKey:[Qo,{gizmoId:e}]}),Xd.delete(e))},[e,t])}function lIe(e){const{data:t,fetchNextPage:n,hasNextPage:r,isLoading:a,isPending:o,isFetchingNextPage:s,isError:l,isFetching:c,refetch:u}=ps({queryKey:[Qo,{gizmoId:e}],queryFn:async({pageParam:p})=>(Xd.delete(e),tt.getConversations(e,p)),enabled:kn(e),initialPageParam:"0",getNextPageParam:p=>p.cursor??void 0});return{items:d.useMemo(()=>t?.pages.flatMap(p=>p.items)??[],[t]),data:t,fetchNextPage:n,hasNextPage:r,refetch:u,isLoading:a,isPending:o,isFetching:c,isFetchingNextPage:s,isError:l}}function H4(e){e.invalidateQueries({queryKey:[qE]})}function A3e(){const e=be();return Ve({mutationFn:async({gizmoId:t})=>(await U4.delete(t),{gizmoId:t}),onSettled:t=>{const n=t?.gizmoId;H4(e),Ar(e),n&&e.invalidateQueries({queryKey:On(e,n,!1).queryKey})}})}const wy=new Map;function cIe(e){const t=wy.get(e);if(t)return t;const n=Lx(P3e,2e3,{trailing:!0});return wy.set(e,n),n}async function P3e({gizmoId:e,upsertProjectMutation:t,pendingFileUpsertMutationsRef:n}){const r=[],a=s=>{const l=n.current;return l.forEach(({update:c})=>{s=c(s)}),r.push(...l),s};await t.mutateAsync({id:e,update:a}),r.forEach(({onSuccess:s})=>{s?.()});const o=r.map(({mutationId:s})=>s);n.current=n.current.filter(({mutationId:s})=>!o.includes(s))}function ZE({gizmoId:e,onSuccess:t,onClose:n}){const r=U(),a=Ne(),o=A3e(),s=async()=>{try{await o.mutateAsync({gizmoId:e}),t()}catch{a.danger(r.formatMessage(Fe.deleteProjectFailedToast))}};return i.jsx(Te,{isOpen:!0,onClose:n,type:"danger",title:i.jsx(b,{...Fe.deleteProjectModalTitle}),primaryButton:i.jsx(Ye.Button,{title:r.formatMessage(Fe.deleteProjectModalButton),color:"danger",loading:o.isPending,onClick:()=>{s()}}),secondaryButton:i.jsx(Ye.Button,{title:r.formatMessage(Fe.cancelDeleteProjectModalButton),color:"secondary",onClick:n}),children:i.jsx("div",{className:"text-sm",children:i.jsx(b,{...Fe.deleteProjectModalDescription,values:{bold:l=>i.jsx("span",{className:"font-bold",children:l})}})})})}function uIe({gizmoId:e}){const t=U(),n=Ge(),[r,a]=d.useState(!1);return i.jsxs(i.Fragment,{children:[i.jsxs(O1,{side:"top",contentAlign:"end",sideOffset:0,triggerButton:i.jsx(re,{color:"ghost",icon:C3e,label:t.formatMessage(Fe.showProjectDetailsDropdown),className:P(cN.sidebarIcon,"px-2.5")}),size:"auto",children:[i.jsxs(ce.Item,{onClick:()=>{x3e.setShowProjectSettingsModal(!0)},children:[i.jsx(yM,{className:"icon-sm"}),i.jsx(b,{...Fe.editProjectNameDropdownButton})]}),i.jsxs(ce.Item,{color:"danger",onClick:()=>{a(!0)},children:[i.jsx(hl,{className:"icon-sm"}),i.jsx(b,{...Fe.deleteProjectDropdownButton})]})]}),r&&i.jsx(ZE,{gizmoId:e,onSuccess:()=>{n("/")},onClose:()=>{a(!1)}})]})}function Is(){const{layer:e}=xn("3637408529");return e.get("is_login_primary_button",!1)}var Mt=(e=>(e.Floating="floating",e.Pinned="pinned",e))(Mt||{});function O3e(e){return{isSidebarOpen:!e,mode:Mt.Pinned}}class YE{store;constructor(t){this.store=t}setSidebarMode=async t=>{switch(t){case Mt.Floating:this.store.setState({mode:Mt.Floating});break;case Mt.Pinned:this.store.setState({mode:Mt.Pinned});break}z.logEvent("chatgpt_web_sidebar_mode_changed",t)};openSidebar=async()=>{const t=_y();if(t){if(this.store.getState().isSidebarOpen&&t.checked)return;t.checked=!0}this.store.setState({isSidebarOpen:!0}),xe.setState({isDesktopNavCollapsed:!1}),await D9.yield(),z.logEvent("chatgpt_web_sidebar_opened"),S.logToggleDesktopNavCollapsed({isDesktopNavCollapsed:!1})};closeSidebar=async()=>{const t=_y();if(t){if(!this.store.getState().isSidebarOpen&&!t.checked)return;t.checked=!1}this.store.setState({isSidebarOpen:!1}),xe.setState({isDesktopNavCollapsed:!0}),await D9.yield(),z.logEvent("chatgpt_web_sidebar_closed"),S.logToggleDesktopNavCollapsed({isDesktopNavCollapsed:!0})}}function _y(){return document.querySelector(`input[name='${Fn.OpenOrClosed}']`)}const Sy=Me(()=>O3e()),KE=d.createContext({useStore:Sy,actions:new YE(Sy)});function N3e(e){let{isSidebarOpen:t,mode:n}=e;return t&&n===Mt.Pinned?"open-pinned":!t&&n===Mt.Pinned?"closed-pinned":"closed"}function V4(){return d.use(KE)}function dIe({children:e}){da().get("include_floating_state",!1);const{isMobileOS:n}=uN();d.use(lC);const[r]=d.useState(()=>{let a;a={isSidebarOpen:document.querySelector(`input[name='${Fn.OpenOrClosed}']`)?.checked??!1,mode:document.querySelector(`input[name='${Fn.FloatingOrPinned}']`)?.checked?Mt.Pinned:Mt.Floating},n&&(a.isSidebarOpen=!1);const o=Me(()=>a);return{useStore:o,actions:new YE(o)}});return d.useEffect(()=>r.useStore.subscribe((a,o)=>{const s=a.mode!==o.mode,l=a.isSidebarOpen!==o.isSidebarOpen;if(!(s||l))return;const c=N3e(a);en.setCookie(Yt.SidebarState,c,{maxAge:2**30})}),[r.useStore]),i.jsx(KE,{value:r,children:e})}const fIe=Me(e=>({targetedContent:void 0,setTargetedContent:t=>{e({targetedContent:t})}})),I3e="77377267392",QE="AIzaSyAOHzpLbFWAcLwrOn1IvQeVd0jHRntTlPk",pIe="gdrive-sync-connector-2216c16c-b5a5-43e9-a654-e6eb9a6a2227";var zr=(e=>(e.OneDrive_BUSINESS_DRIVE_ITEMS="https://graph.microsoft.com/v1.0/me/drive/items",e.OneDrive_BUSINESS_DRIVE_ROOT="https://graph.microsoft.com/v1.0/me/drive/root",e.OneDrive_BUSINESS_SHARES="https://graph.microsoft.com/v1.0/shares",e.OneDrive_PERSONAL_DRIVE_ITEMS="https://api.onedrive.com/v1.0/drives",e.OneDrive_PERSONAL_SHARES="https://api.onedrive.com/v1.0/shares",e))(zr||{});function mIe(){const e=be(),t=d.useCallback(function(r){const a=r.data.conversation_id;if(!a)return;const o=F.getTitle(a);M2({title:o,subtitle:r.title,clientThreadId:a}),Ar(e),K1(a,!0)},[e]),n=d.useCallback(function(r){const a=r.data.conversation_id;if(!a)return;const o=F.getTitle(a);M2({title:o,subtitle:r.body,clientThreadId:a})},[]);return d.useEffect(()=>{const r={"new-message":t,"automation-error":n},a=o=>{if(o.data.type in r){const s=o.data.type;r[s](o.data)}};return"serviceWorker"in navigator&&navigator.serviceWorker.addEventListener("message",a),()=>{"serviceWorker"in navigator&&navigator.serviceWorker.removeEventListener("message",a)}},[t,n,e]),null}function gIe(){const{eligible:e,isLoading:t,markAsViewed:n}=ke(Ee.NewOnboardingFlow),[r,a]=d.useState(!0),o=ca();return{isOpen:e&&r&&!o,isLoading:t,setIsOpen:a,markAsViewed:n}}var JE=(e=>(e.SonicHome="sonic.web.home",e.SonicServer="sonic.ssr.search",e.SonicBusinessesMap="sonic.web.businessesMap",e.ChatPageLoad="chatgpt.web.pageLoad",e.CompletionRequest="chatgpt.web.completionRequest",e.ProofOfWork="chatgpt.web.proofOfWork",e.GetDiffedDoc="chatgpt.web.canvas.getDiffedDoc",e.GetPositionTransformer="chatgpt.web.canvas.getPositionTransformer",e))(JE||{});class j3e{namespace;expectedTimingLogs;expectedTimingLogTimeouts={};startMs=-1;lastLogMs=-1;loggedTimings=new Set;timingBlocks={};debug=!1;constructor(t,n){this.namespace=t,this.expectedTimingLogs=n?.expectedTimingLogs??[],this.debug=n?.debug??!1,this.reset()}reset(){this.startMs=this.lastLogMs=performance.now(),this.timingBlocks={},this.loggedTimings=new Set;for(const t of Object.values(this.expectedTimingLogTimeouts))clearTimeout(t);this.expectedTimingLogTimeouts={};for(const t of this.expectedTimingLogs){const n=setTimeout(()=>{te.addAction(`${this.namespace}.${t.name}.timed_out`,t.initializationInfo??{})},t.expectedInMs);this.expectedTimingLogTimeouts[t.name]=n,this.debug&&console.debug(`[DatadogProfiler] Expecting ${this.namespace}.${t.name} to be logged within ${t.expectedInMs}ms`)}}logTiming(t,n={fromLastLog:!1}){if(this.loggedTimings.has(t)){console.warn(`[DatadogProfiler] Timing ${this.namespace}.${t} already logged`);return}const r=performance.now()-(n.fromLastLog?this.lastLogMs:this.startMs);te.addAction(`${this.namespace}.${t}`,{durationMs:r,...n.context}),this.lastLogMs=performance.now(),this.loggedTimings.add(t),t in this.expectedTimingLogTimeouts&&(clearTimeout(this.expectedTimingLogTimeouts[t]),delete this.expectedTimingLogTimeouts[t]),this.debug&&console.debug(`[DatadogProfiler] ${this.namespace}.${t}: ${r}ms`)}startBlock(t){this.timingBlocks[t]=performance.now()}endBlock(t,n={throwError:!0}){const r=this.timingBlocks[t];if(r===void 0&&n.throwError)throw new Error(`Block "${t}" not started`);const a=performance.now()-r;te.addAction(`${this.namespace}.${t}`,{durationMs:a}),delete this.timingBlocks[t]}}const $i={};function R3e({namespace:e,opts:t}){return $i[e]!==void 0&&te.addError(`Profiler already exists for namespace ${e}`),$i[e]=new j3e(e,t)}function L3e({namespace:e}){return $i[e]}function $3e({namespace:e,opts:t}){let n=$i[e];return n===void 0&&(n=$i[e]=R3e({namespace:e,opts:t})),n}function hIe({namespace:e,opts:t}){const[n]=d.useState(()=>$3e({namespace:e,opts:t}));return n}var zf=(e=>(e.Personal="chat",e.Workspace="workspace",e.Team="team",e))(zf||{});const D3e=({dismissLink:e,onLogInButtonClick:t,onSignUpButtonClick:n,subtitle:r,title:a})=>{const s=N1()?"center":"bottom",l=Is(),c=io(My.signUpCta),u=i.jsx(re,{as:"button",size:"large",color:l?"secondary":"primary",onClick:n,fullWidth:!0,children:i.jsx(b,{...c})}),f=i.jsx(re,{as:"button",size:"large",color:l?"primary":"secondary",fullWidth:!0,onClick:t,children:i.jsx(b,{...My.logInCta})}),p=l?[f,u]:[u,f];return i.jsx(Te,{isOpen:!0,onClose:_e,shouldIgnoreClickOutside:!0,showCloseButton:!1,type:"success",noPadding:!0,position:s,size:"custom",className:"max-w-[373px] sm:max-w-[400px]",children:i.jsxs("div",{className:"flex flex-col items-center justify-center px-6 py-8 sm:px-10 sm:pb-10 sm:pt-12",children:[i.jsx("p",{className:"mb-1 text-center text-2xl font-semibold",children:i.jsx(b,{...a})}),i.jsx("p",{className:"mb-6 text-center text-token-text-secondary",children:i.jsx(b,{...r})}),i.jsx("div",{className:"flex w-full flex-col gap-2 sm:gap-2.5",children:p}),e?i.jsx("a",{href:"#",className:"mt-5 cursor-pointer text-sm font-semibold text-token-text-secondary underline",onClick:m=>{m.preventDefault(),e.onClick()},children:i.jsx(b,{...e.text})}):null]})})},My=V({signUpCta:{id:"NoAuthModal.signUpCta",defaultMessage:"Sign up"},logInCta:{id:"NoAuthModal.logInCta",defaultMessage:"Log in"}});function G4(){return en.getCookie(Yt.HasLoggedInBefore)!=null}function vIe(){const{value:e}=$t("2173548801"),{layer:t}=MC("3637408529");return e?t.get("is_anon_chat_enabled",!1):!1}const Ty=10,XE=({type:e="default"}={})=>{const[t,n]=d.useState(()=>sessionStorage.getItem(Ue.NoAuthHasDismissedSoftRateLimitModal)!=null),{isUnauthenticated:r,isLoading:a}=Lt(),o=G4(),s=aE(h=>h.userMessageCount),l=d.useRef(s),c=s>=Ty,[u,f]=d.useState(!1);d.useEffect(()=>{l.current<s&&(l.current=s,s===Ty&&f(!0))},[s]);const p=r&&c&&(e==="default"||u)&&!t&&!o&&!a,m=d.useCallback(()=>{p&&(S.logEvent(k.noAuthSoftRateLimitModalShown),z.logEvent("chatgpt_no_auth_soft_rate_limit_modal_shown"))},[p]),g=()=>{n(!0),sessionStorage.setItem(Ue.NoAuthHasDismissedSoftRateLimitModal,"true")};return a?{isLoading:!0,isOpen:null,onClose:null,onMount:null}:{isLoading:!1,isOpen:p,onClose:g,onMount:m}},F3e=({onClose:e})=>{const t=un(),n=Is(),{isOpen:r,onClose:a,onMount:o}=XE();return d.useEffect(()=>{o?.()},[o]),r?i.jsx(D3e,{dismissLink:{text:uc.stayLoggedOutLink,onClick:()=>{S.logEvent(k.noAuthSoftRateLimitModalStayLoggedOutLinkClicked),z.logEvent("chatgpt_no_auth_soft_rate_limit_modal_stay_logged_out_link_clicked"),e(),a()}},onLogInButtonClick:()=>{t({authType:"login",callback:s=>{S.logLogInButtonClicked({provider:s,location:"No Auth Soft Rate Limit Modal"})}})},onSignUpButtonClick:()=>{t({authType:"signup",callback:s=>{S.logSignUpButtonClicked({provider:s,location:"No Auth Soft Rate Limit Modal"})}})},subtitle:n?uc.logInSubtitle:uc.signUpSubtitle,title:uc.title}):null},uc=V({title:{id:"NoAuthSoftRateLimitModal.title",defaultMessage:"Thanks for trying ChatGPT"},signUpSubtitle:{id:"zpngdW",defaultMessage:"Sign up or log in to get smarter responses, upload files and images, and more."},logInSubtitle:{id:"iVew+I",defaultMessage:"Log in or sign up to get smarter responses, upload files and images, and more."},stayLoggedOutLink:{id:"NoAuthWelcomeBackModal.stayLoggedOut",defaultMessage:"Stay logged out"}}),Ey="has-dismissed-welcome-back-modal",ek=()=>{const[e,t]=d.useState(()=>sessionStorage.getItem(Ey)!=null),{layer:n}=xn("3637408529"),r=n.get("is_no_auth_welcome_back_modal_enabled",!1),{isUnauthenticated:a,isLoading:o}=Lt(),s=G4(),l=()=>{t(!0),sessionStorage.setItem(Ey,"true")};return o?{isLoading:!0,isOpen:null,onClose:null}:{isLoading:!1,isOpen:a&&r&&!e&&s,onClose:l}},B3e=({onClose:e})=>{const t=un(),n=N1(),r=io(Ys.signUpCta),a=n?"center":"bottom",{isOpen:o,onClose:s}=ek();return d.useEffect(()=>{o&&(S.logEvent(k.noAuthWelcomeBackModalShown),z.logEvent("chatgpt_no_auth_welcome_back_modal_shown"))},[o]),o?i.jsx(Te,{isOpen:!0,onClose:_e,shouldIgnoreClickOutside:!0,showCloseButton:!1,type:"success",noPadding:!0,size:"custom",className:"max-w-[373px] sm:max-w-[400px]",position:a,children:i.jsxs("div",{className:"flex flex-col items-center justify-center px-6 py-8 sm:p-10",children:[i.jsx("p",{className:"mb-1 text-center text-2xl font-semibold",children:i.jsx(b,{...Ys.title})}),i.jsx("p",{className:"mb-6 text-center text-lg text-token-text-secondary",children:i.jsx(b,{...Ys.subtitle})}),i.jsx(re,{as:"button",size:"large",color:"primary",fullWidth:!0,className:"mb-2 sm:mb-3","data-testid":"welcome-login-button",onClick:()=>{t({authType:"login",callback:l=>{S.logLogInButtonClicked({provider:l,location:"No Auth Welcome Back Modal"})}})},children:i.jsx(b,{...Ys.logInCta})}),i.jsx(re,{as:"button",size:"large",color:"secondary",fullWidth:!0,className:"mb-5",onClick:()=>{t({authType:"signup",callback:l=>{S.logSignUpButtonClicked({provider:l,location:"No Auth Welcome Back Modal"})}})},children:i.jsx(b,{...r})}),i.jsx("a",{href:"#",className:"cursor-pointer font-semibold text-token-text-secondary underline sm:text-sm",onClick:l=>{l.preventDefault(),S.logEvent(k.noAuthWelcomeBackModalStayLoggedOutLinkClicked),z.logEvent("chatgpt_no_auth_welcome_back_modal_stay_logged_out_link_clicked"),e(),s()},"data-testid":"dismiss-welcome",children:i.jsx(b,{...Ys.stayLoggedOutLink})})]})}):null},Ys=V({title:{id:"NoAuthWelcomeBackModal.title",defaultMessage:"Welcome back"},subtitle:{id:"7WQi5y",defaultMessage:"Log in or sign up to get smarter responses, upload files and images, and more."},signUpCta:{id:"NoAuthWelcomeBackModal.signUpCta",defaultMessage:"Sign up"},logInCta:{id:"NoAuthWelcomeBackModal.logInCta",defaultMessage:"Log in"},stayLoggedOutLink:{id:"NoAuthWelcomeBackModal.stayLoggedOut",defaultMessage:"Stay logged out"}});function tk(){const e=d.useRef(U3e()),t=un(),n=d.useCallback(()=>{e.current?S.logEventWithStatsig(k.noAuthPunchOutSignInAsModalShown,"chatgpt_no_auth_punch_out_sign_in_as_modal_shown"):console.warn("PunchOutSignInAsModal is being mounted without punchOutRequireLoginInfo")},[]);return{onCancelButtonClick:()=>{S.logEventWithStatsig(k.noAuthPunchOutSignInAsModalCancelButtonClicked,"chatgpt_no_auth_punch_out_sign_in_as_modal_cancel_button_clicked"),P2()},onContinueButtonClick:({token:o})=>{S.logEventWithStatsig(k.noAuthPunchOutSignInAsModalContinueButtonClicked,"chatgpt_no_auth_punch_out_sign_in_as_modal_continue_button_clicked"),P2(),t({authType:"login",callback:s=>{S.logLogInButtonClicked({location:"No Auth Punch Out Sign In As Modal",provider:s})},callbackUrl:`/continue_from_api?token=${o}`})},onMount:n,punchOutRequireLoginInfo:e.current}}function U3e(){if(typeof window>"u")return null;const e=en.getCookie(Yt.PunchOutRequireLoginInfo);if(!e)return null;try{const t=JSON.parse(e);return dN(t,fN),t}catch(t){P2(),t instanceof pN?console.warn("Invalid struct for punch out require login info",t):te.addError("Failed to parse punch out require login info",{error:t})}return null}function P2(){en.deleteCookie(Yt.PunchOutRequireLoginInfo)}const H3e=({onClose:e})=>{const{onCancelButtonClick:t,onContinueButtonClick:n,onMount:r,punchOutRequireLoginInfo:a}=tk(),s=ua()?"medium":"large";if(d.useEffect(r,[r]),!a)return null;const{email:l}=a;return i.jsx(Te,{isOpen:!0,noPadding:!0,onClose:_e,shouldIgnoreClickOutside:!0,showCloseButton:!1,size:"custom",type:"success",className:"max-w-md",children:i.jsxs("div",{className:"flex flex-col p-6",children:[i.jsx("div",{className:"mb-6 text-center text-xl font-medium md:text-left",children:i.jsx(b,{id:"0e8g2r",defaultMessage:"Sign in as {email}?",values:{email:l}})}),i.jsxs("div",{className:"flex flex-col gap-3 md:flex-row-reverse md:gap-2 md:self-end",children:[i.jsx(re,{color:"primary",size:s,onClick:()=>n(a),children:i.jsx(b,{...Ct.continueButtonText})}),i.jsx(re,{color:"secondary",size:s,onClick:()=>{t(),e()},children:i.jsx(b,{...Ct.cancelButtonText})})]})]})})},V3e=e=>d.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},d.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.52242 6.53608C9.7871 4.41979 12.1019 3 14.75 3C18.7541 3 22 6.24594 22 10.25C22 11.9007 21.4474 13.4239 20.5183 14.6425L21.348 15.97C21.5407 16.2783 21.5509 16.6668 21.3746 16.9848C21.1984 17.3027 20.8635 17.5 20.5 17.5H15.4559C14.1865 19.5963 11.883 21 9.25 21C9.18896 21 9.12807 20.9992 9.06735 20.9977C9.04504 20.9992 9.02258 21 9 21H3.5C3.13647 21 2.80158 20.8027 2.62536 20.4848C2.44913 20.1668 2.45933 19.7783 2.652 19.47L3.48171 18.1425C2.55263 16.9239 2 15.4007 2 13.75C2 9.99151 4.85982 6.90116 8.52242 6.53608ZM10.8938 6.68714C14.106 7.43177 16.5 10.3113 16.5 13.75C16.5 14.3527 16.4262 14.939 16.2871 15.5H18.6958L18.435 15.0828C18.1933 14.6961 18.2439 14.1949 18.5579 13.8643C19.4525 12.922 20 11.651 20 10.25C20 7.3505 17.6495 5 14.75 5C13.2265 5 11.8535 5.64888 10.8938 6.68714ZM8.89548 19C8.94178 18.9953 8.98875 18.9938 9.03611 18.9957C9.107 18.9986 9.17831 19 9.25 19C11.3195 19 13.1112 17.8027 13.9668 16.0586C14.3079 15.363 14.5 14.5804 14.5 13.75C14.5 10.8505 12.1495 8.5 9.25 8.5C9.21772 8.5 9.18553 8.50029 9.15341 8.50087C6.2987 8.55218 4 10.8828 4 13.75C4 15.151 4.54746 16.422 5.44215 17.3643C5.75613 17.6949 5.80666 18.1961 5.56498 18.5828L5.30425 19H8.89548Z",fill:"currentColor"})),nk=e=>d.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},d.createElement("path",{d:"M12 0C12.5523 0 13 0.447715 13 1V2C13 2.55228 12.5523 3 12 3C11.4477 3 11 2.55228 11 2V1C11 0.447715 11.4477 0 12 0Z",fill:"currentColor"}),d.createElement("path",{d:"M3.29289 3.29289C3.68342 2.90237 4.31658 2.90237 4.70711 3.29289L5.70711 4.29289C6.09763 4.68342 6.09763 5.31658 5.70711 5.70711C5.31658 6.09763 4.68342 6.09763 4.29289 5.70711L3.29289 4.70711C2.90237 4.31658 2.90237 3.68342 3.29289 3.29289Z",fill:"currentColor"}),d.createElement("path",{d:"M20.7071 3.29289C21.0976 3.68342 21.0976 4.31658 20.7071 4.70711L19.7071 5.70711C19.3166 6.09763 18.6834 6.09763 18.2929 5.70711C17.9024 5.31658 17.9024 4.68342 18.2929 4.29289L19.2929 3.29289C19.6834 2.90237 20.3166 2.90237 20.7071 3.29289Z",fill:"currentColor"}),d.createElement("path",{d:"M0 12C0 11.4477 0.447715 11 1 11H2C2.55228 11 3 11.4477 3 12C3 12.5523 2.55228 13 2 13H1C0.447715 13 0 12.5523 0 12Z",fill:"currentColor"}),d.createElement("path",{d:"M21 12C21 11.4477 21.4477 11 22 11H23C23.5523 11 24 11.4477 24 12C24 12.5523 23.5523 13 23 13H22C21.4477 13 21 12.5523 21 12Z",fill:"currentColor"}),d.createElement("path",{d:"M5 12C5 8.13401 8.13401 5 12 5C15.866 5 19 8.13401 19 12C19 14.38 17.8118 16.4814 16 17.7452V19C16 21.2091 14.2091 23 12 23C9.79086 23 8 21.2091 8 19V17.7452C6.18818 16.4814 5 14.38 5 12ZM12 7C9.23858 7 7 9.23858 7 12C7 13.8494 8.00361 15.4657 9.50073 16.3317C9.80972 16.5104 10 16.8403 10 17.1973V18H14V17.1973C14 16.8403 14.1903 16.5104 14.4993 16.3317C15.9964 15.4657 17 13.8494 17 12C17 9.23858 14.7614 7 12 7ZM13.7324 20H10.2676C10.6134 20.5978 11.2597 21 12 21C12.7403 21 13.3866 20.5978 13.7324 20Z",fill:"currentColor"}));function Al(){return lr()?.includes(cs.Sunshine)??!1}function W4(){const{data:e}=Ci(Ha.Sunshine),t=Al();return!!e&&t}function G3e(){return lr()?.includes(cs.MemoryInSearch)??!1}function yIe(){const e=W4(),{data:t}=Ci(Ha.MemoryInSearch),n=G3e();return e&&!!t&&n}function CIe(){return ct("645560164").value??!1}function W3e(){return ct("1611573287").value??!1}function z3e(){const e=W4(),t=W3e();return e&&t}const rk=Ee.MemoryOnboarding;function ak(){const e=Al(),{eligible:t,isLoading:n}=ke(rk);return{eligible:t&&e,isLoading:n}}function O0({icon:e,title:t,description:n}){return i.jsxs("div",{className:"flex items-start",children:[i.jsx("div",{className:"mt-1",children:e}),i.jsxs("div",{className:"ml-4",children:[i.jsx("div",{className:"text-lg font-semibold",children:t}),i.jsx("p",{className:"mt-1 text-sm text-token-text-secondary",children:n})]})]})}function q3e({onClose:e}){const t=Z3e(),n=mN(),r=U(),{markAsViewed:a}=ke(rk),o=d.useCallback(()=>{a(),e()},[a,e]);return i.jsx(Te,{isOpen:!0,onClose:_e,size:"custom",className:"max-w-xl",type:"success",title:r.formatMessage(Kn.title),secondaryButton:t?i.jsx(Ye.Button,{onClick:async()=>{try{await n.mutateAsync({setting:Ha.Sunshine,value:!1}),o()}catch{}},title:r.formatMessage(Kn.notNow),color:"secondary"}):null,primaryButton:t?i.jsx(Ye.Button,{onClick:async()=>{try{await n.mutateAsync({setting:Ha.Sunshine,value:!0}),o()}catch{}},title:r.formatMessage(Kn.enable),color:"primary"}):i.jsx(Ye.Button,{onClick:o,title:r.formatMessage(Kn.continue),color:"primary"}),children:i.jsxs("div",{className:"mb-6 flex flex-col gap-3",children:[i.jsx(O0,{icon:i.jsx(V3e,{}),title:r.formatMessage(Kn.bulletTitle1),description:r.formatMessage(Kn.bulletDescription1)}),i.jsx(O0,{icon:i.jsx(nk,{}),title:r.formatMessage(Kn.bulletTitle2),description:i.jsx(b,{...Kn.bulletDescription2,values:{learnMoreLink:s=>i.jsx("a",{href:"https://help.openai.com/en/articles/8590148-memory-faq",target:"_blank",rel:"noreferrer",className:"cursor-pointer underline",children:s})}})}),i.jsx(O0,{icon:i.jsx(gN,{}),title:r.formatMessage(Kn.bulletTitle3),description:r.formatMessage(Kn.bulletDescription3)})]})})}function Z3e(){const{value:e}=$t("1542198993");return e}const Kn=V({title:{id:"MemoryOnboardingModal.title.1",defaultMessage:"ChatGPT now has memory"},bulletTitle1:{id:"MemoryOnboardingModal.bulletTitle1",defaultMessage:"Keep the conversation going"},bulletDescription1:{id:"MemoryOnboardingModal.bulletDescription1.1",defaultMessage:"ChatGPT will automatically remember details and preferences you share in your conversations, carrying them between chats."},bulletTitle2:{id:"MemoryOnboardingModal.bulletTitle2.1",defaultMessage:"A smarter assistant"},bulletDescription2:{id:"MemoryOnboardingModal.bulletDescription2.2",defaultMessage:"Memories are used to give you more relevant responses and may be used to train our models if you have model training enabled. <learnMoreLink>Learn more</learnMoreLink>"},bulletTitle3:{id:"MemoryOnboardingModal.bulletTitle3",defaultMessage:"You're in control"},bulletDescription3:{id:"MemoryOnboardingModal.bulletDescription3.2",defaultMessage:"Review or clear specific memories, restart from scratch, or turn the feature on or off in settings."},continue:{id:"MemoryOnboardingModal.continue",defaultMessage:"Continue"},notNow:{id:"MemoryOnboardingModal.notNow",defaultMessage:"Not now"},enable:{id:"MemoryOnboardingModal.enable",defaultMessage:"Enable"}});var Ta=(e=>(e.paid_users_only="paid_users_only",e.unsupported_app_version="unsupported_app_version",e))(Ta||{});const ok=()=>{const{value:e,isLoading:t}=ct("2335877601"),{value:n,isLoading:r}=ct("2441614537"),{doesUserHaveAnyAccountsWithPlusFeatures:a,isLoading:o}=as();return us?t||r||o?{isLoading:!0,isOpen:null,modalType:null,onClose:null}:e?{isLoading:!1,isOpen:!0,modalType:"unsupported_app_version",onClose:()=>{}}:!a&&!n?{isLoading:!1,isOpen:!0,modalType:"paid_users_only",onClose:()=>{}}:{isLoading:!1,isOpen:!1,modalType:null,onClose:null}:{isLoading:!1,isOpen:!1,modalType:null,onClose:null}},xIe="chatgpt",bIe="chatgpt-alt",wIe="oauth_complete",Y3e="ms-windows-store://pdp/?productid=9nt1r1c2hh7j",K3e="https://apps.microsoft.com/detail/9nt1r1c2hh7j",Q3e=()=>{const e="center",{isOpen:t,modalType:n}=ok(),r=Ge(),a=qT(),o=hN();if(d.useEffect(()=>{t&&n!==void 0&&S.logEvent(k.sidetronBlockingModalShown,{modalType:n})},[t,n]),!t)return null;function s(){switch(S.logEvent(k.sidetronModalActionClicked,{modalType:n}),n){case Ta.unsupported_app_version:window.open(o?Y3e:K3e,"_blank");return;case Ta.paid_users_only:oa(r,"Upper right settings menu");return;case null:lh.warn("No modal type provided for DesktopBlockingModal");return}}function l(){switch(n){case Ta.unsupported_app_version:return J3e;case Ta.paid_users_only:return ky;case null:return ky}}function c(){switch(n){case Ta.unsupported_app_version:return!1;case Ta.paid_users_only:return!0;case null:return!1}}return i.jsx(Te,{isOpen:!0,onClose:_e,shouldIgnoreClickOutside:!0,showCloseButton:!1,type:"success",noPadding:!0,position:e,children:i.jsxs("div",{className:"flex flex-col items-center justify-center px-6 py-8",children:[i.jsx("p",{className:"mb-1 text-center text-2xl font-semibold",children:i.jsx(b,{...l().title})}),i.jsx("p",{className:"mb-6 text-center text-lg text-token-text-secondary",children:i.jsx(b,{...l().subtitle})}),i.jsx(re,{as:"button",size:"large",color:"primary",fullWidth:!0,className:"mb-2 sm:mb-3","data-testid":"desktop-blocking-modal-action-button",onClick:s,children:i.jsx(b,{...l().cta})}),c()&&i.jsxs("span",{children:[a," · ",i.jsx("a",{href:"#",className:"cursor-pointer font-semibold text-token-text-secondary underline sm:text-sm",onClick:u=>{u.preventDefault(),S.logEvent(k.sidetronModalLogoutClicked,{modalType:n}),I1()},"data-testid":"desktop-blocking-modal-logout",children:i.jsx(b,{...l().logout})})]})]})})},ky=V({title:{id:"DesktopBlockingModal.paidTitle",defaultMessage:"Upgrade to use Windows app"},subtitle:{id:"DesktopBlockingModal.paidSubtitle",defaultMessage:"The Windows app is currently available for Plus, Team, Enterprise, and Edu plans."},cta:{id:"DesktopBlockingModal.paidUpgradeCta",defaultMessage:"See Plans"},logout:{id:"DesktopBlockingModal.paidLogout",defaultMessage:"Log out"}}),J3e=V({title:{id:"DesktopBlockingModal.sunsettingTitle",defaultMessage:"Update required"},subtitle:{id:"DesktopBlockingModal.sunsettingSubtitle",defaultMessage:"A new version of ChatGPT Windows is available and must be installed to continue."},cta:{id:"DesktopBlockingModal.sunsettingCta",defaultMessage:"Get Download"},logout:{id:"DesktopBlockingModal.sunsettingLogout",defaultMessage:"Log out"}}),X3e=({className:e})=>i.jsxs("div",{className:P("flex-column flex gap-[10px]",e),children:[i.jsx("div",{className:"relative flex h-[62px] w-[88px] items-center justify-center rounded-2xl border border-[rgba(0,0,0,0.18)] bg-[#F1F1F1] bg-gradient-to-b from-white/0 to-white/20 shadow-[0_1px_1px_rgba(0,0,0,0.03),_0_4.93747px_9.05202px_rgba(0,0,0,0.11)] dark:bg-black dark:to-white/15",children:i.jsx("span",{className:"absolute bottom-[8px] right-[12px] text-[12px] font-semibold leading-[15px] tracking-[-0.197499px] text-token-text-secondary",children:i.jsx(b,{...Ay.alt})})}),i.jsx("div",{className:"relative flex h-[62px] w-[232px] items-center justify-center rounded-2xl border border-[rgba(0,0,0,0.18)] bg-[#F1F1F1] bg-gradient-to-b from-white/0 to-white/20 shadow-[0_1px_1px_rgba(0,0,0,0.03),_0_4.93747px_9.05202px_rgba(0,0,0,0.11)] dark:bg-black dark:to-white/15",children:i.jsx("span",{className:"absolute bottom-[8px] right-[12px] text-[12px] font-semibold leading-[15px] tracking-[-0.197499px] text-token-text-secondary",children:i.jsx(b,{...Ay.space})})})]}),Ay=V({alt:{id:"DesktopOnboardingKeyboardIllustration.altKeyboardKeyLabel",defaultMessage:"alt"},space:{id:"DesktopOnboardingKeyboardIllustration.spaceKeyboardKeyLabel",defaultMessage:"space"}}),e7e=Ee.hasSeenWindowsAppOnboarding,sk=()=>{const{eligible:e,markAsViewed:t,isLoading:n}=ke(e7e),{value:r,isLoading:a}=ct("1454021170");return us?n||a?{isLoading:!0,isOpen:null,onClose:null}:{isLoading:!1,isOpen:e&&r,onClose:t}:{isLoading:!1,isOpen:!1,onClose:null}},t7e=({onClose:e})=>{const{isOpen:t,onClose:n}=sk();return t?(z.logEvent("chatgpt_sidetron_onboarding_nux_shown"),i.jsx(Te,{isOpen:!0,onClose:_e,type:"success",noPadding:!0,position:"center",className:"max-w-[552px] p-14 sm:max-w-[552px]",children:i.jsxs("div",{className:"flex flex-col items-center justify-center px-6 py-8",children:[i.jsx(zo,{className:"absolute right-4 top-4",onClick:()=>{e(),n()}}),i.jsx("p",{className:"mb-3 text-center text-2xl font-bold",children:i.jsx(b,{...dc.title})}),i.jsx("p",{className:"text-center text-lg text-token-text-tertiary",children:i.jsx(b,{...dc.subtitle})}),i.jsx(X3e,{className:"my-8"}),i.jsx("p",{className:"mb-2 text-center text-lg font-semibold",children:i.jsx(b,{...dc.keyboardShortcut})}),i.jsx("p",{className:"text-center text-lg text-token-text-tertiary",children:i.jsx(b,{...dc.keyboardShortcutHint})})]})})):null},dc=V({title:{id:"DesktopOnboardingModal.title",defaultMessage:"Quickly access ChatGPT"},subtitle:{id:"DesktopOnboardingModal.subtitle",defaultMessage:"Use a shortcut to ask questions, upload files, or take screenshots from anywhere on your computer."},keyboardShortcut:{id:"DesktopOnboardingModal.keyboardShortcut1",defaultMessage:"Press Alt+Space to open the the companion window"},keyboardShortcutHint:{id:"DesktopOnboardingModal.keyboardShortcutHint",defaultMessage:"You can change this shortcut in Settings."}}),ik=e=>d.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},d.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.9969 3.39017C14.5497 2.17402 15.961 1.60735 17.2013 2.10349L19.4045 2.98474C20.7337 3.51645 21.3458 5.05369 20.7459 6.35358L19.0629 10H20C20.5523 10 21 10.4477 21 11V19C21 20.6569 19.6569 22 18 22H6C4.34315 22 3 20.6569 3 19V11C3 10.4504 3.44331 10.0044 3.99184 10L3.84326 9.89871C3.83308 9.89177 3.82303 9.88464 3.81312 9.87733C2.55918 8.9526 2.79737 7.01262 4.23778 6.4187L6.35774 5.5446L7.08184 3.36882C7.57383 1.8905 9.49247 1.51755 10.5024 2.70393L11.9888 4.45002L13.5103 4.46084L13.9969 3.39017ZM15.5096 4.89554C16.2552 5.48975 16.5372 6.5938 15.9713 7.51403L14.8266 9.37513C14.8265 9.38763 14.8266 9.40262 14.8273 9.42012C14.8294 9.47124 14.8357 9.52793 14.8451 9.58261C14.8548 9.63855 14.8654 9.67875 14.8714 9.69773C14.9032 9.79818 14.9184 9.89994 14.9184 10H16.8602L18.93 5.51547C19.0499 5.25549 18.9275 4.94804 18.6617 4.8417L16.4585 3.96044C16.2105 3.86121 15.9282 3.97455 15.8177 4.21778L15.5096 4.89554ZM12.8885 10C12.8572 9.84121 12.8358 9.66998 12.829 9.50115C12.8194 9.26482 12.8255 8.81125 13.0664 8.41953L14.2677 6.46628L11.9746 6.44997C11.3934 6.44584 10.8427 6.18905 10.4659 5.74646L8.97951 4.00037L8.25541 6.17614C8.07187 6.72765 7.65748 7.17203 7.12012 7.39359L5.00092 8.26739L7.06339 9.67378C7.19189 9.7614 7.29353 9.87369 7.36631 10H12.8885ZM5 12V19C5 19.5523 5.44772 20 6 20H18C18.5523 20 19 19.5523 19 19V12H5ZM9.5 14.5C9.5 13.9477 9.94772 13.5 10.5 13.5H13.5C14.0523 13.5 14.5 13.9477 14.5 14.5C14.5 15.0523 14.0523 15.5 13.5 15.5H10.5C9.94772 15.5 9.5 15.0523 9.5 14.5Z",fill:"currentColor"}));function lk(){return i.jsx("hr",{className:"w-full border-token-border-xheavy"})}const Py=({value:e,isSelected:t,onSelect:n,workspacePlanType:r})=>i.jsxs("button",{className:"mb-2 flex w-full cursor-pointer items-center justify-between outline-none lg:text-left",onClick:()=>n(e),children:[i.jsxs("div",{className:"flex items-center gap-2",children:[e==="transfer"?i.jsx(ik,{className:"icon-sm"}):i.jsx(hl,{className:"icon-sm"}),i.jsxs("div",{children:[i.jsx("div",{className:"font-semibold",children:e==="transfer"?i.jsx(b,{...Je.initialModalTransferLabel}):i.jsx(b,{...Je.initialModalExportLabel})}),i.jsx("div",{className:"text-sm text-token-text-secondary",children:e==="transfer"?r===yi.EDU?i.jsx(b,{...Je.initialModalTransferEduDetail}):i.jsx(b,{...Je.initialModalTransferEnterpriseDetail}):i.jsx(b,{...Je.initialModalExportDetail})})]})]}),i.jsx("div",{className:P({"flex h-4 w-4 flex-shrink-0 rounded-full border align-middle":!0,"bg-black":t}),children:t&&i.jsx(k1,{className:"m-auto h-3 w-3 scale-x-75 stroke-[4] text-white"})})]}),n7e=({setCurrentStep:e,destinationWorkspaceName:t,destinationWorkspaceProfilePictureUrl:n,destinationWorkspacePlanType:r})=>{const[a,o]=d.useState(""),s=U(),l=async()=>{a==="transfer"?e(1):a==="export"&&e(2)},c=r===yi.EDU?s.formatMessage(Je.initialModalEduTitle):s.formatMessage(Je.initialModalEnterpriseTitle);return i.jsx(Te,{isOpen:!0,onClose:_e,type:"warning",title:c,primaryButton:i.jsx(sr,{title:s.formatMessage(Je.initialModalConfirm),onClick:l,color:"primary",className:"ml-4"}),children:i.jsxs("div",{className:"flex flex-col items-center justify-center gap-4",children:[i.jsxs("div",{className:"flex w-full items-center gap-4",children:[i.jsx(Sf,{src:n,size:"large"}),i.jsx("div",{className:"font-semibold",children:t})]}),i.jsxs("div",{className:"pb-4",children:[i.jsx("h3",{className:"mb-2 text-base font-semibold",children:i.jsx(b,{...Je.initialModalExplanation})}),i.jsx("div",{className:"mb-2 text-sm text-token-text-secondary",children:i.jsx(b,{...Je.initialModalMustChoose})}),i.jsxs("ul",{className:"list-disc pl-5 text-sm text-token-text-secondary",children:[i.jsx("li",{className:"mb-2",children:i.jsx(b,{...Je.initialModalDataDelete})}),i.jsx("li",{children:i.jsx(b,{...Je.initialModalBilling})})]})]}),i.jsx(Py,{value:"transfer",isSelected:a==="transfer",onSelect:o,workspacePlanType:r}),i.jsx(lk,{}),i.jsx(Py,{value:"export",isSelected:a==="export",onSelect:o,workspacePlanType:r})]})})},Oy=({currentStep:e,setCurrentStep:t,performAction:n})=>{const r=U();return i.jsx(Te,{isOpen:!0,onClose:_e,type:"success",title:r.formatMessage(Je.selectedModalTitle),primaryButton:i.jsx(sr,{title:e===1?r.formatMessage(Je.transferModalConfirm):r.formatMessage(Je.exportModalConfirm),color:e===2?"danger":"primary",onClick:n}),secondaryButton:i.jsx(sr,{title:r.formatMessage(Je.selectedModalBack),color:"secondary",onClick:async()=>{t(0)}}),children:i.jsxs("div",{className:"pb-4",children:[i.jsx("h3",{className:"mb-2 text-base font-semibold",children:e===1?i.jsx(b,{...Je.transferModalConfirmTitle}):i.jsx(b,{...Je.exportModalConfirmTitle})}),e===1?i.jsx("div",{className:"text-sm text-token-text-secondary",children:i.jsx(b,{...Je.transferModalConfirmLabel})}):i.jsxs("ul",{className:"list-disc pl-5 text-sm text-token-text-secondary",children:[i.jsx("li",{className:"mb-1",children:i.jsx(b,{...Je.exportModalChatHistoryLabel})}),i.jsx("li",{className:"mb-1",children:i.jsx(b,{...Je.exportModalDeleteLabel})}),i.jsx("li",{className:"mb-1",children:i.jsx(b,{...Je.exportModalChatDownloadLabel})})]}),i.jsx("h4",{className:"pt-5 font-semibold text-token-text-primary",children:e==1?i.jsx(b,{...Je.transferModalProceed}):i.jsx(b,{...Je.exportModalProceed})})]})})};function r7e(){const[e,t]=d.useState(0),n=hh();if(!n)return null;switch(e){case 0:return i.jsx(n7e,{setCurrentStep:t,destinationWorkspaceName:n.destinationWorkspaceName,destinationWorkspaceProfilePictureUrl:n.destinationWorkspaceProfilePictureUrl,destinationWorkspacePlanType:n.destinationWorkspacePlanType});case 1:return i.jsx(Oy,{currentStep:e,setCurrentStep:t,performAction:async()=>{(await q.transferAccount(n.destinationWorkspaceId)).success&&(window.location.href="/")}});case 2:return i.jsx(Oy,{currentStep:e,setCurrentStep:t,performAction:async()=>{(await q.submitExportAndDeactivate()).success&&(window.location.href="/")}})}}const Je=V({initialModalEnterpriseTitle:{id:"initialModal.title",defaultMessage:"You've been added to a ChatGPT Enterprise workspace"},initialModalEduTitle:{id:"initialModal.eduTitle",defaultMessage:"You've been added to a ChatGPT Edu workspace"},initialModalExplanation:{id:"initialModal.explanation",defaultMessage:"What should we do with your existing workspace?"},initialModalMustChoose:{id:"initialModal.mustChoose",defaultMessage:"In order to join this new workspace, you must choose to either migrate or export your existing chat history."},initialModalDataDelete:{id:"initialModal.dataDelete",defaultMessage:"All Plugins and Custom Instructions in the existing workspace will be deleted."},initialModalBilling:{id:"initialModal.billing",defaultMessage:"If you have a ChatGPT Plus subscription, it will be canceled and refunded upon completing this step."},initialModalConfirm:{id:"initialModal.confirm",defaultMessage:"Continue"},initialModalTransferLabel:{id:"initialModal.transferLabel",defaultMessage:"Transfer existing chat history and GPTs"},initialModalTransferEnterpriseDetail:{id:"initialModal.initialModalTransferEnterpriseDetail",defaultMessage:"Merge into the Enterprise workspace"},initialModalTransferEduDetail:{id:"initialModal.initialModalTransferEduDetail",defaultMessage:"Merge into the Edu workspace"},initialModalExportLabel:{id:"initialModal.exportLabel",defaultMessage:"Export and delete existing chat history"},initialModalExportDetail:{id:"initialModal.exportDetail",defaultMessage:"Delete the existing workspace"},selectedModalTitle:{id:"selectedModal.title",defaultMessage:"Are you sure?"},selectedModalBack:{id:"selectedModal.back",defaultMessage:"Back"},transferModalConfirmTitle:{id:"transferModal.confirmTitle",defaultMessage:"Transferring chat history is permanent and can't be undone."},transferModalConfirmLabel:{id:"transferModal.confirmLabel",defaultMessage:"Your chat history and GPTs will be transferred to the new workspace and your existing workspace will be deleted."},transferModalConfirm:{id:"transferModal.confirm",defaultMessage:"Confirm transfer"},transferModalProceed:{id:"transferModal.proceed",defaultMessage:'To proceed, click "Confirm transfer" below.'},exportModalConfirmTitle:{id:"exportModal.confirmTitle",defaultMessage:"Deleting chat history is permanent and can't be undone."},exportModalChatHistoryLabel:{id:"exportModal.chatHistoryLabel",defaultMessage:"Your chat history will be included in the export."},exportModalDeleteLabel:{id:"exportModal.deleteLabel",defaultMessage:"Your GPTs, Plugins and Custom Instructions will be deleted."},exportModalChatDownloadLabel:{id:"exportModal.chatDownloadLabel",defaultMessage:"The data will be sent to your registered email in a downloadable file. The download link will expire 24 hours after you receive it."},exportModalConfirm:{id:"exportModal.confirm",defaultMessage:"Export and delete workspace"},exportModalProceed:{id:"exportModal.proceed",defaultMessage:'To proceed, click "Export and delete workspace" below.'}});function a7e(){const e=TC(),t=U();return e!==null?i.jsx(Te,{isOpen:!0,onClose:_e,type:"warning",size:"custom",className:"max-w-3xl",title:i.jsxs("div",{className:"flex flex-col",children:[i.jsx("div",{className:"text-lg",children:i.jsx(b,{...fc.title})}),i.jsx("div",{className:"text-sm font-normal",children:i.jsx(b,{...fc.subtitle})})]}),icon:so,primaryButton:i.jsx(Ye.Button,{onClick:async()=>{const r=await xh.signOut({redirect:!1,callbackUrl:`/auth/login?next=${encodeURIComponent(location.pathname+location.search+location.hash)}`});location.href=r.url},color:"primary",title:t.formatMessage(fc.signOutButton)}),children:i.jsx("div",{className:"flex flex-col space-y-4",children:i.jsx("div",{children:i.jsx(b,{...fc.detail,values:{email:i.jsx("span",{className:"font-semibold",children:e.userEmail})}})})})}):null}const fc=V({title:{id:"AllWorkspacesBlockedModal.title",defaultMessage:"Access Denied"},subtitle:{id:"AllWorkspacesBlockedModal.subtitle",defaultMessage:"Your IT administrator has blocked access to this workspace"},detail:{id:"AllWorkspacesBlockedModal.detail",defaultMessage:"It looks like you’re either trying to login using a personal email or you don’t have access to a workspace that’s been approved by your IT administrator. Please use an authorized work email to access your workspace, or contact your IT administrator for access."},signOutButton:{id:"AllWorkspacesBlockedModal.signOutButton",defaultMessage:"Sign Out"}});function o7e(){const{data:e}=uh(),t=un(),n=e?.accountItems.find(l=>l.ssoConnectionName),r=e?.accountItems.find(l=>!l.ssoConnectionName),a=!!n,o=!a&&!!r,s=()=>{const l=n?.ssoConnectionName&&a?{connection:n.ssoConnectionName}:void 0;t({authType:"login",additionalAuthParams:l})};return i.jsx(Te,{isOpen:!0,onClose:_e,type:"warning",size:"custom",className:"max-w-3xl",title:i.jsx("div",{className:"flex flex-col",children:i.jsx("div",{className:"text-lg",children:i.jsx(b,{...ba.title})})}),icon:so,primaryButton:i.jsx(Ye.Button,{onClick:()=>{S.logLogOutButtonClicked({location:"invalid_account_modal"}),I1()},color:"primary",children:i.jsx(b,{...ba.logOut})}),secondaryButton:a||o?i.jsx(Ye.Button,{onClick:s,color:"primary",children:i.jsx(b,{...a?ba.ssoButton:ba.noSSOButton})}):null,children:i.jsx("div",{className:"flex flex-col space-y-4",children:i.jsxs("div",{children:[i.jsx("p",{children:i.jsx(b,{...ba.description})}),i.jsx("br",{}),a&&i.jsx("p",{children:i.jsx(b,{...ba.ssoSuggestion})}),o&&i.jsx("p",{children:i.jsx(b,{...ba.noSSOSuggestion})})]})})})}const ba=V({title:{id:"sMC0Cy",defaultMessage:"No Accessible Workspaces"},description:{id:"ADpJJ4",defaultMessage:"It looks like you're currently unable to access any of your accounts. Try waiting a minute and logging in again."},logOut:{id:"KlMYRb",defaultMessage:"Log out"},ssoSuggestion:{id:"KCNTGv",defaultMessage:"Logging in with SSO may fix these issues."},noSSOSuggestion:{id:"mp/4+s",defaultMessage:"Logging in without SSO may fix these issues."},ssoButton:{id:"Nsa12I",defaultMessage:"Log in with SSO"},noSSOButton:{id:"60pUg9",defaultMessage:"Log in"}});function s7e(){const e=EC(),t=U(),[n,r]=d.useState(),a=e!==null;if(d.useEffect(()=>{a||r(void 0)},[a]),!a)return null;const o=i.jsx("span",{className:"font-semibold",children:e.ownerEmail}),s=e.hasActiveRequest||n==="success",l=e.workspacePlanType===yi.EDU;return i.jsx(Te,{isOpen:!0,onClose:_e,type:"warning",size:"custom",className:"max-w-3xl",title:i.jsxs("div",{className:"flex flex-col",children:[i.jsx("div",{className:"text-lg",children:i.jsx(b,{...gr.title,values:{workspaceName:e.accountName}})}),i.jsx("div",{className:"text-sm font-normal",children:l?i.jsx(b,{...gr.eduSubtitle}):i.jsx(b,{...gr.enterpriseSubtitle})})]}),icon:so,primaryButton:i.jsx(Ye.Button,{onClick:async()=>{r("requesting");try{(await q.requestWorkspaceAccess(e.accountId)).success&&r("success")}catch{r("error")}},color:"primary",title:t.formatMessage(gr.requestAccessButton),disabled:s}),secondaryButton:i.jsx(Ye.Button,{onClick:async()=>{const c=await xh.signOut({redirect:!1,callbackUrl:`/auth/login?next=${encodeURIComponent(location.pathname+location.search+location.hash)}`});location.href=c.url},color:"secondary",title:t.formatMessage(gr.signOutButton)}),children:i.jsxs("div",{className:"flex flex-col space-y-4",children:[i.jsx("div",{children:l?i.jsx(b,{...gr.emailBelongsToEduWorkspace,values:{email:i.jsx("span",{className:"font-semibold",children:e.userEmail})}}):i.jsx(b,{...gr.emailBelongsToEnterpriseWorkspace,values:{email:i.jsx("span",{className:"font-semibold",children:e.userEmail})}})}),i.jsx("div",{children:s?i.jsx(b,{...gr.activeRequestMessage,values:{email:o}}):n==="requesting"?i.jsx(yn,{}):n==="error"?i.jsx(b,{...gr.contactWorkspaceAdminEmail,values:{email:o}}):null})]})})}const gr=V({title:{id:"RequestWorkspaceAccessModal.title",defaultMessage:"Request access to {workspaceName}"},enterpriseSubtitle:{id:"RequestWorkspaceAccessModal.subtitle",defaultMessage:"ChatGPT Enterprise has been enabled in your workspace"},eduSubtitle:{id:"RequestWorkspaceAccessModal.eduSubtitle",defaultMessage:"ChatGPT Edu has been enabled in your workspace"},emailBelongsToEnterpriseWorkspace:{id:"RequestWorkspaceAccessModal.emailBelongsToEnterpriseWorkspace",defaultMessage:"{email} belongs to a ChatGPT Enterprise plan but currently has no access."},emailBelongsToEduWorkspace:{id:"RequestWorkspaceAccessModal.emailBelongsToEduWorkspace",defaultMessage:"{email} belongs to a ChatGPT Edu plan but currently has no access."},requestWorkspaceAccessMessage:{id:"RequestWorkspaceAccessModal.requestWorkspaceAccessMessage",defaultMessage:"You may request access to the workspace account."},requestedWorkspaceAccessMessage:{id:"RequestWorkspaceAccessModal.requestedWorkspaceAccessMessage",defaultMessage:"Successfully requested access to the workspace account. Your workspace administrator at {email} may approve the request."},contactWorkspaceAdminEmail:{id:"RequestWorkspaceAccessModal.contactWorkspaceAdminEmail",defaultMessage:"Could not request access. Contact your workspace administrator at {email} to request access to a new workspace account."},signOutButton:{id:"RequestWorkspaceAccessModal.signOutButton",defaultMessage:"Sign Out"},requestAccessButton:{id:"RequestWorkspaceAccessModal.requestAccessButton",defaultMessage:"Request access"},activeRequestMessage:{id:"RequestWorkspaceAccessModal.activeRequestMessage",defaultMessage:"You have a pending invite request for this workspace. Contact your workspace administrator at {email} to approve your request."}}),i7e=e=>d.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},d.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.4644 2.07845C16.0559 1.72726 14.6293 2.58442 14.2781 3.99296C14.0655 4.84569 14.2932 5.74826 14.8847 6.39818L16.371 8.031L15.1585 13.2072C14.8542 13.2981 14.5713 13.4014 14.3131 13.4958L14.2978 13.5014C13.5167 13.7871 12.9356 13.9996 12.3471 14.0118L12.1579 13.2852L13.2684 11.6749C14.0988 10.4709 13.2945 8.82179 11.8345 8.73486L9.88186 8.6186L8.69359 7.06484C7.8051 5.90305 5.98815 6.1584 5.45431 7.52009L4.74035 9.34119L2.89544 9.99116C1.51595 10.4772 1.19734 12.2841 2.32741 13.2126L3.57167 14.2349C3.49758 14.3518 3.42889 14.4696 3.3653 14.5866C2.83464 15.5627 2.51448 16.7333 2.31982 17.6889C1.94568 19.5256 3.43561 21 5.13511 21H18.4968C20.3724 21 21.9454 19.2005 21.1807 17.2496C20.859 16.4289 20.4213 15.4967 19.8567 14.721C19.3093 13.9687 18.5259 13.2035 17.4693 13.0155C17.4007 13.0033 17.3325 12.993 17.2648 12.9844L18.3141 8.50499L20.3757 7.76723C21.2032 7.47112 21.8279 6.78107 22.0405 5.92834C22.3917 4.51979 21.5345 3.09325 20.126 2.74206L17.4644 2.07845ZM19.7019 5.88417L17.7554 6.58073L16.3638 5.05189C16.2223 4.8965 16.1679 4.68069 16.2187 4.47681C16.3027 4.14002 16.6438 3.93508 16.9806 4.01904L19.6422 4.68265C19.9789 4.76662 20.1839 5.10771 20.0999 5.44449C20.0491 5.64838 19.8997 5.81337 19.7019 5.88417ZM10.4796 12.1959C10.2219 12.5695 10.1101 13.0211 10.1589 13.4663C10.0315 13.4161 9.90092 13.3637 9.76645 13.3098C9.66559 13.2694 9.56252 13.2281 9.45694 13.1861C8.51137 12.8103 7.36049 12.3858 6.08404 12.5043C5.68276 12.5416 5.32518 12.657 5.0072 12.8259L3.76504 11.8053L5.45781 11.2089C5.97244 11.0276 6.38274 10.6314 6.5819 10.1234L7.23698 8.45247L8.32725 9.8781C8.65871 10.3115 9.16233 10.5793 9.70701 10.6117L11.4986 10.7184L10.4796 12.1959ZM8.71828 15.0447C7.76576 14.6662 7.01897 14.4261 6.26896 14.4957C5.92386 14.5278 5.52724 14.7972 5.12244 15.5418C4.73132 16.2613 4.45918 17.2064 4.27957 18.0881C4.19225 18.5168 4.52274 19 5.13511 19H18.4968C18.8236 19 19.0831 18.8501 19.2307 18.6539C19.3714 18.4669 19.4183 18.2339 19.3186 17.9796C19.0256 17.232 18.6612 16.4771 18.2396 15.8978C17.8009 15.295 17.4139 15.037 17.119 14.9846C16.481 14.871 15.872 15.0552 15.0001 15.3741L14.849 15.4297C14.068 15.7177 13.0524 16.0921 11.9161 15.9965C10.8521 15.9069 9.85318 15.503 9.02444 15.1678C8.91959 15.1254 8.81747 15.0841 8.71828 15.0447Z",fill:"currentColor"})),ck=e=>d.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},d.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 4C7.58172 4 4 7.58172 4 12C4 14.1941 4.88193 16.1802 6.31295 17.6265C6.6343 17.9513 6.69466 18.4526 6.45959 18.8443L5.76619 20H12C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22H4C3.63973 22 3.30731 21.8062 3.1298 21.4927C2.95229 21.1792 2.95715 20.7944 3.14251 20.4855L4.36137 18.4541C2.88894 16.7129 2 14.4595 2 12Z",fill:"currentColor"})),l7e=Ee.Onboarding,z4=()=>{const{eligible:e,markAsViewed:t,isLoading:n}=ke(l7e);return{setHasSeenOnboarding:t,hasSeenOnboardingDate:n?null:!e}},uk=()=>{const{eligible:e,markAsViewed:t,isLoading:n}=ke(Ee.TeamOwnerOnboarding);return{setHasSeenTeamOwnerOnboarding:t,hasSeenTeamOwnerOnboardingDate:n?null:!e}};function dk({onClose:e,scope:t}){const{setHasSeenOnboarding:n}=z4(),r=d.useCallback(()=>{e(!0),n()},[e,n]);return t===zf.Personal?i.jsx(u7e,{onSubmit:r}):i.jsx(d7e,{onSubmit:()=>{e(!0)}})}const Vo=({icon:e,title:t,body:n})=>i.jsxs("div",{className:"flex flex-col gap-2 md:w-1/3",children:[i.jsxs("div",{className:"flex flex-row items-center gap-2",children:[i.jsx("div",{children:e}),i.jsx("div",{className:"font-semibold text-token-text-primary",children:t})]}),i.jsx("div",{className:"text-sm text-token-text-secondary",children:n})]}),c7e="https://help.openai.com/en/articles/7039943-data-usage-for-consumer-services-faq",u7e=({onSubmit:e})=>{const t=U();return i.jsxs("div",{className:"flex flex-col gap-3 p-4 md:p-6",children:[i.jsxs("div",{className:"flex flex-col gap-6 md:flex-row",children:[i.jsx(Vo,{icon:i.jsx(ck,{isSolid:!0,className:"icon-md text-green-600"}),title:i.jsx(b,{...rn.askAway}),body:i.jsx(b,{...rn.askAwayBody})}),i.jsx(Vo,{icon:i.jsx(vN,{className:"icon-md text-brand-purple"}),title:i.jsx(b,{...rn.warning}),body:i.jsx(b,{...rn.warningBody,values:{article:n=>i.jsx("a",{href:c7e,target:"_blank",className:"underline",rel:"noopener noreferrer",children:n})}})}),i.jsx(Vo,{icon:i.jsx(vh,{className:"icon-md text-orange-300"}),title:i.jsx(b,{...rn.accuracy}),body:i.jsx(b,{...rn.accuracyBody})})]}),i.jsx("div",{className:"flex flex-row justify-end",children:i.jsx(sr,{title:t.formatMessage(rn.gettingStartedButton),onClick:e,color:"primary","data-testid":"getting-started-button"})})]})},d7e=({onSubmit:e})=>{const t=U();return i.jsxs("div",{className:"flex flex-col gap-6 p-4 md:p-6",children:[i.jsxs("div",{className:"flex flex-col gap-6 md:flex-row",children:[i.jsx(Vo,{icon:i.jsx(so,{className:"icon-md text-brand-purple"}),title:i.jsx(b,{...rn.workUse}),body:i.jsx(b,{...rn.workUseBody})}),i.jsx(Vo,{icon:i.jsx(ck,{className:"icon-md text-green-600"}),title:i.jsx(b,{...rn.askAway}),body:i.jsx(b,{...rn.askAwayBody})}),i.jsx(Vo,{icon:i.jsx(vh,{className:"icon-md text-orange-300"}),title:i.jsx(b,{...rn.accuracy}),body:i.jsx(b,{...rn.accuracyBody})})]}),i.jsx("div",{className:"flex flex-row justify-end",children:i.jsx(sr,{title:t.formatMessage(rn.gettingStartedButton),onClick:e,color:"primary"})})]})},rn=V({askAway:{id:"onboarding.askAway",defaultMessage:"Ask away"},askAwayBody:{id:"onboarding.askAwayBody",defaultMessage:"ChatGPT can answer questions, help you learn, write code, brainstorm together, and much more."},warning:{id:"onboarding.warning",defaultMessage:"Don’t share sensitive info"},warningBody:{id:"onboarding.warningBody",defaultMessage:"Chat history may be reviewed or used to improve our services. Learn more about your choices in our <article>Help Center</article>."},accuracy:{id:"onboarding.accuracy",defaultMessage:"Check your facts"},accuracyBody:{id:"onboarding.accuracyBody",defaultMessage:"While we have safeguards, ChatGPT may give you inaccurate information. It’s not intended to give advice."},gettingStartedButton:{id:"onboarding.gettingStartedButton",defaultMessage:"Okay, let’s go"},workspaceWelcome:{id:"onboarding.workspaceWelcome",defaultMessage:"Welcome to the {workspaceName} Workspace"},workspaceWelcomeNoName:{id:"onboarding.workspaceWelcomeNoName",defaultMessage:"Welcome to the your Workspace"},workspaceWelcomeBody:{id:"onboarding.workspaceWelcomeBody",defaultMessage:"Here you can use our latest models, with more capabilities, and fewer limits."},workUse:{id:"onboarding.workUse",defaultMessage:"Made for use at work"},workUseBody:{id:"onboarding.workUseBody",defaultMessage:"By default, chats in this workspace are not used to train our AI models."}}),Ny=({value:e,isSelected:t,onSelect:n})=>i.jsxs("button",{className:"mb-2 flex w-full cursor-pointer items-center justify-between outline-none lg:text-left",onClick:()=>n(e),children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"flex-shrink-0",children:e==="transfer"?i.jsx(ik,{}):i.jsx(i7e,{})}),i.jsxs("div",{className:"flex flex-col text-left",children:[i.jsx("div",{className:"font-semibold",children:e==="transfer"?i.jsx(b,{...Pt.teamAccountTransferModalTransferLabel}):i.jsx(b,{...Pt.teamAccountTransferModalCreateLabel})}),i.jsx("div",{className:"flex-wrap text-sm text-token-text-secondary",children:e==="transfer"?i.jsx(b,{...Pt.teamAccountTransferModalTransferDetail}):i.jsx(b,{...Pt.teamAccountTransferModalCreateDetail})})]})]}),i.jsx("div",{className:P("flex h-4 w-4 flex-shrink-0 items-center justify-center rounded-full border",{"bg-black":t}),children:t&&i.jsx(k1,{className:"h-3 w-3 scale-x-75 stroke-[4] text-white"})})]}),f7e=({setCurrentStep:e,setHasSeenOnboarding:t})=>{const[n,r]=d.useState(""),a=U(),o=()=>{n==="transfer"?e(1):n==="create"&&t&&t()};return i.jsx(Te,{isOpen:!0,onClose:_e,type:"warning",title:a.formatMessage(Pt.teamAccountTransferModalTitle),primaryButton:i.jsx(sr,{title:a.formatMessage(Pt.teamAccountTransferModalConfirm),onClick:o,color:"primary",className:"ml-4"}),children:i.jsxs("div",{className:"flex flex-col items-center justify-center gap-4",children:[i.jsx("div",{className:"text-md mb-2 text-token-text-primary",children:i.jsx(b,{...Pt.teamAccountTransferModalExplanation})}),i.jsx(Ny,{value:"transfer",isSelected:n==="transfer",onSelect:r}),i.jsx(lk,{}),i.jsx(Ny,{value:"create",isSelected:n==="create",onSelect:r})]})})},p7e=({currentWorkspace:e,setCurrentStep:t,fromSettings:n,setHasSeenOnboarding:r,onClose:a=_e})=>{const o=U(),s=cn(),l=Ge(),c=s?.name;return i.jsx(Te,{isOpen:!0,onClose:r?_e:a,type:"success",title:o.formatMessage(Pt.selectedModalTitle),primaryButton:i.jsx(sr,{title:n?o.formatMessage(Pt.mergeModalConfirm):o.formatMessage(Pt.teamTransferModalConfirm),color:"primary",onClick:async()=>{const u=await q.transferAccount(e.id);r&&r(),u.success?kC():l(yN(CN.ACCOUNT_TRANSFER_ERROR))}}),secondaryButton:i.jsx(sr,{title:o.formatMessage(Pt.selectedModalBack),color:"secondary",onClick:n?a:async()=>{t(0)}}),children:i.jsxs("div",{className:"flex flex-col justify-center gap-4",children:[i.jsxs("div",{className:"flex w-full items-center gap-4",children:[i.jsx(_f,{user:s,size:"large",roundedStyle:"rounded-full"}),i.jsxs("div",{className:"pt-2",children:[i.jsx("div",{className:"font-semibold",children:c}),i.jsx("div",{className:"mb-2 text-sm text-token-text-secondary",children:i.jsx(b,{...Pt.tansferModalPersonalAccount})})]})]}),i.jsx("div",{className:"-mb-2 -mt-3 flex justify-start pl-3",children:i.jsx(ab,{className:"icon-sm"})}),i.jsxs("div",{className:"flex w-full items-center gap-4",children:[i.jsx(Sf,{src:e.profilePictureUrl,size:"large"}),i.jsx("div",{className:"font-semibold",children:e.name})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"mb-2 text-base font-semibold",children:i.jsx(b,{...Pt.teamTransferModalConfirmTitle})}),i.jsxs("ul",{className:"list-disc pl-5 text-sm text-token-text-secondary",children:[i.jsx("li",{className:"mb-2",children:i.jsx(b,{...Pt.teamTransferModalMigrateData})}),i.jsx("li",{className:"mb-2",children:i.jsx(b,{...Pt.teamTransferModalDeleteData})}),i.jsx("li",{children:i.jsx(b,{...Pt.teamTransferModalCancelPlus})})]})]}),i.jsx("div",{className:"mx-auto mb-2 flex max-w-5xl items-center rounded-md border border-token-border-medium bg-token-main-surface-secondary px-2 py-2 md:px-2 lg:px-4 lg:py-3",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx(vh,{className:"flex-shrink-0 text-red-500"}),i.jsx("p",{className:"ml-4 text-sm",children:i.jsx(b,{...Pt.teamTransferModalWarning,values:{link:u=>i.jsx("a",{href:"https://help.openai.com/en/articles/8801890 ",target:"_blank",className:"underline",rel:"noreferrer",children:u})}})})]})})]})})};function m7e({onClose:e=_e,fromSettings:t=!1}){const[n,r]=d.useState(t?1:0),a=Se()?.data,{setHasSeenTeamOwnerOnboarding:o}=uk(),s=t?void 0:o;switch(n){case 0:return i.jsx(f7e,{setCurrentStep:r,setHasSeenOnboarding:s});case 1:return i.jsx(p7e,{setCurrentStep:r,currentWorkspace:a,onClose:e,fromSettings:t,setHasSeenOnboarding:s})}}const Pt=V({teamAccountTransferModalTitle:{id:"teamAccountTransferModal.title",defaultMessage:"Your ChatGPT Team workspace is ready"},teamAccountTransferModalExplanation:{id:"teamAccountTransferModal.explanation",defaultMessage:"Do you want to transfer your chat history and GPTs to the Team workspace?"},teamAccountTransferModalConfirm:{id:"teamAccountTransferModal.confirm",defaultMessage:"Continue"},teamAccountTransferModalTransferLabel:{id:"teamAccountTransferModal.transferLabel",defaultMessage:"Transfer chat history and GPTs"},teamAccountTransferModalTransferDetail:{id:"teamAccountTransferModal.transferDetail",defaultMessage:"Carry over existing data from your personal workspace"},teamAccountTransferModalCreateLabel:{id:"teamAccountTransferModal.createLabel",defaultMessage:"Start as empty workspace"},teamAccountTransferModalCreateDetail:{id:"teamAccountTransferModal.createDetail",defaultMessage:"Keep your personal workspace separate. If you’re on Plus, you will maintain your subscription until you cancel"},selectedModalTitle:{id:"selectedModal.title",defaultMessage:"Are you sure?"},selectedModalBack:{id:"selectedModal.back",defaultMessage:"Back"},tansferModalPersonalAccount:{id:"teamTransferModal.personalAccount",defaultMessage:"Personal workspace"},teamTransferModalConfirmTitle:{id:"teamTransferModal.confirmTitle",defaultMessage:"Transfer of existing data is permanent and can't be undone."},teamTransferModalMigrateData:{id:"teamTransferModal.migrateData",defaultMessage:"Your chat history and GPTs in your personal workspace will be migrated to the Team workspace."},teamTransferModalDeleteData:{id:"teamTransferModal.deleteData",defaultMessage:"Your Plugins and custom instructions in your personal workspace will be deleted."},teamTransferModalCancelPlus:{id:"teamTransferModal.cancelPlus",defaultMessage:"If you have a ChatGPT Plus subscription, it will be canceled and refunded upon merging."},teamTransferModalWarning:{id:"teamTransferModal.warning",defaultMessage:"You will lose access to your data if you leave or are removed from the Team workspace, or if the workspace is deactivated. <link>Learn more</link>"},teamTransferModalConfirm:{id:"teamTransferModal.confirm",defaultMessage:"Confirm transfer"},mergeModalConfirm:{id:"mergerModal.confirm",defaultMessage:"Confirm merge"}});function g7e({workspace:e}){const t=be(),n=cn(),a=Se()?.id===e.id,o=a?"div":"button",[s,l]=d.useState(!1),c=un(),u=U(),f=Ne(),p=d.useCallback(async()=>{l(!0);const{willRedirect:h}=bN(t,e.id,c,u,f);AC.disableTemporaryChat(),h||kC()},[t,e.id,c,u,f]),m=o2e(e);let g=i.jsx("div",{className:"flex items-center justify-center",children:i.jsx(Sf,{src:e.data.profilePictureUrl,size:"medium"})});if(e.structure===Ao.PERSONAL){if(!n)return null;g=i.jsx("div",{className:"flex items-center justify-center",children:i.jsx(_f,{user:n,customStyle:!0,size:Un.workspaceMedium,className:"h-9 w-9 overflow-hidden rounded-full"})})}return i.jsxs(o,{onClick:a?_e:p,className:P({"flex w-full items-center gap-2 rounded-lg border border-token-border-medium bg-token-main-surface-primary p-4 hover:bg-token-main-surface-secondary":!0,"bg-token-sidebar-surface-secondary":a,"opacity-50":!e.canAccessWithCurrentSession}),children:[i.jsxs("div",{className:"flex w-full items-center gap-4",children:[g,i.jsxs("div",{className:"inline text-left align-top font-semibold",children:[i.jsx("p",{children:m}),!e.canAccessWithCurrentSession&&i.jsx("p",{className:"leading-4",children:i.jsx("small",{className:"text-token-text-secondary",children:i.jsx(b,{...e.ssoConnectionName?e1.authenticateWithSSOToAccessWorkspace:e1.authenticateWithoutSSOToAccessWorkspace})})})]})]}),i.jsx("div",{className:"flex h-full items-center p-1",children:s?i.jsx(yn,{}):a?i.jsx(wN,{className:"icon-lg"}):i.jsx(is,{className:"icon-lg my-auto"})})]})}function h7e({data:e}){const t=e.map(n=>i.jsx(g7e,{workspace:n},n.id));return i.jsx("div",{className:"flex w-full flex-col gap-2",children:t})}function v7e(){const e=i2e(),n=cn()?.email??"";if(!e||e.length===0)return null;const r=e.filter(a=>a.structure===Ao.WORKSPACE);return i.jsx(Te,{isOpen:!0,onClose:_e,type:"success",size:"normal",title:i.jsxs("div",{className:"flex flex-col",children:[i.jsx(b,{...e1.workspaceSwitcherTitle}),i.jsx("span",{className:"mt-0.5 text-sm text-token-text-secondary",children:n})]}),children:i.jsxs("div",{className:"flex w-full flex-col items-center justify-between",children:[i.jsx(h7e,{data:e}),i.jsx("span",{className:"mt-4 text-sm text-token-text-secondary",children:i.jsx(b,{...e1.workspaceSwitcherDisclaimer,values:{workspaces:i.jsx("span",{className:"contents font-bold",children:i.jsx(xN,{value:r.map(a=>a.data.name)})}),numWorkspaces:r.length}})})]})})}const e1=V({workspaceSwitcherTitle:{id:"workspaceSwitcher.title",defaultMessage:"Select a workspace"},workspaceSwitcherDisclaimer:{id:"workspaceSwitcher.disclaimer",defaultMessage:"You've been added to the {workspaces} {numWorkspaces, plural, one {workspace} other {workspaces}}. You can switch between workspaces at any time."},authenticateWithSSOToAccessWorkspace:{id:"CV7pdM",defaultMessage:"Authenticate with SSO to access this workspace"},authenticateWithoutSSOToAccessWorkspace:{id:"zfCWFh",defaultMessage:"Authenticate without SSO to access this workspace"}});var q4="ToastProvider",[Z4,y7e,C7e]=_N("Toast"),[fk,_Ie]=Qa("Toast",[C7e]),[x7e,qf]=fk(q4),pk=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:a="right",swipeThreshold:o=50,children:s}=e,[l,c]=d.useState(null),[u,f]=d.useState(0),p=d.useRef(!1),m=d.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${q4}\`. Expected non-empty \`string\`.`),i.jsx(Z4.Provider,{scope:t,children:i.jsx(x7e,{scope:t,label:n,duration:r,swipeDirection:a,swipeThreshold:o,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:d.useCallback(()=>f(g=>g+1),[]),onToastRemove:d.useCallback(()=>f(g=>g-1),[]),isFocusedToastEscapeKeyDownRef:p,isClosePausedRef:m,children:s})})};pk.displayName=q4;var mk="ToastViewport",b7e=["F8"],O2="toast.viewportPause",N2="toast.viewportResume",gk=d.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=b7e,label:a="Notifications ({hotkey})",...o}=e,s=qf(mk,n),l=y7e(n),c=d.useRef(null),u=d.useRef(null),f=d.useRef(null),p=d.useRef(null),m=Or(t,p,s.onViewportChange),g=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),h=s.toastCount>0;d.useEffect(()=>{const y=x=>{r.length!==0&&r.every(w=>x[w]||x.code===w)&&p.current?.focus()};return document.addEventListener("keydown",y),()=>document.removeEventListener("keydown",y)},[r]),d.useEffect(()=>{const y=c.current,x=p.current;if(h&&y&&x){const C=()=>{if(!s.isClosePausedRef.current){const T=new CustomEvent(O2);x.dispatchEvent(T),s.isClosePausedRef.current=!0}},w=()=>{if(s.isClosePausedRef.current){const T=new CustomEvent(N2);x.dispatchEvent(T),s.isClosePausedRef.current=!1}},_=T=>{!y.contains(T.relatedTarget)&&w()},E=()=>{y.contains(document.activeElement)||w()};return y.addEventListener("focusin",C),y.addEventListener("focusout",_),y.addEventListener("pointermove",C),y.addEventListener("pointerleave",E),window.addEventListener("blur",C),window.addEventListener("focus",w),()=>{y.removeEventListener("focusin",C),y.removeEventListener("focusout",_),y.removeEventListener("pointermove",C),y.removeEventListener("pointerleave",E),window.removeEventListener("blur",C),window.removeEventListener("focus",w)}}},[h,s.isClosePausedRef]);const v=d.useCallback(({tabbingDirection:y})=>{const C=l().map(w=>{const _=w.ref.current,E=[_,...R7e(_)];return y==="forwards"?E:E.reverse()});return(y==="forwards"?C.reverse():C).flat()},[l]);return d.useEffect(()=>{const y=p.current;if(y){const x=C=>{const w=C.altKey||C.ctrlKey||C.metaKey;if(C.key==="Tab"&&!w){const E=document.activeElement,T=C.shiftKey;if(C.target===y&&T){u.current?.focus();return}const D=v({tabbingDirection:T?"backwards":"forwards"}),j=D.findIndex(B=>B===E);N0(D.slice(j+1))?C.preventDefault():T?u.current?.focus():f.current?.focus()}};return y.addEventListener("keydown",x),()=>y.removeEventListener("keydown",x)}},[l,v]),i.jsxs(SN,{ref:c,role:"region","aria-label":a.replace("{hotkey}",g),tabIndex:-1,style:{pointerEvents:h?void 0:"none"},children:[h&&i.jsx(I2,{ref:u,onFocusFromOutsideViewport:()=>{const y=v({tabbingDirection:"forwards"});N0(y)}}),i.jsx(Z4.Slot,{scope:n,children:i.jsx(Rt.ol,{tabIndex:-1,...o,ref:m})}),h&&i.jsx(I2,{ref:f,onFocusFromOutsideViewport:()=>{const y=v({tabbingDirection:"backwards"});N0(y)}})]})});gk.displayName=mk;var hk="ToastFocusProxy",I2=d.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...a}=e,o=qf(hk,n);return i.jsx(PC,{"aria-hidden":!0,tabIndex:0,...a,ref:t,style:{position:"fixed"},onFocus:s=>{const l=s.relatedTarget;!o.viewport?.contains(l)&&r()}})});I2.displayName=hk;var Zf="Toast",w7e="toast.swipeStart",_7e="toast.swipeMove",S7e="toast.swipeCancel",M7e="toast.swipeEnd",vk=d.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:a,onOpenChange:o,...s}=e,[l=!0,c]=Wi({prop:r,defaultProp:a,onChange:o});return i.jsx(Gi,{present:n||l,children:i.jsx(k7e,{open:l,...s,ref:t,onClose:()=>c(!1),onPause:ku(e.onPause),onResume:ku(e.onResume),onSwipeStart:rt(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:rt(e.onSwipeMove,u=>{const{x:f,y:p}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${f}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${p}px`)}),onSwipeCancel:rt(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:rt(e.onSwipeEnd,u=>{const{x:f,y:p}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${f}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${p}px`),c(!1)})})})});vk.displayName=Zf;var[T7e,E7e]=fk(Zf,{onClose(){}}),k7e=d.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:a,open:o,onClose:s,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:f,onSwipeMove:p,onSwipeCancel:m,onSwipeEnd:g,...h}=e,v=qf(Zf,n),[y,x]=d.useState(null),C=Or(t,R=>x(R)),w=d.useRef(null),_=d.useRef(null),E=a||v.duration,T=d.useRef(0),M=d.useRef(E),A=d.useRef(0),{onToastAdd:D,onToastRemove:j}=v,B=ku(()=>{y?.contains(document.activeElement)&&v.viewport?.focus(),s()}),N=d.useCallback(R=>{!R||R===1/0||(window.clearTimeout(A.current),T.current=new Date().getTime(),A.current=window.setTimeout(B,R))},[B]);d.useEffect(()=>{const R=v.viewport;if(R){const G=()=>{N(M.current),u?.()},X=()=>{const ae=new Date().getTime()-T.current;M.current=M.current-ae,window.clearTimeout(A.current),c?.()};return R.addEventListener(O2,X),R.addEventListener(N2,G),()=>{R.removeEventListener(O2,X),R.removeEventListener(N2,G)}}},[v.viewport,E,c,u,N]),d.useEffect(()=>{o&&!v.isClosePausedRef.current&&N(E)},[o,E,v.isClosePausedRef,N]),d.useEffect(()=>(D(),()=>j()),[D,j]);const H=d.useMemo(()=>y?_k(y):null,[y]);return v.viewport?i.jsxs(i.Fragment,{children:[H&&i.jsx(A7e,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:H}),i.jsx(T7e,{scope:n,onClose:B,children:bh.createPortal(i.jsx(Z4.ItemSlot,{scope:n,children:i.jsx(MN,{asChild:!0,onEscapeKeyDown:rt(l,()=>{v.isFocusedToastEscapeKeyDownRef.current||B(),v.isFocusedToastEscapeKeyDownRef.current=!1}),children:i.jsx(Rt.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":v.swipeDirection,...h,ref:C,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:rt(e.onKeyDown,R=>{R.key==="Escape"&&(l?.(R.nativeEvent),R.nativeEvent.defaultPrevented||(v.isFocusedToastEscapeKeyDownRef.current=!0,B()))}),onPointerDown:rt(e.onPointerDown,R=>{R.button===0&&(w.current={x:R.clientX,y:R.clientY})}),onPointerMove:rt(e.onPointerMove,R=>{if(!w.current)return;const G=R.clientX-w.current.x,X=R.clientY-w.current.y,ae=!!_.current,$=["left","right"].includes(v.swipeDirection),I=["left","up"].includes(v.swipeDirection)?Math.min:Math.max,O=$?I(0,G):0,Q=$?0:I(0,X),oe=R.pointerType==="touch"?10:2,ne={x:O,y:Q},ee={originalEvent:R,delta:ne};ae?(_.current=ne,pc(_7e,p,ee,{discrete:!1})):Iy(ne,v.swipeDirection,oe)?(_.current=ne,pc(w7e,f,ee,{discrete:!1}),R.target.setPointerCapture(R.pointerId)):(Math.abs(G)>oe||Math.abs(X)>oe)&&(w.current=null)}),onPointerUp:rt(e.onPointerUp,R=>{const G=_.current,X=R.target;if(X.hasPointerCapture(R.pointerId)&&X.releasePointerCapture(R.pointerId),_.current=null,w.current=null,G){const ae=R.currentTarget,$={originalEvent:R,delta:G};Iy(G,v.swipeDirection,v.swipeThreshold)?pc(M7e,g,$,{discrete:!0}):pc(S7e,m,$,{discrete:!0}),ae.addEventListener("click",I=>I.preventDefault(),{once:!0})}})})})}),v.viewport)})]}):null}),A7e=e=>{const{__scopeToast:t,children:n,...r}=e,a=qf(Zf,t),[o,s]=d.useState(!1),[l,c]=d.useState(!1);return I7e(()=>s(!0)),d.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:i.jsx(X8,{asChild:!0,children:i.jsx(PC,{...r,children:o&&i.jsxs(i.Fragment,{children:[a.label," ",n]})})})},P7e="ToastTitle",yk=d.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return i.jsx(Rt.div,{...r,ref:t})});yk.displayName=P7e;var O7e="ToastDescription",N7e=d.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return i.jsx(Rt.div,{...r,ref:t})});N7e.displayName=O7e;var Ck="ToastAction",xk=d.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?i.jsx(wk,{altText:n,asChild:!0,children:i.jsx(Y4,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${Ck}\`. Expected non-empty \`string\`.`),null)});xk.displayName=Ck;var bk="ToastClose",Y4=d.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,a=E7e(bk,n);return i.jsx(wk,{asChild:!0,children:i.jsx(Rt.button,{type:"button",...r,ref:t,onClick:rt(e.onClick,a.onClose)})})});Y4.displayName=bk;var wk=d.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...a}=e;return i.jsx(Rt.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...a,ref:t})});function _k(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),j7e(r)){const a=r.ariaHidden||r.hidden||r.style.display==="none",o=r.dataset.radixToastAnnounceExclude==="";if(!a)if(o){const s=r.dataset.radixToastAnnounceAlt;s&&t.push(s)}else t.push(..._k(r))}}),t}function pc(e,t,n,{discrete:r}){const a=n.originalEvent.currentTarget,o=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&a.addEventListener(e,t,{once:!0}),r?TN(a,o):a.dispatchEvent(o)}var Iy=(e,t,n=0)=>{const r=Math.abs(e.x),a=Math.abs(e.y),o=r>a;return t==="left"||t==="right"?o&&r>n:!o&&a>n};function I7e(e=()=>{}){const t=ku(e);EN(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function j7e(e){return e.nodeType===e.ELEMENT_NODE}function R7e(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const a=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||a?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function N0(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var L7e=pk,$7e=gk,D7e=vk,Sk=yk,F7e=xk,Mk=Y4;function Tk({children:e}){return i.jsxs(L7e,{children:[i.jsx(D7e,{className:"radix-state-closed:animate-hide radix-state-open:animate-slideIn popover grid grid-cols-[auto_max-content] items-center gap-x-4 rounded-lg bg-token-main-surface-primary p-4 shadow-xs [grid-template-areas:_'title_action'_'description_action'] sm:max-w-2xl",open:!0,children:e}),i.jsx($7e,{className:"fixed bottom-0 right-0 z-50 m-0 flex max-w-[100vw] list-none flex-col gap-4 p-6 outline-none"})]})}function B7e(e){return e!=null&&e in kN}const ko="compliance",U7e=60*60*24*30*6,H7e={serverPrimedAllowBrowserStorageValue:!0,showCookieConsentBanner:!1,isStorageComplianceEnabled:!1,ageVerificationDeadline:null,ageVerificationType:"none"},V7e={IT:"countdown",KR:"passive"};function G7e(e,t){const n=B7e(t),r=e.registration_country??"",a=r in OC&&e.age_verification.is_required;if(!n&&!a)return H7e;const o=n&&e.require_cookie_consent;return{serverPrimedAllowBrowserStorageValue:o?e.cookie_consent.analytics_cookies_accepted??!1:!0,showCookieConsentBanner:o&&e.cookie_consent.is_required,isStorageComplianceEnabled:o,ageVerificationDeadline:a?e.age_verification.remaining_seconds??null:null,ageVerificationType:a?V7e[r]??"none":"none"}}const Ek=Xa({queryKey:[ko],queryFn:async()=>await q.getCompliance().then(e=>{if(e.cookie_consent.is_required){const t=en.getCookie(Yt.AllowNonessential),n=e.cookie_consent.analytics_cookies_accepted;if(t===void 0&&n!=null)en.setCookie(Yt.AllowNonessential,n,{maxAge:U7e,domain:AN});else if(t!==n&&t!=null){const r={analytics_cookies_accepted:t};return q.updateCookieConsentCompliance(r),{...e,cookie_consent:{...e.cookie_consent,...r}}}}return e}).catch(e=>(e instanceof vt&&e.status===401&&I1(),{registration_country:null,require_cookie_consent:!1,age_verification:{is_required:!1},cookie_consent:{is_required:!1},terms_of_use:{is_required:!1,accepted_at:null}}))});function kk({enabled:e,select:t}){return ye({...Ek,enabled:e,select:t})}function K4(){const{country:e}=Zi(),t=e!=null&&e in OC;return{...ye({...Ek,enabled:t,select:r=>G7e(r,e)}),isEnabled:t}}function W7e(){const e=be();return Ve({mutationFn:async t=>await q.updateCookieConsentCompliance(t),onSuccess:()=>{e.refetchQueries({queryKey:[ko]})},onMutate:async t=>{await e.cancelQueries({queryKey:[ko]});const n=e.getQueryData([ko]);return e.setQueryData([ko],r=>{if(r!==void 0)return{...r,cookie_consent:{...r.cookie_consent,...t}}}),{previousValue:n}},onError:(t,n,r)=>{r!==void 0&&e.setQueryData([ko],r.previousValue)}})}function SIe({serverPrimedAllowBrowserStorageValue:e,enabled:t}){const{data:n,isLoading:r}=kk({enabled:t,select:a=>a.cookie_consent.analytics_cookies_accepted===!0});return r||!t?e:n??!1}const z7e=60*60*24;function q7e(e,t=!1){return lr()==null||t?"loading":!e||en.getCookie(Yt.AgeVerification)||e.ageVerificationDeadline==null||e.ageVerificationType==="none"?"hide":"show"}function Z7e({onClose:e}){const{data:{ageVerificationType:t,ageVerificationDeadline:n}={}}=K4();return t==="passive"?i.jsx(Y7e,{onClose:e}):t==="countdown"&&n!=null?i.jsx(K7e,{onClose:e,ageVerificationDeadline:n}):null}const Y7e=({onClose:e})=>{const{country:t}=Zi();return d.useEffect(()=>{te.addAction("privacy_policy.show_age_verification_modal",{country:t})},[t]),i.jsx(VM,{onClose:e,title:"OpenAI 서비스 이용 가능 연령기준을 확인해 주세요",description:i.jsx("div",{className:"whitespace-pre-wrap",children:i.jsxs("p",{children:["ChatGPT를 이용해주셔서 감사합니다. 대한민국의 법령상 요건을 준수하기 위해, OpenAI는 귀하가 OpenAI 서비스를 이용할 수 있는 나이인지 확인하여야 합니다. ChatGPT를 계속 이용하시려면, 귀하가 18세 이상이거나, 14세 이상이고 부모 또는 보호자의 허락을 받았음을 확인해 주세요.",i.jsx("br",{}),i.jsx("br",{}),"OpenAI의 연령기준 미달시"," ",i.jsx("a",{href:"https://privacy.openai.com/policies?action=ERASURE&modal=log-in",className:"underline",target:"_blank",rel:"noreferrer",children:"이 페이지에서 계정을 삭제해 주세요."})]})}),actionButton:i.jsx(re,{color:"primary",onClick:async()=>{await q.updateAgeVerification(),e()},children:"저는 OpenAI의 연령기준을 충족합니다"}),cancelButton:i.jsx(re,{as:"link",color:"secondary",to:"/auth/logout",children:"로그아웃"})})},K7e=({onClose:e,ageVerificationDeadline:t})=>{const n=t!=null?Math.floor(t/60/60/24):0;d.useEffect(()=>{z.logEvent("chatgpt_compliance_age_verification_seen"),S.logEvent(k.complianceAgeVerificationSeen)},[]);const{country:r}=Zi();return d.useEffect(()=>{te.addAction("privacy_policy.show_age_verification_countdown",{country:r})},[r]),i.jsxs(Tk,{children:[i.jsx(Sk,{className:"text-sm font-semibold [grid-area:_title]",children:i.jsx(b,{...jy.ageVerificationTitle,values:{deadline:n,learnMoreLink:a=>i.jsx("a",{href:"https://help.openai.com/en/articles/8411987-why-am-i-being-asked-to-verify-my-age",target:"_blank",rel:"noreferrer",className:"cursor-pointer font-normal underline",children:a})}})}),i.jsx(F7e,{altText:"Dismiss notification",asChild:!0,children:i.jsx(re,{color:"primary",size:"small",onClick:()=>{z.logEvent("chatgpt_compliance_age_verification_clicked"),S.logEvent(k.complianceAgeVerificationClicked),en.setCookie(Yt.AgeVerification,"true",{maxAge:z7e,path:"/"}),e(),Re.openModal(et.AgeVerificationInterstitial)},children:i.jsx(b,{...jy.startVerification})})}),i.jsx(Mk,{})]})},jy=V({ageVerificationTitle:{id:"ageVerificationBanner.title-v1",defaultMessage:"Please verify your age in the next {deadline, plural, =0 {# days} one {# day} other {# days}}. We are required to check if you're old enough to use ChatGPT. <learnMoreLink>Learn more</learnMoreLink>."},dismiss:{id:"ageVerificationBanner.dismiss",defaultMessage:"Dismiss"},startVerification:{id:"ageVerificationBanner.startVerification",defaultMessage:"Start verification"},modalTitle:{id:"ageVerificationModal.title",defaultMessage:"Please confirm you meet our age requirements"},modalDescription:{id:"ageVerificationModal.description.1",defaultMessage:"Thank you for using ChatGPT. To comply with legal requirements in Korea, we need to confirm that you’re old enough to use our service. To continue on ChatGPT, please confirm that you are 18+ or are 14+ and have your parent or guardian’s permission to use ChatGPT. <deleteAccountLink>If you do not meet our age requirements, please delete your account.</deleteAccountLink>"},modalLogout:{id:"ageVerificationModal.logOut",defaultMessage:"Log out"},modalAction:{id:"ageVerificationModal.actionButton",defaultMessage:"I meet OpenAI's age requirements"}});function Q7e({onClose:e}){const t=U(),n=Ne(),{openSettings:r}=zE(),a=W7e(),{session:o}=ih(),{data:{isStorageComplianceEnabled:s}={}}=K4(),{data:l,isLoading:c}=kk({enabled:!!(s&&o),select:u=>!u.cookie_consent.is_required});return d.useEffect(()=>{l===!0&&e()},[l,e]),c?null:i.jsx(J7e,{onReject:()=>{a.mutateAsync({analytics_cookies_accepted:!1},{onSuccess(){n.success(t.formatMessage(Lo.updateSuccess))},onError(){n.danger(t.formatMessage(Lo.updateFailure))}}),e()},onAccept:()=>{a.mutateAsync({analytics_cookies_accepted:!0},{onSuccess(){n.success(t.formatMessage(Lo.updateSuccess))},onError(){n.danger(t.formatMessage(Lo.updateFailure))}}),e()},children:i.jsx(b,{id:"CookieConsentBanner.authedDescription.0",defaultMessage:"We use cookies and similar technologies to deliver, maintain, improve our services and for security purposes. Check our <cookiePolicy>cookie policy</cookiePolicy> for details. Click 'Accept all' to let OpenAI and partners use cookies for these purposes. Click 'Reject all' to say no to cookies, except those that are strictly necessary. Choose <manageLink>manage cookies</manageLink> to change your preferences.",values:{cookiePolicy:u=>i.jsx(nb,{href:"https://openai.com/policies/cookie-policy",openNewTab:!0,children:u}),manageLink:u=>i.jsx(X7e,{onClick:()=>{r(Jd.DataControls)},children:u})}})})}function J7e({children:e,onAccept:t,onReject:n}){return d.useEffect(()=>{te.addAction("privacy_policy.show_cookie_consent_banner")},[]),i.jsxs(Tk,{children:[i.jsxs(Sk,{className:"text-sm font-semibold [grid-area:_title]",children:[e,i.jsxs("div",{className:"mt-2 flex justify-end gap-3",children:[i.jsx(re,{color:"secondary",size:"small",onClick:n,children:i.jsx(b,{...Lo.reject})}),i.jsx(re,{color:"secondary",size:"small",onClick:t,children:i.jsx(b,{...Lo.accept})})]})]}),i.jsx(Mk,{})]})}const X7e=he.button`underline font-normal text-green-600`,Lo=V({cookieConsentBannerTitle:{id:"CookieConsentBanner.title",defaultMessage:"We use cookies to provide, improve, and protect our services. Visit our <privacyPolicyLink>privacy policy</privacyPolicyLink> to learn more. You can manage your cookie preferences in your <settingsPanel>settings panel</settingsPanel>. <learnMoreLink>Learn more</learnMoreLink>."},reject:{id:"CookieConsentBanner.reject",defaultMessage:"Reject all"},accept:{id:"CookieConsentBanner.accept",defaultMessage:"Accept all"},updateSuccess:{id:"CookieConsentBanner.updateSuccess",defaultMessage:"Your cookie preferences were updated successfully"},updateFailure:{id:"CookieConsentBanner.updateFailure",defaultMessage:"Unable to update cookie preferences. Try again later."}}),Ak=()=>{const e=d.useRef(e6e()),{isUnauthenticated:t,isLoading:n}=Lt(),r=G4(),a=NC(),o=!n&&t&&a&&!e.current&&!r,s=d.useCallback(()=>{o&&(t6e(),S.logEventWithStatsig(k.meetChatGptModalShown,"chatgpt_meet_chatgpt_modal_shown"))},[o]),l=()=>{S.logEventWithStatsig(k.meetChatGptModalConfirmationButtonClicked,"chatgpt_meet_chatgpt_modal_confirmation_button_clicked")};return n?{onConfirmationButtonClick:l,onMount:s,state:"loading"}:o?{onConfirmationButtonClick:l,onMount:s,state:"show"}:{onConfirmationButtonClick:l,onMount:s,state:"hide"}};function e6e(){return!!localStorage.getItem(Ue.HasSeenMeetChatGptModal)}function t6e(){return localStorage.setItem(Ue.HasSeenMeetChatGptModal,"true")}const n6e=({onClose:e})=>{const{onConfirmationButtonClick:t,onMount:n,state:r}=Ak(),o=IC()?Ry.trainingDisclaimer:Ry.safetyAndAbuseDisclaimer;return d.useEffect(n,[n]),r!=="show"?null:i.jsx(Te,{isOpen:!0,noPadding:!0,onClose:_e,shouldIgnoreClickOutside:!0,showCloseButton:!1,size:"custom",type:"success",className:"max-w-md",children:i.jsxs("div",{className:"flex flex-col p-6 text-center",children:[i.jsx("div",{className:"-mb-4 -mt-5 self-center",children:i.jsx(bM,{})}),i.jsx("div",{className:"mb-2 text-2xl font-medium",children:i.jsx(b,{id:"fnY8gE",defaultMessage:"Meet ChatGPT"})}),i.jsx("div",{className:"mb-6 text-token-text-secondary",children:i.jsx(b,{id:"OdX5ix",defaultMessage:"AI that can help with brainstorming, researching, planning, and more. Just ask."})}),i.jsx(re,{color:"primary",size:"giant",className:"mb-4",onClick:()=>{t(),e()},children:i.jsx(b,{...Ct.gotItButtonText})}),i.jsx("div",{className:"text-xs text-token-text-tertiary",children:i.jsx(b,{...o,values:{learnMoreLink:s=>i.jsx("a",{className:"underline",href:"https://help.openai.com/en/articles/9737562",rel:"noreferrer",target:"_blank",children:s})}})})]})})},Ry=V({trainingDisclaimer:{id:"hebnC4",defaultMessage:"Chats may be reviewed and used to train our models. You can opt out in settings. <learnMoreLink>Learn more</learnMoreLink>"},safetyAndAbuseDisclaimer:{id:"KpKqVi",defaultMessage:"Chats may be reviewed for safety and abuse prevention. <learnMoreLink>Learn more</learnMoreLink>"}}),r6e=60*60*24*30*12;function Pk(){const{isLoading:e,data:t}=ye(Qx),n=d.useRef(a6e()),r=t?.email??null,a=d.useCallback(()=>{n.current&&t?S.logEventWithStatsig(k.punchOutAnonToAuthedModalShown,"chatgpt_punch_out_anon_to_authed_modal_shown"):console.warn("PunchOutAnonToAuthedModal is being mounted without a user and a token")},[t]),o=l=>{S.logEventWithStatsig(k.punchOutAnonToAuthedModalContinueButtonClicked,"chatgpt_punch_out_anon_to_authed_modal_continue_button_clicked"),Ly(),o6e(),window.location.href=`/continue_from_api?token=${l}`},s=()=>{Ly(),S.logEventWithStatsig(k.PunchOutAnonToAuthedModalCancelButtonClicked,"chatgpt_punch_out_anon_to_authed_modal_cancel_button_clicked")};return e?{email:null,onCancelButtonClick:s,onContinueButtonClick:o,onMount:a,state:"loading",token:null}:n.current&&r?{email:r,onCancelButtonClick:s,onContinueButtonClick:o,onMount:a,state:"show",token:n.current}:{email:null,onCancelButtonClick:s,onContinueButtonClick:o,onMount:a,state:"hide",token:null}}function a6e(){return en.getCookie(Yt.PunchOutRequireAnonToAuthedToken)??null}function Ly(){return en.deleteCookie(Yt.PunchOutRequireAnonToAuthedToken)}function o6e(){en.setCookie(Yt.PunchOutAnonToAuthedEnabled,"true",{maxAge:r6e})}const s6e=({onClose:e})=>{const{onCancelButtonClick:t,onContinueButtonClick:n,onMount:r,token:a,email:o,state:s}=Pk(),c=ua()?"medium":"large";return d.useEffect(r,[r]),s!=="show"?null:i.jsx(Te,{isOpen:!0,noPadding:!0,onClose:_e,shouldIgnoreClickOutside:!0,showCloseButton:!1,size:"custom",type:"success",className:"max-w-md",children:i.jsxs("div",{className:"flex flex-col p-6",children:[i.jsx("div",{className:"mb-2 text-center text-xl font-medium md:text-left",children:i.jsx(b,{id:"qAel0I",defaultMessage:"Always open in ChatGPT?"})}),i.jsx("div",{className:"mb-6 text-center text-token-text-secondary md:text-left",children:i.jsx(b,{id:"9Pb+Og",defaultMessage:"Chats you open from Siri will be saved in your account <emailContainer>({email})</emailContainer>.",values:{emailContainer:u=>i.jsx("span",{className:"font-medium",children:u}),email:o}})}),i.jsxs("div",{className:"flex flex-col gap-3 md:flex-row-reverse md:gap-2 md:self-end",children:[i.jsx(re,{color:"primary",size:c,onClick:()=>n(a),children:i.jsx(b,{...Ct.continueButtonText})}),i.jsx(re,{color:"secondary",size:c,onClick:()=>{t(),e()},children:i.jsx(b,{...Ct.cancelButtonText})})]})]})})},i6e=({onContinue:e,scope:t})=>{const n=U(),r=s2e();return i.jsx(Te,{isOpen:!0,onClose:_e,type:"success",title:n.formatMessage(Go.chatgptTitle,{workspaceName:r}),size:"custom",noPadding:!0,className:"max-w-2xl",children:i.jsx(dk,{onClose:()=>{e()},scope:t})})},l6e=({onContinue:e,onSkip:t,isEduPlan:n})=>{const r=U();return i.jsx(Te,{isOpen:!0,onClose:_e,type:"success",title:r.formatMessage(Go.primaryRoleTitle),size:"custom",className:"max-w-lg",children:i.jsx(Ok,{options:n?f6e:d6e,onSkip:t,onSubmit:e})})},c6e=({onContinue:e,onSkip:t,isEduPlan:n})=>{const r=U();return i.jsx(Te,{isOpen:!0,onClose:_e,type:"success",title:r.formatMessage(Go.workTypeTitle),size:"custom",className:"max-w-lg",children:i.jsx(Ok,{options:n?m6e:p6e,onSkip:t,onSubmit:e,multiSelect:!0})})};function Ok({options:e,onSkip:t=_e,onSubmit:n=_e,multiSelect:r=!1}){const a=U(),[o,s]=d.useState([]);function l(u,f){const p=u.indexOf(f);return p===-1?[...u,f]:[...u.slice(0,p),...u.slice(p+1)]}const c=d.useCallback(u=>{const f=u.currentTarget.dataset.value??"";r?s(l(o,f)):n(f)},[n,o,s,r]);return i.jsxs("div",{children:[r&&i.jsx("p",{className:"mx-2 text-sm text-token-text-tertiary",children:a.formatMessage(Go.selectAll)}),i.jsx("div",{className:"flex flex-col items-center justify-center",children:i.jsx("div",{className:"flex-wrap space-y-4",children:e.map(u=>i.jsx(re,{onClick:c,color:o.includes(u.id)?"primary":"secondary",size:"medium",className:"mx-2","data-value":u.id,children:i.jsx(b,{...u.displayValue})},u.id))})}),i.jsxs("div",{className:"mt-4 flex flex-row justify-end",children:[i.jsx(sr,{title:a.formatMessage(Go.skipButton),onClick:t}),r&&i.jsx(sr,{title:a.formatMessage(Go.continueButton),onClick:()=>{n(o)},disabled:o.length===0,color:"primary",className:"ml-4"})]})]})}function u6e({onClose:e}){const{setHasSeenOnboarding:t}=z4(),[n,r]=d.useState(0),[a,o]=d.useState({role:void 0,departments:void 0}),s=Pn(aa.workspaceId),l=Pn(aa.isEduPlan),u=cn()?.id,f=()=>{z.logEvent("chatgpt_biz_onboarding_skipped"),S.logEvent(k.bizOnboardingSkipped),e(),t()};switch(n){case 0:return i.jsx(i6e,{scope:zf.Workspace,onContinue:()=>{r(1)}});case 1:return i.jsx(l6e,{onContinue:p=>{o(m=>({...m,role:p})),r(2)},onSkip:f,isEduPlan:l});case 2:return i.jsx(c6e,{onContinue:p=>{const m={...a,departments:p};e(),t(),z.logEvent("chatgpt_biz_onboarding_completed"),S.logEvent(k.bizOnboardingCompleted),q.updateWorkspaceUserOnboardingInformation(s,u,m)},onSkip:f,isEduPlan:l});default:return i.jsx(i.Fragment,{})}}const Go=V({chatgptTitle:{id:"onboarding.chatgptTitle.0",defaultMessage:"Welcome to the {workspaceName} workspace"},primaryRoleTitle:{id:"onboarding.primaryRoleTitle",defaultMessage:"What's your primary role?"},workTypeTitle:{id:"onboarding.workTypeTitle",defaultMessage:"What kind of work do you do?"},selectAll:{id:"onboarding.selectAll",defaultMessage:"Select all that apply"},skipButton:{id:"onboarding.skipButton",defaultMessage:"Skip"},continueButton:{id:"onboarding.continueButton",defaultMessage:"Continue"}}),gt=V({marketing:{id:"onboarding.departments.marketing",defaultMessage:"Marketing"},analytics:{id:"onboarding.departments.analytics",defaultMessage:"Data or Analytics"},product:{id:"onboarding.departments.product",defaultMessage:"Product Management"},comms:{id:"onboarding.departments.comms",defaultMessage:"Communications"},finance:{id:"onboarding.departments.finance",defaultMessage:"Finance or Accounting"},customer_experience:{id:"onboarding.departments.customer_experience",defaultMessage:"Customer Experience"},project_management:{id:"onboarding.departments.project_management",defaultMessage:"Project or Program Management"},engineering:{id:"onboarding.departments.engineering",defaultMessage:"Engineering"},education_professional:{id:"onboarding.departments.education_professional",defaultMessage:"Education Professional"},design:{id:"onboarding.departments.design",defaultMessage:"Design"},administrative:{id:"onboarding.departments.administrative",defaultMessage:"Administrative Assistant"},partnerships:{id:"onboarding.departments.partnerships",defaultMessage:"Partnerships"},it:{id:"onboarding.departments.it",defaultMessage:"Information Technology (IT)"},ops:{id:"onboarding.departments.ops",defaultMessage:"Operations"},human_resources:{id:"onboarding.departments.human_resources",defaultMessage:"Human Resources"},research:{id:"onboarding.departments.research",defaultMessage:"Research & Development"},sales:{id:"onboarding.departments.sales",defaultMessage:"Sales"},legal:{id:"onboarding.departments.legal",defaultMessage:"Legal"},healthcare:{id:"onboarding.departments.healthcare",defaultMessage:"Healthcare Professional"},other:{id:"onboarding.departments.other",defaultMessage:"Other"}}),Bt=V({engineering:{id:"onboarding.edu_departments.engineering",defaultMessage:"Engineering"},math:{id:"onboarding.edu_departments.math",defaultMessage:"Mathematics"},applied_sciences:{id:"onboarding.edu_departments.applied_sciences",defaultMessage:"Applied Sciences"},finance:{id:"onboarding.edu_departments.finance",defaultMessage:"Finance or Accounting"},health:{id:"onboarding.edu_departments.health",defaultMessage:"Health or Medical"},law:{id:"onboarding.edu_departments.law",defaultMessage:"Law"},business:{id:"onboarding.edu_departments.business",defaultMessage:"Business"},social:{id:"onboarding.edu_departments.social",defaultMessage:"Social Sciences"},liberal_art:{id:"onboarding.edu_departments.liberal_art",defaultMessage:"Liberal Arts"},fine_art:{id:"onboarding.edu_departments.fine_art",defaultMessage:"Fine Arts"},linguistics:{id:"onboarding.edu_departments.linguistics",defaultMessage:"Linguistics"},teaching:{id:"onboarding.edu_departments.teaching",defaultMessage:"Teaching"},dev:{id:"onboarding.edu_departments.dev",defaultMessage:"Research & Development"},campus_ops:{id:"onboarding.edu_departments.campus_ops",defaultMessage:"Campus Operations"},it:{id:"onboarding.edu_departments.it",defaultMessage:"Information Technology (IT)"},other:{id:"onboarding.edu_departments.other",defaultMessage:"Other"}}),Br=V({team_member:{id:"onboarding.role.team_member",defaultMessage:"Team Member/ Individual Contributor"},manager:{id:"onboarding.role.manager",defaultMessage:"Manager"},student:{id:"onboarding.role.student",defaultMessage:"Student"},executive:{id:"onboarding.role.executive",defaultMessage:"Executive"},director:{id:"onboarding.role.director",defaultMessage:"Director"},business_owner:{id:"onboarding.role.business_owner",defaultMessage:"Business Owner"},freelancer:{id:"onboarding.role.freelancer",defaultMessage:"Freelancer"},other:{id:"onboarding.role.other",defaultMessage:"Other"}}),_o=V({student:{id:"onboarding.edu_role.student",defaultMessage:"Student"},instructional_staff:{id:"onboarding.edu_role.instructional_staff",defaultMessage:"Instructional Staff"},researcher:{id:"onboarding.edu_role.researcher",defaultMessage:"Researcher"},admin:{id:"onboarding.edu_role.admin",defaultMessage:"Administration"},alumni:{id:"onboarding.edu_role.alumni",defaultMessage:"Alumni"},other:{id:"onboarding.edu_role.other",defaultMessage:"Other"}}),d6e=[{id:"team_member",displayValue:Br.team_member},{id:"manager",displayValue:Br.manager},{id:"student",displayValue:Br.student},{id:"executive",displayValue:Br.executive},{id:"director",displayValue:Br.director},{id:"business_owner",displayValue:Br.business_owner},{id:"freelancer",displayValue:Br.freelancer},{id:"other",displayValue:Br.other}],f6e=[{id:"student",displayValue:_o.student},{id:"instructional_staff",displayValue:_o.instructional_staff},{id:"researcher",displayValue:_o.researcher},{id:"admin",displayValue:_o.admin},{id:"alumni",displayValue:_o.alumni},{id:"other",displayValue:_o.other}],p6e=[{id:"marketing",displayValue:gt.marketing},{id:"analytics",displayValue:gt.analytics},{id:"product",displayValue:gt.product},{id:"comms",displayValue:gt.comms},{id:"engineering",displayValue:gt.engineering},{id:"education_professional",displayValue:gt.education_professional},{id:"finance",displayValue:gt.finance},{id:"customer_experience",displayValue:gt.customer_experience},{id:"project_management",displayValue:gt.project_management},{id:"design",displayValue:gt.design},{id:"administrative",displayValue:gt.administrative},{id:"it",displayValue:gt.it},{id:"ops",displayValue:gt.ops},{id:"human_resources",displayValue:gt.human_resources},{id:"research",displayValue:gt.research},{id:"sales",displayValue:gt.sales},{id:"partnerships",displayValue:gt.partnerships},{id:"legal",displayValue:gt.legal},{id:"healthcare",displayValue:gt.healthcare},{id:"other",displayValue:gt.other}],m6e=[{id:"engineering",displayValue:Bt.engineering},{id:"math",displayValue:Bt.math},{id:"applied_sciences",displayValue:Bt.applied_sciences},{id:"finance",displayValue:Bt.finance},{id:"health",displayValue:Bt.health},{id:"law",displayValue:Bt.law},{id:"business",displayValue:Bt.business},{id:"social",displayValue:Bt.social},{id:"liberal_art",displayValue:Bt.liberal_art},{id:"fine_art",displayValue:Bt.fine_art},{id:"linguistics",displayValue:Bt.linguistics},{id:"teaching",displayValue:Bt.teaching},{id:"dev",displayValue:Bt.dev},{id:"campus_ops",displayValue:Bt.campus_ops},{id:"it",displayValue:Bt.it},{id:"other",displayValue:Bt.other}],g6e=({onClose:e})=>{const t=U(),n=Pn(aa.isBusinessWorkspace),r=Pn(o=>o.currentWorkspace),a=n?t.formatMessage($y.workspaceWelcome,{workspaceName:r?.name}):"ChatGPT";return i.jsx(Te,{isOpen:!0,onClose:_e,type:"success",title:a,size:"custom",noPadding:!0,className:"max-w-3xl",description:t.formatMessage($y.personalOnboardingSubheading),children:i.jsx(dk,{onClose:e,scope:zf.Personal})})};function MIe({clientThreadId:e}){const[t,n]=d.useState(0),{hasSeenOnboardingDate:r}=z4(),{hasSeenTeamOwnerOnboardingDate:a}=uk(),o=Pn(aa.isBusinessWorkspace),s=Se(),[l,c]=d.useState(!1),{data:u,isPending:f,isEnabled:p}=K4(),m=q7e(u,f&&p),g=EC(),h=TC(),v=hh(),y=Ba(()=>vn.getThread(e)),x=PN(e)||!y,C=F.getConversationOrigin(e),{data:w,isError:_}=uh(),E=w!=null,T=w&&w?.accountItems.length>1&&w.currentAccountId==null,M=w?.accountItems.some(fe=>fe.isPersonalAccount()),A=!!w?.accountItems&&w.accountItems.length>0&&w.accountItems.every(({canAccessWithCurrentSession:fe})=>!fe),{eligible:D,isLoading:j}=ak(),{value:B}=$t("1542198993"),{punchOutRequireLoginInfo:N}=tk(),{state:H}=Pk(),{isOpen:R,isLoading:G}=XE(),{isOpen:X,isLoading:ae}=ok(),{isOpen:$,isLoading:I}=sk(),{isOpen:O,isLoading:Q}=ek(),{state:oe}=Ak(),ne=d.useMemo(()=>[{Component:H3e,getModalState:()=>N?"show":"hide",isDeferrable:!1},{Component:s6e,getModalState:()=>H,isDeferrable:!1},{Component:n6e,getModalState:()=>oe,isDeferrable:!1},{Component:F3e,getModalState:()=>G||x?"loading":C===F9.APPLE?"hide":R?"show":"hide",isDeferrable:!1},{Component:B3e,getModalState:()=>Q||x?"loading":C===F9.APPLE?"hide":O?"show":"hide",isDeferrable:!1},{Component:g6e,getModalState:()=>o?"hide":r===null?"loading":r===!1?"show":"hide",isDeferrable:!0},{Component:v7e,getModalState:()=>_?"hide":T?"show":E?"hide":"loading",isDeferrable:!1},{Component:s7e,getModalState:()=>g!==null?"show":_||E?"hide":"loading",isDeferrable:!1},{Component:a7e,getModalState:()=>h!==null?"show":_||E?"hide":"loading",isDeferrable:!1},{Component:r7e,getModalState:()=>v!=null?"show":_||E?"hide":"loading",isDeferrable:!1},{Component:o7e,getModalState:()=>E?A?"show":"hide":"loading",isDeferrable:!1},{Component:Q3e,getModalState:()=>ae?"loading":X?"show":"hide",isDeferrable:!1},{Component:t7e,getModalState:()=>I?"loading":$?"show":"hide",isDeferrable:!1},{Component:Q7e,getModalState:()=>"hide",isDeferrable:!1},{Component:m7e,getModalState:()=>!s?.isTeam()||!s?.isOwnerOfAccount()||!M?"hide":!E||a===null?"loading":a===!1?"show":"hide",isDeferrable:!1},{Component:u6e,getModalState:()=>o?r===null?"loading":r===!1?"show":"hide":"hide",isDeferrable:!0},{Component:q3e,getModalState:()=>j?"loading":D&&B?"show":"hide",isDeferrable:!1},{Component:Z7e,getModalState:()=>m,isDeferrable:!1}].filter(fe=>!(fe.isDeferrable&&l)),[N,H,v,E,r,a,M,o,_,g,h,s,A,T,m,l,B,D,j,R,G,O,Q,oe,ae,X,$,I,C,x]);d.useEffect(()=>{if(ne[t]&&ne[t].getModalState()==="hide"){const fe=ne.findIndex(Ze=>Ze.getModalState()!=="hide");n(fe)}},[t,ne]);const ee=ne[t],Y=ee?.getModalState()==="show";if(d.useEffect(()=>{const fe=xe.getState().activeModals.has(et.BlockingInitialComponent);Y!==fe&&(Y?Re.openModal(et.BlockingInitialComponent):Re.closeModal(et.BlockingInitialComponent))},[Y]),ee==null)return i.jsx("span",{"data-testid":"blocking-initial-modals-done",className:"hidden"});const W=ee.getModalState();if(W==="loading")return null;W==="hide"&&n(fe=>fe+1);const de=ne[t].Component;return i.jsx(de,{onClose:()=>{c(!0),n(fe=>fe+1)}})}const $y=V({workspaceWelcome:{id:"BlockingInitialModals.workspaceWelcome",defaultMessage:"Welcome to the {workspaceName} workspace"},personalOnboardingSubheading:{id:"BlockingInitialModals.personalOnboardingSubheading",defaultMessage:"Tips for getting started"}});function h6e(e){switch(e){case Tc.SSOMismatch:return{title:Hr.cannotAccessWorkspace,description:Hr.ssoMismatchDescription};case Tc.RequireSSOLogin:return{title:Hr.cannotAccessWorkspace,description:Hr.requireSSODescription};case Tc.UnexpectedSSOLogin:return{title:Hr.cannotAccessWorkspace,description:Hr.unexpectedSSODescription}}}const v6e=2e3;function TIe(){const e=ON(),t=Se(),n=U(),r=un(),a=hh(),o=ye({...q8(),select:()=>null}),s=Se(),l=e?.errorCode,c=e!=null&&o.isFetched&&a==null&&!!s,[u,f]=d.useState(!1);d.useEffect(()=>{c&&setTimeout(()=>{f(!0)},v6e)},[c]);const p=l===Tc.UnexpectedSSOLogin,m=c&&(p?u:!0),g=qT();if(d.useEffect(()=>{if(!l||!m)return;const C=g?.split("@")?.[1];te.addError(`SSO Catch All Modal: ${l} for ${g??"unknown user"}`,{sso_error:l,email:g,email_hostname:C})},[l,m,g]),!m)return null;const h=e?.accountName??t?.name??n.formatMessage(Hr.workspacePlaceholder),v=()=>{const C=t?.ssoConnectionName?{connection:t.ssoConnectionName}:void 0;r({authType:"login",additionalAuthParams:C})},{title:y,description:x}=h6e(e.errorCode);return i.jsx(Te,{isOpen:!0,onClose:_e,type:"warning",size:"custom",className:"max-w-3xl",title:i.jsx("div",{className:"flex flex-col",children:i.jsx("div",{className:"text-lg",children:i.jsx(b,{...y})})}),icon:so,primaryButton:i.jsx(Ye.Button,{onClick:v,color:"primary",children:i.jsx(b,{...Hr.authenticateNotice,values:{workspaceName:h}})}),secondaryButton:i.jsx(Ye.Button,{onClick:()=>{S.logLogOutButtonClicked({location:"sso_catch_all_modal"}),I1()},children:i.jsx(b,{id:"KlMYRb",defaultMessage:"Log out"})}),children:i.jsx("div",{className:"flex flex-col space-y-4",children:i.jsx("div",{children:i.jsx(b,{...x})})})})}const Hr=V({authenticateNotice:{id:"zF1QJE",defaultMessage:"Authenticate to {workspaceName}"},workspacePlaceholder:{id:"IIY4N4",defaultMessage:"this workspace"},cannotAccessWorkspace:{id:"IlXHdd",defaultMessage:"Cannot Access This Workspace"},ssoMismatchDescription:{id:"xSuU9q",defaultMessage:"The SSO you logged in with does not match the SSO registered for this workspace. Try re-authenticating with that SSO."},unexpectedSSODescription:{id:"uSkRZx",defaultMessage:"This workspace doesn't have an SSO associated with it, but you're trying to log in with SSO. Try logging in with social authentication (i.e. Google) or with your password."},requireSSODescription:{id:"akKMy1",defaultMessage:"Your organization requires that you log in with SSO to access this workspace"}}),EIe="temporary-chat",y6e=e=>d.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},d.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3 8C3 7.44772 3.44772 7 4 7H20C20.5523 7 21 7.44772 21 8C21 8.55228 20.5523 9 20 9H4C3.44772 9 3 8.55228 3 8ZM3 16C3 15.4477 3.44772 15 4 15H14C14.5523 15 15 15.4477 15 16C15 16.5523 14.5523 17 14 17H4C3.44772 17 3 16.5523 3 16Z",fill:"currentColor"})),C6e=(...e)=>t=>{e.forEach(n=>{if(typeof n=="function")n(t);else if(n){const r=n;r.current=t}})},Q4=d.createContext(void 0);function kIe(){return d.useContext(Q4).threadContentScrollContainerElementRef}function AIe(){return Ui(d.useContext(Q4).footerRootContainerElementRef,"footerRootContainerElementRef")}function x6e({value:e,children:t}){return i.jsx(Q4.Provider,{value:e,children:t})}function b6e(){return i.jsx("div",{slot:"keyboard"})}function w6e(e){const{anchor:t,children:n,className:r,contentClassName:a,leading:o,primaryScrollContainer:s,ref:l,style:c,trailing:u,trackLeading:f,trackTrailing:p,...m}=e,{name:g}=m,[h,v]=ci(m),[y,x]=ci({disableSizeTracking:!f,name:`${g}-leading`,track:"height"}),[C,w]=ci({disableSizeTracking:!p,name:`${g}-trailing`,track:"height"}),_=t==="vertical"||t==="bottom",E=g??"default",T=null,M=d.useRef(null),A=d.useMemo(()=>({threadContentScrollContainerElementRef:T,footerRootContainerElementRef:M}),[]),{value:D}=$t("2128055372");return i.jsxs("section",{className:P(B9.screen,"h-[var(--screen-height-override,calc(var(--cqh-full)-var(--screen-height-offset,0px)))]","keyboard-open:h-[var(--screen-height-override,calc(var(--cqh-full)-env(keyboard-inset-height,0px)-var(--screen-height-offset,0px)-var(--force-redraw,0px)))]",r,{[B9.cssOnlyKeyboard]:D}),"data-testid":`screen-${E}`,"data-primary-scroller":s,"screen-anchor":t,ref:C6e(v,l),style:{...c,...h,...y,...C,container:g?`${g} / inline-size`:void 0,minWidth:`min(var(--screen-${E}_min-width), 100cqw)`},children:[i.jsx("div",{slot:"leading",ref:x,children:o}),i.jsx("div",{slot:"content",className:a,children:i.jsx(x6e,{value:A,children:n})}),i.jsx("div",{slot:"trailing",ref:j=>{w(j),M.current=j},children:u}),_&&i.jsx(b6e,{})]})}function _6e(e){const{className:t,htmlFor:n,icon:r,label:a,onClick:o,onActivate:s,style:l,tooltipSideOffset:c,tabIndex:u=0}=e;return i.jsx(ot,{label:a,className:"inline-flex",interactive:!1,sideOffset:c,children:i.jsx("label",{className:P(t,Eu.wrapper),style:l,htmlFor:n,onClick:o,tabIndex:u,onKeyPress:f=>{(f.key==="Enter"||f.key===" ")&&s?.(f)},children:i.jsxs("span",{className:Eu.label,children:[i.jsx("span",{className:"sr-only",children:a}),r]})})})}function j2({id:e,name:t,checked:n,onChange:r=_e}){return i.jsx("input",{className:"sr-only",checked:n,id:e,name:t,type:"checkbox",readOnly:!0,onChange:r})}function J4({title:e,handleClose:t,children:n}){const r=Yi(),{closeThreadSidebar:a}=la();return i.jsxs(i.Fragment,{children:[i.jsx(w6e,{anchor:"top",className:"relative flex-1 border-l border-l-token-border-sharp",name:"threadFlyOut",trackLeading:!0,leading:i.jsx(K$,{name:"search-sources-header",type:"primary",className:`flex min-h-[calc(var(--screen-thread-header-min-height,60px)+1px)] items-center ${e?"":"justify-end p-1.5"} !bg-transparent`,children:e?i.jsxs("div",{className:"mb-5 flex h-[calc(var(--screen-thread-header-min-height,60px)+1px)] items-center justify-between border-b border-token-border-sharp bg-token-main-surface-primary px-6 py-3",children:[i.jsx("span",{className:"text-[17px] font-medium",children:e}),i.jsx(zo,{className:"-mr-3.5 bg-token-main-surface-primary",onClick:t})]}):i.jsx("div",{className:"bg-token-main-surface-primary p-1",children:i.jsx(zo,{onClick:t})})}),children:n}),i.jsx(j2,{id:Fn.ThreadSidebarOpenOrClosed,name:Fn.ThreadSidebarOpenOrClosed,checked:r,onChange:o=>{o.currentTarget.checked||a({})}})]})}const S6e={strong:e=>{const{node:t,children:n,...r}=e;return i.jsx("strong",{...r,className:P(r.className,"font-semibold text-token-text-primary"),children:n})},p:e=>{const{node:t,children:n,...r}=e;return i.jsx("p",{...r,className:P(r.className,"text-sm","!important has-[strong]:mb-0 [&:not(:has(strong))]:mb-[18px]"),children:n})}};function PIe({clientThreadId:e}){const{clientThreadId:t,currentGroupedMessageIndex:n,turnIndex:r=-1}=j1("summarizer")??{},a=g1(e),o=NN(e,r,a),s=Yi(),{closeThreadSidebar:l}=la(),c=d.useCallback(()=>{l({clientThreadId:e})},[l,e]),{messages:u}=o??{},f=u?Qfe(u):void 0,p=n!==void 0&&f?f[n]:void 0,m=p&&p.type===Ce.a8km123?p.messages[0].message:void 0,g=m?Mr(m):"",h=d.useMemo(()=>o?IN.getRequestIdFromConversationTurn(o):"",[o]),v=jN({clientThreadId:e,conversationLeafId:a}),y=Hi(h),x=h&&y&&!v;return!o||!s||!m||t!==e?null:i.jsx("div",{className:"!bg-token-main-surface-primary",children:i.jsx(J4,{title:i.jsx(b,{id:"sidebar-details",defaultMessage:"Details"}),handleClose:c,children:g?i.jsx("div",{id:"sidebar-summarizer",className:"bg-token-main-surface-primary px-6",children:i.jsx(kf,{componentOverrides:S6e,className:"not-prose",children:g})}):i.jsx("div",{className:"flex h-full items-center justify-center bg-token-main-surface-primary px-10 text-token-text-tertiary",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-lg",children:i.jsx(b,{id:"chatScreenSummarizerFlyout.noDetailsAvailable",defaultMessage:"No details available"})}),!x&&i.jsx("div",{className:"mt-2 text-base",children:i.jsx(b,{id:"chatScreenSummarizerFlyout.noSummaryAvailable",defaultMessage:"Occasionally, the model generates the best response without anything to summarize."})})]})})})})}function OIe(){const{value:e}=$t("3435450078");return e}var Nk={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),function(t){t.Unidentified="Unidentified",t.Alt="Alt",t.AltGraph="AltGraph",t.CapsLock="CapsLock",t.Control="Control",t.Fn="Fn",t.FnLock="FnLock",t.Hyper="Hyper",t.Meta="Meta",t.NumLock="NumLock",t.ScrollLock="ScrollLock",t.Shift="Shift",t.Super="Super",t.Symbol="Symbol",t.SymbolLock="SymbolLock",t.Enter="Enter",t.Tab="Tab",t.ArrowDown="ArrowDown",t.ArrowLeft="ArrowLeft",t.ArrowRight="ArrowRight",t.ArrowUp="ArrowUp",t.End="End",t.Home="Home",t.PageDown="PageDown",t.PageUp="PageUp",t.Backspace="Backspace",t.Clear="Clear",t.Copy="Copy",t.CrSel="CrSel",t.Cut="Cut",t.Delete="Delete",t.EraseEof="EraseEof",t.ExSel="ExSel",t.Insert="Insert",t.Paste="Paste",t.Redo="Redo",t.Undo="Undo",t.Accept="Accept",t.Again="Again",t.Attn="Attn",t.Cancel="Cancel",t.ContextMenu="ContextMenu",t.Escape="Escape",t.Execute="Execute",t.Find="Find",t.Finish="Finish",t.Help="Help",t.Pause="Pause",t.Play="Play",t.Props="Props",t.Select="Select",t.ZoomIn="ZoomIn",t.ZoomOut="ZoomOut",t.BrightnessDown="BrightnessDown",t.BrightnessUp="BrightnessUp",t.Eject="Eject",t.LogOff="LogOff",t.Power="Power",t.PowerOff="PowerOff",t.PrintScreen="PrintScreen",t.Hibernate="Hibernate",t.Standby="Standby",t.WakeUp="WakeUp",t.AllCandidates="AllCandidates",t.Alphanumeric="Alphanumeric",t.CodeInput="CodeInput",t.Compose="Compose",t.Convert="Convert",t.Dead="Dead",t.FinalMode="FinalMode",t.GroupFirst="GroupFirst",t.GroupLast="GroupLast",t.GroupNext="GroupNext",t.GroupPrevious="GroupPrevious",t.ModeChange="ModeChange",t.NextCandidate="NextCandidate",t.NonConvert="NonConvert",t.PreviousCandidate="PreviousCandidate",t.Process="Process",t.SingleCandidate="SingleCandidate",t.HangulMode="HangulMode",t.HanjaMode="HanjaMode",t.JunjaMode="JunjaMode",t.Eisu="Eisu",t.Hankaku="Hankaku",t.Hiragana="Hiragana",t.HiraganaKatakana="HiraganaKatakana",t.KanaMode="KanaMode",t.KanjiMode="KanjiMode",t.Katakana="Katakana",t.Romaji="Romaji",t.Zenkaku="Zenkaku",t.ZenkakuHanaku="ZenkakuHanaku",t.F1="F1",t.F2="F2",t.F3="F3",t.F4="F4",t.F5="F5",t.F6="F6",t.F7="F7",t.F8="F8",t.F9="F9",t.F10="F10",t.F11="F11",t.F12="F12",t.F13="F13",t.F14="F14",t.F15="F15",t.F16="F16",t.F17="F17",t.F18="F18",t.F19="F19",t.F20="F20",t.Soft1="Soft1",t.Soft2="Soft2",t.Soft3="Soft3",t.Soft4="Soft4",t.AppSwitch="AppSwitch",t.Call="Call",t.Camera="Camera",t.CameraFocus="CameraFocus",t.EndCall="EndCall",t.GoBack="GoBack",t.GoHome="GoHome",t.HeadsetHook="HeadsetHook",t.LastNumberRedial="LastNumberRedial",t.Notification="Notification",t.MannerMode="MannerMode",t.VoiceDial="VoiceDial",t.ChannelDown="ChannelDown",t.ChannelUp="ChannelUp",t.MediaFastForward="MediaFastForward",t.MediaPause="MediaPause",t.MediaPlay="MediaPlay",t.MediaPlayPause="MediaPlayPause",t.MediaRecord="MediaRecord",t.MediaRewind="MediaRewind",t.MediaStop="MediaStop",t.MediaTrackNext="MediaTrackNext",t.MediaTrackPrevious="MediaTrackPrevious",t.AudioBalanceLeft="AudioBalanceLeft",t.AudioBalanceRight="AudioBalanceRight",t.AudioBassDown="AudioBassDown",t.AudioBassBoostDown="AudioBassBoostDown",t.AudioBassBoostToggle="AudioBassBoostToggle",t.AudioBassBoostUp="AudioBassBoostUp",t.AudioBassUp="AudioBassUp",t.AudioFaderFront="AudioFaderFront",t.AudioFaderRear="AudioFaderRear",t.AudioSurroundModeNext="AudioSurroundModeNext",t.AudioTrebleDown="AudioTrebleDown",t.AudioTrebleUp="AudioTrebleUp",t.AudioVolumeDown="AudioVolumeDown",t.AudioVolumeMute="AudioVolumeMute",t.AudioVolumeUp="AudioVolumeUp",t.MicrophoneToggle="MicrophoneToggle",t.MicrophoneVolumeDown="MicrophoneVolumeDown",t.MicrophoneVolumeMute="MicrophoneVolumeMute",t.MicrophoneVolumeUp="MicrophoneVolumeUp",t.TV="TV",t.TV3DMode="TV3DMode",t.TVAntennaCable="TVAntennaCable",t.TVAudioDescription="TVAudioDescription",t.TVAudioDescriptionMixDown="TVAudioDescriptionMixDown",t.TVAudioDescriptionMixUp="TVAudioDescriptionMixUp",t.TVContentsMenu="TVContentsMenu",t.TVDataService="TVDataService",t.TVInput="TVInput",t.TVInputComponent1="TVInputComponent1",t.TVInputComponent2="TVInputComponent2",t.TVInputComposite1="TVInputComposite1",t.TVInputComposite2="TVInputComposite2",t.TVInputHDMI1="TVInputHDMI1",t.TVInputHDMI2="TVInputHDMI2",t.TVInputHDMI3="TVInputHDMI3",t.TVInputHDMI4="TVInputHDMI4",t.TVInputVGA1="TVInputVGA1",t.TVMediaContext="TVMediaContext",t.TVNetwork="TVNetwork",t.TVNumberEntry="TVNumberEntry",t.TVPower="TVPower",t.TVRadioService="TVRadioService",t.TVSatellite="TVSatellite",t.TVSatelliteBS="TVSatelliteBS",t.TVSatelliteCS="TVSatelliteCS",t.TVSatelliteToggle="TVSatelliteToggle",t.TVTerrestrialAnalog="TVTerrestrialAnalog",t.TVTerrestrialDigital="TVTerrestrialDigital",t.TVTimer="TVTimer",t.AVRInput="AVRInput",t.AVRPower="AVRPower",t.ColorF0Red="ColorF0Red",t.ColorF1Green="ColorF1Green",t.ColorF2Yellow="ColorF2Yellow",t.ColorF3Blue="ColorF3Blue",t.ColorF4Grey="ColorF4Grey",t.ColorF5Brown="ColorF5Brown",t.ClosedCaptionToggle="ClosedCaptionToggle",t.Dimmer="Dimmer",t.DisplaySwap="DisplaySwap",t.DVR="DVR",t.Exit="Exit",t.FavoriteClear0="FavoriteClear0",t.FavoriteClear1="FavoriteClear1",t.FavoriteClear2="FavoriteClear2",t.FavoriteClear3="FavoriteClear3",t.FavoriteRecall0="FavoriteRecall0",t.FavoriteRecall1="FavoriteRecall1",t.FavoriteRecall2="FavoriteRecall2",t.FavoriteRecall3="FavoriteRecall3",t.FavoriteStore0="FavoriteStore0",t.FavoriteStore1="FavoriteStore1",t.FavoriteStore2="FavoriteStore2",t.FavoriteStore3="FavoriteStore3",t.Guide="Guide",t.GuideNextDay="GuideNextDay",t.GuidePreviousDay="GuidePreviousDay",t.Info="Info",t.InstantReplay="InstantReplay",t.Link="Link",t.ListProgram="ListProgram",t.LiveContent="LiveContent",t.Lock="Lock",t.MediaApps="MediaApps",t.MediaAudioTrack="MediaAudioTrack",t.MediaLast="MediaLast",t.MediaSkipBackward="MediaSkipBackward",t.MediaSkipForward="MediaSkipForward",t.MediaStepBackward="MediaStepBackward",t.MediaStepForward="MediaStepForward",t.MediaTopMenu="MediaTopMenu",t.NavigateIn="NavigateIn",t.NavigateNext="NavigateNext",t.NavigateOut="NavigateOut",t.NavigatePrevious="NavigatePrevious",t.NextFavoriteChannel="NextFavoriteChannel",t.NextUserProfile="NextUserProfile",t.OnDemand="OnDemand",t.Pairing="Pairing",t.PinPDown="PinPDown",t.PinPMove="PinPMove",t.PinPToggle="PinPToggle",t.PinPUp="PinPUp",t.PlaySpeedDown="PlaySpeedDown",t.PlaySpeedReset="PlaySpeedReset",t.PlaySpeedUp="PlaySpeedUp",t.RandomToggle="RandomToggle",t.RcLowBattery="RcLowBattery",t.RecordSpeedNext="RecordSpeedNext",t.RfBypass="RfBypass",t.ScanChannelsToggle="ScanChannelsToggle",t.ScreenModeNext="ScreenModeNext",t.Settings="Settings",t.SplitScreenToggle="SplitScreenToggle",t.STBInput="STBInput",t.STBPower="STBPower",t.Subtitle="Subtitle",t.Teletext="Teletext",t.VideoModeNext="VideoModeNext",t.Wink="Wink",t.ZoomToggle="ZoomToggle",t.SpeechCorrectionList="SpeechCorrectionList",t.SpeechInputToggle="SpeechInputToggle",t.Close="Close",t.New="New",t.Open="Open",t.Print="Print",t.Save="Save",t.SpellCheck="SpellCheck",t.MailForward="MailForward",t.MailReply="MailReply",t.MailSend="MailSend",t.LaunchCalculator="LaunchCalculator",t.LaunchCalendar="LaunchCalendar",t.LaunchContacts="LaunchContacts",t.LaunchMail="LaunchMail",t.LaunchMediaPlayer="LaunchMediaPlayer",t.LaunchMusicPlayer="LaunchMusicPlayer",t.LaunchMyComputer="LaunchMyComputer",t.LaunchPhone="LaunchPhone",t.LaunchScreenSaver="LaunchScreenSaver",t.LaunchSpreadsheet="LaunchSpreadsheet",t.LaunchWebBrowser="LaunchWebBrowser",t.LaunchWebCam="LaunchWebCam",t.LaunchWordProcessor="LaunchWordProcessor",t.LaunchApplication1="LaunchApplication1",t.LaunchApplication2="LaunchApplication2",t.LaunchApplication3="LaunchApplication3",t.LaunchApplication4="LaunchApplication4",t.LaunchApplication5="LaunchApplication5",t.LaunchApplication6="LaunchApplication6",t.LaunchApplication7="LaunchApplication7",t.LaunchApplication8="LaunchApplication8",t.LaunchApplication9="LaunchApplication9",t.LaunchApplication10="LaunchApplication10",t.LaunchApplication11="LaunchApplication11",t.LaunchApplication12="LaunchApplication12",t.LaunchApplication13="LaunchApplication13",t.LaunchApplication14="LaunchApplication14",t.LaunchApplication15="LaunchApplication15",t.LaunchApplication16="LaunchApplication16",t.BrowserBack="BrowserBack",t.BrowserFavorites="BrowserFavorites",t.BrowserForward="BrowserForward",t.BrowserHome="BrowserHome",t.BrowserRefresh="BrowserRefresh",t.BrowserSearch="BrowserSearch",t.BrowserStop="BrowserStop",t.Decimal="Decimal",t.Key11="Key11",t.Key12="Key12",t.Multiply="Multiply",t.Add="Add",t.Divide="Divide",t.Subtract="Subtract",t.Separator="Separator"}(e.Key||(e.Key={}))})(Nk);function Ik(){const{layer:e}=xn("3436367576"),t=e.get("enable_local_indexing",!1);return{isFannyPackEnabled:e.get("enable_ux",!1),isFannyPackInitializerEnabled:t}}const M6e=async(e,t,n,r,a="mouse")=>{const o=F.getThreadCurrentLeafId(e),l=F.getThreadConversationTurns(e,o)[t];if(!l)return Promise.reject();const{messages:c}=l,u=c.reduce((p,m)=>!m.err&&m.message.author.role===ie.Assistant&&m.message.recipient==="all"?p+(p?`

`:"")+Mr(m.message,{shouldGetTextFromContentReferences:!0}):p,""),f={"text/plain":u};try{let p="";const{markdownToHtml:m}=await qe(async()=>{const{markdownToHtml:g}=await import("./bi3oqldx34qj805e.js");return{markdownToHtml:g}},__vite__mapDeps([10,1,3,4,11,12,13,14,15,16,17,18,19,6,20,21,22,23]));for(const g of c)!g.err&&g.message.author.role===ie.Assistant&&g.message.recipient==="all"&&(p&&(p+=`

`),p+=await m(Mr(g.message)));f["text/html"]=p}catch(p){te.addError(p)}return wl(f,n,r).then(()=>{const p=F.getServerThreadId(e);p&&q.submitImplicitMessageFeedback({messageId:c[0].message.id,type:"copy",serverThreadId:p,selectedText:u,source:a,location:"message"})})},T6e=(e,t,n,r="mouse")=>{const a=F.getThreadCurrentLeafId(e),o=F.getThreadConversationTurns(e,a);return M6e(e,o.length-1,t,n,r)};var Lr={};Object.defineProperty(Lr,"__esModule",{value:!0});var E6e=typeof window<"u"&&/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),I0={alt:"altKey",control:"ctrlKey",meta:"metaKey",shift:"shiftKey"},jk={add:"+",break:"pause",cmd:"meta",command:"meta",ctl:"control",ctrl:"control",del:"delete",down:"arrowdown",esc:"escape",ins:"insert",left:"arrowleft",mod:E6e?"meta":"control",opt:"alt",option:"alt",return:"enter",right:"arrowright",space:" ",spacebar:" ",up:"arrowup",win:"meta",windows:"meta"},X4={backspace:8,tab:9,enter:13,shift:16,control:17,alt:18,pause:19,capslock:20,escape:27," ":32,pageup:33,pagedown:34,end:35,home:36,arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,insert:45,delete:46,meta:91,numlock:144,scrolllock:145,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222};for(var mc=1;mc<20;mc++)X4["f"+mc]=111+mc;function Yf(e,t,n){t&&!("byKey"in t)&&(n=t,t=null),Array.isArray(e)||(e=[e]);var r=e.map(function(s){return Rk(s,t)}),a=function(l){return r.some(function(c){return Lk(c,l)})},o=n==null?a:a(n);return o}function k6e(e,t){return Yf(e,t)}function A6e(e,t){return Yf(e,{byKey:!0},t)}function Rk(e,t){var n=t&&t.byKey,r={};e=e.replace("++","+add");var a=e.split("+"),o=a.length;for(var s in I0)r[I0[s]]=!1;var l=!0,c=!1,u=void 0;try{for(var f=a[Symbol.iterator](),p;!(l=(p=f.next()).done);l=!0){var m=p.value,g=m.endsWith("?")&&m.length>1;g&&(m=m.slice(0,-1));var h=e9(m),v=I0[h];if(m.length>1&&!v&&!jk[m]&&!X4[h])throw new TypeError('Unknown modifier: "'+m+'"');(o===1||!v)&&(n?r.key=h:r.which=$k(m)),v&&(r[v]=g?null:!0)}}catch(y){c=!0,u=y}finally{try{!l&&f.return&&f.return()}finally{if(c)throw u}}return r}function Lk(e,t){for(var n in e){var r=e[n],a=void 0;if(r!=null&&(n==="key"&&t.key!=null?a=t.key.toLowerCase():n==="which"?a=r===91&&t.which===93?91:t.which:a=t[n],!(a==null&&r===!1)&&a!==r))return!1}return!0}function $k(e){e=e9(e);var t=X4[e]||e.toUpperCase().charCodeAt(0);return t}function e9(e){return e=e.toLowerCase(),e=jk[e]||e,e}var P6e=Lr.default=Yf;Lr.isHotkey=Yf;Lr.isCodeHotkey=k6e;Lr.isKeyHotkey=A6e;Lr.parseHotkey=Rk;Lr.compareHotkey=Lk;Lr.toKeyCode=$k;Lr.toKeyName=e9;function O6e(e,t,n){const r=R1(),a=e.map(o=>{const{keyboardBinding:s}=o;let l=s.join("+");if(o.altKeyboardBindings){l=[l];const c=o.altKeyboardBindings.map(u=>u.join("+"));l=l.concat(c)}return P6e(l,{byKey:!0})});jC(()=>{if(n?.enabled===!1)return;const o=c=>{if(!c.repeat)for(let u=0;u<a.length;u++)a[u](c)&&(e[u].enabled===void 0||e[u].enabled)&&(c.preventDefault(),t(e[u]),e[u].action(c))},s=c=>{c.key!==void 0&&o(c)},l=r?.document??document;return l.addEventListener("keydown",s),()=>{l.removeEventListener("keydown",s)}},[e,n])}const N6e=/```.*?\n([\s\S]+?)\n?```[^`]*$/gms;function R2(){return/Mac|iPod|iPhone|iPad/.test(window.navigator.platform)}const pe={Mod:"mod",Comma:",",Space:"Space"," ":"Space"," ":"Space",...Nk.Key},I6e={[pe.Mod]:R2()?"⌘":"Ctrl",[pe.Meta]:R2()?"⌘":"Win",[pe.Comma]:",",[pe.Enter]:"⏎",[pe.Escape]:"Esc",[pe.ArrowUp]:"↑",[pe.ArrowDown]:"↓",[pe.ArrowLeft]:"←",[pe.ArrowRight]:"→",[pe.Backspace]:"⌫",[pe.Delete]:"⌦",[pe.Tab]:"⇥",[pe.Control]:"Ctrl",[pe.Shift]:"Shift"},j6e=e=>e.map(t=>I6e[t]??t),In=V({newChat:{id:"keyboardActions.newChat",defaultMessage:"Open new chat"},focusPromptTextarea:{id:"keyboardActions.focusPromptTextarea",defaultMessage:"Focus chat input"},copyLastCodeBlock:{id:"keyboardActions.copyLastCodeBlock",defaultMessage:"Copy last code block"},copyLastResponse:{id:"keyboardActions.copyLastResponse",defaultMessage:"Copy last response"},toggleCustomInstructions:{id:"keyboardActions.toggleCustomInstructions",defaultMessage:"Set custom instructions"},navigationToggle:{id:"keyboardActions.navigationToggle",defaultMessage:"Toggle sidebar"},deleteChat:{id:"keyboardActions.deleteChat",defaultMessage:"Delete chat"},archiveChat:{id:"keyboardActions.archiveChat",defaultMessage:"Archive chat"},zoomIn:{id:"keyboardActions.zoomIn",defaultMessage:"Zoom in"},zoomOut:{id:"keyboardActions.zoomOut",defaultMessage:"Zoom out"},resetZoom:{id:"keyboardActions.resetZoom",defaultMessage:"Reset zoom"},toggleKeyboardActions:{id:"keyboardActions.toggleKeyboardActions",defaultMessage:"Show shortcuts"}}),t9=new RN,R6e=({resetThreadAction:e,clientThreadId:t,focusPromptTextareaAction:n,toaster:r,isFannyPackEnabled:a,isZoomEnabled:o,isElectronClient:s,isScreenArch:l})=>{const c=s?[[pe.Mod,"n"]]:[];return[{key:"newChat",action:e||_e,actionMessageDescriptor:In.newChat,group:"Core",keyboardBinding:[pe.Mod,pe.Shift,"o"],altKeyboardBindings:a?[...c]:[...c,[pe.Mod,"k"]]},{key:"focusPromptTextarea",action:n??KT,actionMessageDescriptor:In.focusPromptTextarea,group:"Chat",keyboardBinding:[pe.Shift,pe.Escape]},{key:"copyLastCodeBlock",action:u=>{if(t!=null){const f=F.getThreadCurrentLeafId(t),p=F.getThreadConversationTurns(t,f);for(let m=p.length-1;m>=0;m--){const{messages:g}=p[m],v=[...g.reduce((x,C)=>C.err==null&&C.message.author.role===ie.Assistant&&C.message.recipient==="all"?x+(x?`

`:"")+Mr(C.message):x,"").matchAll(N6e)],y=v.length?v[v.length-1][1]:null;if(y!=null){wl(y,r,u).then(()=>{r.success("Copied code block to clipboard")});break}}}},actionMessageDescriptor:In.copyLastCodeBlock,group:"Chat",keyboardBinding:[pe.Mod,pe.Shift,";"],altKeyboardBindings:[[pe.Mod,pe.Shift,":"]]},{key:"copyLastResponse",action:u=>{t!=null&&T6e(t,r,u,"keyboard").then(()=>{r.success("Last response copied to clipboard")})},actionMessageDescriptor:In.copyLastResponse,group:"Chat",keyboardBinding:[pe.Mod,pe.Shift,"c"]},{key:"toggleCustomInstructions",action:()=>Re.toggleModal(et.UserContext),actionMessageDescriptor:In.toggleCustomInstructions,group:"Settings",keyboardBinding:[pe.Mod,pe.Shift,"i"]},{key:"navigationToggle",action:()=>{l?document.getElementById(Fn.OpenOrClosed)?.click():Re.toggleNavSidebar()},actionMessageDescriptor:In.navigationToggle,group:"Core",keyboardBinding:[pe.Mod,pe.Shift,"s"]},{key:"deleteChat",action:()=>{if(t){const u=F.getServerThreadId(t);u&&t9.publish({kind:"deleteChat",serverThreadId:u})}},actionMessageDescriptor:In.deleteChat,group:"Chat",keyboardBinding:[pe.Mod,pe.Shift,pe.Backspace],altKeyboardBindings:[[pe.Mod,pe.Shift,pe.Delete]]},{key:"zoomIn",enabled:o,action:()=>LN(),actionMessageDescriptor:In.zoomIn,group:"Chat",keyboardBinding:[pe.Mod,"+"],altKeyboardBindings:[[pe.Mod,"="]]},{key:"zoomOut",enabled:o,action:()=>$N(),actionMessageDescriptor:In.zoomOut,group:"Chat",keyboardBinding:[pe.Mod,"-"]},{key:"resetZoom",enabled:o,action:()=>DN(),actionMessageDescriptor:In.resetZoom,group:"Chat",keyboardBinding:[pe.Mod,"0"]},{key:"toggleKeyboardActions",action:()=>Re.toggleModal(et.KeyboardActions),actionMessageDescriptor:In.toggleKeyboardActions,group:"Settings",keyboardBinding:[pe.Mod,"/"]}]},Dk=e=>O6e(e,t=>{S.logEvent(k.keyboardShortcut,{keyboardActionKey:t.key}),te.addAction("chatgpt_keyboard_shortcut",{keyboardActionKey:t.key})},{enabled:!0}),Fk=({resetThreadAction:e,clientThreadId:t,focusPromptTextareaAction:n}={})=>{const r=Ne(),{isFannyPackEnabled:a}=Ik(),{value:o}=ct("842034403"),s=v4(),l=Ja(),c=da(),u=l&&c.get("include_legacy_sidebar_contents",!1),f=us&&o;return d.useMemo(()=>R6e({resetThreadAction:e,clientThreadId:t,focusPromptTextareaAction:n,toaster:r,isElectronClient:s,isFannyPackEnabled:a,isZoomEnabled:f,isScreenArch:l&&!u}).filter(({enabled:m=!0})=>m),[e,t,n,r,s,a,f,l,u])},NIe=({resetThreadAction:e,clientThreadId:t,focusPromptTextareaAction:n})=>{const r=Fk({resetThreadAction:e,clientThreadId:t,focusPromptTextareaAction:n}),o=xe(s=>s.isVoiceActive)?[]:r;Dk(o)},IIe=({setSelectedVoiceIndex:e,prevVoiceIndex:t,nextVoiceIndex:n})=>{const r=[{key:"selectPrevVoice",action:()=>{e(t)},actionMessageDescriptor:{defaultMessage:"Select previous voice"},group:"Chat",keyboardBinding:[pe.ArrowLeft]},{key:"selectNextVoice",action:()=>{e(n)},actionMessageDescriptor:{defaultMessage:"Select next voice"},group:"Chat",keyboardBinding:[pe.ArrowRight]}];Dk(r)};function L6e({condensed:e,children:t,className:n,header:r,hideHeader:a=!1,isLastInGroup:o=!1,ulClassName:s}){return i.jsxs(i.Fragment,{children:[i.jsx("div",{className:P(n,a&&"hidden",e&&"flex items-end",!e&&"z-20 screen-arch:sticky screen-arch:top-[var(--sticky-title-offset)]","select-none overflow-clip text-ellipsis break-all pt-7 text-xs font-semibold text-token-text-primary screen-arch:-mr-2 screen-arch:h-10 screen-arch:min-w-[50cqw] screen-arch:-translate-x-2 screen-arch:bg-[var(--sidebar-surface)] screen-arch:py-2 screen-arch:pl-2 screen-arch:text-token-text-secondary"),children:i.jsx("div",{className:"flex h-[26px] items-center justify-between",children:r})}),i.jsx("aside",{className:P("-ml-2 flex flex-col gap-4",o?"mb-0":"mb-3"),children:i.jsx("ul",{className:P("flex flex-col",s),children:t})})]})}const $6e=e=>d.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24",...e},d.createElement("path",{fill:"currentColor",d:"M8.866 5.003a2 2 0 0 1 1.227.508c.036.032.073.07.2.196l.017.017c.103.103.18.18.262.254a4 4 0 0 0 2.454 1.016c.109.006.219.006.365.006H16.2c.857 0 1.439 0 1.889.038.438.035.663.1.819.18a2 2 0 0 1 .874.874c.08.156.145.38.18.819.024.294.033.643.036 1.089H4V8.8c0-.857 0-1.439.038-1.889.035-.438.1-.663.18-.819a2 2 0 0 1 .874-.874c.156-.08.38-.145.819-.18C6.361 5 6.943 5 7.8 5h.786c.18 0 .232 0 .28.003M22 10.759c0-.805 0-1.47-.044-2.01-.046-.563-.145-1.08-.392-1.565a4 4 0 0 0-1.748-1.748c-.485-.247-1.002-.346-1.564-.392C17.71 5 17.046 5 16.242 5h-2.828c-.18 0-.232 0-.28-.003a2 2 0 0 1-1.227-.508 6 6 0 0 1-.2-.196l-.017-.017a7 7 0 0 0-.262-.254 4 4 0 0 0-2.454-1.016C8.865 3 8.755 3 8.61 3h-.85c-.805 0-1.47 0-2.01.044-.563.046-1.08.145-1.565.392a4 4 0 0 0-1.748 1.748c-.247.485-.346 1.002-.392 1.564C2 7.29 2 7.954 2 8.758v6.483c0 .805 0 1.47.044 2.01.046.563.145 1.08.392 1.565a4 4 0 0 0 1.748 1.748c.485.247 1.002.346 1.564.392C6.29 21 6.954 21 7.758 21h8.483c.805 0 1.47 0 2.01-.044.563-.046 1.08-.145 1.565-.392a4 4 0 0 0 1.748-1.748c.247-.485.346-1.002.392-1.564.044-.541.044-1.206.044-2.01zM20 12v3.2c0 .857 0 1.439-.038 1.889-.035.438-.1.663-.18.819a2 2 0 0 1-.874.874c-.156.08-.38.145-.819.18-.45.037-1.032.038-1.889.038H7.8c-.857 0-1.439 0-1.889-.038-.438-.035-.663-.1-.819-.18a2 2 0 0 1-.874-.874c-.08-.156-.145-.38-.18-.819C4 16.639 4 16.057 4 15.2V12z"})),D6e=e=>d.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},d.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.5001 3.44354C12.1907 3.26491 11.8095 3.26491 11.5001 3.44354L5.24667 7.05396L12.0147 10.861L18.9699 7.17886L12.5001 3.44354ZM19.6604 9.07629L13.0002 12.6023V20.2681L19.1604 16.7115C19.4698 16.5329 19.6604 16.2027 19.6604 15.8455V9.07629ZM11.0002 20.2682V12.585L4.33984 8.83857V15.8455C4.33984 16.2027 4.53044 16.5329 4.83984 16.7115L11.0002 20.2682ZM10.5001 1.71149C11.4283 1.1756 12.5719 1.1756 13.5001 1.71149L20.1604 5.55679C21.0886 6.09269 21.6604 7.08307 21.6604 8.15487V15.8455C21.6604 16.9173 21.0886 17.9076 20.1604 18.4435L13.5001 22.2888C12.5719 22.8247 11.4283 22.8247 10.5001 22.2888L3.83984 18.4435C2.91164 17.9076 2.33984 16.9173 2.33984 15.8455V8.15487C2.33984 7.08307 2.91164 6.09269 3.83984 5.55679L10.5001 1.71149Z",fill:"currentColor"}));function n9({isFirstParty:e,gizmoId:t,src:n,alt:r,className:a}){const o=j4(t),[s,l]=d.useState(!1);return s||!n?i.jsx("div",{className:a,children:i.jsx("div",{className:"gizmo-shadow-stroke relative flex h-full items-center justify-center rounded-full bg-token-main-surface-primary text-token-text-primary",children:e||o?i.jsx(Y8,{className:"h-2/3 w-2/3"}):i.jsx(D6e,{className:"h-2/3 w-2/3 text-gray-400"})})}):i.jsx("div",{className:a,children:i.jsx("div",{className:"gizmo-shadow-stroke overflow-hidden rounded-full",children:i.jsx("img",{src:n,className:"h-full w-full bg-token-main-surface-secondary",alt:r??"GPT Icon",width:80,height:80,onError:()=>l(!0)})})})}function jIe({emoji:e,className:t}){return i.jsx("div",{className:P("flex items-center justify-center",t),children:e})}function F6e({gizmoId:e,className:t}){const{data:n}=pa(e);return i.jsx(n9,{src:n?.gizmo.display.profile_picture_url,gizmoId:e,isFirstParty:n?.gizmo.tags?.includes(Ji.FirstParty)??!1,className:t})}const Bk="no-draggable group rounded-lg active:opacity-90 bg-[var(--item-background-color)] h-9 text-sm",Uk="no-draggable group cursor-pointer rounded-lg active:opacity-90 tracking-condensed text-body ease-[var(--spring-bounce)] motion-safe:active:scale-[98%] motion-safe:active:transition-transform hover:bg-token-main-surface-secondary";function Hk(e,t,n){return e||n?"var(--sidebar-surface-secondary)":t?"var(--sidebar-surface-tertiary)":"var(--sidebar-surface-primary)"}const Vk="bg-token-main-surface-secondary-selected";function B6e({href:e,icon:t,expandToContainer:n,label:r,rightIcon:a,hoverRightIcon:o,isMenuOpen:s,showActiveIndicator:l,loggingGizmoId:c,onClick:u,target:f,testId:p,elementRef:m,isHovered:g}){const h=Ja(),v=h?Uk:Bk,y=h&&(l||s)&&Vk;return i.jsxs(Tr,{to:e,target:f,title:r,"data-testid":p,style:h?{}:{"--item-background-color":Hk(g,l,s)},className:P(v,y,"flex items-center gap-2.5 p-2 screen-arch:py-[7px]",n&&"flex-1"),onClick:x=>{S.logNewChatButtonClicked({location:"Sidebar gizmo list",gizmo_id:c}),S.logEvent(k.sidebarClickGizmo,{gizmo_id:c}),u?.(x)},ref:m,children:[t!=null&&i.jsx("div",{className:"flex h-6 w-6 items-center justify-center text-token-text-secondary",children:t}),i.jsx("div",{className:P(h?"text-body":"text-sm","grow overflow-hidden text-ellipsis whitespace-nowrap text-token-text-primary"),children:r}),o,a]})}const U6e=V({exploreStoreEnabled:{id:"gizmo.exploreStoreEnabled",defaultMessage:"Explore GPTs"},keepInSidebar:{id:"gizmo.keepInSidebar",defaultMessage:"Keep in sidebar"},newChat:{id:"gizmo.newChat",defaultMessage:"New chat"},clearChat:{id:"gizmo.clearChat",defaultMessage:"Clear chat"}});var Gk=(e=>(e.Keep="sidebar_keep",e.Recents="sidebar_recents",e.Workspace="sidebar_workspace",e))(Gk||{});const H6e=Ke(()=>qe(()=>import("./bq1sll4r2n6do1o3.js"),__vite__mapDeps([37,1,3,4])).then(e=>e.GizmoKeepInSidebarMenuItem));function RIe({gizmo:e,isOpen:t,setIsOpen:n,section:r}){const a=be();return i.jsxs(O1,{open:t,onOpenChange:n,triggerButton:i.jsx("button",{className:P("flex text-token-text-secondary hover:text-token-text-primary",t?"":"invisible group-hover:visible"),children:i.jsx(S4,{className:"icon-md"})}),contentAlign:"start",sideOffset:4,alignOffset:-4,size:"auto",children:[r===Gk.Recents&&i.jsx(ce.Item,{onClick:async()=>{await tt.updateGizmoSidebar(a,Xx,e.gizmo.id,"keep",r)},children:i.jsx(b,{...U6e.keepInSidebar})}),i.jsx(H6e,{gizmoResource:e,location:r})]})}function V6e({conversation:e,onClose:t}){const[n,r]=d.useState(e.title),a=be();function o(){n!==e.title&&(F.setTitle(e.id,n,v1.User),S.logEvent(k.renameThread,{threadId:e.id,content:n}),q.patchConversation(e.id,{title:n}).then(()=>{Ar(a)}))}return i.jsx("input",{type:"text",value:n,onChange:s=>{r(s.target.value)},onKeyDown:s=>{switch(s.key){case"Escape":t();break;case"Enter":o(),t();break}},onBlur:()=>{o(),t()},autoFocus:!0,className:"w-full border border-token-border-light bg-transparent p-0 text-sm"})}const r9=Me(Vn(()=>({dragData:null}))),G6e=()=>r9(e=>e.dragData),W6e=e=>{r9.setState({dragData:e})},z6e=()=>{r9.setState(e=>{e.dragData=null})};function q6e(e,t,n){const{title:r,titleSource:a}=FN(e),[o,s]=d.useState(!1),l=r??t,c=d.useRef(l);return d.useEffect(()=>(n&&a===v1.Generated&&l!==c.current&&s(!0),()=>{c.current=l}),[n,l,a]),{isTypingEffect:o,resolvedTitle:l}}function Wk(){const e=d.useRef(!1);return d.useEffect(()=>(e.current=!0,()=>{e.current=!1}),[]),d.useCallback(()=>e.current,[])}function Z6e({text:e}){const t=Wk(),[n,r]=d.useState(!0),[a,o]=d.useState(0),s=d.useMemo(()=>Array.from(e),[e]),l=d.useMemo(()=>new Y6e().humanTypingDelaysQuertyDistance(s),[s]);return d.useEffect(()=>{e&&n&&(r(!0),l.forEach((c,u)=>{setTimeout(()=>{t()&&(o(u),u===l.length-1&&r(!1))},c)}))},[l,t,n,e]),i.jsx(i.Fragment,{children:s.slice(0,a+1).join("")})}class Y6e{qwertyDistance(t,n){const r={q:[0,0],w:[1,0],e:[2,0],r:[3,0],t:[4,0],y:[5,0],u:[6,0],i:[7,0],o:[8,0],p:[9,0],a:[0,1],s:[1,1],d:[2,1],f:[3,1],g:[4,1],h:[5,1],j:[6,1],k:[7,1],l:[8,1],z:[0,2],x:[1,2],c:[2,2],v:[3,2],b:[4,2],n:[5,2],m:[6,2]},[a,o]=r[t.toLowerCase()]??[0,0],[s,l]=r[n.toLowerCase()]??[0,0];return Math.abs(a-s)+Math.abs(o-l)}humanTypingDelaysQuertyDistance(t,n=10,r=100){let a=0;const o=[];for(let s=0;s<t.length;++s){let l;if(s>0){const c=this.qwertyDistance(t[s-1],t[s]);c===0?l=this.getRandomInt(n,Math.floor(r/2)):c===1?l=this.getRandomInt(n,Math.floor(r*2/3)):l=this.getRandomInt(n,r)}else l=this.getRandomInt(n,r);o.push(l+a),a+=l}return o}getRandomInt(t,n){return Math.floor(Math.random()*(n-t+1))+t}}function K6e({title:e,handleDelete:t,onClose:n}){const r=U(),a=Al();return i.jsxs(Te,{isOpen:!0,onClose:()=>n(),type:"success",title:r.formatMessage(gc.deleteModalTitle),primaryButton:i.jsx(Ye.Button,{title:r.formatMessage(gc.deleteModalConfirm),color:"danger",onClick:()=>{t(),n()},"data-testid":"delete-conversation-confirm-button"}),secondaryButton:i.jsx(Ye.Button,{title:r.formatMessage(gc.deleteModalCancel),color:"secondary",onClick:()=>n()}),children:[i.jsx(b,{...gc.deleteModalBody,values:{title:i.jsx("strong",{children:e})}}),a&&i.jsx("div",{className:"mt-2 text-sm text-token-text-tertiary",children:i.jsx(b,{id:"history.deleteModalMemoryDisclaimer",defaultMessage:"To clear any memories from this chat, visit your <link>settings</link>.",values:{link:o=>i.jsx(Tr,{to:"#settings/Personalization",className:"underline",onClick:()=>{setTimeout(()=>{n({closeParentModal:!0})},100)},children:o})}})})]})}const gc=V({deleteModalTitle:{id:"history.deleteModalTitle",defaultMessage:"Delete chat?"},deleteModalBody:{id:"history.deleteModalBody",defaultMessage:"This will delete {title}."},deleteModalConfirm:{id:"history.deleteModalConfirm",defaultMessage:"Delete"},deleteModalCancel:{id:"history.deleteModalCancel",defaultMessage:"Cancel"}}),Q6e=Ke(()=>qe(()=>import("./jnq729oa9h58uw5g.js"),__vite__mapDeps([38,3,1,4,39,40,41,42,43,44,45])).then(e=>e.GizmoConversationOptionsDropdown)),J6e=new Date(2024,9,11,0);function Dy(e){z.checkGate("3922476776")||Ua.abortAllRequests(),S.logEvent(k.loadThread,{threadId:e})}function X6e({conversation:e,conversationTitle:t,onOpenChange:n,testId:r,inMainScreen:a=!1}){const o=U(),{isUnauthenticated:s}=Lt(),{eligible:l,markAsViewed:c}=ke(Ee.ArchiveConversationOnboarding),u=BN(e.id),[f,p]=d.useState(!1),m=be(),g=Ge(),h=Ne(),v=da(),y=!v.get("enable_arch_updates",!1)||v.get("include_legacy_sidebar_contents",!1);if(d.useEffect(()=>RC(t9,{deleteChat:({serverThreadId:C})=>{C===e.id&&p(!0)},archiveChat:async({serverThreadId:C})=>{C===e.id&&(await q.patchConversation(e.id,{is_archived:!0}),Ar(m),z.logEvent("chatgpt_conversation_archived"),S.logEvent(k.conversationArchived),l&&(h.info(o.formatMessage({defaultMessage:"You can view archived chats in Settings",id:"HistoryGizmoItem.archiveChatOnboarding"}),{duration:10,hasCloseButton:!0}),c()),u&&Qd(g))}}),[g,h,m,l,e.id,o,u,c]),s)return null;const x=i.jsx(Q6e,{conversation:e,onOpenChange:n,inMainScreen:a,children:i.jsx("button",{className:"flex items-center justify-center text-token-text-secondary transition hover:text-token-text-primary radix-state-open:text-token-text-secondary","data-testid":r,children:i.jsx(S4,{className:"icon-md"})})});return i.jsxs(i.Fragment,{children:[y?i.jsx(ot,{label:o.formatMessage({id:"tJPHEQ",defaultMessage:"Options"}),sideOffset:4,side:"top",children:x}):x,f&&i.jsx(K6e,{title:t,handleDelete:()=>{q.patchConversation(e.id,{is_visible:!1}).then(()=>{Ar(m),z.logEvent("chatgpt_conversation_deleted"),S.logEvent(k.conversationDeleted),P1.publish({kind:"deleteConversation",serverThreadId:e.id})}),u&&Qd(g)},onClose:()=>{p(!1)}})]})}const zk=5,eye=3e3;function tye({threadId:e}){const t=be(),n=d.useRef(!1),r=d.useRef(null);return d.useEffect(()=>{async function a(){n.current=!0;const o=await K1(e);if(o.async_status===Tn.UNREAD){Ar(t),F.initThreadFromServerData(e,o,!0,void 0,!0);return}if(o.async_status!==Tn.STREAMING)return;const s=o.update_time??0;bS(new Date,new Date(s*1e3))<zk?r.current=window.setTimeout(a,eye):q.setConversationStatus(e)}return n.current||(S.logEvent(k.conversationPollingStarted),a()),()=>{r.current&&window.clearTimeout(r.current)}},[t,e]),null}function nye({conversation:e,className:t,hideOverflowMenu:n=!1,isActiveInMainWindow:r,isActive:a,elementRef:o,testId:s}){const l=U(),[c,u]=d.useState(!1),[f,p]=d.useState(!1),[m,g]=d.useState(!1),{value:h}=ct("3922476776"),{value:v}=ct("232791851"),y=eb(e.id),{value:x=null,source:C=null}=y??{},w=h1(e.id),_=Hi(w),E=bS(new Date,new Date(e.update_time??0))<zk,T=e.update_time&&Uae(new Date(e.update_time),J6e),M=x===Tn.STREAMING&&E,A=v&&!a&&!_&&T&&!m&&x===Tn.UNREAD,D=v&&(_||M)&&!m,j=v&&!r&&(_||M),B=v&&x===Tn.STREAMING&&C===yr.SERVER&&!_&&E,N=d.useRef(!1);d.useEffect(()=>{N.current||h&&(async()=>(N.current=!0,a&&x===Tn.UNREAD&&(C===yr.SERVER&&await q.setConversationStatus(e.id),_i(e.id,null)),!a&&C===yr.CLIENT&&x===Tn.UNREAD&&(await q.setConversationStatus(e.id,x),_i(e.id,{value:Tn.UNREAD,source:yr.SERVER})),N.current=!1))()},[h,a,e.id,x,C,_]),d.useEffect(()=>RC(t9,{editTitle:({serverThreadId:W})=>{(W?W===e.id:r)&&u(!0)}}),[e.id,r]);const H=l.formatMessage({id:"mpXAeu",defaultMessage:"New chat"}),{resolvedTitle:R,isTypingEffect:G}=q6e(e.id,e.title,a),X=ua(),ae=G&&a&&X,{data:$}=pa(e.conversation_template_id??void 0),I=da(),O=d.useRef(null),Q=!I.get("enable_arch_updates",!1)||I.get("include_legacy_sidebar_contents",!1),oe=i.jsx("div",{className:P("absolute bottom-0 top-0 items-center gap-1.5 pr-2 ltr:right-0 rtl:left-0",r||f?"flex":"hidden can-hover:group-hover:flex"),ref:O,children:i.jsx(X6e,{conversation:e,conversationTitle:R??e.title,onOpenChange:W=>{p(W),W&&S.logEvent(k.conversationHistoryItemOpenMenu,{conversationId:e.id})},testId:`${s}-options`})}),ne=Q?Bk:Uk,ee=!Q&&(r||f)&&Vk,Y=d.useRef(null);return i.jsxs("div",{draggable:dv($?.gizmo.id),onDragStart:W=>{if(!dv($?.gizmo.id))return;const de=Ui(Y.current),fe=O.current;fe&&(fe.style.display="none"),W.dataTransfer.setDragImage(de,de.clientWidth/3,de.clientHeight/2),fe&&requestAnimationFrame(()=>{fe.style.display=""}),W.dataTransfer.effectAllowed="move",W6e({kind:"conversation",conversationId:e.id,gizmoId:$?.gizmo.id})},onDragEnd:()=>{z6e()},style:Q?{"--item-background-color":Hk(m,r,f)}:{},ref:Y,className:P(ne,ee,"relative",t),onMouseEnter:()=>{g(!0)},onMouseLeave:()=>{g(!1)},children:[B&&i.jsx(tye,{threadId:e.id}),i.jsx(Tr,{to:Ii(e.id,$),onClick:W=>{W.metaKey||W.ctrlKey||r||Dy(e.id)},onDoubleClick:()=>{u(!0)},ref:o,className:"flex items-center gap-2 p-2",style:{maskImage:Q?void 0:"var(--sidebar-mask)"},children:i.jsxs("div",{className:P("relative grow overflow-hidden whitespace-nowrap",j&&!D&&"loading-shimmer"),dir:"auto",title:R??H,children:[ae?i.jsx(Z6e,{text:R||H}):R||H,Q&&i.jsx("div",{className:P("absolute bottom-0 top-0 from-[var(--item-background-color)] to-transparent ltr:right-0 ltr:bg-gradient-to-l rtl:left-0 rtl:bg-gradient-to-r",{"w-10 from-60%":r||f,"w-8 from-0% can-hover:group-hover:w-10 can-hover:group-hover:from-60%":!r&&!f})})]})}),c?i.jsx("div",{className:"absolute bottom-0 left-[7px] right-2 top-0 flex items-center bg-token-sidebar-surface-secondary",children:i.jsx(V6e,{conversation:e,onClose:()=>{u(!1)}})}):A?i.jsx(Tr,{to:Ii(e.id,$),onClick:W=>{W.metaKey||W.ctrlKey||r||Dy(e.id)},children:i.jsx("div",{className:"absolute bottom-0 top-0 flex items-center gap-1.5 pr-2 ltr:right-0 rtl:left-0",children:i.jsx("div",{className:"h-2 w-2 rounded-full bg-blue-selection"})})}):D?i.jsx("div",{className:"absolute bottom-0 top-0 flex items-center gap-1.5 pr-2 ltr:right-0 rtl:left-0",children:i.jsx(_re,{size:16,className:"text-token-text-primary"})}):!n&&oe]})}function qk({className:e,elementRef:t,item:n,isActiveInMainWindow:r,isActive:a,isFirstItem:o,testId:s,hideOverflowMenu:l=!1}){const c=da(),u=!c.get("enable_arch_updates",!1)||c.get("include_legacy_sidebar_contents",!1);return i.jsx("li",{className:P(u&&"relative",o&&u?"z-[15]":""),"data-testid":s,children:i.jsx(nye,{className:e,conversation:n,isActiveInMainWindow:r,isActive:a,elementRef:t,testId:s,hideOverflowMenu:l})})}function LIe({gizmoResource:e,serverThreadId:t,isOnProjectPage:n,conversations:r,hasNextPage:a=!1}){const o=r??[],s=o.findIndex(f=>f.id===t),l=o.slice(0,ri);s!=null&&s>=ri&&(l[ri-1]=o[s]);const c=a||o.length>ri,u=LC().activeServerThreadIds;return i.jsxs("div",{className:"flex flex-col screen-arch:gap-0.5",children:[l.map(f=>i.jsx(qk,{className:"ml-7 pl-1",item:f,isActiveInMainWindow:f.id===t,isActive:u.has(f.id)},f.id)),c&&!n&&i.jsx(Tr,{to:Z1(e),className:"group ml-7 flex h-9 items-center gap-2.5 rounded-lg pl-3 pr-2 text-sm tracking-condensed text-token-text-primary hover:bg-token-sidebar-surface-secondary",children:i.jsx("span",{className:"text-left",children:i.jsx(b,{...Fe.seeAllChats})})})]})}function $Ie({gizmo:e,isOpen:t,setIsOpen:n}){const[r,a]=d.useState(!1),o=Ge();return i.jsxs(i.Fragment,{children:[i.jsx(O1,{open:t,onOpenChange:n,triggerButton:i.jsx("button",{className:P("flex text-token-text-secondary hover:text-token-text-primary",t?"":"invisible group-hover:visible"),children:i.jsx(S4,{className:"icon-md"})}),contentAlign:"start",sideOffset:4,alignOffset:-4,size:"auto",children:i.jsx(ce.Item,{color:"danger",onClick:()=>{a(!0)},icon:hl,children:i.jsx(b,{...Fe.deleteProjectDropdownButton})})}),r&&i.jsx(ZE,{gizmoId:e.gizmo.id,onSuccess:()=>{o("/")},onClose:()=>{a(!1)}})]})}const Zk=Me()(()=>({})),DIe=(e,t)=>{const{data:n}=pa(e),r=Zk(o=>rye(o,"theme",e));if(!e)return null;const a=n?.gizmo.display.theme;return r!==void 0?r:a??t??null},rye=(e,t,n)=>{if(n===Ho||!n)return;const r=`${n}-${t}`;return e[r]},aye=(e,t,n)=>{if(e===Ho)return;Zk.setState(a=>{const o=`${e}-${t}`,s={...a};return n===void 0?delete s[o]:s[o]=n,s},!0)},FIe=(e,t)=>{aye(e,t,void 0)};class BIe extends nh()(()=>({folderStates:{}})){expandProject(t){this.setState(n=>({...n,folderStates:{...n.folderStates,[t]:"open"}}))}collapseProject(t){this.setState(n=>({...n,folderStates:{...n.folderStates,[t]:"close"}}))}static selectFolderState=(t,n)=>t.folderStates[n]}const oye=e=>d.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24",...e},d.createElement("path",{fill:"#0D0D0D",d:"M20 15a1 1 0 1 0-2 0v2h-2a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2h-2z"}),d.createElement("path",{fill:"#0D0D0D",d:"M21.956 8.748C22 9.29 22 9.954 22 10.758V11a1 1 0 0 1-1 1H4v3.2c0 .857 0 1.439.038 1.889.035.438.1.663.18.819a2 2 0 0 0 .874.874c.156.08.38.145.819.18C6.361 19 6.943 19 7.8 19H12a1 1 0 1 1 0 2H7.759c-.805 0-1.47 0-2.01-.044-.563-.046-1.08-.145-1.565-.392a4 4 0 0 1-1.748-1.748c-.247-.485-.346-1.002-.392-1.564C2 16.71 2 16.046 2 15.242V8.758c0-.805 0-1.47.044-2.01.046-.563.145-1.08.392-1.565a4 4 0 0 1 1.748-1.748c.485-.247 1.002-.346 1.564-.392C6.29 3 6.954 3 7.758 3h.851c.146 0 .256 0 .365.006a4 4 0 0 1 2.454 1.016c.081.073.16.151.262.254l.017.017c.127.127.164.164.2.196a2 2 0 0 0 1.227.508c.048.003.1.003.28.003h2.827c.805 0 1.47 0 2.01.044.563.046 1.08.145 1.565.392a4 4 0 0 1 1.748 1.748c.247.485.346 1.002.392 1.564M10.093 5.511a2 2 0 0 0-1.227-.508A6 6 0 0 0 8.586 5H7.8c-.857 0-1.439 0-1.889.038-.438.035-.663.1-.819.18a2 2 0 0 0-.874.874c-.08.156-.145.38-.18.819C4 7.361 4 7.943 4 8.8V10h15.998a15 15 0 0 0-.036-1.089c-.035-.438-.1-.663-.18-.819a2 2 0 0 0-.874-.874c-.156-.08-.38-.145-.819-.18C17.639 7 17.057 7 16.2 7h-2.81c-.145 0-.255 0-.364-.006a4 4 0 0 1-2.454-1.016 7 7 0 0 1-.262-.254l-.017-.017a6 6 0 0 0-.2-.196"})),sye=e=>d.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},d.createElement("path",{d:"M12 6.00003C12.5523 6.00003 13 6.44775 13 7.00003L13 11L17 11C17.5523 11 18 11.4477 18 12C18 12.5523 17.5523 13 17 13L13 13L13 17C13 17.5523 12.5523 18 12 18C11.4477 18 11 17.5523 11 17L11 13L7 13C6.44771 13 6 12.5523 6 12C6 11.4477 6.44771 11 7 11L11 11L11 7.00003C11 6.44775 11.4477 6.00003 12 6.00003Z",fill:"currentColor"})),iye=he.button`flex w-full items-center gap-2.5 rounded-lg px-2 text-token-text-primary ${({$isScreenArch:e})=>e?"hover:bg-token-main-surface-secondary":"hover:bg-token-sidebar-surface-secondary"}`,lye=d.forwardRef(function({icon:t,children:n,...r},a){const o=Ja();return i.jsxs(iye,{ref:a,...r,$isScreenArch:o,className:P(o?"py-[7px]":"h-9"),children:[i.jsx("div",{className:"flex h-6 w-6 items-center justify-center text-token-text-secondary",children:i.jsx(t,{className:"icon-md"})}),i.jsx("span",{className:o?"text-body":"text-sm",children:n})]})}),cye=he.div`text-sm text-red-500`,uye=he.input`w-full resize-none overflow-y-auto rounded-lg px-3 py-2 focus:ring-2 border focus:ring-token-text-primary border-token-border-medium focus:border-token-border-medium h-9 bg-token-main-surface-primary`;function Yk({submitButtonTitle:e,onClose:t,onSuccess:n,gizmo:r}){const a=U(),o=Ne(),s=E3e(),l=!r,[c,u]=d.useState(r?.gizmo.display.name??""),f=[];c.length>A2&&f.push(a.formatMessage(Fe.nameTooLong,{length:A2}));const p=async()=>{try{const{id:h,resource:v}=await s.mutateAsync({update:{name:c},id:r?.gizmo.id??Ho});n&&n(h??v?.gizmo.id),t()}catch(h){const v=UN(h);o.warning(v??"Error",{duration:2})}},m=i.jsx(Ye.Button,{title:e??a.formatMessage(Fe.createProjectSubmit),as:"button",type:"submit",color:"primary",loading:s.isPending,disabled:!c.trim()||f.length>0}),g=i.jsx(Ye.Button,{title:a.formatMessage(Fe.createProjectCancel),color:"secondary",onClick:t,disabled:s.isPending});return i.jsx(Te,{isOpen:!0,hideSeparator:!0,noPadding:!0,showCloseButton:!s.isPending,size:"custom",className:"max-w-lg",type:"success",title:i.jsx("div",{className:"h-8",children:a.formatMessage(Fe.projectNameLabel)}),onClose:()=>{s.isPending||t()},children:i.jsxs("form",{onSubmit:h=>{h.preventDefault(),Wt.count(Nt.DEFAULT,"projects.create.submit"),p()},children:[i.jsxs("div",{className:"mb-6 mt-[2px] px-4 sm:px-6",children:[i.jsx(uye,{autoFocus:!0,type:"text",name:"projectName",autoComplete:"off",placeholder:a.formatMessage(Fe.projectNamePlaceholder),value:c,onChange:h=>u(h.target.value)}),f.map((h,v)=>i.jsx(cye,{className:"mt-1",children:h},v)),l&&i.jsxs("div",{className:"mt-6 flex items-start rounded-xl bg-[#F9F9F9] p-3 dark:bg-token-main-surface-secondary",children:[i.jsx("div",{className:"mr-2 h-6 w-6",children:i.jsx("div",{className:"relative flex h-full items-center justify-center text-token-text-secondary",children:i.jsx(nk,{className:"icon-md"})})}),i.jsxs("div",{children:[i.jsx("strong",{className:"block text-xs font-medium text-token-text-secondary",children:i.jsx(b,{...Fe.projectHelperBoxTitle})}),i.jsx("p",{className:"text-xs text-token-text-secondary",children:i.jsx(b,{...Fe.projectHelperBoxDescription})})]})]})]}),i.jsx("div",{className:"px-4 pb-4 sm:px-6 sm:pb-6",children:i.jsx(Ye.Actions,{primaryButton:m,secondaryButton:g})})]})})}const dye=he.button`mr-1 flex rounded-lg focus-visible:opacity-100 items-center text-token-text-primary hover:bg-token-sidebar-surface-secondary can-hover:opacity-0 can-hover:pointer-events-none can-hover:group-hover/sidebar:opacity-100 can-hover:group-hover/sidebar:pointer-events-auto transition-opacity duration-300`;function UIe(){const e=Ge(),[t,n]=d.useState(!1),{shouldShowTooltipNux:r,tooltipAnnouncement:a}=fye();return i.jsxs(i.Fragment,{children:[i.jsx(pye,{showNuxTooltip:r,tooltipAnnouncement:a,children:i.jsx(lye,{icon:oye,onClick:()=>{n(!0),r&&a.markAsViewed(),Wt.count(Nt.DEFAULT,"projects.create.open")},children:i.jsx(b,{...Fe.newProjectButton})})}),t&&i.jsx(Yk,{onClose:()=>n(!1),onSuccess:o=>{o&&e(`/g/${o}/project`)}})]})}function HIe(){const e=Ge(),[t,n]=d.useState(!1),r=U();return i.jsxs(i.Fragment,{children:[i.jsx(ot,{sideOffset:4,label:r.formatMessage(Fe.newProjectButtonTooltip),side:"right",children:i.jsx(dye,{onClick:()=>{Wt.count(Nt.DEFAULT,"projects.create.open"),n(!0)},"aria-label":r.formatMessage(Fe.newProjectHeaderButton),children:i.jsx("div",{className:"flex h-[26px] w-[26px] items-center justify-center text-token-text-secondary",children:i.jsx(sye,{className:"icon-md"})})})}),t&&i.jsx(Yk,{onClose:()=>n(!1),onSuccess:a=>{a&&e(`/g/${a}/project`)}})]})}function fye(){const e=ke(Ee.hasSeenProjectsWebNuxTooltip);return{shouldShowTooltipNux:!e.isLoading&&e.eligible,tooltipAnnouncement:e}}function pye({showNuxTooltip:e,tooltipAnnouncement:t,children:n}){const r=U(),a=Ja(),{useStore:o}=V4(),s=o(f=>f.isSidebarOpen),l=Nf(),c=ca(),u=ua();return!e||c||a&&!s||!a&&(!u||l)?i.jsx(ot,{sideOffset:4,label:r.formatMessage(Fe.newProjectButtonTooltip),side:"right",children:n}):i.jsx(If,{announcementKey:Ee.hasSeenProjectsWebNuxTooltip,theme:"bright",side:"right",show:!0,badge:"new",dismissOnOutsideClick:!0,title:r.formatMessage(Fe.projectsNuxTooltipTitle),description:r.formatMessage(Fe.projectsNuxTooltipDescription),onDismiss:t.markAsViewed,sideOffset:-5,children:n})}function VIe({showRetry:e,refetch:t}){return i.jsxs("div",{className:"mt-5 p-3 text-center italic text-token-text-tertiary",children:[i.jsx(b,{...Fe.unableToLoadHistory}),e&&i.jsx("div",{className:"mt-1",children:i.jsx(re,{as:"button",color:"primary",size:"small",className:"m-auto mt-2",onClick:()=>{t(!0)},children:i.jsx(b,{...Fe.retryLoadingHistory})})})]})}const mye=d.createContext({isSidebarFlyoutOpen:()=>!1,onSidebarFlyoutOpenChange:()=>{}});function GIe(){return d.use(mye)}var gye=(e=>(e.Conversation="conversation",e.Gizmo="gizmo",e.Snorlax="snorlax",e))(gye||{});function hye({gizmo:e,icon:t,onClick:n,elementRef:r}){const a=e.gizmo.display.name;return i.jsx(Tr,{to:e!=null?Z1(e):"/",className:"group relative mx-2 flex flex-col gap-1 rounded-md p-3 hover:bg-[#f5f5f5] dark:hover:bg-token-main-surface-secondary",onClick:o=>n?.(o),ref:r,children:i.jsxs("div",{className:"flex items-center gap-2",children:[t,i.jsx("div",{className:"grow overflow-hidden text-ellipsis whitespace-nowrap text-sm text-token-text-primary",children:a})]})})}const vye=5;function yye(e){const t=U(),n=be(),[r,a]=d.useState(!1),{snorlaxes:o,hasNextPage:s,fetchNextPage:l,isLoading:c,isFetchingNextPage:u,isError:f}=k3e(),p=d.useRef(null),m=d.useCallback(h=>{c||h==null||(p.current?.disconnect(),p.current=new IntersectionObserver(v=>{v[0].isIntersecting&&s&&l()}),p.current.observe(h))},[c,s,l]);d.useEffect(()=>()=>{p.current?.disconnect()},[]);const g=o.length===0;return i.jsxs(Cye,{$centered:c||f||g,children:[g&&c&&i.jsx(Vi,{children:i.jsx(yn,{className:"m-auto"})}),g&&f&&i.jsxs("div",{className:"p-3 text-center italic text-token-text-tertiary",children:[t.formatMessage(Fe.unableToLoadHistory),!r&&i.jsx("div",{className:"mt-1",children:i.jsx(re,{as:"button",color:"primary",size:"small",className:"m-auto mt-2",onClick:()=>{a(!0),H4(n)},children:t.formatMessage(Fe.retryLoadingHistory)})})]}),!c&&!g&&i.jsx("ul",{className:"flex flex-col screen-arch:gap-0.5",children:o.map(({gizmo:h})=>{const v=h.gizmo.id===e.currentGizmoId,y=s&&o[o.length-vye-1]?.gizmo.gizmo.id===h.gizmo.id?m:void 0;return v?null:e.customListItem?i.jsx(e.customListItem,{gizmo:h,isActive:v,hideOverflowMenu:!0,elementRef:y},h.gizmo.id):!e.inSidebar&&i.jsx(hye,{gizmo:h,onClick:()=>{e.onUpdateConversationGizmo(h.gizmo.id)},icon:i.jsx($6e,{className:"icon-md",style:{color:h.gizmo.display.theme}}),elementRef:y},h.gizmo.id)})}),u&&i.jsx("div",{className:"m-4 mb-5 flex justify-center",children:i.jsx(yn,{})})]})}const WIe=J.memo(yye),Cye=he.div`flex flex-col gap-2 text-token-text-primary text-sm
  ${({$centered:e})=>[e&&"h-full justify-center items-center empty:hidden"]}`,xye=he.h3`px-2 text-xs font-semibold text-ellipsis overflow-hidden break-all ${({$screenArch:e})=>[e?"text-token-sidebar-title-primary pb-1.5 pt-2":"pt-3 pb-2 text-token-text-primary"]}`,hc=V({historyBucketToday:{id:"history.bucket.today",defaultMessage:"Today"},historyBucketYesterday:{id:"history.bucket.yesterday",defaultMessage:"Yesterday"},historyBucketLastSeven:{id:"history.bucket.lastSeven",defaultMessage:"Previous 7 Days"},historyBucketLastThirty:{id:"history.bucket.lastThirty",defaultMessage:"Previous 30 Days"}}),bye=5;function wye(e,t){const n=U();return d.useMemo(()=>e.reduce((r,a)=>{const o=new Date(a.update_time??a.create_time??0),s=W5(new Date,o);if(s===0)r.recent.today.items.push(a);else if(s<=1)r.recent.yesterday.items.push(a);else if(s<=7)r.recent.lastSeven.items.push(a);else if(s<=30)r.recent.lastThirty.items.push(a);else if($S(o)){const l=Xu(o),c=PS(o),u=`${l}-${c}`;r.dynamicMonths[u]?r.dynamicMonths[u].items.push(a):r.dynamicMonths[u]={label:n.formatDate(o,{month:"long"}),items:[a]}}else{const c=`${Xu(o)}-`;r.dynamicYears[c]?r.dynamicYears[c].items.push(a):r.dynamicYears[c]={label:n.formatDate(o,{year:"numeric"}),items:[a]}}return r},{recent:{today:{label:i.jsx(b,{...hc.historyBucketToday}),items:[]},yesterday:{label:i.jsx(b,{...hc.historyBucketYesterday}),items:[]},lastSeven:{label:i.jsx(b,{...hc.historyBucketLastSeven}),items:[]},lastThirty:{label:i.jsx(b,{...hc.historyBucketLastThirty}),items:[]}},dynamicMonths:{},dynamicYears:{}}),[t,e])}function _ye({activeId:e,bucketedItems:t,items:n,hasNextPage:r,infiniteScrollTriggerElementRef:a,hideOverflowMenu:o}){const s=LC().activeServerThreadIds,l=da(),c=!l.get("enable_arch_updates",!1)||l.get("include_legacy_sidebar_contents",!1);return i.jsx(i.Fragment,{children:[t.recent,t.dynamicMonths,t.dynamicYears].flatMap((u,f)=>i.jsx(d.Fragment,{children:Object.entries(u).map(([p,{items:m,label:g}],h)=>{if(p!=="today"&&!m.length)return null;const v=!!m.find(y=>n.length>0&&y.id===n[0]?.id);return m.length>0&&i.jsxs("div",{className:P(!c&&"first:mt-1",c&&"relative mt-5 first:mt-0 last:mb-5"),children:[i.jsx("div",{className:P("sticky",c&&"bg-token-sidebar-surface-primary",c?"top-0 z-20":"top-[--sidebar-sticky-threshold] z-20"),children:i.jsx("span",{className:"flex h-9 items-center",children:i.jsx(xye,{$screenArch:!c,children:g})})}),i.jsx("ol",{className:c?void 0:"flex flex-col gap-0.5",children:m.map((y,x)=>{const C=e===y.id,w=s.has(y.id),_=v&&x===0,E=r&&n[n.length-bye-1]?.id===y.id?a:void 0;return w&&!c?null:i.jsx(qk,{item:y,hideOverflowMenu:o,isActiveInMainWindow:C,isActive:w,isFirstItem:_,elementRef:E,testId:`history-item-${x}`},`history-item-${y.id}-${p}`)})})]},`${p}-${f}-${h}`)})},`category-${f}`))})}const Fy=V({unableToLoadHistory:{id:"history.unableToLoad",defaultMessage:"Unable to load history"},retryButton:{id:"history.retryButton",defaultMessage:"Retry"}});function Sye({activeId:e,hideOverflowMenu:t}){const n=be(),[r,a]=d.useState(!1),[o,s]=d.useState(0),l=HN(),c=Ne(),u=U(),f=da(),p={},[m,g]=d.useState(!1),h=G6e(),{conversations:v,hasNextPage:y,fetchNextPage:x,isLoading:C,isFetchingNextPage:w,isError:_}=FS(p),E=d.useRef(null),T=d.useCallback(N=>{C||N==null||(E.current?.disconnect(),E.current=new IntersectionObserver(H=>{H[0].isIntersecting&&y&&x()}),E.current.observe(N))},[C,y,x]);d.useEffect(()=>()=>{E.current?.disconnect()},[]),d.useMemo(()=>{P1.publish({kind:"refreshHistory",conversations:v})},[v]);const M=v;d.useEffect(()=>{const N=xS(Gre(),Date.now());l(()=>{s(o+1)},N+1e3)},[o,l]);const A=M.length===0;d.useEffect(()=>{A||L3e({namespace:JE.ChatPageLoad})?.logTiming("render_history_items")},[A]);const D=wye(M,o),j=h!=null&&h.kind==="conversation"&&h.gizmoId!=null&&kn(h.gizmoId),B=d.useRef(0);return i.jsxs(Mye,{$centered:C||_||A,$screenArch:f.get("enable_arch_updates",!1)||!f.get("include_legacy_sidebar_contents",!1),onDragOver:N=>{N.preventDefault(),j&&g(!0)},onDrop:N=>{N.preventDefault(),j&&(g(!1),Yve(c,u,n,h.conversationId,null,h.gizmoId))},onDragEnter:N=>{N.preventDefault(),j&&(B.current+=1)},onDragLeave:N=>{N.preventDefault(),j&&(B.current-=1,B.current===0&&g(!1))},className:P(m&&"opacity-50"),children:[A&&C&&i.jsx(Vi,{children:i.jsx(yn,{className:"m-auto"})}),A&&_&&i.jsxs("div",{className:"p-3 text-center italic text-token-text-tertiary",children:[i.jsx(b,{...Fy.unableToLoadHistory}),!r&&i.jsx("div",{className:"mt-1",children:i.jsx(re,{as:"button",color:"primary",size:"small",className:"m-auto mt-2",onClick:()=>{a(!0),Ar(n)},children:i.jsx(b,{...Fy.retryButton})})})]}),!C&&!A&&i.jsx("div",{children:i.jsx(_ye,{activeId:e,bucketedItems:D,hasNextPage:y,items:M,infiniteScrollTriggerElementRef:T,hideOverflowMenu:t})}),w&&i.jsx("div",{className:"m-4 mb-5 flex justify-center",children:i.jsx(yn,{})})]})}const zIe=J.memo(Sye),Mye=he.div`flex flex-col gap-2 text-token-text-primary text-sm
${({$centered:e,$screenArch:t})=>[e&&"h-full justify-center items-center empty:hidden",!t&&"mt-5 pb-2"]}`,Kk=e=>d.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},d.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.9739 3.25193C11.0996 3.78971 10.7656 4.3276 10.2278 4.45333C8.71987 4.80589 7.37959 5.59978 6.35157 6.69357C5.97334 7.09601 5.34048 7.11563 4.93804 6.73739C4.5356 6.35916 4.51598 5.7263 4.89422 5.32386C6.18477 3.95074 7.87069 2.9505 9.77245 2.50585C10.3102 2.38012 10.8481 2.71415 10.9739 3.25193ZM13.0264 3.25196C13.1521 2.71418 13.69 2.38016 14.2278 2.50592C16.1295 2.95059 17.8153 3.95083 19.1058 5.32393C19.4841 5.72637 19.4645 6.35923 19.062 6.73746C18.6596 7.11569 18.0267 7.09607 17.6485 6.69363C16.6205 5.59985 15.2803 4.80597 13.7724 4.45338C13.2346 4.32763 12.9006 3.78974 13.0264 3.25196ZM3.90936 8.51416C4.43816 8.6735 4.73766 9.23135 4.57832 9.76015C4.36501 10.4681 4.25 11.2197 4.25 12C4.25 12.7745 4.36331 13.5303 4.57474 14.2495C4.73051 14.7793 4.42725 15.3351 3.89739 15.4909C3.36753 15.6467 2.81171 15.3434 2.65594 14.8136C2.39202 13.9159 2.25 12.9702 2.25 12C2.25 11.0221 2.39427 10.0761 2.66337 9.18311C2.82271 8.65432 3.38056 8.35481 3.90936 8.51416ZM20.0907 8.51424C20.6195 8.3549 21.1773 8.65441 21.3367 9.18321C21.6057 10.0762 21.75 11.0222 21.75 12C21.75 12.9702 21.608 13.9158 21.3441 14.8135C21.1883 15.3433 20.6325 15.6466 20.1026 15.4908C19.5728 15.3351 19.2695 14.7793 19.4253 14.2494C19.6367 13.5303 19.75 12.7745 19.75 12C19.75 11.2197 19.635 10.4681 19.4217 9.76022C19.2624 9.23142 19.5619 8.67357 20.0907 8.51424ZM19.1091 17.2823C19.5227 17.6483 19.5613 18.2803 19.1953 18.6939C17.9017 20.1558 16.1885 21.2454 14.2402 21.7273C13.7041 21.86 13.162 21.5328 13.0294 20.9967C12.8968 20.4606 13.2239 19.9185 13.76 19.7859C15.2896 19.4075 16.6553 18.5463 17.6975 17.3685C18.0635 16.9549 18.6955 16.9163 19.1091 17.2823ZM6.17165 17.2744C6.63471 17.5754 6.76609 18.1948 6.4651 18.6578L5.59269 20H10.0001C10.5524 20 11.0001 20.4477 11.0001 21C11.0001 21.5523 10.5524 22 10.0001 22H3.75C3.38329 22 3.046 21.7993 2.87108 21.477C2.69617 21.1547 2.7117 20.7625 2.91156 20.455L4.78822 17.5678C5.08921 17.1048 5.70859 16.9734 6.17165 17.2744Z",fill:"currentColor"}));function j0({label:e,tooltip:t,Icon:n}){return i.jsxs("div",{className:"flex items-center gap-1 text-sm font-semibold opacity-70",children:[n&&i.jsx(n,{className:"icon-sm"}),i.jsx("div",{children:e}),i.jsx(ot,{label:t,children:i.jsx(Ef,{className:"icon-sm ml-1"})})]})}function qIe({clientThreadId:e,gizmoId:t}){const n=U(),r=Al(),a=W4(),o=z3e(),{data:s}=mhe(t,!1,o),l=!!t,c=ia(),u=L1(e);return o?c&&(!u||l)?i.jsx(j0,{label:n.formatMessage(So.temporaryChat),tooltip:n.formatMessage(So.temporaryChatTooltip),Icon:Kk}):r&&!a&&!c?i.jsx(j0,{label:n.formatMessage(So.memoryOff),tooltip:n.formatMessage(So.memoryOffTooltip)}):s&&s?.memoryFullPct>=100?i.jsx(j0,{label:n.formatMessage(So.memoryFull),tooltip:n.formatMessage(So.memoryFullTooltip)}):null:null}const So=V({temporaryChat:{id:"ConversationPrivacyIndicator.temporaryChat",defaultMessage:"Temporary Chat"},temporaryChatTooltip:{id:"ConversationPrivacyIndicator.temporaryChatTooltip",defaultMessage:"Temporary Chats won't appear in your history, and ChatGPT won't remember anything you talk about."},memoryOff:{id:"ConversationPrivacyIndicator.memoryOff",defaultMessage:"Memory Off"},memoryOffTooltip:{id:"ConversationPrivacyIndicator.memoryOffTooltip",defaultMessage:"ChatGPT won't remember anything you talk about in this conversation."},memoryFull:{id:"2Eq+5y",defaultMessage:"Memory Full"},memoryFullTooltip:{id:"dNA8jQ",defaultMessage:"ChatGPT's memory is full. You can forget existing memories to make space."}}),Tye=Ke(()=>qe(()=>import("./j2h13udkl1zlckh2.js"),__vite__mapDeps([46,3,1,4,42,47,48,49,50,31,16])).then(e=>e.DebugConversationSidebar));function ZIe({clientThreadId:e}){Eye();const t=lr(),n=t?.includes("debug"),r=R1(),a=xe(s=>s.activeSidebar),o=t?.includes("debug")&&a==="debug";return!n||!o?null:i.jsx(Tye,{clientThreadId:e,slideOver:!$C(r),onClose:()=>Re.toggleActiveSidebar("debug"),isOpen:!0})}function Eye(){const t=lr()?.includes("debug");d.useEffect(()=>{if(!t)return;const n=new AbortController;return document.addEventListener("keydown",r=>{r.target instanceof HTMLElement&&["input","textarea","select","button"].includes(r.target.tagName.toLowerCase())||r.key==="\\"&&Re.toggleActiveSidebar("debug")},{signal:n.signal}),()=>{n.abort()}},[t])}const kye=Ke(()=>qe(()=>import("./eldr6gji3lhie26v.js"),__vite__mapDeps([51,52,3,1,4])).then(e=>e.FannyPackInitializer));function YIe(){const{isFannyPackEnabled:e,isFannyPackInitializerEnabled:t}=Ik();return e||!t?null:i.jsx(kye,{})}const KIe=e=>d.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},d.createElement("path",{d:"M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12Z",fill:"currentColor"}),d.createElement("path",{d:"M13.3 12.0002C13.3 12.7182 12.718 13.3002 12 13.3002C11.282 13.3002 10.7 12.7182 10.7 12.0002C10.7 11.2822 11.282 10.7002 12 10.7002C12.718 10.7002 13.3 11.2822 13.3 12.0002Z",fill:"currentColor"}),d.createElement("path",{d:"M17.3 12.0002C17.3 12.7182 16.718 13.3002 16 13.3002C15.282 13.3002 14.7 12.7182 14.7 12.0002C14.7 11.2822 15.282 10.7002 16 10.7002C16.718 10.7002 17.3 11.2822 17.3 12.0002Z",fill:"currentColor"}),d.createElement("path",{d:"M9.30001 12.0002C9.30001 12.7182 8.71798 13.3002 8.00001 13.3002C7.28204 13.3002 6.70001 12.7182 6.70001 12.0002C6.70001 11.2822 7.28204 10.7002 8.00001 10.7002C8.71798 10.7002 9.30001 11.2822 9.30001 12.0002Z",fill:"currentColor"})),Aye=e=>d.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},d.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6 4.64046V13.4945C6.97966 13.1602 7.88099 13.0194 8.73583 13.0151C9.9815 13.0088 11.0694 13.2939 12.0551 13.5954C12.2535 13.656 12.448 13.7172 12.6399 13.7775C14.3554 14.3169 15.8581 14.7893 18 14.2515V5.61805C18 5.61768 18 5.61835 18 5.61805C17.9973 5.61406 17.9883 5.60142 17.9674 5.5877C17.9132 5.55218 17.8375 5.53956 17.7738 5.55801C15.2418 6.29022 13.3072 5.56143 11.6733 4.9459C11.5513 4.89996 11.4311 4.85466 11.3124 4.81064C9.6336 4.18814 8.14486 3.74464 6 4.64046ZM18 14.2792C18 14.2795 18 14.2795 18 14.2792V14.2792ZM6 15.637C7.06717 15.1777 7.95744 15.0191 8.74594 15.0151C9.68064 15.0104 10.5334 15.2214 11.4701 15.5079C11.657 15.5651 11.8472 15.6255 12.0411 15.6871C13.7733 16.2375 15.806 16.8833 18.556 16.1737C19.4513 15.9427 20 15.1264 20 14.2792V5.61805C20 4.0701 18.4318 3.28575 17.2182 3.63673C15.3407 4.17969 13.9832 3.67279 12.3112 3.04846C12.2112 3.01113 12.1101 2.97338 12.0077 2.93541C10.1745 2.25563 8.06074 1.59136 5.17004 2.81989C4.41981 3.13873 4 3.8746 4 4.61801V21C4 21.5523 4.44772 22 5 22C5.55228 22 6 21.5523 6 21V15.637Z",fill:"currentColor"})),Pye={showFreeTrialLoadingPayment:!1,showConfirmDismissFreeTrial:!1,didCloseFreeTrial:!1},a9=Me()(()=>({...Pye}));function QIe(e){a9.setState({showFreeTrialLoadingPayment:e})}function JIe(e){a9.setState({showConfirmDismissFreeTrial:e})}function XIe(e){a9.setState({didCloseFreeTrial:e})}const Oye=()=>ye({queryKey:["userSurvey"],queryFn:async()=>q.getActiveUserSurvey()}),Nye=()=>{const e=be();return Ve({mutationFn:async({surveyId:t,reason:n})=>q.completeUserSurvey(t,n),onSuccess:async()=>{e.invalidateQueries({queryKey:["userSurvey"]})}})};function eje(){const e=U(),[t,n]=d.useState(!1),r=Oye().data?.survey,a=Nye(),o=c=>{n(!0),r!=null&&a.mutate({surveyId:r.id,reason:c})},s=!t&&r!=null,l=Ja();return s?i.jsx("div",{className:P("mb-1 bg-brand-blue-800",l?"mx-3 rounded-md":"mx-1 rounded-sm"),children:i.jsxs("div",{className:"flex flex-col items-center justify-stretch gap-3 p-3 text-sm text-white",children:[i.jsxs("div",{className:"flex w-full items-start",children:[i.jsxs("div",{className:"flex flex-grow flex-col gap-1",children:[i.jsx("div",{className:"font-bold",children:i.jsx(b,{id:"navigation.survey.title",defaultMessage:"We are asking a small group of people for their opinion"})}),i.jsx("div",{children:i.jsx(b,{id:"navigation.survey.description",defaultMessage:"Could you spare few minutes to take a short survey?"})})]}),i.jsx("button",{className:"text-white/25 hover:text-white/40",onClick:()=>o("dismissed"),"aria-label":e.formatMessage({id:"navigation.survey.dismiss",defaultMessage:"Dismiss survey"}),children:i.jsx(ls,{className:"icon-sm-adaptive"})})]}),i.jsxs("a",{href:r.link,target:"_blank",className:"flex w-full flex-row items-center justify-center gap-2 rounded bg-white/25 p-2 hover:bg-white/40",rel:"noreferrer",onClick:()=>o("link_clicked"),children:[i.jsx(Da,{className:"icon-sm"}),i.jsx(b,{id:"navigation.survey.takeSurvey",defaultMessage:"Take survey"})]})]})}):null}function Iye(){return i.jsxs(i.Fragment,{children:[i.jsx(ce.Item,{icon:Da,children:i.jsx("a",{href:r2e(),target:"_blank",onClick:()=>{S.logEvent(k.clickFaqLink)},className:"w-full",rel:"noreferrer",children:i.jsx(b,{id:"thread.helpAndFaq",defaultMessage:"Help & FAQ"})})}),i.jsx(ce.Item,{icon:Da,children:i.jsx("a",{href:a2e(),target:"_blank",className:"w-full",rel:"noreferrer",children:i.jsx(b,{id:"thread.releaseNotes",defaultMessage:"Release notes"})})}),i.jsx(ce.Item,{icon:Da,children:i.jsx("a",{href:"https://openai.com/policies",target:"_blank",onClick:()=>{S.logEvent(k.clickPrivacyPolicy)},className:"w-full",rel:"noreferrer",children:i.jsx(b,{id:"thread.termsAndPolicies",defaultMessage:"Terms & policies"})})})]})}const tje=({setIsMobileAppUpsellBannerVisible:e=()=>{}})=>{const t=U(),n=ca(),r=VN(),[a,o]=d.useState(()=>localStorage.getItem(Ue.HasDismissedMobileAppUpsellBanner)==="true"),{layer:s}=xn("3927927759"),l=n&&r&&!a&&s.get("enable_mobile_app_upsell_banner",!1);d.useEffect(()=>{l&&(z.logEvent("chatgpt_web_mobile_app_upsell_banner_shown"),S.logEvent(k.mobileAppUpsellBannerShown)),e(l)},[l,e]);const c=()=>{o(!0),localStorage.setItem(Ue.HasDismissedMobileAppUpsellBanner,"true"),e(!1),z.logEvent("chatgpt_web_mobile_app_upsell_banner_dismissed"),S.logEvent(k.mobileAppUpsellBannerDismissed)},u=()=>{window.open("https://apps.apple.com/us/app/chatgpt/id6448311069","_blank"),z.logEvent("chatgpt_web_mobile_app_upsell_banner_clicked"),S.logEvent(k.mobileAppUpsellBannerClicked)};return i.jsx(i.Fragment,{children:l&&i.jsx(F1e,{title:t.formatMessage({id:"mobileTopBanner.title",defaultMessage:"ChatGPT"}),content:t.formatMessage({id:"mobileTopBanner.content",defaultMessage:"The official app by OpenAI"}),secondaryCtaText:t.formatMessage({id:"mobileTopBanner.secondaryCtaText",defaultMessage:"Open"}),onDismiss:c,onSecondaryCtaClick:u})})};function nje({clientThreadId:e,urlThreadId:t}){const n=U(),r=Ge(),a=ia();return i.jsx(Vi,{children:a&&e&&!!t&&i.jsx(epe,{isOpen:!0,title:i.jsx(b,{id:"HistoryGizmoItem.leaveTempChatTitle",defaultMessage:"Leave Temporary Chat?"}),description:i.jsx(b,{id:"HistoryGizmoItem.leaveTempChatDescription",defaultMessage:"Temporary Chats don't appear in your history, so you won't be able to come back to it."}),confirmText:n.formatMessage({id:"HistoryGizmoItem.leaveTempChatConfirm",defaultMessage:"Leave Temporary Chat"}),onClose:()=>{r("/")},onConfirm:()=>{AC.setIsTemporaryChatEnabled(!1)}})})}const rje=e=>d.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},d.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.82918 4.10557C5.16796 3.428 5.86049 3 6.61803 3H17.382C18.1395 3 18.832 3.428 19.1708 4.10557L20.7889 7.34164C20.9277 7.61935 21 7.92558 21 8.23607V18C21 19.6569 19.6569 21 18 21H6C4.34315 21 3 19.6569 3 18V8.23607C3 7.92558 3.07229 7.61935 3.21115 7.34164L4.82918 4.10557ZM17.382 5H6.61803L5.61803 7H18.382L17.382 5ZM19 9H5V18C5 18.5523 5.44772 19 6 19H18C18.5523 19 19 18.5523 19 18V9ZM11.2929 10.7929C11.6834 10.4024 12.3166 10.4024 12.7071 10.7929L15.2071 13.2929C15.5976 13.6834 15.5976 14.3166 15.2071 14.7071C14.8166 15.0976 14.1834 15.0976 13.7929 14.7071L13 13.9142V16.5C13 17.0523 12.5523 17.5 12 17.5C11.4477 17.5 11 17.0523 11 16.5V13.9142L10.2071 14.7071C9.81658 15.0976 9.18342 15.0976 8.79289 14.7071C8.40237 14.3166 8.40237 13.6834 8.79289 13.2929L11.2929 10.7929Z",fill:"currentColor"}));function jye({id:e,label:t,checked:n,onChange:r,disabled:a,className:o,labelClassName:s,readOnly:l,labelSide:c="right"}){const u=t&&i.jsx("label",{className:P("form-check-label text-token-text-primary",s),htmlFor:e,children:t});return i.jsxs("div",{className:"form-check flex items-center gap-2",children:[c==="left"&&u,i.jsx("input",{className:P("form-check-input float-left h-4 w-4 appearance-none rounded-sm border border-gray-300 bg-white bg-contain bg-center bg-no-repeat align-top transition duration-200 checked:border-blue-600 checked:bg-blue-600 focus:outline-none",a?"cursor-not-allowed":"cursor-pointer",o),type:"checkbox",disabled:a,onChange:r,checked:n,readOnly:l,id:e,"data-testid":e}),c==="right"&&u]})}const aje=136,oje=he.div`draggable no-draggable-children sticky top-0 p-3 mb-1.5 flex items-center justify-between z-10 h-header-height font-semibold bg-token-main-surface-primary`,sje=d.forwardRef(function(t,n){const{tooltip:r,className:a,testId:o,...s}=t,l=i.jsx(re,{color:t.color??"secondary",size:"medium",...s,className:a,ref:n,"data-testid":o});return r!=null?i.jsx(ot,{label:r,children:l}):l});function ije({label:e,disabled:t=!1,tooltipText:n,value:r}){const a=d.useId();return i.jsx("div",{className:P("flex items-center gap-2",t?"opacity-50":""),children:i.jsx(DC,{disabled:n==null,label:n,side:"right",children:i.jsxs("label",{htmlFor:a,className:"flex cursor-pointer items-center gap-1",children:[i.jsx(lT,{id:a,value:r,disabled:t,className:"mr-1 flex h-5 w-5 shrink-0 items-center justify-center rounded-full border border-gray-500 bg-white dark:border-gray-600 dark:bg-gray-700",children:i.jsx(cT,{className:"h-2 w-2 rounded-full bg-gray-950 dark:bg-white"})}),e]})})})}function lje(e){return i.jsx(jye,{...e,className:P("!rounded border-gray-950 checked:!bg-black dark:border-gray-600 dark:bg-gray-700",e.className)})}function Rye(){return $t("2067628123").value}var Lye=(e=>(e.Header="Header",e.HeaderTop="HeaderTop",e.HeaderBottom="HeaderBottom",e))(Lye||{}),$ye=(e=>(e.Box="Box",e.ItemActions="ItemActions",e.PromptTextareaAction="PromptTextareaAction",e.BannerTermsDisclaimer="BannerTermsDisclaimer",e.BannerSignup="BannerSignup",e.BannersRateLimit="BannersRateLimit",e.BannerSidekickAnnouncement="BannerSidekickAnnouncement",e.BannerMemoryFull="BannerMemoryFull",e.ParagenControls="ParagenControls",e.AdvancedVoiceOnMobileAnnouncement="AdvancedVoiceOnMobileAnnouncement",e.SearchBrowserExtensionAnnouncement="SearchBrowserExtensionAnnouncement",e.SearchBrowserExtensionReactiveAnnouncement="SearchBrowserExtensionReactiveAnnouncement",e.MemoryInSearchAnnouncement="MemoryInSearchAnnouncement",e.MoonshineAnnouncement="MoonshineAnnouncement",e.ProjectConversationAutoChangeModel="ProjectConversationAutoChangeModel",e.JawboneAnnouncement="JawboneAnnouncement",e.JawboneMaxActiveAnnouncement="JawboneMaxActiveAnnouncement",e))($ye||{}),Dye=(e=>(e.DallePromptControls="DallePromptControls",e))(Dye||{});const By={contentAreas:{Header:{dimensions:null,contentId:null},HeaderTop:{dimensions:null,contentId:null},HeaderBottom:{dimensions:null,contentId:null}},sharedProps:null};function Fye(){const e=Me(GN(Vn(()=>By)));function t(n,r){e.setState(a=>{a.contentAreas[n].dimensions=r})}return{reset:()=>e.setState(By),useContentAreaId(n){return e(r=>r.contentAreas[n].contentId)},useHasAnnouncementInHeader(){const n=e(r=>r.contentAreas.HeaderTop.contentId);return n==="AdvancedVoiceOnMobileAnnouncement"||n==="BannerSidekickAnnouncement"},useContentAreaApi(n){const r=d.useCallback(o=>e.setState(s=>{s.contentAreas[n].contentId=o}),[n]),a=d.useCallback(()=>{e.setState(o=>{o.contentAreas[n].contentId=null})},[n]);return{set:r,remove:a}},useContentAreaDimensions(n,r){return e(a=>r(a.contentAreas[n].dimensions))},useContentAreaResizeObserver(n,r){d.useEffect(()=>{if(r.current){t(n,r.current.getBoundingClientRect());const a=new ResizeObserver(o=>{for(const s of o)t(n,s.contentRect)});return a.observe(r.current),()=>{a.disconnect(),t(n,null)}}},[r,n])},useIsHeaderContentAreaPopulated(){return e(n=>!!n.contentAreas.HeaderTop.contentId||!!n.contentAreas.HeaderBottom.contentId)},useSharedProps(n){return e(r=>n?n(r.sharedProps):r.sharedProps)},useSetSharedProps(){return d.useCallback(n=>{e.setState(r=>{r.sharedProps=n})},[])}}}const Qk=d.createContext(null);function cje({children:e}){return i.jsx(Qk.Provider,{value:{store:d.useRef(Fye()).current},children:e})}function o9(){const e=d.useContext(Qk);if(!e)throw new Error("usePromptTextareaContext must be used within a PromptTextareaProvider");return e}function Bye(e){return e!=null&&(e.tagName==="INPUT"||e.tagName==="TEXTAREA"||e.tagName==="SELECT"||!!e.getAttribute("contenteditable"))}function uje(e){d.useEffect(()=>{const{document:t}=e;if(!t)return;const n=t.defaultView;if(!n)return;const r=a=>{a.code!=="Space"&&(!a.metaKey||a.key==="v")&&!Bye(t.activeElement)&&e.focus()};return n.addEventListener("keypress",r),()=>{n.removeEventListener("keypress",r)}},[e])}function dje({fullHeight:e,isStaticSharedThread:t,children:n,withVerticalPadding:r,withHorizontalPadding:a}){const o=fh();a=a&&!o;const s=a&&!t;return i.jsx("div",{className:P("m-auto text-base",r&&"py-[18px]",a&&"px-3 md:px-4",s&&"w-full md:px-5 lg:px-4 xl:px-5",e&&"h-full"),children:n})}function fje({children:e}){const t=bl(),n=Nf();return i.jsx("div",{className:P("mx-auto flex flex-1 gap-4 text-base md:gap-5 lg:gap-6",n?"md:max-w-3xl":"md:max-w-3xl lg:max-w-[40rem] xl:max-w-[48rem]",t&&"-mx-4"),children:e})}function pje({children:e}){const t=bl(),n=Nf(),r=Ja(),a=WN();return r?i.jsx("div",{className:"mx-auto flex h-full max-w-[var(--screen-content-ideal-size)] flex-col text-base @lg/thread:justify-center @lg/thread:pb-[calc(var(--thread-leading-height,60px)+76px)]",children:e}):i.jsx("div",{className:P("mx-auto flex h-full w-full flex-col text-base",a?"@lg/thread:justify-center":"lg:justify-center",n?a?"@md/thread:max-w-3xl":"md:max-w-3xl":a?"@md/thread:max-w-3xl @lg/thread:max-w-[40rem] @xl/thread:max-w-[48rem]":"md:max-w-3xl lg:max-w-[40rem] xl:max-w-[48rem]",t&&"-mx-4"),children:e})}const mje=e=>d.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},d.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.47189 2.5C5.02418 2.5 5.47189 2.94772 5.47189 3.5V5.07196C7.17062 3.47759 9.45672 2.5 11.9719 2.5C17.2186 2.5 21.4719 6.75329 21.4719 12C21.4719 17.2467 17.2186 21.5 11.9719 21.5C7.10259 21.5 3.09017 17.8375 2.53689 13.1164C2.47261 12.5679 2.86517 12.0711 3.4137 12.0068C3.96223 11.9425 4.45901 12.3351 4.5233 12.8836C4.95988 16.6089 8.12898 19.5 11.9719 19.5C16.114 19.5 19.4719 16.1421 19.4719 12C19.4719 7.85786 16.114 4.5 11.9719 4.5C9.7515 4.5 7.75549 5.46469 6.38143 7H9C9.55228 7 10 7.44772 10 8C10 8.55228 9.55228 9 9 9H4.47189C3.93253 9 3.4929 8.57299 3.47262 8.03859C3.47172 8.01771 3.47147 7.99677 3.47189 7.9758V3.5C3.47189 2.94772 3.91961 2.5 4.47189 2.5Z",fill:"currentColor"}));function gje(){const e=U();return i.jsx(re,{onClick:()=>{Re.openModal(et.SharedConversationModeration)},className:"w-1/3",children:e.formatMessage({id:"thread.sharedConversation.moderate",defaultMessage:"Moderate conversation"})})}function Jk({className:e,...t}){return i.jsx("textarea",{className:P("form-textarea w-full rounded-lg border border-token-border-light bg-token-main-surface-secondary text-sm text-token-text-primary focus:border-token-text-primary focus:shadow-none focus:outline-none focus:ring-token-text-primary",e),...t})}const Uye=e=>d.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},d.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.8221 2.07733C10.7784 0.380718 13.2216 0.380718 14.1779 2.07733L16.2635 5.77769C16.3349 5.90428 16.4578 5.99357 16.6002 6.02231L20.764 6.86243C22.6731 7.24763 23.4281 9.57124 22.11 11.005L19.2352 14.1321C19.1369 14.239 19.09 14.3835 19.1066 14.5279L19.5943 18.7475C19.8179 20.6821 17.8413 22.1182 16.0704 21.3077L12.2081 19.54C12.0759 19.4795 11.924 19.4795 11.7919 19.54L7.92953 21.3077C6.15864 22.1182 4.18206 20.6821 4.40565 18.7475L4.89332 14.5279C4.91 14.3835 4.86306 14.239 4.76472 14.1321L1.88997 11.005C0.571908 9.57124 1.32689 7.24763 3.23598 6.86243L7.39974 6.02231C7.54218 5.99357 7.66507 5.90428 7.73642 5.77769L9.8221 2.07733Z",fill:"currentColor"}));function Hye(e,t){const n=e??t??0;return P(e!=null&&e!=t&&"opacity-50 dark:opacity-60",n>4?"text-brand-purple":n>3?"text-green-500":n>2?"text-yellow-500":n>1?"text-orange-500":"text-red-500")}function Vye(e){switch(e){case 1:return pn.hoverRating1;case 2:return pn.hoverRating2;case 3:return pn.hoverRating3;case 4:return pn.hoverRating4;case 5:return pn.hoverRating5}}function Gye(e){return ye({queryFn:async()=>tt.getUserReview(e),queryKey:["gizmo","review",{gizmoId:e}],enabled:e!=null})}const Wye=({rating:e,onRating:t,className:n})=>{const[r,a]=d.useState(),o=U();return i.jsx("div",{className:P("flex flex-row",n),children:[1,2,3,4,5].map(s=>{const l=i.jsx(Uye,{className:P("icon-2xl cursor-pointer",(r??e??0)>=s?Hye(r,e):"text-token-main-surface-tertiary")}),c=Vye(r??0),u=c&&o.formatMessage(c);return i.jsx("div",{onClick:()=>{t(s)},onMouseEnter:()=>{a(s)},onMouseLeave:()=>{a(void 0)},className:"p-1",children:c?i.jsx(ot,{label:u,side:"top",sideOffset:4,children:l}):l},s)})})},hje=({gizmo:e})=>d4(et.GPTReview)?i.jsx(zye,{gizmo:e}):null,zye=({gizmo:e})=>{const t=cn(),n=()=>Re.closeModal(et.GPTReview),r=U(),a=Ne(),[o,s]=d.useState(""),[l,c]=d.useState(!1),u=Gye(e.gizmo.id),f=R$(e.gizmo.id),[p,m]=d.useState(),g=p===u.data?.rating;d.useEffect(()=>{u.data!=null&&p==null&&m(u.data.rating)},[u.data,p]),d.useEffect(()=>{S.logEvent(k.showRatingModal,{gizmo_id:e.gizmo.id})},[e.gizmo.id]);const h=u.data!=null,v=!e.gizmo.tags?.includes(Ji.FirstParty)&&e.gizmo.author.will_receive_support_emails;return i.jsx(Te,{type:"success",title:i.jsxs("div",{children:[i.jsx(b,{...pn.title}),i.jsxs("div",{className:"align-end mt-2 flex text-sm font-normal",children:[h?i.jsx(b,{...pn.subtitleChange}):i.jsx(b,{...pn.subtitle}),i.jsx(ot,{label:r.formatMessage(pn.subtitleTooltip),className:"ml-1 flex cursor-pointer items-center pl-1",sideOffset:0,children:i.jsx("div",{className:"icon-xs flex items-center justify-center rounded-full border border-token-text-tertiary text-[8px] font-bold text-token-text-tertiary",children:"i"})})]})]}),isOpen:!0,onClose:n,size:"custom",showCloseButton:!0,className:"max-w-xl overflow-y-auto",hideSeparator:!0,children:i.jsxs("div",{className:"flex flex-grow flex-col space-y-8",children:[i.jsx(Wye,{rating:p,onRating:m,className:"mx-auto flex flex-row items-center"}),v&&i.jsxs("div",{children:[i.jsx(Jk,{className:"mb-1 w-full resize-none overflow-y-auto rounded-md bg-transparent focus:border-gray-200 focus:ring-gray-200 dark:focus:border-white dark:focus:ring-white",placeholder:r.formatMessage(pn.messagePlaceholder),value:o,rows:1,onChange:y=>s(y.target.value)}),i.jsxs("div",{className:P("flex flex-row items-center space-x-2 self-start",o.length>0?"text-token-text-primary":"text-token-text-tertiary"),children:[i.jsx("input",{type:"checkbox",className:"rounded",checked:l,onChange:y=>c(y.target.checked)}),t&&i.jsx("span",{className:"text-sm",children:i.jsx(b,{...pn.includeFrom,values:{email:i.jsx("strong",{children:t.email})}})})]})]}),i.jsx(re,{color:"primary",disabled:g,onClick:async()=>{if(p==null){a.warning("Please select a rating");return}S.logEvent(k.submitRatingModal,{gizmo_id:e.gizmo.id,rating:p}),await f.mutateAsync({rating:p,message:o.length>0?o:void 0,includeFrom:o.length>0?l:void 0}),a.success(r.formatMessage(pn.successToast),{duration:3}),n()},children:i.jsx(b,{...pn.submit})})]})})},pn=V({title:{id:"GizmoReviewModal.title",defaultMessage:"Leave Feedback"},subtitle:{id:"GizmoReviewModal.subtitle",defaultMessage:"How would you rate this GPT?"},subtitleChange:{id:"GizmoReviewModal.subtitleChange",defaultMessage:"Would you like to change your rating?"},subtitleTooltip:{id:"GizmoReviewModal.subtitleTooltip",defaultMessage:"Stars will be public and anonymous"},messagePlaceholder:{id:"GizmoReviewModal.messagePlaceholder",defaultMessage:"Add an optional private email to the creator"},submit:{id:"GizmoReviewModal.submit",defaultMessage:"Submit"},successToast:{id:"GizmoReviewModal.successToast",defaultMessage:"Review sent"},includeFrom:{id:"GizmoReviewModal.includeFrom",defaultMessage:"Include my email address {email}"},hoverRating1:{id:"GizmoReviewModal.hoverRating1",defaultMessage:"Bad"},hoverRating2:{id:"GizmoReviewModal.hoverRating2",defaultMessage:"Okay"},hoverRating3:{id:"GizmoReviewModal.hoverRating3",defaultMessage:"Good"},hoverRating4:{id:"GizmoReviewModal.hoverRating4",defaultMessage:"Great!"},hoverRating5:{id:"GizmoReviewModal.hoverRating5",defaultMessage:"Excellent!"}}),Xk=e=>d.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},d.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V12C13 12.2652 12.8946 12.5196 12.7071 12.7071L10.2071 15.2071C9.81658 15.5976 9.18342 15.5976 8.79289 15.2071C8.40237 14.8166 8.40237 14.1834 8.79289 13.7929L11 11.5858V7C11 6.44772 11.4477 6 12 6Z",fill:"currentColor"})),qye=e=>d.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},d.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.4845 2.8798C16.1773 1.57258 14.0107 1.74534 12.9272 3.24318L9.79772 7.56923C9.60945 7.82948 9.30775 7.9836 8.98654 7.9836H6.44673C3.74061 7.9836 2.27414 11.6759 4.16948 13.5713L6.59116 15.993L2.29324 20.2909C1.90225 20.6819 1.90225 21.3158 2.29324 21.7068C2.68422 22.0977 3.31812 22.0977 3.70911 21.7068L8.00703 17.4088L10.4287 19.8305C12.3241 21.7259 16.0164 20.2594 16.0164 17.5533V15.0135C16.0164 14.6923 16.1705 14.3906 16.4308 14.2023L20.7568 11.0728C22.2547 9.98926 22.4274 7.8227 21.1202 6.51549L17.4845 2.8798ZM11.8446 18.4147C12.4994 19.0694 14.0141 18.4928 14.0141 17.5533V15.0135C14.0141 14.0499 14.4764 13.1447 15.2572 12.58L19.5832 9.45047C20.0825 9.08928 20.1401 8.3671 19.7043 7.93136L16.0686 4.29567C15.6329 3.85993 14.9107 3.91751 14.5495 4.4168L11.4201 8.74285C10.8553 9.52359 9.95016 9.98594 8.98654 9.98594H6.44673C5.5072 9.98594 4.93059 11.5006 5.58535 12.1554L11.8446 18.4147Z",fill:"currentColor"}));function Zye(e){return e!==e}var Yye=Zye;function Kye(e,t,n){for(var r=n-1,a=e.length;++r<a;)if(e[r]===t)return r;return-1}var Qye=Kye,Jye=jx,Xye=Yye,e8e=Qye;function t8e(e,t,n){return t===t?e8e(e,t,n):Jye(e,Xye,n)}var n8e=t8e,r8e=n8e;function a8e(e,t){var n=e==null?0:e.length;return!!n&&r8e(e,t,0)>-1}var o8e=a8e;function s8e(e,t,n){for(var r=-1,a=e==null?0:e.length;++r<a;)if(n(t,e[r]))return!0;return!1}var i8e=s8e,R0=zN,l8e=qN,c8e=FC,u8e=1/0,d8e=R0&&1/c8e(new R0([,-0]))[1]==u8e?function(e){return new R0(e)}:l8e,f8e=d8e,p8e=ZN,m8e=o8e,g8e=i8e,h8e=YN,v8e=f8e,y8e=FC,C8e=200;function x8e(e,t,n){var r=-1,a=m8e,o=e.length,s=!0,l=[],c=l;if(n)s=!1,a=g8e;else if(o>=C8e){var u=t?null:v8e(e);if(u)return y8e(u);s=!1,a=h8e,c=new p8e}else c=t?[]:l;e:for(;++r<o;){var f=e[r],p=t?t(f):f;if(f=n||f!==0?f:0,s&&p===p){for(var m=c.length;m--;)if(c[m]===p)continue e;t&&c.push(p),l.push(f)}else a(c,p,n)||(c!==l&&c.push(p),l.push(f))}return l}var b8e=x8e,w8e=rs,_8e=b8e;function S8e(e,t){return e&&e.length?_8e(e,w8e(t)):[]}var M8e=S8e;const eA=ve(M8e),tA=({actions:e,title:t,description:n,onDismiss:r})=>{const a=U(),o=e?.primaryAction?.text?a.formatMessage(e.primaryAction.text):void 0,s=e?.secondaryAction?.text?a.formatMessage(e.secondaryAction.text):void 0;return i.jsx(Ir,{title:t,content:n,onDismiss:r,primaryCtaText:o,onPrimaryCtaClick:e?.primaryAction?.onClick??void 0,secondaryCtaText:s,onSecondaryCtaClick:e?.secondaryAction?.onClick??void 0,isElevated:!0})},T8e=({clientThreadId:e,rateLimitInfo:t,onDismiss:n})=>{const{name:r,title:a,call_to_action:o,description:s}=t,l=Se(),c=Xi(!0),u=BC(),f=L1(e),p=l?.planType??"unknown",m=u&&"block_reason"in u?u.block_reason:null,g="banner_description",h={type:r||"unknown",location:g,plan_type:p,is_new_conversation:f,is_hard_block:!!u,hard_block_reason:m??"",call_to_action:o},v=Ge(),y=un(),{isUnauthenticated:x}=Lt(),C=Is(),w=io(Ct.signUpButtonText),_=ua(),E=D=>{switch(D){case an.AUTHENTICATE:return{text:C?Ct.logInButtonText:w,onClick:()=>{y({authType:C?"login":"signup",callback:j=>{C?S.logLogInButtonClicked({location:`Rate limit banner - ${r}`,provider:j}):S.logSignUpButtonClicked({location:`Rate limit banner - ${r}`,provider:j})}})}};case an.AUTHENTICATE_SECONDARY:return{text:C?w:Ct.logInButtonText,onClick:()=>{y({authType:C?"signup":"login",callback:j=>{C?S.logSignUpButtonClicked({location:`Rate limit banner - ${r}`,provider:j}):S.logLogInButtonClicked({location:`Rate limit banner - ${r}`,provider:j})}})}};case an.GET_PLUS:return{text:L0.getPlusButton,onClick:()=>{S.logRateLimitGetPlusButtonClicked(h),x?y({authType:C?"login":"signup",shouldOpenPaymentModalOnAuth:!0,callback:j=>{C?S.logLogInButtonClicked({location:"Rate limit banner Get Plus upsell",provider:j}):S.logSignUpButtonClicked({location:"Rate limit banner Get Plus upsell",provider:j})}}):oa(v,"Prompt textarea rate limit banner")}};case an.NEW_CHAT:return{text:L0.newChatButton,onClick:()=>{c({modelId:"",location:g})}};case"get_pro":return{text:L0.getProButton,onClick:()=>{S.logRateLimitUpgradePlanButtonClicked({...h,upgrade_plan_tye:"pro"}),x?y({authType:C?"login":"signup",shouldOpenPaymentModalOnAuth:!0,callback:j=>{C?S.logLogInButtonClicked({location:"Rate limit banner Get Pro upsell",provider:j}):S.logSignUpButtonClicked({location:"Rate limit banner Get Pro upsell",provider:j})}}):oa(v,"Prompt textarea rate limit banner")}}}};Vf(()=>{S.logRateLimitBannerShown(h)});let[T,M]=o??[];T===an.AUTHENTICATE&&_&&(M=an.AUTHENTICATE_SECONDARY);const A={primaryAction:E(T),secondaryAction:E(M)};return i.jsx(tA,{onDismiss:n,title:a,description:s,actions:A})},L0=V({getPlusButton:{id:"TeyLcp",defaultMessage:"Get Plus"},getProButton:{id:"Pl8/Vk",defaultMessage:"Get Pro"},newChatButton:{id:"7OvnJ5",defaultMessage:"New chat"}}),E8e=({clientThreadId:e,rateLimitInfo:t,onDismiss:n})=>{const{name:r,title:a,call_to_action:o,description:s}=t,l=Se(),c=Xi(!0),u=BC(),f=L1(e),p=l?.planType??"unknown",m=ua(),g=u&&"block_reason"in u?u.block_reason:null,h="banner_description",v={type:r||"unknown",location:h,plan_type:p,is_new_conversation:f,is_hard_block:!!u,hard_block_reason:g??"",call_to_action:o},y=Ge(),x=un(),{isUnauthenticated:C}=Lt(),w=Is(),_=io(Ct.signUpButtonText),E=D=>{switch(D){case an.AUTHENTICATE:return{text:w?Ct.logInButtonText:_,onClick:()=>{x({authType:w?"login":"signup",callback:j=>{w?S.logLogInButtonClicked({location:`Rate limit banner - ${r}`,provider:j}):S.logSignUpButtonClicked({location:`Rate limit banner - ${r}`,provider:j})}})}};case an.AUTHENTICATE_SECONDARY:return{text:w?_:Ct.logInButtonText,onClick:()=>{x({authType:w?"signup":"login",callback:j=>{w?S.logSignUpButtonClicked({location:`Rate limit banner - ${r}`,provider:j}):S.logLogInButtonClicked({location:`Rate limit banner - ${r}`,provider:j})}})}};case an.GET_PLUS:return{text:Uy.getPlusButton,onClick:()=>{S.logRateLimitGetPlusButtonClicked(v),C?x({authType:w?"login":"signup",shouldOpenPaymentModalOnAuth:!0,callback:j=>{w?S.logLogInButtonClicked({location:"Rate limit banner Get Plus upsell",provider:j}):S.logSignUpButtonClicked({location:"Rate limit banner Get Plus upsell",provider:j})}}):oa(y,"Prompt textarea rate limit banner")}};case an.NEW_CHAT:return{text:Uy.newChatButton,onClick:()=>{c({modelId:"",location:h})}}}};Vf(()=>{S.logRateLimitBannerShown(v)});let[T,M]=o??[];T===an.AUTHENTICATE&&m&&(M=an.AUTHENTICATE_SECONDARY);const A={primaryAction:E(T),secondaryAction:E(M)};return i.jsx(tA,{onDismiss:n,title:a,description:s,actions:A})},Uy=V({getPlusButton:{id:"TeyLcp",defaultMessage:"Get Plus"},newChatButton:{id:"7OvnJ5",defaultMessage:"New chat"}}),k8e=e=>{const{value:t}=$t("1028682714");return t?i.jsx(T8e,{...e}):i.jsx(E8e,{...e})},nA=he.div`group flex h-10 items-center gap-2 rounded-lg px-2 hover:bg-token-main-surface-secondary text-sm text-token-text-primary`;function A8e(){const{data:e,isLoading:t}=N$({cutId:"recent",limit:8}),{data:n,isLoading:r}=I$();return{isLoading:t||r,recent:e,pinned:n}}function P8e({query:e,onSelectGizmo:t,selectedIdx:n},r){const a=N1(),o=d.useRef([]),{isLoading:s,recent:l,pinned:c}=A8e();d.useImperativeHandle(r,()=>({handleEnterOnIndex:p=>{if(!f[p])return p<u.length?u[p].resource:"create"},getResultsLength:()=>u.length+1,scrollToItem:p=>{const m=o.current[p];m&&m.scrollIntoView({behavior:"instant",block:"nearest"})}}));let u=[];if(s)return i.jsx("div",{className:"absolute right-4 top-0 flex h-full items-center justify-center",children:i.jsx(yn,{})});l&&u.push(...l.pages.flatMap(p=>p.list.items).map(p=>({resource:p.resource,from:"recent"}))),c&&u.push(...c.items.map(p=>({resource:p,from:"pinned"}))),u=eA(u,p=>p.resource.gizmo.id);const f=u.map(p=>p.resource.gizmo.tags?.includes(Ji.WorkspaceDisabled));return e&&e!==""&&(u=u.filter(p=>(p.resource.gizmo.display.name.toLowerCase()+p.resource.gizmo.display.description?.toLowerCase()+p.resource.gizmo.author.display_name?.toLowerCase()).includes(e?.toLowerCase()))),i.jsxs("div",{className:"max-h-40 overflow-y-auto",children:[u.map((p,m)=>i.jsx("div",{ref:g=>{o.current[m]=g},tabIndex:m,onClick:()=>{f[m]||t(p.resource)},children:i.jsx(j8e,{gizmoResource:p.resource,from:p.from,showDescription:a,isSelected:n===m,grayedOut:f[m]})},p.resource.gizmo.id)),i.jsx("div",{ref:p=>{o.current[u.length]=p},tabIndex:u.length,onClick:()=>{t("create")},children:i.jsx(N8e,{isSelected:n===u.length})},"create")]})}const O8e=d.forwardRef(P8e),N8e=({isSelected:e})=>i.jsx(nA,{className:e?"bg-token-main-surface-secondary":"",children:i.jsxs(Tr,{to:"/gpts/editor",target:"_blank",className:"flex flex-row space-x-2 font-semibold",children:[i.jsx("span",{className:"self-center",children:i.jsx(m4,{className:"icon-sm"})}),i.jsx("span",{children:i.jsx(b,{...rA.dropdownCreateLabel})})]})}),I8e=({onClick:e,onClose:t})=>{const[n,r]=d.useState(null),a=d.useRef(null),o=d.useRef(null),[s,l]=d.useState(0),c=U(),u=f=>{S.logEvent(k.mentionsClickGizmo,{gizmo_id:f==="create"?"create":f.gizmo.id}),f!=="create"&&e(f)};return i.jsxs(i.Fragment,{children:[i.jsx("input",{autoFocus:!0,placeholder:c.formatMessage(rA.searchPlaceholder),ref:a,onKeyDown:f=>{const p=o.current?.getResultsLength()??0;if((f.key==="Escape"||f.key==="Backspace"&&!n)&&(f.preventDefault(),t()),f.key==="Enter"||f.key==="Tab"){f.preventDefault();const m=o.current?.handleEnterOnIndex(s);if(!m)return;m==="create"?(window.open("/gpts/editor","_blank"),t()):u(m)}if(f.key==="ArrowDown"&&s<p-1){f.preventDefault();const m=s+1;o.current?.scrollToItem(m),l(m)}if(f.key==="ArrowUp"&&s>0){f.preventDefault();const m=s-1;o.current?.scrollToItem(m),l(m)}},onChange:f=>{r(f.target.value),l(0)},className:"w-full border-0 bg-token-main-surface-primary p-2 text-sm focus:outline-none"}),i.jsx(O8e,{ref:o,query:n,selectedIdx:s,onSelectGizmo:u})]})},vje=({onClick:e,onClose:t})=>{const n=KN(),r=!!n;return Vf(()=>{S.logEvent(k.mentionsOpened,{gizmo_selector_disabled:r})}),r?i.jsx(k8e,{clientThreadId:rC,rateLimitInfo:n}):i.jsx("div",{onBlur:a=>{a.currentTarget.contains(a.relatedTarget)||t()},className:"popover rounded-2xl border border-token-border-light bg-token-main-surface-primary p-2 shadow-lg",children:i.jsx(I8e,{onClick:e,onClose:t})})};function j8e({gizmoResource:e,from:t,showDescription:n,isSelected:r,grayedOut:a}){const o=!!e.gizmo.tags?.includes(Ji.FirstParty);return i.jsxs(nA,{className:P(r?"bg-token-main-surface-secondary":"",a&&"opacity-50"),children:[i.jsx(n9,{isFirstParty:o,src:e.gizmo.display.profile_picture_url,className:P("icon-xl h-7 w-7 flex-shrink-0",a&&"grayscale group-hover:grayscale-0")}),i.jsxs("div",{className:"flex h-fit grow flex-row justify-between space-x-2 overflow-hidden text-ellipsis whitespace-nowrap",children:[i.jsxs("div",{className:"flex flex-row space-x-2",children:[i.jsx("span",{className:"shrink-0 truncate font-semibold",children:e.gizmo.display.name}),n&&i.jsx("span",{className:"flex-grow truncate text-sm text-token-text-tertiary sm:max-w-xs lg:max-w-md",children:e.gizmo.display.description})]}),i.jsx("span",{className:"shrink-0 self-center",children:t==="recent"?i.jsx(Xk,{className:"icon-sm"}):i.jsx(qye,{className:"icon-sm"})})]})]})}const rA=V({talkingTo:{id:"TaggingDropdown.talkingTo",defaultMessage:"Talking to"},dropdownCreateLabel:{id:"TaggingDropdown.dropdownCreateLabel",defaultMessage:"Create a GPT"},searchPlaceholder:{id:"TaggingDropdown.searchPlaceholder",defaultMessage:"Search recent and pinned GPTs"}});let L2=null;function yje(e){L2=e}function Cje(e){return L2?L2(e):e}const R8e=e=>d.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:18,height:18,fill:"none",viewBox:"0 0 18 18",...e},d.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M5.897 2.25H6a.75.75 0 1 1 0 1.5c-.746 0-.971.006-1.138.051a1.5 1.5 0 0 0-1.06 1.06c-.045.167-.052.393-.052 1.139a.75.75 0 1 1-1.5 0v-.103c0-.597 0-1.04.102-1.423a3 3 0 0 1 2.122-2.122c.383-.103.826-.102 1.423-.102ZM13.138 3.8c-.166-.045-.392-.051-1.138-.051a.75.75 0 0 1 0-1.5h.103c.597 0 1.04 0 1.424.102a3 3 0 0 1 2.12 2.122c.104.383.103.826.103 1.423V6a.75.75 0 0 1-1.5 0c0-.746-.006-.972-.051-1.138a1.5 1.5 0 0 0-1.06-1.06ZM6 7.5a.75.75 0 0 1 .75-.75h4.5a.75.75 0 0 1 0 1.5h-4.5A.75.75 0 0 1 6 7.5Zm0 3a.75.75 0 0 1 .75-.75h3a.75.75 0 0 1 0 1.5h-3A.75.75 0 0 1 6 10.5Zm-3 .75a.75.75 0 0 1 .75.75c0 .746.007.972.051 1.138a1.5 1.5 0 0 0 1.06 1.06c.168.045.393.052 1.14.052a.75.75 0 0 1 0 1.5h-.104c-.597 0-1.04 0-1.423-.102a3 3 0 0 1-2.122-2.122c-.103-.383-.102-.826-.102-1.423V12a.75.75 0 0 1 .75-.75Zm12 0a.75.75 0 0 1 .75.75v.103c0 .597 0 1.04-.102 1.423a3 3 0 0 1-2.121 2.122c-.384.103-.827.102-1.424.102H12a.75.75 0 0 1 0-1.5c.746 0 .972-.007 1.138-.051a1.5 1.5 0 0 0 1.061-1.06c.045-.167.051-.393.051-1.139a.75.75 0 0 1 .75-.75Z",clipRule:"evenodd"})),L8e=({textdocId:e,userCreatedTextdoc:t,isCanvasOpen:n=!1,isFocused:r=!1})=>i.jsxs("div",{className:"group/file-tile relative",children:[i.jsx("button",{onClick:()=>{xx.removeTempTextdoc(e),rx()},className:"absolute -left-1 -top-1 z-10 hidden rounded-full border-[3px] border-[#f4f4f4] bg-black p-[2px] text-white group-hover/file-tile:block dark:border-token-main-surface-secondary dark:bg-white dark:text-black",children:i.jsx(eS,{className:"icon-xs"})}),i.jsx(Ore,{textdocId:e,name:t.title,tag:t.type,icon:i.jsx(R8e,{className:"icon-md"}),size:"small",isCanvasOpen:n,isFocused:r,isInlinePreview:!0,isInferring:t.status===Yr.INFERRING,onClick:()=>Va(e),children:i.jsx("div",{className:P("whitespace-pre px-4",Nu(t.type)&&"font-mono"),children:t.content})})]}),xje=({textdocId:e,userCreatedTextdoc:t})=>{const n=Mh(e),r=Ki();return i.jsx(L8e,{textdocId:e,userCreatedTextdoc:t,isFocused:n,isCanvasOpen:r})},s9=e=>d.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},d.createElement("path",{d:"M3.65266 16.5558C3.4665 16.8593 3.25742 17.2116 3.07985 17.4923C3.00344 17.6214 2.98074 17.7754 3.01663 17.921C3.05251 18.0667 3.14411 18.1925 3.27174 18.2713L6.99504 20.5626C7.05974 20.6025 7.13174 20.6292 7.20685 20.641C7.28197 20.6529 7.35868 20.6496 7.43253 20.6315C7.50637 20.6134 7.57587 20.5807 7.63697 20.5354C7.69806 20.4902 7.74954 20.4332 7.78838 20.3678C7.93732 20.1187 8.12921 19.795 8.33829 19.4485C9.81328 17.014 11.2969 17.3119 13.9719 18.5892L17.6637 20.3449C17.7329 20.3779 17.808 20.3966 17.8846 20.4C17.9612 20.4033 18.0376 20.3913 18.1095 20.3646C18.1813 20.3379 18.2471 20.2971 18.3028 20.2445C18.3586 20.1919 18.4033 20.1287 18.4341 20.0585L20.207 16.0488C20.2672 15.9112 20.2709 15.7554 20.2174 15.615C20.1638 15.4747 20.0572 15.361 19.9206 15.2984C19.1416 14.9318 17.5921 14.2015 16.1973 13.5284C11.1794 11.0911 6.91484 11.2486 3.65266 16.5558Z",fill:"#1868DB"}),d.createElement("path",{d:"M20.3472 7.4566C20.5334 7.15301 20.7424 6.80073 20.92 6.52005C20.9964 6.39094 21.0191 6.237 20.9832 6.09133C20.9474 5.94566 20.8558 5.81988 20.7281 5.74102L17.0048 3.44977C16.9396 3.40586 16.8661 3.37584 16.7888 3.36157C16.7116 3.3473 16.6322 3.34909 16.5556 3.36682C16.479 3.38455 16.4069 3.41785 16.3438 3.46463C16.2807 3.51142 16.2278 3.57071 16.1886 3.63879C16.0396 3.88797 15.8477 4.21161 15.6387 4.55816C14.1637 6.99262 12.6801 6.69476 10.005 5.41738L6.3247 3.6703C6.25549 3.63736 6.18038 3.61864 6.10381 3.61526C6.02724 3.61187 5.95076 3.62389 5.87892 3.6506C5.80708 3.67731 5.74133 3.71816 5.68556 3.77074C5.62979 3.82332 5.58515 3.88656 5.55426 3.95671L3.7814 7.96641C3.7212 8.10406 3.71748 8.25985 3.77105 8.40021C3.82463 8.54057 3.9312 8.65427 4.06781 8.7168C4.84684 9.0834 6.3963 9.81374 7.7911 10.4868C12.8204 12.9213 17.085 12.758 20.3472 7.4566Z",fill:"#1868DB"})),js=e=>d.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},d.createElement("path",{d:"M3.51117 18.4269L4.39319 19.9615C4.57646 20.2846 4.83992 20.5384 5.1492 20.723L8.29926 15.2307H1.99915C1.99915 15.5884 2.09078 15.9461 2.27406 16.2692L3.51117 18.4269Z",fill:"#0066DA"}),d.createElement("path",{d:"M11.9991 8.76916L8.84909 3.27686C8.53981 3.46147 8.27635 3.71532 8.09307 4.03839L2.27406 14.1922C2.09415 14.5083 1.99939 14.8663 1.99915 15.2307H8.29926L11.9991 8.76916Z",fill:"#00AC47"}),d.createElement("path",{d:"M18.8492 20.723C19.1585 20.5384 19.422 20.2846 19.6053 19.9615L19.9718 19.3269L21.7244 16.2692C21.9077 15.9461 21.9993 15.5884 21.9993 15.2307H15.6987L17.0394 17.8846L18.8492 20.723Z",fill:"#EA4335"}),d.createElement("path",{d:"M11.9981 8.76923L15.1482 3.27692C14.8389 3.09231 14.4838 3 14.1173 3H9.87901C9.51246 3 9.15736 3.10385 8.84808 3.27692L11.9981 8.76923Z",fill:"#00832D"}),d.createElement("path",{d:"M15.6984 15.2307H8.29862L5.14856 20.723C5.45784 20.9076 5.81294 20.9999 6.17949 20.9999H17.8175C18.1841 20.9999 18.5392 20.8961 18.8484 20.723L15.6984 15.2307Z",fill:"#2684FC"}),d.createElement("path",{d:"M18.8148 9.11532L15.9053 4.03839C15.722 3.71532 15.4585 3.46147 15.1493 3.27686L11.9992 8.76916L15.6991 15.2307H21.9878C21.9878 14.873 21.8961 14.5153 21.7128 14.1922L18.8148 9.11532Z",fill:"#FFBA00"})),i9=e=>d.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},d.createElement("path",{d:"M20.248 3H11.5801C11.5801 4.03775 11.9923 5.03299 12.7261 5.76679C13.4599 6.50058 14.4552 6.91283 15.4929 6.91283H17.0896V8.45439C17.091 10.6134 18.8409 12.3633 20.9999 12.3647V3.75198C20.9999 3.33667 20.6633 3 20.248 3Z",fill:"#1868DB"}),d.createElement("path",{d:"M15.9593 7.31885H7.29138C7.29276 9.47788 9.04266 11.2278 11.2017 11.2292H12.7984V12.7757C12.8012 14.9348 14.5522 16.6836 16.7112 16.6836V8.07083C16.7112 7.65552 16.3746 7.31885 15.9593 7.31885Z",fill:"#1868DB"}),d.createElement("path",{d:"M11.6679 11.6353H3C3 13.7962 4.75183 15.5481 6.91283 15.5481H8.51455V17.0896C8.51593 19.2467 10.2628 20.9958 12.4199 21V12.3872C12.4199 11.9719 12.0832 11.6353 11.6679 11.6353Z",fill:"#1868DB"})),l9=e=>d.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},d.createElement("path",{d:"M10.2176 2.46545L10.1154 2.52723C9.95295 2.62551 9.7999 2.73539 9.65708 2.85546L9.95168 2.64823H12.4521L12.9067 6.0902L10.6338 8.36303L8.36102 9.94282V11.7645C8.36102 13.0368 9.026 14.2166 10.1145 14.8755L12.5071 16.3238L7.45189 19.2727H6.4769L4.65967 18.1727C3.57121 17.5139 2.90625 16.334 2.90625 15.0617V8.93605C2.90625 7.66332 3.57164 6.48318 4.66065 5.82447L10.1154 2.525C10.1492 2.50455 10.1833 2.4847 10.2176 2.46545Z",fill:"url(#paint0_radial_3708_1151)"}),d.createElement("path",{d:"M10.2176 2.46545L10.1154 2.52723C9.95295 2.62551 9.7999 2.73539 9.65708 2.85546L9.95168 2.64823H12.4521L12.9067 6.0902L10.6338 8.36303L8.36102 9.94282V11.7645C8.36102 13.0368 9.026 14.2166 10.1145 14.8755L12.5071 16.3238L7.45189 19.2727H6.4769L4.65967 18.1727C3.57121 17.5139 2.90625 16.334 2.90625 15.0617V8.93605C2.90625 7.66332 3.57164 6.48318 4.66065 5.82447L10.1154 2.525C10.1492 2.50455 10.1833 2.4847 10.2176 2.46545Z",fill:"url(#paint1_linear_3708_1151)"}),d.createElement("path",{d:"M15.6331 9.72668V11.7633C15.6331 13.0356 14.9681 14.2154 13.8797 14.8743L8.4249 18.176C7.30903 18.8515 5.92066 18.8758 4.78516 18.2492L10.1135 21.4744C11.2711 22.1752 12.722 22.1752 13.8797 21.4744L19.3344 18.1726C20.4229 17.5138 21.0878 16.334 21.0878 15.0616V13.5905L20.6333 12.9086L15.6331 9.72668Z",fill:"url(#paint2_radial_3708_1151)"}),d.createElement("path",{d:"M15.6331 9.72668V11.7633C15.6331 13.0356 14.9681 14.2154 13.8797 14.8743L8.4249 18.176C7.30903 18.8515 5.92066 18.8758 4.78516 18.2492L10.1135 21.4744C11.2711 22.1752 12.722 22.1752 13.8797 21.4744L19.3344 18.1726C20.4229 17.5138 21.0878 16.334 21.0878 15.0616V13.5905L20.6333 12.9086L15.6331 9.72668Z",fill:"url(#paint3_linear_3708_1151)"}),d.createElement("path",{d:"M19.3347 5.82441L13.88 2.52494C12.7587 1.8467 11.3624 1.82569 10.2241 2.46191L10.1157 2.52746C9.02672 3.18618 8.36133 4.36629 8.36133 5.63904V9.95008L10.1157 8.88885C11.2729 8.18896 12.7228 8.18896 13.88 8.88885L19.3347 12.1883C20.3897 12.8265 21.0471 13.9539 21.0872 15.1808C21.0885 15.1412 21.0891 15.1015 21.0891 15.0617V8.93599C21.0891 7.66326 20.4237 6.48312 19.3347 5.82441Z",fill:"url(#paint4_radial_3708_1151)"}),d.createElement("path",{d:"M19.3347 5.82441L13.88 2.52494C12.7587 1.8467 11.3624 1.82569 10.2241 2.46191L10.1157 2.52746C9.02672 3.18618 8.36133 4.36629 8.36133 5.63904V9.95008L10.1157 8.88885C11.2729 8.18896 12.7228 8.18896 13.88 8.88885L19.3347 12.1883C20.3897 12.8265 21.0471 13.9539 21.0872 15.1808C21.0885 15.1412 21.0891 15.1015 21.0891 15.0617V8.93599C21.0891 7.66326 20.4237 6.48312 19.3347 5.82441Z",fill:"url(#paint5_linear_3708_1151)"}),d.createElement("defs",null,d.createElement("radialGradient",{id:"paint0_radial_3708_1151",cx:0,cy:0,r:1,gradientUnits:"userSpaceOnUse",gradientTransform:"translate(9.00587 5.92579) rotate(110.528) scale(15.1669 26.4541)"},d.createElement("stop",{offset:.06441,stopColor:"#AE7FE2"}),d.createElement("stop",{offset:1,stopColor:"#0078D4"})),d.createElement("linearGradient",{id:"paint1_linear_3708_1151",x1:9.04828,y1:18.3037,x2:6.88428,y2:14.5609,gradientUnits:"userSpaceOnUse"},d.createElement("stop",{stopColor:"#114A8B"}),d.createElement("stop",{offset:1,stopColor:"#0078D4",stopOpacity:0})),d.createElement("radialGradient",{id:"paint2_radial_3708_1151",cx:0,cy:0,r:1,gradientUnits:"userSpaceOnUse",gradientTransform:"translate(5.82811 17.6139) rotate(-8.36717) scale(14.1144 9.32348)"},d.createElement("stop",{offset:.133928,stopColor:"#D59DFF"}),d.createElement("stop",{offset:1,stopColor:"#5E438F"})),d.createElement("linearGradient",{id:"paint3_linear_3708_1151",x1:19.4317,y1:12.6254,x2:17.1128,y2:15.9504,gradientUnits:"userSpaceOnUse"},d.createElement("stop",{stopColor:"#493474"}),d.createElement("stop",{offset:1,stopColor:"#8C66BA",stopOpacity:0})),d.createElement("radialGradient",{id:"paint4_radial_3708_1151",cx:0,cy:0,r:1,gradientUnits:"userSpaceOnUse",gradientTransform:"translate(19.7505 13.1378) rotate(-165.772) scale(11.329 19.0713)"},d.createElement("stop",{offset:.0584996,stopColor:"#50E6FF"}),d.createElement("stop",{offset:1,stopColor:"#436DCD"})),d.createElement("linearGradient",{id:"paint5_linear_3708_1151",x1:8.80489,y1:2.47938,x2:12.2191,y2:2.47938,gradientUnits:"userSpaceOnUse"},d.createElement("stop",{stopColor:"#2D3F80"}),d.createElement("stop",{offset:1,stopColor:"#436DCD",stopOpacity:0})))),c9=e=>d.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},d.createElement("path",{d:"M6.1039 5.90972C6.68754 6.38386 6.90648 6.34768 8.00238 6.27457L18.3342 5.65418C18.5534 5.65418 18.3711 5.43557 18.2981 5.39924L16.5822 4.15879C16.2534 3.90354 15.8153 3.61122 14.9758 3.68434L4.9715 4.41403C4.60665 4.45021 4.53377 4.63262 4.67909 4.77886L6.1039 5.90972ZM6.72422 8.31752V19.1884C6.72422 19.7726 7.01618 19.9912 7.6733 19.955L19.028 19.298C19.6854 19.2619 19.7586 18.86 19.7586 18.3854V7.58753C19.7586 7.1137 19.5763 6.85816 19.1739 6.89464L7.30815 7.58753C6.87027 7.62433 6.72422 7.84337 6.72422 8.31752ZM17.9335 8.90066C18.0063 9.22933 17.9335 9.55768 17.6043 9.5946L17.0571 9.70361V17.7292C16.5822 17.9845 16.1441 18.1304 15.7791 18.1304C15.1947 18.1304 15.0484 17.9479 14.6107 17.401L11.0321 11.783V17.2186L12.1645 17.4741C12.1645 17.4741 12.1645 18.1304 11.2509 18.1304L8.73222 18.2765C8.65905 18.1304 8.73222 17.7659 8.98769 17.6929L9.64494 17.5108V10.324L8.73237 10.2509C8.6592 9.92222 8.84146 9.44837 9.35298 9.41159L12.0549 9.22946L15.7791 14.9205V9.88603L14.8296 9.77704C14.7567 9.37526 15.0484 9.08353 15.4135 9.04735L17.9335 8.90066ZM4.13151 3.4291L14.5376 2.66279C15.8155 2.55318 16.1443 2.6266 16.9475 3.21005L20.2692 5.54473C20.8173 5.9462 21 6.05551 21 6.49316V19.298C21 20.1005 20.7077 20.5751 19.6856 20.6477L7.60101 21.3775C6.83376 21.4141 6.4686 21.3047 6.0668 20.7937L3.6206 17.6199C3.18227 17.0357 3 16.5986 3 16.0873V4.70545C3 4.04918 3.29242 3.50177 4.13151 3.4291Z",fill:"currentColor"})),Kf=e=>d.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"60 60 150 150",xmlSpace:"preserve",...e},d.createElement("style",{type:"text/css"},`
    .st0 {
      fill: #e01e5a;
    }
    .st1 {
      fill: #36c5f0;
    }
    .st2 {
      fill: #2eb67d;
    }
    .st3 {
      fill: #ecb22e;
    }
  `),d.createElement("g",null,d.createElement("g",null,d.createElement("path",{className:"st0",d:"M99.4,151.2c0,7.1-5.8,12.9-12.9,12.9c-7.1,0-12.9-5.8-12.9-12.9c0-7.1,5.8-12.9,12.9-12.9h12.9V151.2z"}),d.createElement("path",{className:"st0",d:"M105.9,151.2c0-7.1,5.8-12.9,12.9-12.9s12.9,5.8,12.9,12.9v32.3c0,7.1-5.8,12.9-12.9,12.9         s-12.9-5.8-12.9-12.9V151.2z"})),d.createElement("g",null,d.createElement("path",{className:"st1",d:"M118.8,99.4c-7.1,0-12.9-5.8-12.9-12.9c0-7.1,5.8-12.9,12.9-12.9s12.9,5.8,12.9,12.9v12.9H118.8z"}),d.createElement("path",{className:"st1",d:"M118.8,105.9c7.1,0,12.9,5.8,12.9,12.9s-5.8,12.9-12.9,12.9H86.5c-7.1,0-12.9-5.8-12.9-12.9         s5.8-12.9,12.9-12.9H118.8z"})),d.createElement("g",null,d.createElement("path",{className:"st2",d:"M170.6,118.8c0-7.1,5.8-12.9,12.9-12.9c7.1,0,12.9,5.8,12.9,12.9s-5.8,12.9-12.9,12.9h-12.9V118.8z"}),d.createElement("path",{className:"st2",d:"M164.1,118.8c0,7.1-5.8,12.9-12.9,12.9c-7.1,0-12.9-5.8-12.9-12.9V86.5c0-7.1,5.8-12.9,12.9-12.9         c7.1,0,12.9,5.8,12.9,12.9V118.8z"})),d.createElement("g",null,d.createElement("path",{className:"st3",d:"M151.2,170.6c7.1,0,12.9,5.8,12.9,12.9c0,7.1-5.8,12.9-12.9,12.9c-7.1,0-12.9-5.8-12.9-12.9v-12.9H151.2z"}),d.createElement("path",{className:"st3",d:"M151.2,164.1c-7.1,0-12.9-5.8-12.9-12.9c0-7.1,5.8-12.9,12.9-12.9h32.3c7.1,0,12.9,5.8,12.9,12.9         c0,7.1-5.8,12.9-12.9,12.9H151.2z"})))),u9=e=>d.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},d.createElement("path",{d:"M4 4C4 2.89543 4.89543 2 6 2H14L20 8V20C20 21.1046 19.1046 22 18 22H6C4.89543 22 4 21.1046 4 20V4Z",fill:"#4285F4"}),d.createElement("path",{d:"M14 2L20 8H16C14.8954 8 14 7.10457 14 6V2Z",fill:"#1967D2"}),d.createElement("path",{d:"M8 13.75C8 13.6119 8.11193 13.5 8.25 13.5H15.75C15.8881 13.5 16 13.6119 16 13.75V14.75C16 14.8881 15.8881 15 15.75 15H8.25C8.11193 15 8 14.8881 8 14.75V13.75ZM8 16.75C8 16.6119 8.11193 16.5 8.25 16.5H13.75C13.8881 16.5 14 16.6119 14 16.75V17.75C14 17.8881 13.8881 18 13.75 18H8.25C8.11193 18 8 17.8881 8 17.75V16.75Z",fill:"white"}),d.createElement("path",{d:"M8 10.75C8 10.6119 8.11193 10.5 8.25 10.5H15.75C15.8881 10.5 16 10.6119 16 10.75V11.75C16 11.8881 15.8881 12 15.75 12H8.25C8.11193 12 8 11.8881 8 11.75V10.75Z",fill:"white"})),d9=e=>d.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},d.createElement("path",{d:"M4 4C4 2.89543 4.89543 2 6 2H14L20 8V20C20 21.1046 19.1046 22 18 22H6C4.89543 22 4 21.1046 4 20V4Z",fill:"#34A853"}),d.createElement("path",{d:"M14 2L20 8H16C14.8954 8 14 7.10457 14 6V2Z",fill:"#188038"}),d.createElement("path",{d:"M7.5 10.5C7.22386 10.5 7 10.7239 7 11V17.5C7 17.7761 7.22386 18 7.5 18H16.5C16.7761 18 17 17.7761 17 17.5V11C17 10.7239 16.7761 10.5 16.5 10.5H7.5ZM11.25 16.5L8.5 16.5V14.75L11.25 14.75V16.5ZM11.25 13.75H8.5V12H11.25V13.75ZM15.5 16.5H12.75V14.75L15.5 14.75V16.5ZM15.5 13.75H12.75V12H15.5V13.75Z",fill:"white"})),f9=e=>d.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},d.createElement("path",{d:"M4 4C4 2.89543 4.89543 2 6 2H14L20 8V20C20 21.1046 19.1046 22 18 22H6C4.89543 22 4 21.1046 4 20V4Z",fill:"#F4B400"}),d.createElement("path",{d:"M14 2L20 8H16C14.8954 8 14 7.10457 14 6V2Z",fill:"#9D7607"}),d.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 11.25C7 10.8358 7.33579 10.5 7.75 10.5H16.25C16.6642 10.5 17 10.8358 17 11.25V17.25C17 17.6642 16.6642 18 16.25 18H7.75C7.33579 18 7 17.6642 7 17.25V11.25ZM8.5 12.5V16H15.5V12.5H8.5Z",fill:"white"})),aA=e=>d.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},d.createElement("path",{d:"M13.5572 11.5349L5.65027 10.1395V20.4498C5.65027 20.9206 6.03197 21.3023 6.50282 21.3023H20.1466C20.6174 21.3023 20.9991 20.9206 20.9991 20.4498V16.6512L13.5572 11.5349Z",fill:"#185C37"}),d.createElement("path",{d:"M13.5572 2.69763H6.50282C6.03197 2.69763 5.65027 3.07933 5.65027 3.55019V7.34879L13.5572 12L17.7433 13.3953L20.9991 12V7.34879L13.5572 2.69763Z",fill:"#21A366"}),d.createElement("path",{d:"M5.65027 7.34888H13.5572V12H5.65027V7.34888Z",fill:"#107C41"}),d.createElement("path",{opacity:.1,d:"M11.3093 6.41858H5.65027V18.0465H11.3093C11.7796 18.045 12.1604 17.6641 12.1619 17.1939V7.27114C12.1604 6.80092 11.7796 6.42011 11.3093 6.41858Z",fill:"currentColor"}),d.createElement("path",{opacity:.2,d:"M10.8442 6.88379H5.65027V18.5117H10.8442C11.3144 18.5102 11.6953 18.1294 11.6968 17.6591V7.73634C11.6953 7.26613 11.3144 6.88532 10.8442 6.88379Z",fill:"currentColor"}),d.createElement("path",{opacity:.2,d:"M10.8442 6.88379H5.65027V17.5815H10.8442C11.3144 17.5799 11.6953 17.1991 11.6968 16.7289V7.73634C11.6953 7.26613 11.3144 6.88532 10.8442 6.88379Z",fill:"currentColor"}),d.createElement("path",{opacity:.2,d:"M10.3791 6.88379H5.65027V17.5815H10.3791C10.8493 17.5799 11.2301 17.1991 11.2317 16.7289V7.73634C11.2301 7.26613 10.8493 6.88532 10.3791 6.88379Z",fill:"currentColor"}),d.createElement("path",{d:"M1.85256 6.88379H10.38C10.8508 6.88379 11.2326 7.26549 11.2326 7.73635V16.2638C11.2326 16.7346 10.8508 17.1163 10.38 17.1163H1.85256C1.3817 17.1163 1 16.7346 1 16.2638V7.73635C1 7.26549 1.3817 6.88379 1.85256 6.88379Z",fill:"url(#paint0_linear_3708_1041)"}),d.createElement("path",{d:"M3.63953 14.7712L5.43301 11.9921L3.78976 9.22839H5.11162L6.00836 10.9958C6.09116 11.1637 6.1479 11.2884 6.1786 11.3707H6.19022C6.24914 11.2368 6.31115 11.1067 6.37627 10.9805L7.33487 9.22933H8.54836L6.86324 11.9768L8.59116 14.7712H7.3L6.26418 12.8312C6.21539 12.7486 6.17399 12.6619 6.14046 12.5721H6.12512C6.09477 12.6601 6.05452 12.7444 6.00511 12.8233L4.9386 14.7712H3.63953Z",fill:"white"}),d.createElement("path",{d:"M20.1489 2.69763H13.5596V7.34879H21.0014V3.55019C21.0014 3.07933 20.6197 2.69763 20.1489 2.69763Z",fill:"#33C481"}),d.createElement("path",{d:"M13.5596 12H21.0014V16.6512H13.5596V12Z",fill:"#107C41"}),d.createElement("defs",null,d.createElement("linearGradient",{id:"paint0_linear_3708_1041",x1:2.7776,y1:6.21762,x2:9.45496,y2:17.7825,gradientUnits:"userSpaceOnUse"},d.createElement("stop",{stopColor:"#18884F"}),d.createElement("stop",{offset:.5,stopColor:"#117E43"}),d.createElement("stop",{offset:1,stopColor:"#0B6631"})))),oA=e=>d.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},d.createElement("path",{d:"M13.0927 12.9302L11.6973 2.69763H11.5932C6.51931 2.71244 2.40983 6.82193 2.39502 11.8958V12L13.0927 12.9302Z",fill:"#ED6C47"}),d.createElement("path",{d:"M11.8017 2.69763H11.6975V12L16.3487 13.8604L20.9998 12V11.8958C20.985 6.82193 16.8755 2.71244 11.8017 2.69763Z",fill:"#FF8F6B"}),d.createElement("path",{d:"M20.9997 12V12.1023C20.9851 17.1773 16.8746 21.2878 11.7997 21.3023H11.595C6.52004 21.2878 2.40958 17.1773 2.39502 12.1023V12H20.9997Z",fill:"#D35230"}),d.createElement("path",{opacity:.1,d:"M12.1625 7.26975V17.1953C12.1602 17.5402 11.9512 17.8501 11.6322 17.9814C11.5307 18.0243 11.4216 18.0465 11.3113 18.0465H4.59038C4.46015 17.8977 4.33457 17.7395 4.21829 17.5814C3.03331 16.0006 2.39349 14.0779 2.39503 12.1023V11.8977C2.39231 10.1157 2.9131 8.37221 3.8927 6.8837C3.99503 6.72556 4.102 6.56742 4.21829 6.41858H11.3113C11.7799 6.42213 12.1589 6.80114 12.1625 7.26975Z",fill:"currentColor"}),d.createElement("path",{opacity:.2,d:"M11.6974 7.73496V17.6605C11.6973 17.7708 11.6752 17.8799 11.6322 17.9815C11.5009 18.3004 11.1911 18.5094 10.8462 18.5117H5.01364C4.86648 18.3623 4.72528 18.2071 4.59038 18.0466C4.46015 17.8977 4.33457 17.7396 4.21829 17.5815C3.03331 16.0007 2.39349 14.078 2.39503 12.1024V11.8977C2.39231 10.1158 2.9131 8.37231 3.8927 6.88379H10.8462C11.3148 6.88733 11.6938 7.26634 11.6974 7.73496Z",fill:"currentColor"}),d.createElement("path",{opacity:.2,d:"M11.6974 7.73495V16.7303C11.6938 17.1989 11.3148 17.5779 10.8462 17.5815H4.21829C3.03331 16.0007 2.39349 14.078 2.39503 12.1024V11.8977C2.39231 10.1158 2.9131 8.37231 3.8927 6.88379H10.8462C11.3148 6.88732 11.6938 7.26633 11.6974 7.73495Z",fill:"currentColor"}),d.createElement("path",{opacity:.2,d:"M11.2322 7.73495V16.7303C11.2287 17.1989 10.8497 17.5779 10.3811 17.5815H4.21829C3.03331 16.0007 2.39349 14.078 2.39503 12.1024V11.8977C2.39231 10.1158 2.9131 8.37231 3.8927 6.88379H10.3811C10.8497 6.88732 11.2287 7.26633 11.2322 7.73495Z",fill:"currentColor"}),d.createElement("path",{d:"M1.85255 6.88379H10.38C10.8509 6.88379 11.2325 7.2655 11.2325 7.73634V16.2638C11.2325 16.7346 10.8508 17.1163 10.38 17.1163H1.85255C1.38171 17.1163 1 16.7346 1 16.2638V7.73634C1 7.2655 1.38171 6.88379 1.85255 6.88379Z",fill:"url(#paint0_linear_3708_1042)"}),d.createElement("path",{d:"M6.20915 9.15766C6.76426 9.12021 7.31459 9.28145 7.76171 9.61255C8.13464 9.94549 8.3339 10.4313 8.30217 10.9302C8.30827 11.277 8.21585 11.6185 8.03567 11.9149C7.85325 12.2062 7.59043 12.4385 7.27892 12.5837C6.9228 12.7493 6.53344 12.8311 6.14077 12.8228H5.06217V14.8274H3.95752V9.15766H6.20915ZM5.06125 11.9567H6.01195C6.31334 11.9789 6.61239 11.8897 6.85242 11.706C7.05094 11.5156 7.155 11.247 7.1366 10.9726C7.1366 10.3477 6.7735 10.0353 6.0473 10.0353H5.06126V11.9567H5.06125Z",fill:"white"}),d.createElement("defs",null,d.createElement("linearGradient",{id:"paint0_linear_3708_1042",x1:2.7776,y1:6.21762,x2:9.45496,y2:17.7825,gradientUnits:"userSpaceOnUse"},d.createElement("stop",{stopColor:"#CA4C28"}),d.createElement("stop",{offset:.5,stopColor:"#C5401E"}),d.createElement("stop",{offset:1,stopColor:"#B62F14"})))),sA=e=>d.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},d.createElement("path",{d:"M20.1465 2.69775H6.50283C6.03197 2.69775 5.65027 3.07946 5.65027 3.55031V7.34892L13.5572 9.6745L20.9991 7.34892V3.55031C20.9991 3.07946 20.6174 2.69775 20.1465 2.69775Z",fill:"#41A5EE"}),d.createElement("path",{d:"M20.9991 7.34888H5.65027V12L13.5572 13.3954L20.9991 12V7.34888Z",fill:"#2B7CD3"}),d.createElement("path",{d:"M5.65027 12.0001V16.6513L13.0921 17.5815L20.9991 16.6513V12.0001H5.65027Z",fill:"#185ABD"}),d.createElement("path",{d:"M6.50283 21.3024H20.1466C20.6174 21.3024 20.9991 20.9207 20.9991 20.4498V16.6512H5.65027V20.4498C5.65027 20.9207 6.03197 21.3024 6.50283 21.3024Z",fill:"#103F91"}),d.createElement("path",{opacity:.1,d:"M11.3093 6.4187H5.65027V18.0466H11.3093C11.7796 18.0451 12.1604 17.6643 12.1619 17.194V7.27126C12.1604 6.80104 11.7796 6.42023 11.3093 6.4187Z",fill:"currentColor"}),d.createElement("path",{opacity:.2,d:"M10.8442 6.88379H5.65027V18.5117H10.8442C11.3144 18.5102 11.6952 18.1294 11.6968 17.6591V7.73635C11.6952 7.26613 11.3144 6.88532 10.8442 6.88379Z",fill:"currentColor"}),d.createElement("path",{opacity:.2,d:"M10.8442 6.88379H5.65027V17.5815H10.8442C11.3144 17.5799 11.6952 17.1991 11.6968 16.7289V7.73635C11.6952 7.26613 11.3144 6.88532 10.8442 6.88379Z",fill:"currentColor"}),d.createElement("path",{opacity:.2,d:"M10.3791 6.88379H5.65027V17.5815H10.3791C10.8493 17.5799 11.2301 17.1991 11.2317 16.7289V7.73635C11.2301 7.26613 10.8493 6.88532 10.3791 6.88379Z",fill:"currentColor"}),d.createElement("path",{d:"M1.85256 6.88379H10.38C10.8509 6.88379 11.2326 7.26549 11.2326 7.73635V16.2638C11.2326 16.7347 10.8509 17.1164 10.38 17.1164H1.85256C1.3817 17.1164 1 16.7347 1 16.2638V7.73635C1 7.26549 1.3817 6.88379 1.85256 6.88379Z",fill:"url(#paint0_linear_3708_1040)"}),d.createElement("path",{d:"M4.49876 13.4224C4.5155 13.554 4.52666 13.6684 4.53178 13.7666H4.55131C4.55875 13.6736 4.57425 13.5615 4.59782 13.4303C4.62139 13.2991 4.64263 13.1883 4.66154 13.0978L5.55829 9.22891H6.71782L7.64806 13.0396C7.70211 13.2766 7.74079 13.5168 7.76387 13.7587H7.77923C7.79656 13.5243 7.82888 13.2913 7.87597 13.061L8.61783 9.22705H9.67318L8.36992 14.7712H7.1369L6.25318 11.0996C6.2276 10.994 6.1983 10.8559 6.1662 10.6861C6.13411 10.5163 6.11411 10.3922 6.1062 10.314H6.09085C6.08062 10.4042 6.06061 10.5382 6.03085 10.7159C6.00108 10.8936 5.9772 11.025 5.95921 11.1103L5.12851 14.7703H3.87456L2.56433 9.2289H3.63874L4.44665 13.1056C4.4648 13.1852 4.48201 13.2912 4.49876 13.4224Z",fill:"white"}),d.createElement("defs",null,d.createElement("linearGradient",{id:"paint0_linear_3708_1040",x1:2.7776,y1:6.21762,x2:9.45496,y2:17.7825,gradientUnits:"userSpaceOnUse"},d.createElement("stop",{stopColor:"#2368C4"}),d.createElement("stop",{offset:.5,stopColor:"#1A5DBE"}),d.createElement("stop",{offset:1,stopColor:"#1146AC"})))),$8e=({className:e,contextConnector:t,extension:n})=>{const r=D8e(t,n);return i.jsx("div",{className:`${e} flex items-center justify-center rounded-md border border-gray-100 bg-gray-50 dark:border-white/10 dark:bg-token-main-surface-secondary`,children:i.jsx(r,{className:"w-[20px]"})})};function D8e(e,t){switch(e){case L.CONFLUENCE:return s9;case L.GDRIVE:switch(t){case"doc":case"docx":return u9;case"xls":case"xlsx":return d9;case"ppt":case"pptx":return f9;default:return js}case L.JIRA:return i9;case L.NOTION_OPEN_CONNECTOR:return c9;case L.O365_BUSINESS:case L.O365_PERSONAL:case L.O365:switch(t){case"doc":case"docx":return sA;case"xls":case"xlsx":return aA;case"ppt":case"pptx":return oA;default:return l9}case L.SLACK_OPEN_CONNECTOR:return Kf}}const iA=e=>d.createElement("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},d.createElement("path",{d:"M7.82373 7.35312L7.82391 7.35249L11.6726 9.65779L13.9659 8.6927C14.4319 8.49124 14.9344 8.38793 15.4421 8.38843C15.5267 8.38843 15.6103 8.39227 15.6935 8.39782C15.4178 7.32269 14.8357 6.35079 14.0181 5.60023C13.2004 4.84966 12.1823 4.35275 11.0876 4.16987C9.99283 3.98699 8.86853 4.12601 7.8513 4.57005C6.83408 5.01409 5.96772 5.74403 5.35751 6.67115C5.37712 6.67091 5.39643 6.66968 5.41608 6.66968C6.26666 6.66852 7.10061 6.90525 7.82373 7.35312Z",fill:"#0364B8"}),d.createElement("path",{d:"M7.82449 7.3525L7.82431 7.35313C7.10119 6.90526 6.26724 6.66853 5.41666 6.66968C5.39701 6.66968 5.37767 6.67091 5.35809 6.67116C4.52559 6.68147 3.71163 6.91843 3.00368 7.35659C2.29574 7.79475 1.72058 8.41754 1.34 9.15804C0.959422 9.89853 0.787821 10.7287 0.843637 11.5594C0.899452 12.3901 1.18057 13.1899 1.65679 13.8728L5.05075 12.4446L6.55948 11.8097L9.91879 10.396L11.6731 9.65779L7.82449 7.3525Z",fill:"#0078D4"}),d.createElement("path",{d:"M15.6938 8.39782C15.6106 8.39227 15.527 8.38843 15.4424 8.38843C14.9347 8.38793 14.4323 8.49163 13.9663 8.6931L11.6728 9.65779L12.3378 10.0561L14.5178 11.3619L15.4688 11.9316L18.7209 13.8795C19.0164 13.331 19.1695 12.717 19.1663 12.0939C19.163 11.4709 19.0035 10.8586 18.7023 10.3131C18.4011 9.76768 17.9678 9.30653 17.4422 8.97191C16.9166 8.63729 16.3154 8.4399 15.6938 8.39782Z",fill:"#1490DF"}),d.createElement("path",{d:"M15.4693 11.9315L14.5182 11.3618L12.3383 10.0561L11.6732 9.65771L9.9189 10.396L6.55959 11.8096L5.05086 12.4445L1.6569 13.8727C2.07866 14.4791 2.64091 14.9744 3.29564 15.3163C3.95037 15.6583 4.67813 15.8367 5.41676 15.8363H15.4428C16.115 15.8365 16.7748 15.6547 17.352 15.3101C17.9292 14.9656 18.4024 14.4712 18.7213 13.8794L15.4693 11.9315Z",fill:"#28A8EA"}));function lA(e){switch(e){case L.CONFLUENCE:return s9;case L.GDRIVE:return js;case L.JIRA:return i9;case L.NOTION_OPEN_CONNECTOR:return c9;case L.O365_BUSINESS:case L.O365_PERSONAL:case L.O365:return iA;case L.SLACK_OPEN_CONNECTOR:return Kf}}var p9={};Object.defineProperty(p9,"__esModule",{value:!0});function cA(e,t){if(t)return e;throw new Error("Unhandled discriminated union member: "+JSON.stringify(e))}p9.assertNever=cA;var m9=p9.default=cA;const F8e=oi({defaultMessage:"Microsoft OneDrive (personal)",id:"ContextConnector.OneDrivePersonal.name"}),B8e=oi({defaultMessage:"Microsoft OneDrive (work/school)",id:"ContextConnector.OneDriveBusiness.name"}),g9=V({includesSharePoint:{id:"ContextConnectorPicker.o365BusinessIncludesSharePoint",defaultMessage:"Includes SharePoint"}});function Pl(e,t){switch(e){case L.CONFLUENCE:return"Confluence";case L.GDRIVE:return"Google Drive";case L.JIRA:return"Jira";case L.NOTION_OPEN_CONNECTOR:return"Notion";case L.O365:return"Microsoft OneDrive";case L.O365_PERSONAL:return t?.formatMessage(F8e)??"Microsoft OneDrive (personal)";case L.O365_BUSINESS:return t?.formatMessage(B8e)??"Microsoft OneDrive (work/school)";case L.SLACK_OPEN_CONNECTOR:return"Slack"}}function U8e(e,t){switch(e){case L.CONFLUENCE:return"Confluence Page";case L.GDRIVE:switch(t){case"doc":case"docx":return"Google Docs";case"xls":case"xlsx":return"Google Sheets";case"ppt":case"pptx":return"Google Slides";default:return"Google Drive"}case L.JIRA:return"Jira Issue";case L.NOTION_OPEN_CONNECTOR:return"Notion Page";case L.O365:case L.O365_PERSONAL:case L.O365_BUSINESS:switch(t){case"doc":case"docx":return"Microsoft Word";case"xls":case"xlsx":return"Microsoft Excel";case"ppt":case"pptx":return"Microsoft PowerPoint";default:return"Microsoft OneDrive"}case L.SLACK_OPEN_CONNECTOR:return"Slack"}m9(e)}function H8e({contextConnector:e,extension:t}){return i.jsx(i.Fragment,{children:U8e(e,t)})}function Qf(){const e=cn(),t=x1("1967546325").config,n=t.get("gdrivePicker",!1),r=t.get("o365Picker",!1),a=t.get("gdriveLink",!1),o=t.get("o365PersonalLink",!1),s=t.get("o365BusinessLink",!1),l=t.get("testCtor1Link",!1),c=t.get("testCtor2Link",!1),u=t.get("testCtor3Link",!1),f=t.get("oversmokeLink",!1),p=t.get("gdrivePercentage",0),m=t.get("o365Percentage",0),g=t.get("testCtor1Percentage",0),h=t.get("testCtor2Percentage",0),v=t.get("testCtor3Percentage",0),y=t.get("oversmokePercentage",0),x=t.get("loadTestPercentage",0),C=t.get("showWorkspaceSettings",!1),w=e?V8e(e.id):null;return d.useMemo(()=>({confluenceLinkStatus:Qn(l,w,g),gdriveLinkStatus:Qn(a,w,p),gdriveStatus:Qn(n,w,p),jiraLinkStatus:Qn(c,w,h),notionLinkStatus:Qn(u,w,v),o365BusinessLinkStatus:Qn(s,w,m),o365PersonalLinkStatus:Qn(o,w,m),o365Status:Qn(r,w,m),slackLinkStatus:Qn(f,w,y),loadTest:Qn(!0,w,x)==="true",showWorkspaceSettings:C}),[n,w,p,r,m,a,o,s,l,g,c,h,u,v,f,y,x,C])}function Qn(e,t,n){return!e||t==null?"false":t<n?"true":"ifConnected"}function V8e(e){const n=G8e(e)%100;return Math.abs(n)}function G8e(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);t=(t<<5)-t+r,t|=0}return t}const W8e=new Map;function uA(){const{confluenceLinkStatus:e,gdriveLinkStatus:t,jiraLinkStatus:n,notionLinkStatus:r,o365BusinessLinkStatus:a,o365PersonalLinkStatus:o,slackLinkStatus:s}=Qf();return h9(t,a,o,e,n,r,s)}function Jf(){const{gdriveStatus:e,o365Status:t}=Qf();return h9(e,t,t)}function bje(){const{gdriveStatus:e,o365Status:t,confluenceLinkStatus:n,jiraLinkStatus:r,notionLinkStatus:a,slackLinkStatus:o}=Qf();return h9(e,t,t,n,r,a,o)}function h9(e,t,n,r=null,a=null,o=null,s=null){const c=Se()?.getWorkspaceId(),u=[L.GDRIVE,L.O365_PERSONAL,L.O365_BUSINESS,...r==="true"||r==="ifConnected"?[L.CONFLUENCE]:[],...a==="true"||a==="ifConnected"?[L.JIRA]:[],...o==="true"||o==="ifConnected"?[L.NOTION_OPEN_CONNECTOR]:[],...s==="true"||s==="ifConnected"?[L.SLACK_OPEN_CONNECTOR]:[]],{connectors:f,isLoading:p}=dA(u),{data:m,isLoading:g}=QN(c),h=!c||m?.beta_settings?.[Ca.CONTEXT_CONNECTOR_CONFLUENCE],v=!c||m?.beta_settings?.[Ca.CONTEXT_CONNECTOR_GDRIVE],y=!c||m?.beta_settings?.[Ca.CONTEXT_CONNECTOR_JIRA],x=!c||m?.beta_settings?.[Ca.CONTEXT_CONNECTOR_NOTION],C=!c||m?.beta_settings?.[Ca.CONTEXT_CONNECTOR_O365_PERSONAL],w=!c||m?.beta_settings?.[Ca.CONTEXT_CONNECTOR_O365_BUSINESS],_=!c||m?.beta_settings?.[Ca.CONTEXT_CONNECTOR_SLACK],E=f.get(L.CONFLUENCE),T=f.get(L.GDRIVE),M=f.get(L.JIRA),A=f.get(L.NOTION_OPEN_CONNECTOR),D=f.get(L.O365_PERSONAL),j=f.get(L.O365_BUSINESS),B=f.get(L.SLACK_OPEN_CONNECTOR),N=(R,G)=>R==="true"||R==="ifConnected"&&G;return{connectorConfig:d.useMemo(()=>{const R=!!r&&N(r,!!E?.access_token),G=!!T?.access_token,X=N(e,G),ae=!!a&&N(a,!!M?.access_token),$=!!o&&N(o,!!A?.access_token),I=!!(D?.access_token??j?.access_token),O=N(t,I),Q=N(n,I),oe=!!s&&N(s,!!B?.access_token),ne=[R&&E&&h?[L.CONFLUENCE,E]:null,X&&T&&v?[L.GDRIVE,T]:null,ae&&M&&y?[L.JIRA,M]:null,$&&A&&x?[L.NOTION_OPEN_CONNECTOR,A]:null,Q&&D&&C?[L.O365_PERSONAL,D]:null,O&&j&&w?[L.O365_BUSINESS,j]:null,oe&&B&&_?[L.SLACK_OPEN_CONNECTOR,B]:null];return new Map(qi(ne))},[E,r,T,e,M,a,A,o,j,B,t,D,n,h,s,v,x,y,C,w,_]),isLoading:p||g}}function dA(e){const[t,n]=d.useState(W8e),{isUnauthenticated:r}=Lt(),{isSuccess:a,data:o,isLoading:s}=ye({queryKey:["fetchConnectorData",e],queryFn:z8e,refetchInterval:30*60*1e3,enabled:!r});return d.useEffect(()=>{a&&n(new Map(o.map(l=>[l.type,l])))},[a,o]),{connectors:t,isLoading:s}}async function z8e({queryKey:e}){const[t,n]=e;let r=null;try{r=await q.checkConnectorAPI(n)}catch(o){if(o instanceof vt)return[];te.addError(new Error("Server Error while retrieving context connector entry",{cause:o}))}return!r||!r.connectors?[]:r.connectors.map(o=>{const{type:s,...l}=o,c=s;if(l.access_token){if(c===L.O365_PERSONAL)return{type:c,...l,onedrive_endpoint_hint:{type:"personal",baseUrl:"https://onedrive.live.com",parsedUrl:"https://onedrive.live.com/picker"}};if(c===L.O365_BUSINESS){const u=l.onedrive_business_metadata?.base_url;if(u){const f=new URL(u);return{type:c,...l,onedrive_endpoint_hint:{type:"business",baseUrl:u,parsedUrl:`https://${f.hostname}/_layouts/15/FilePicker.aspx`}}}}}return{type:c,...l}})}const q8e=J.createContext({mode:void 0,getGizmoId:void 0}),Ol=()=>d.useContext(q8e),yt={filePickerStarted:e=>{S.logEvent(k.contextConnectorsPickerStarted,{contextConnector:e})},filePickerLoaded:e=>{S.logEvent(k.contextConnectorsPickerLoaded,{contextConnector:e})},filePickerPicked:(e,t)=>{S.logEvent(k.contextConnectorsPickerPicked,{contextConnector:e,numFiles:t})},filePickerCancelled:e=>{S.logEvent(k.contextConnectorsPickerCancelled,{contextConnector:e})},linkPasted:e=>{S.logEvent(k.contextConnectorsLinkPasted,{...e})},linkMetadataFetchStarted:e=>{S.logEvent(k.contextConnectorsLinkMetadataFetchStarted,{contextConnector:e})},linkMetadataFetchSucceeded:(e,t)=>{S.logEvent(k.contextConnectorsLinkMetadataFetchSucceeded,{contextConnector:e,mimeType:t})},linkMetadataFetchFailed:(e,t)=>{S.logEvent(k.contextConnectorsLinkMetadataFetchFailed,{contextConnector:e,reason:String(t)})},oauthUpsellButtonClick:(e,t)=>{S.logEvent(k.contextConnectorsOAuthUpsellButtonClick,{contextConnector:e,choice:t})},expiredAccessTokenUsed:(e,t)=>{S.logEvent(k.contextConnectorsExpiredAccessTokenUsed,{contextConnector:e,useCase:t})}};function wje(e,t,n,r){const a=Ne(),o=U(),{getGizmoId:s}=Ol(),[l,c]=d.useState();d.useEffect(()=>{s?s().then(m=>c(m)):c(void 0)},[s]);const u=zi(t),f=Cl();return d.useCallback(m=>{const{docsReferencedByURL:g}=vn.getThread(e)??{};if(g!=null)for(const h of m){const{id:v,type:y,handler:x}=h,C=`${y}:${v}`,w=g[C],E=f.getState().files.find(T=>T.tempId===v);if(w!=null&&w!=="failed"&&E){a.success(o.formatMessage(vc.fileAlreadyAttached),{hasCloseButton:!0});continue}switch(x.type){case"fetch":{F.updateReferencedDocState(e,C,"pending"),gn.uploadFile(f,v,new File([],o.formatMessage(vc.fileLoading)),Xe.None,n,o,a,{skipUpload:!0,gizmoId:l},r,{contextConnector:y,sourceUrl:h.url,syntheticExtension:null,type:Cn.Link}),yt.linkMetadataFetchStarted(y),x.tryFetch().then(T=>{if(gn.remove(f,v,"none"),T==null)return null;const{id:M,title:A,connector:D,mimeType:j,url:B,syntheticExtension:N,o365DriveId:H,manifest:R}=T;yt.linkMetadataFetchSucceeded(y,j),F.updateReferencedDocState(e,C,"fetched");let G=A;D===L.GDRIVE&&(G=N?`${A}.${N}`:A),gn.uploadFile(f,M,new File([],G,{type:j.split(";")[0]}),Xe.Retrieval,n,o,a,{gizmoId:l},r,{contextConnector:D,sourceUrl:B,syntheticExtension:N,type:Cn.Link,o365DriveId:H,manifest:R})}).catch(T=>{yt.linkMetadataFetchFailed(y,T),T instanceof vt&&T.status===404&&y===L.NOTION_OPEN_CONNECTOR?(a.danger(o.formatMessage(vc.fileNotAccessible),{hasCloseButton:!0}),u.appendMessageIfNotDismissed({connector:y,type:"not-connected"})):a.danger(o.formatMessage(vc.fileFetchFailed),{hasCloseButton:!0}),F.updateReferencedDocState(e,C,"failed"),gn.remove(f,v,"none")});break}case"prompt":{u.appendMessageIfNotDismissed({connector:y,type:x.message}),F.updateReferencedDocState(e,C,"prompted");break}}}},[e,f,a,o,n,l,r,u])}const vc=V({fileLoading:{id:"CCC.fileLoading",defaultMessage:"Loading…"},fileFetchFailed:{id:"CCC.fileFetchFailed",defaultMessage:"Unable to fetch file information"},fileAlreadyAttached:{id:"CCC.fileAlreadyAttached",defaultMessage:"This file is already a part of your message."},fileNotAccessible:{id:"CCC.fileNotAccessible",defaultMessage:"This document is not accessible by ChatGPT, please make sure the document exists and you have granted ChatGPT the access."}});var Z8e=X2,Y8e=_h,K8e=rs;function Q8e(e,t){var n={};return t=K8e(t),Y8e(e,function(r,a,o){Z8e(n,a,t(r,a,o))}),n}var J8e=Q8e;const X8e=ve(J8e);var $2=function(e,t){return $2=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(n[a]=r[a])},$2(e,t)};function _je(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");$2(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var D2=function(){return D2=Object.assign||function(t){for(var n,r=1,a=arguments.length;r<a;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},D2.apply(this,arguments)};function Hy(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n}function Sje(e,t,n,r){function a(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function l(f){try{u(r.next(f))}catch(p){s(p)}}function c(f){try{u(r.throw(f))}catch(p){s(p)}}function u(f){f.done?o(f.value):a(f.value).then(l,c)}u((r=r.apply(e,t||[])).next())})}function Mje(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,a,o,s;return s={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function l(u){return function(f){return c([u,f])}}function c(u){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,u[0]&&(n=0)),n;)try{if(r=1,a&&(o=u[0]&2?a.return:u[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,u[1])).done)return o;switch(a=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,a=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){n.label=u[1];break}if(u[0]===6&&n.label<o[1]){n.label=o[1],o=u;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(u);break}o[2]&&n.ops.pop(),n.trys.pop();continue}u=t.call(e,n)}catch(f){u=[6,f],a=0}finally{r=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function Tje(e,t,n){if(n||arguments.length===2)for(var r=0,a=t.length,o;r<a;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}function eCe(e){var t=function(r,a){return J.createElement(e,kI({},r,{forwardedRef:a}))},n=e.displayName||e.name;return t.displayName="withForwardedRef("+n+")",d.forwardRef(t)}var Vy=Object.keys,tCe=function(t,n){if(t===n)return!0;if(!(t instanceof Object)||!(n instanceof Object))return!1;for(var r=Vy(t),a=r.length,o=0;o<a;o++)if(!(r[o]in n))return!1;for(var o=0;o<a;o++)if(t[r[o]]!==n[r[o]])return!1;return a===Vy(n).length},nCe=function(e,t){var n=window.getComputedStyle(t),r=n.borderBottomWidth,a=n.borderTopWidth,o=n.fontSize,s=n.lineHeight,l=n.paddingBottom,c=n.paddingTop,u=s==="normal"?parseFloat(o)*1.2:parseFloat(s),f=e===0?0:u*e+parseFloat(r)+parseFloat(a)+parseFloat(l)+parseFloat(c),p=t.scrollHeight+parseFloat(r)+parseFloat(a);return Math.max(f,p)},_u=function(e,t){if(t){var n="hidden",r=window.getComputedStyle(t).maxHeight;if(r!=="none"){var a=parseFloat(r);a<t.scrollHeight&&(n="")}t.style.height="0",t.style.overflowY=n,t.style.height="".concat(nCe(e,t),"px")}},rCe=function(e){var t=d.useRef(e),n=d.useRef(0);return tCe(e,t.current)||(t.current=e,n.current+=1),d.useMemo(function(){return t.current},[n.current])},Gy=typeof window>"u"?Function.prototype:d.useLayoutEffect,aCe=function(e){var t=e.forwardedRef,n=Hy(e,["forwardedRef"]),r=typeof t=="function",a=rCe(n.style),o=d.useRef(),s=r||!t?o:t,l=n.rows?parseInt(""+n.rows,10):0,c=n.onChange,u=n.onInput,f=Hy(n,["onChange","onInput"]);Gy(function(){_u(l,s.current)},[n.className,n.value,s,l,a]),Gy(function(){if(window.ResizeObserver){var g=new ResizeObserver(function(){_u(l,s.current)});return g.observe(s.current),function(){g.disconnect()}}},[s,l]);var p=d.useCallback(function(g){c?.(g),u?.(g),_u(l,s.current)},[c,u,s,l]),m=d.useCallback(function(g){s.current=g,r&&t(g)},[t,r,s]);return J.createElement("textarea",D2({},f,{onInput:p,ref:m,rows:l}))};const Eje=eCe(aCe);class oCe extends b${textArea=null;get element(){return this.textArea}get document(){return this.textArea?.ownerDocument}setValue(t){this.textArea&&(typeof t=="string"?this.textArea.value=t:this.textArea.value=t(this.textArea.value))}getSystemHints(){return[]}addSystemHint(){}removeSystemHints(){}isEmpty(){const t=this.textArea?.value;return t==null||t.trim().length===0}trimLeadingText(t){let n=0;return this.setValue(r=>{if(typeof t=="string"&&r.startsWith(t))n=t.length;else if(t instanceof RegExp){const a=r.match(t);a?.index===0&&(n=a[0].length)}if(n){const a=r.substring(n).trimStart();return n=r.length-a.length,a}return r}),n&&this.textArea&&this.textArea.setSelectionRange(this.textArea.selectionStart-n,this.textArea.selectionEnd-n),n>0}replaceAll(t,n){this.setValue(r=>r.replaceAll(t,n))}appendText(t){this.setValue(n=>n+t)}delete(t,n){this.setValue(r=>r.slice(0,t)+r.slice(n))}focus(){this.textArea?.focus()}setText(t){this.setValue(t)}setPlaceholder(){}getContentLength(){return this.textArea?.value.length??0}getCurrentText(){return this.textArea?.value||""}hasMultipleLines(){return this.getCurrentText().includes(`
`)}resize(t){this.textArea&&_u(t,this.textArea)}isReady(){return this.textArea!==null}acceptLegacyKeydown(){return!0}getSelectionStart(){return this.textArea?.selectionStart??0}subscribe(t,n){return this.textArea?.addEventListener(t,n),()=>{this.textArea?.removeEventListener(t,n)}}}const F2="open-connector";function sCe(){const e=Ge(),t=ds(),[n]=fs(),r=n.get(F2),a=d.useCallback(()=>{const s=new URLSearchParams(t.search);s.delete(F2),e({...t,search:s.toString()},{replace:!0})},[t,e]);return{connector:Object.values(L).find(s=>s===r),clearParam:a}}async function iCe(e,t){const n=`https://chat.openai.com/aip/${e.id}/oauth/callback`,r=await q.pluginOauthRedirect(e.id,n,t);window.location.href=r.redirect_uri}async function fA(e,t,n,r){const a=await q.connectorOauthRedirect(e.id,n,t,r);window.location.href=a.redirect_uri}function lCe(e){switch(e){case Cn.Link:return"link_paste_popover";case Cn.Picker:return"file_upload_menu"}}async function kje(e){await q.deleteUserConnectedApp(e),window.location.reload()}async function cCe(e,t,n,r){if(!t)return;n();let a="";r===Cn.Picker&&(a=`${F2}=${t.type}`),e??="/",a&&(e.includes("?")?e+=`&${a}`:e+=`?${a}`),fA({id:t.id},lCe(r),`${window.location.origin}/ccc/${t.id}/oauth/callback`,e)}function uCe(e,t){e.access_token&&e.expires_at!=null&&e.expires_at*1e3<=Date.now()&&yt.expiredAccessTokenUsed(e.type,t)}function dCe(e,t,n,r,a,o,s,l){gn.uploadFile(e,ji(t),t,l??Xe.Retrieval,n,r,a,{gizmoId:s},o)}function fCe(e,t,n,r,a,o,s,l,c){let u=t.title;n===L.GDRIVE&&(u=t.syntheticExtension?`${t.title}.${t.syntheticExtension}`:t.title);const f=t.mimeType.split(";")[0],p=f.startsWith("image/");if(a?.includes(f)===!1||p&&!r.includes(f)){c.danger(l.formatMessage(pCe.unsupportedFileType,{fileName:u}),jd);return}gn.uploadFile(e,t.id,new File([],u,{type:f}),Xe.Retrieval,r,l,c,{gizmoId:s},o,{contextConnector:n,sourceUrl:t.url,syntheticExtension:t.syntheticExtension,type:Cn.Picker,o365DriveId:t.o365DriveId})}const pCe=V({unsupportedFileType:{id:"ContextConnectorUtils.unsupportedFileType",defaultMessage:"{fileName} is not a supported file type"}}),$n={uploadFile:dCe,uploadPickedFile:fCe,doContextConnectorOauthRedirect:cCe,logAttemptIfAccessTokenIsExpired:uCe};function Aje({composerController:e,parsedDocumentHandler:t}){const{gdriveLinkStatus:n,o365BusinessLinkStatus:r,o365PersonalLinkStatus:a}=Qf();return n==="false"&&r==="false"&&a==="false"?null:i.jsx(mCe,{composerController:e,parsedDocumentHandler:t})}function mCe({composerController:e,parsedDocumentHandler:t}){const{connectorConfig:n}=uA();return d.useEffect(()=>{const r=e instanceof oCe?"input":"change",a=()=>{const o=gCe(e,n);t(o)};return a(),e.subscribe(r,a)},[e,n,t]),null}function gCe(e,t){const n=e.getCurrentText(),r=[];for(const a of t.values())switch(a.type){case L.GDRIVE:{if(a.link_enabled??!0){const o=CCe(n,a);r.push(...o),a.access_token&&o.reduce((l,c)=>l.replace(c.url,""),n)!==n&&o.forEach(({url:l})=>e.replaceAll(l,""))}break}case L.O365:break;case L.O365_BUSINESS:{const o=PCe(n,a).filter(s=>s!=null);a.access_token&&o.forEach(({url:s})=>e.replaceAll(s,"")),r.push(...o);break}case L.O365_PERSONAL:{const o=_Ce(n,a).filter(s=>s!=null);a.access_token&&o.forEach(({url:s})=>e.replaceAll(s,"")),r.push(...o);break}case L.CONFLUENCE:{const o=MCe(n,a).filter(s=>s!=null);a.access_token&&o.forEach(({url:s})=>e.replaceAll(s,"")),r.push(...o);break}case L.JIRA:{const o=kCe(n,a).filter(s=>s!=null);a.access_token&&o.forEach(({url:s})=>e.replaceAll(s,"")),r.push(...o);break}case L.NOTION_OPEN_CONNECTOR:{const o=FCe(n,a).filter(s=>s!=null);a.access_token&&o.forEach(({url:s})=>e.replaceAll(s,"")),r.push(...o);break}case L.SLACK_OPEN_CONNECTOR:{const o=ICe(n,a).filter(s=>s!=null);a.access_token&&o.forEach(({url:s})=>e.replaceAll(s,"")),r.push(...o);break}}return r.length&&yt.linkPasted(X8e(Rh(r,a=>a.type),a=>a.length)),r}const hCe=/\bhttps:\/\/docs\.google\.com\/(document|spreadsheets|presentation)\/d\/([\w-]+)\/?(?:(?:edit|view)\/?)?(?:\?[\w\-.~%=]*)?(?:#[\w\-.~%=]*)?/gm,vCe=/\bhttps:\/\/drive\.google\.com\/(file)\/d\/([\w-]+)\/?(?:(?:edit|view)\/?)?(?:\?[\w\-.~%=]*)?(?:#[\w\-.~%=]*)?/gm,yCe="https://www.googleapis.com/auth/drive.readonly";function CCe(e,t){return[...e.matchAll(hCe),...e.matchAll(vCe)].map(n=>{const r={url:n[0],id:n[2],type:L.GDRIVE};return t.access_token&&t.scopes&&t.scopes.includes(yCe)?{...r,handler:{type:"fetch",tryFetch:async()=>{$n.logAttemptIfAccessTokenIsExpired(t,Cn.Link);const o=`https://www.googleapis.com/drive/v3/files/${r.id}?fields=name,mimeType`,s=await fetch(o,{method:"GET",headers:{Authorization:`Bearer ${t.access_token}`,"Content-Type":"application/json"}});if(!s.ok)return Promise.reject(new Error(`HTTP ${s.status}`));const{name:l,mimeType:c}=await s.json(),u=GS(c);return{connector:L.GDRIVE,id:r.id,title:l,mimeType:c,url:r.url,syntheticExtension:u}}}}:{...r,handler:{type:"prompt",message:"not-connected"}}})}function pA(e){let t;try{t=new URL(e).toString()}catch{return null}return`u!${btoa(t).replaceAll("=","").replaceAll("/","_").replaceAll("+","-")}`}const xCe=/\bhttps:\/\/onedrive\.live\.com\/[\w\-_.~!*'();:@&=+$,\\/?%#[\]]*/gm,bCe=/\bhttps:\/\/photos\.onedrive\.com\/(?:share|photo)\/[\w\-_.~!*'();:@&=+$,\\/?%#[\]]*/gm,wCe=/\bhttps:\/\/1drv\.ms\/[\w\-_.~!*'();:@&=+$,\\/?%#[\]]*/gm;function _Ce(e,t){return[...e.matchAll(xCe),...e.matchAll(wCe),...e.matchAll(bCe)].map(n=>{const r=pA(n[0]);if(!r)return null;const a={url:n[0],id:r,type:L.O365_PERSONAL};return t.access_token?{...a,handler:{type:"fetch",tryFetch:mA(zr.OneDrive_PERSONAL_SHARES,r,t.access_token,t)}}:{...a,handler:{type:"prompt",message:"not-connected"}}})}const SCe=/\bhttps:\/\/([^\s]+?\.atlassian\.net)\/wiki\/spaces\/[^\s]+\/pages\/(\d+)\/([^\s]+)?/gm;function MCe(e,t){return[...e.matchAll(SCe)].map(n=>{const r=n[1],a=n[2],o=n[3];if(!a)return null;const s={url:n[0],id:a,type:L.CONFLUENCE};return t.access_token?{...s,handler:{type:"fetch",tryFetch:async()=>{let l=o;return!o&&t.access_token&&(l=await LCe(t.access_token,`https://${r}`,t,a)),{connector:t.type,id:a,title:l,mimeType:"text/html",url:s.url,syntheticExtension:null,manifest:{id:a,domain:r,type:JN.PAGE,manifest_type:L.CONFLUENCE}}}}}:{...s,handler:{type:"prompt",message:"not-connected"}}})}const TCe=/\bhttps:\/\/([^\s]+?\.atlassian\.net)\/browse\/([^\s]+)\??/gm,ECe=/\bhttps:\/\/([^\s]+?\.atlassian\.net)\/jira\/(?:[^\s]+\/)*projects\/(?:[^\s]+\/)+(?:[^\s]+\/?)\?selectedIssue=([^\s]+)&?/gm;function kCe(e,t){return[...e.matchAll(TCe),...e.matchAll(ECe)].map(n=>{const r=n[1],a=n[2];if(!a||!r)return null;const o={url:n[0],id:a,type:L.JIRA};return t.access_token?{...o,handler:{type:"fetch",tryFetch:async()=>{const s=await $Ce(t.access_token,`https://${r}`,t,a);return Promise.resolve({connector:t.type,id:a,title:s,mimeType:"text/markdown",url:o.url,syntheticExtension:null,manifest:{id_or_key:a,domain:r,manifest_type:L.JIRA}})}}}:{...o,handler:{type:"prompt",message:"not-connected"}}})}const ACe=/\bhttps:\/\/[^\s]+?\.sharepoint\.com\/[^\s]*/gm;function PCe(e,t){return[...e.matchAll(ACe)].map(n=>{const r=pA(n[0]),a=zr.OneDrive_BUSINESS_SHARES;if(!r)return null;const o={url:n[0],id:r,type:L.O365_BUSINESS};return t.access_token?{...o,handler:{type:"fetch",tryFetch:mA(a,r,t.access_token,t)}}:{...o,handler:{type:"prompt",message:"not-connected"}}})}const OCe=/\bhttps:\/\/(?<domain>[^\s]+?\.(?:enterprise\.)?slack\.com)\/archives\/(?<conversation_id>[^\s/]+)\/?\??$/gm,NCe=/\bhttps:\/\/(?<domain>[^\s]+?\.(?:enterprise\.)?slack\.com)\/archives\/(?<conversation_id>[^\s/]+)\/p(?<message_id>[^\s?&]+)(?:\?(?:.*thread_ts=(?<thread_id>[^\s&]+)(?:&.*))?)?/gm;function ICe(e,t){return[...e.matchAll(NCe),...e.matchAll(OCe)].map(n=>{const r=n.groups?.domain;if(!r)throw new Error(`No domain found in match ${JSON.stringify(n)}`);const a=n.groups?.conversation_id;if(!a)throw new Error(`No conversation ID found in match ${JSON.stringify(n)}`);const o=n.groups?.message_id;let s=null;o&&(s=`${o.slice(0,10)}.${o.slice(10)}`);const l=n.groups?.thread_id??null;let c="Conversation",u=`conversation-${a}`;s?(c="Message",u=`message-${s}`):l?(c="Thread",u=`thread-${l}`):a[0]==="D"&&(c="Direct message");const f={id:u,url:n[0],domain:r,conversationId:a,messageId:s,threadId:l,type:L.SLACK_OPEN_CONNECTOR};return t.access_token?{...f,handler:{type:"fetch",tryFetch:async()=>t.access_token?Promise.resolve({connector:t.type,id:f.id,title:c,mimeType:"application/json",url:f.url,syntheticExtension:null,manifest:{conversation_id:f.conversationId,domain:f.domain,manifest_type:L.SLACK_OPEN_CONNECTOR,message_id:f.messageId,thread_id:l,type:XN.MESSAGE}}):Promise.reject(new Error("Not connected"))}}:{...f,handler:{type:"prompt",message:"not-connected"}}})}function mA(e,t,n,r,a){switch(e){case zr.OneDrive_BUSINESS_SHARES:case zr.OneDrive_PERSONAL_SHARES:return()=>$0(`${e}/${encodeURIComponent(t)}/driveItem`,n,r);case zr.OneDrive_BUSINESS_DRIVE_ITEMS:return()=>$0(`${e}/${encodeURIComponent(t)}`,n,r);case zr.OneDrive_BUSINESS_DRIVE_ROOT:return async()=>{const o=await jCe(n,t);if(!o)return Promise.reject(null);const s=`${e}:${encodeURIComponent(o)}`;return $0(s,n,r)};case zr.OneDrive_PERSONAL_DRIVE_ITEMS:return()=>Promise.reject(null)}}async function jCe(e,t){const r=await fetch("https://graph.microsoft.com/v1.0/me/drive/root",{method:"GET",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});if(!r.ok)return null;const{webUrl:a}=await r.json(),s=new URL(a).pathname;return t.startsWith(s)?t.substring(s.length):t}async function $0(e,t,n,r){$n.logAttemptIfAccessTokenIsExpired(n,Cn.Link);const a=await fetch(e,{method:"GET",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});if(!a.ok)return Promise.reject(new Error(`HTTP ${a.status}`));const{id:o,name:s,file:l,webUrl:c,...u}=await a.json();return r||(r=u.parentReference?.driveId),{connector:n.type,id:o,title:s??"",mimeType:l?.mimeType??"",url:c??"",syntheticExtension:null,o365DriveId:r}}const RCe="https://api.atlassian.com/oauth/token/accessible-resources";async function gA(e,t,n){$n.logAttemptIfAccessTokenIsExpired(n,Cn.Link);const a=(await K.get(RCe,{additionalHeaders:{Authorization:`Bearer ${e}`}})).find(o=>o.url===t)?.id;return a||Promise.reject(new Error("Cloud ID not found"))}async function LCe(e,t,n,r){const a=await gA(e,t,n);return(await K.get(`https://api.atlassian.com/ex/confluence/${a}/wiki/api/v2/pages/${r}?include-version=false`,{additionalHeaders:{Authorization:`Bearer ${e}`}})).title??"Confluence Page"}async function $Ce(e,t,n,r){const a=await gA(e,t,n);return(await K.get(`https://api.atlassian.com/ex/jira/${a}/rest/api/2/issue/${r}?fields=summary`,{additionalHeaders:{Authorization:`Bearer ${e}`}})).fields.summary??"Jira Issue"}const DCe=/\bhttps:\/\/www\.notion\.so\/(?:.*?)?(?<page_id>[a-f0-9]{32})(?:\?[\x21-\x7e]*)?/gm;function FCe(e,t){return[...e.matchAll(DCe)].map(n=>{const r=n.groups?.page_id;if(!r)return null;const a={url:n[0],id:r,type:L.NOTION_OPEN_CONNECTOR};return t.access_token?{...a,handler:{type:"fetch",tryFetch:async()=>{const o=await K.safePost("/connectors/metadata",{requestBody:{manifest:{id:r,manifest_type:L.NOTION_OPEN_CONNECTOR}}});return Promise.resolve({connector:t.type,id:r,title:o.title??"Notion Page",mimeType:"application/json",url:a.url,syntheticExtension:null,manifest:{id:r,type:eI.PAGE,manifest_type:L.NOTION_OPEN_CONNECTOR}})}}}:{...a,handler:{type:"prompt",message:"not-connected"}}})}function hA({size:e="default",triggerIcon:t,triggerButton:n,children:r,side:a="bottom",className:o,sideOffset:s=10,alignOffset:l=0,open:c,onOpenChange:u,alignAgainstAnchor:f="center",disableAutofocus:p=!1,modal:m=!1}){const g=d.useRef(null);return i.jsxs(H5,{open:c,onOpenChange:u,modal:m,children:[t?i.jsx(Zu,{className:"rounded-lg p-2 hover:bg-token-main-surface-secondary",ref:g,children:i.jsx(t,{className:"icon-md"})}):i.jsx(Zu,{asChild:!0,ref:g,children:n}),i.jsx(gS,{container:g.current?.ownerDocument.body,children:i.jsx(UC,{$as:V5,side:a,sideOffset:s,alignOffset:l,align:f,collisionPadding:10,onOpenAutoFocus:h=>{p&&h.preventDefault()},className:P({"min-w-[200px] max-w-xs":e==="default"},o),children:r})})]})}const Wy=e=>d.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},d.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 3.5C10.8954 3.5 10 4.39543 10 5.5H14C14 4.39543 13.1046 3.5 12 3.5ZM8.53513 3.5C9.22675 2.3044 10.5194 1.5 12 1.5C13.4806 1.5 14.7733 2.3044 15.4649 3.5H17.25C18.9069 3.5 20.25 4.84315 20.25 6.5V18.5C20.25 20.1569 19.1569 21.5 17.25 21.5H6.75C5.09315 21.5 3.75 20.1569 3.75 18.5V6.5C3.75 4.84315 5.09315 3.5 6.75 3.5H8.53513ZM8 5.5H6.75C6.19772 5.5 5.75 5.94772 5.75 6.5V18.5C5.75 19.0523 6.19772 19.5 6.75 19.5H17.25C18.0523 19.5 18.25 19.0523 18.25 18.5V6.5C18.25 5.94772 17.8023 5.5 17.25 5.5H16C16 6.60457 15.1046 7.5 14 7.5H10C8.89543 7.5 8 6.60457 8 5.5Z",fill:"currentColor"})),zy=e=>d.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},d.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.5 5.5C3.5 3.84315 4.84315 2.5 6.5 2.5H17.5C19.1569 2.5 20.5 3.84315 20.5 5.5V18.5C20.5 20.1569 19.1569 21.5 17.5 21.5H6.5C4.84315 21.5 3.5 20.1569 3.5 18.5V17C2.94772 17 2.5 16.5523 2.5 16C2.5 15.4477 2.94772 15 3.5 15V13C2.94772 13 2.5 12.5523 2.5 12C2.5 11.4477 2.94772 11 3.5 11V9C2.94772 9 2.5 8.55228 2.5 8C2.5 7.44772 2.94772 7 3.5 7V5.5ZM5.5 9C6.05228 9 6.5 8.55228 6.5 8C6.5 7.44772 6.05228 7 5.5 7V5.5C5.5 4.94772 5.94772 4.5 6.5 4.5H17.5C18.0523 4.5 18.5 4.94772 18.5 5.5V18.5C18.5 19.0523 18.0523 19.5 17.5 19.5H6.5C5.94772 19.5 5.5 19.0523 5.5 18.5V17C6.05228 17 6.5 16.5523 6.5 16C6.5 15.4477 6.05228 15 5.5 15V13C6.05228 13 6.5 12.5523 6.5 12C6.5 11.4477 6.05228 11 5.5 11V9ZM8 9C8 8.44772 8.44772 8 9 8H15C15.5523 8 16 8.44772 16 9C16 9.55228 15.5523 10 15 10H9C8.44772 10 8 9.55228 8 9ZM8 13C8 12.4477 8.44772 12 9 12H13C13.5523 12 14 12.4477 14 13C14 13.5523 13.5523 14 13 14H9C8.44772 14 8 13.5523 8 13Z",fill:"currentColor"}));function qy(e,t){return e.connector===t.connector&&e.type===t.type}const BCe=()=>Me((e,t)=>({_messages:[],_dismissedMessages:[],getFirstMessage:()=>t()._messages[0]??null,appendMessageIfNotDismissed:n=>{e(r=>r._messages.some(a=>qy(a,n))||r._dismissedMessages.some(a=>qy(a,n))?r:{...r,_messages:[...r._messages,n]})},dismissMessage:n=>{e(r=>r._messages.includes(n)?{...r,_messages:r._messages.filter(a=>a!==n),_dismissedMessages:[...r._dismissedMessages,n]}:r)},clearMessages:()=>{e(n=>n._messages.length||n._dismissedMessages.length?{...n,_messages:[],_dismissedMessages:[]}:n)},openMenu:!1,requestOpenMenu:()=>e(n=>({...n,openMenu:!0})),confirmMenuOpened:()=>e(n=>({...n,openMenu:!1}))})),UCe=BCe(),HCe=d.createContext(UCe);function Di(){const e=d.useContext(HCe);return zi(e)}function Pje({onOauthRedirect:e,children:t}){const{connectorConfig:n,isLoading:r}=uA(),a=Di(),{value:o}=ct("1242184140"),{getFirstMessage:s}=a,l=s(),c=l?n.get(l.connector):null,u=r||!c,f=o?VCe:GCe,p=d.useMemo(()=>{if(u||!l)return null;switch(l.type){case"not-connected":return i.jsx(f,{unconnectedMessage:l,onOauthRedirect:e,entry:c})}},[f,u,c,l,e]),{dismissMessage:m}=Di(),g=d.useCallback(h=>{!h&&l&&!u&&m(l)},[u,m,l]);return i.jsx(hA,{size:"none",open:!u,onOpenChange:g,side:"top",sideOffset:4,triggerButton:t,children:p})}function VCe({unconnectedMessage:e,onOauthRedirect:t,entry:n}){const{dismissMessage:r}=Di(),a=U(),o=Pl(e.connector,a),s=WCe(e.connector),l=()=>{yt.oauthUpsellButtonClick(n.type,"link"),$n.doContextConnectorOauthRedirect(location.pathname+location.search+location.hash,n,t,Cn.Link)},c=()=>{yt.oauthUpsellButtonClick(n.type,"not-now"),r(e)};return i.jsxs("div",{className:"flex w-[294px] max-w-full flex-col p-2 sm:w-[384px]",children:[i.jsxs("div",{className:"mb-5 flex flex-row gap-2",children:[i.jsx(qCe,{icon:s}),i.jsx("span",{className:"text-sm font-bold",children:i.jsx(b,{...Xr.connectTo,values:{connectorName:o}})})]}),i.jsx("span",{className:"mb-5 text-sm text-token-text-secondary",children:i.jsx(b,{...Xr.description,values:{connectorName:o}})}),i.jsxs("div",{className:"flex gap-3",children:[i.jsx(re,{color:"primary",onClick:l,children:i.jsx(b,{...Xr.connect})}),i.jsx(re,{color:"secondary",onClick:c,children:i.jsx(b,{...Xr.notNow})})]})]})}function GCe({unconnectedMessage:e,onOauthRedirect:t,entry:n}){const{dismissMessage:r}=Di(),a=U(),o=Pl(e.connector,a),{icon1:s,icon2:l,icon3:c,icon4:u}=zCe(e.connector);return i.jsxs("div",{className:"flex w-[294px] max-w-full flex-col p-4 sm:w-[384px]",children:[i.jsxs("div",{className:"mb-3 flex flex-row gap-2 self-center",children:[i.jsx(yc,{icon:s,rotation:-6}),i.jsx(yc,{icon:l,rotation:6}),i.jsx(yc,{icon:c,rotation:-6}),i.jsx(yc,{icon:u,rotation:6})]}),i.jsx("span",{className:"mb-3 text-lg font-semibold",children:i.jsx(b,{...Xr.connectTo,values:{connectorName:o}})}),i.jsx("span",{className:"mb-4 text-sm text-token-text-secondary",children:i.jsx(b,{...Xr.description,values:{connectorName:o}})}),i.jsxs("div",{className:"flex flex-row-reverse gap-3 self-end",children:[i.jsx(re,{color:"primary",onClick:()=>{yt.oauthUpsellButtonClick(n.type,"link"),$n.doContextConnectorOauthRedirect(location.pathname+location.search+location.hash,n,t,Cn.Link)},children:i.jsx(b,{...Xr.connect})}),i.jsx(re,{color:"secondary",onClick:()=>{yt.oauthUpsellButtonClick(n.type,"not-now"),r(e)},children:i.jsx(b,{...Xr.notNow})})]})]})}function WCe(e){switch(e){case L.CONFLUENCE:return i.jsx(s9,{width:20,height:20});case L.GDRIVE:return i.jsx(js,{width:20,height:20});case L.JIRA:return i.jsx(i9,{width:20,height:20});case L.NOTION_OPEN_CONNECTOR:return i.jsx(c9,{width:20,height:20});case L.O365:case L.O365_BUSINESS:case L.O365_PERSONAL:return i.jsx(l9,{width:20,height:20});case L.SLACK_OPEN_CONNECTOR:return i.jsx(Kf,{width:20,height:20})}m9(e)}function zCe(e){switch(e){case L.GDRIVE:return{icon1:i.jsx(js,{}),icon2:i.jsx(u9,{}),icon3:i.jsx(f9,{}),icon4:i.jsx(d9,{})};case L.O365:case L.O365_BUSINESS:case L.O365_PERSONAL:return{icon1:i.jsx(l9,{}),icon2:i.jsx(sA,{}),icon3:i.jsx(oA,{}),icon4:i.jsx(aA,{})};case L.CONFLUENCE:case L.JIRA:case L.NOTION_OPEN_CONNECTOR:return{icon1:i.jsx(lpe,{}),icon2:i.jsx(Wy,{}),icon3:i.jsx(za,{}),icon4:i.jsx(zy,{})};case L.SLACK_OPEN_CONNECTOR:return{icon1:i.jsx(Kf,{}),icon2:i.jsx(Wy,{}),icon3:i.jsx(za,{}),icon4:i.jsx(zy,{})}}m9(e)}const qCe=({icon:e})=>i.jsx("div",{className:P("flex h-[20px] w-[20px]"),children:i.jsx("div",{className:"object-contain",children:e})});function yc({rotation:e,icon:t}){return i.jsx("div",{className:P("flex h-[44px] w-[44px] items-center justify-center rounded-xl border border-[#EDEDF2] bg-white shadow-[0_1px_12px_0px_#0000000B]"),style:{transform:`rotate(${e}deg)`},children:i.jsx("div",{className:"object-contain",children:t})})}const Xr=V({connectTo:{id:"ContextConnectorPastedLinkPopover.connectTo",defaultMessage:"Connect to {connectorName}"},description:{id:"ContextConnectorPastedLinkPopover.description",defaultMessage:"Connect ChatGPT to {connectorName} to reference the content from this link."},notNow:{id:"ContextConnectorPastedLinkPopover.notNow",defaultMessage:"Not now"},connect:{id:"ContextConnectorPastedLinkPopover.connect",defaultMessage:"Connect"},addFromGdriveDescription:{id:"ContextConnectorPastedLinkPopover.addFromDriveDescription",defaultMessage:"To add files from Google Drive, upload them directly to your message."},addFromGdriveNotNow:{id:"ContextConnectorPastedLinkPopover.addFromDriveNotNow",defaultMessage:"Not now"},addFromGdriveUploadFile:{id:"ContextConnectorPastedLinkPopover.addFromDriveUploadFile",defaultMessage:"Upload file"}}),ZCe=V({continueGenerating:{id:"PromptTextarea.continueGenerating",defaultMessage:"Continue generating"},stopGenerating:{id:"PromptTextarea.stopGenerating",defaultMessage:"Stop generating"},disallowedByWorkspacePlaceholder:{id:"PromptTextarea.disallowedByWorkspaceReason",defaultMessage:"Your workspace owner hasn’t approved this GPT."},disabledFeedbackPlaceholder:{id:"PromptTextarea.disabledFeedbackPlaceholder",defaultMessage:"Select a response to continue"},noModelsAvailablePlaceholder:{id:"PromptTextarea.noModelsAvailablePlaceholder",defaultMessage:"No models available"},requiresPluginsToBeInstalled:{id:"PromptTextarea.requiresPluginsToBeInstalled",defaultMessage:"Requires plugins to be installed"},noTestGizmoId:{id:"PromptTextarea.noTestGizmoId",defaultMessage:"Start by defining your GPT."},searchWith:{id:"PromptTextarea.searchWith",defaultMessage:"Search with {name}"},loading:{id:"PromptTextarea.loading",defaultMessage:"Loading..."},placeholder:{id:"PromptTextarea.placeholder",defaultMessage:"Send a message"},placeholderWithName:{id:"PromptTextarea.placeholderWithName",defaultMessage:"Message {name}"},continueSharedConversationPlaceholder:{id:"PromptTextarea.continueSharedConversationPlaceholder",defaultMessage:"Send a message to continue the conversation."},sendMessageTooltip:{id:"PromptTextarea.sendMessageTooltip",defaultMessage:"Send message"},unsupportedFileType:{id:"PromptTextarea.unsupportedFileType",defaultMessage:'Uploads with file type "{file_type}" are not supported, please try another file.'},gizmoKnowledgeWarning:{id:"PromptTextarea.gizmoKnowledgeWarning",defaultMessage:"Files uploaded here may be included in conversations with your GPT. Files can be downloaded if Code Interpreter is enabled."}}),Oje=({filePickerStore:e,event:t,intl:n,toaster:r,conversationMode:a,clientThreadId:o,currentModelConfig:s,getEditorGizmoId:l,modelSupportedImageMimeTypes:c})=>{const u=Rd(s,a),f=c.length>0;S.logEvent(k.pastedToComposer,{client_thread_id:o});const{clipboardData:p}=t,m=yl(s,a),g=m?.attachments?.accepted_mime_types,h=m?.attachments?.can_accept_all_mime_types;if(f&&p&&p.files.length>0){const v=p.files[0];if(g!==void 0&&!g.includes(v.type)&&h!==!0){r.danger(n.formatMessage(ZCe.unsupportedFileType,{file_type:t4(v)})),t.preventDefault();return}if(Re.hideThreadHeader(),S.logEvent(k.uploadFile,{client:"web",eventSource:"paste"}),l!=null){l().then(y=>gn.uploadFile(e,ji(v),v,u,c,n,r,{gizmoId:y}));return}gn.uploadFile(e,ji(v),v,u,c,n,r,void 0,m?.attachments)}};function Nje(){const e=Ge();return i.jsx(Ir,{primaryCtaText:i.jsx(b,{id:"k/qPdM",defaultMessage:"Manage tasks"}),onPrimaryCtaClick:()=>{e("/tasks")},title:i.jsx(b,{id:"mYNRrn",defaultMessage:"You’ve reached your limit for scheduled tasks."}),content:i.jsx(b,{id:"Bwsb55",defaultMessage:"To schedule new ones, pause some of your existing tasks first."})})}const vA=Ee.HasSeenAdvancedVoiceOnMobile,YCe=window.location.origin+"/update-app",Zy=window.location.origin+"/update-app?origin=qr";function KCe(){const e=Se(),t=ct("989108178").value;return e!=null&&t}function Ije(e){const t=KCe(),{eligible:n,isLoading:r}=ke(vA);return{eligible:!(!t||!n||e.conversationMode?.kind!==Oe.PrimaryAssistant)&&!r}}const QCe=3;function JCe(e){let t=Tt.getItem(Ue.AdvancedVoiceOnMobileAnnouncementCount);Array.isArray(t)||(t=[]);const n=new Set(t);return e&&n.add(e),t=[...n],Tt.setItem(Ue.AdvancedVoiceOnMobileAnnouncementCount,t),t.length}function jje({onClose:e,clientThreadId:t}){const{markAsViewed:n}=ke(vA),r=HC(t);d.useEffect(()=>{const l=JCe(r);l>QCe&&(n(),z.logEvent("chatgpt_advanced_voice_on_mobile_announcement_limit_reached",l)),S.logEvent(k.advancedVoiceOnMobileAnnouncementShown),z.logEvent("chatgpt_advanced_voice_on_mobile_announcement_shown")},[r,n]);const a=d.useCallback(()=>{n(),S.logEvent(k.advancedVoiceOnMobileAnnouncementDismissed),z.logEvent("chatgpt_advanced_voice_on_mobile_announcement_dismissed"),e&&e()},[n,e]),s={markAsDownloaded:d.useCallback(()=>{S.logEvent(k.advancedVoiceOnMobileLinkClicked),z.logEvent("chatgpt_advanced_voice_on_mobile_announcement_download_clicked"),n(),e&&e()},[n,e]),markAsViewed:a};return i.jsx(exe,{...s})}function XCe(){window.open(YCe,"_blank")}function exe({markAsDownloaded:e,markAsViewed:t}){const n=U(),[r,a]=d.useState(!1),o=d.useCallback(()=>{XCe(),e()},[e]),s=i.jsx("div",{className:"flex-grow flex-row",children:i.jsxs("div",{className:"flex-column",children:[i.jsx("div",{className:"mb-0.5 font-semibold",children:i.jsx(b,{...Mo.advancedVoiceOnMobileBannerTitle})}),i.jsx("span",{className:"text-token-text-secondary",children:i.jsx(b,{...Mo.advancedVoiceOnMobileBannerDescription})})]})}),l=!tI(),c=N1();let u;return l?c?u=Object.freeze({primaryCtaQrLink:Zy,onPrimaryCtaQrClick:()=>a(!0)}):u=Object.freeze({onSecondaryCtaClick:()=>a(!0),secondaryCtaText:n.formatMessage(Mo.advancedVoiceOnMobileButtonScanCode)}):u=Object.freeze({onPrimaryCtaClick:o,primaryCtaText:n.formatMessage(Mo.advancedVoiceOnMobileButtonDownload)}),i.jsxs(i.Fragment,{children:[i.jsx(Ir,{...u,onDismiss:t,content:s}),l&&i.jsx(Te,{size:"custom",className:"w-[328px] max-w-[328px]",title:n.formatMessage(Mo.advancedVoiceOnMobileQRModalTitle),isOpen:r,showCloseButton:!0,onClose:()=>a(!1),type:"success",children:i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx(wM,{className:"m-[24px] mt-[0px]",size:280,value:Zy}),i.jsx("div",{className:"text-left text-token-text-primary",children:i.jsx(b,{...Mo.advancedVoiceOnMobileQRModalDescription})})]})})]})}const Mo=V({advancedVoiceOnMobileBannerTitle:{id:"AdvancedVoiceOnMobile.banner.title",defaultMessage:"Download the latest iOS or Android app to try advanced voice mode"},advancedVoiceOnMobileBannerDescription:{id:"AdvancedVoiceOnMobile.banner.description",defaultMessage:"Get more natural, real-time conversations with advanced voice. Senses and responds to humor, sarcasm, interruptions, and more."},advancedVoiceOnMobileButtonDownload:{id:"AdvancedVoiceOnMobile.button.download",defaultMessage:"Download"},advancedVoiceOnMobileButtonScanCode:{id:"AdvancedVoiceOnMobile.button.scancode",defaultMessage:"Scan code"},advancedVoiceOnMobileButtonClose:{id:"AdvancedVoiceOnMobile.button.close",defaultMessage:"Close"},advancedVoiceOnMobileQRModalTitle:{id:"AdvancedVoiceOnMobile.qrmodal.title",defaultMessage:"Download the app"},advancedVoiceOnMobileQRModalDescription:{id:"AdvancedVoiceOnMobile.qrmodal.description",defaultMessage:"Scan the QR code on your phone to download the ChatGPT app."}}),t1=window.localStorage,Yy=Me(Vn(()=>{const e=t1?.getItem(Ue.NoAuthBannerDisclaimerClientThreadId)??null,t=t1?.getItem(Ue.NoAuthHasAcceptedFooterDisclaimer)==="true";return{bannerDisclaimerClientThreadId:e,hasAcceptedFooterDisclaimer:t}})),yA={updateBannerDisclaimerClientThreadId(e){Yy.setState(t=>{t.bannerDisclaimerClientThreadId=e}),t1?.setItem(Ue.NoAuthBannerDisclaimerClientThreadId,e)},updateHasAcceptedFooterDisclaimer(){Yy.setState(e=>{e.hasAcceptedFooterDisclaimer=!0}),t1?.setItem(Ue.NoAuthHasAcceptedFooterDisclaimer,"true")}},CA=e=>d.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},d.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.0322 5.02393C17.7488 5.00078 17.3766 5 16.8 5H11.5002C11.3 6 11.0989 6.91141 10.8903 7.85409C10.7588 8.44955 10.6432 8.97304 10.3675 9.41399C10.1262 9.80009 9.80009 10.1262 9.41399 10.3675C8.97304 10.6432 8.44955 10.7588 7.85409 10.8903C7.81276 10.8994 7.77108 10.9086 7.72906 10.9179L5.21693 11.4762C5.1442 11.4924 5.07155 11.5001 5 11.5002V16.8C5 17.3766 5.00078 17.7488 5.02393 18.0322C5.04612 18.3038 5.0838 18.4045 5.109 18.454C5.20487 18.6422 5.35785 18.7951 5.54601 18.891C5.59546 18.9162 5.69617 18.9539 5.96784 18.9761C6.25118 18.9992 6.62345 19 7.2 19H10C10.5523 19 11 19.4477 11 20C11 20.5523 10.5523 21 10 21H7.16144C6.6343 21 6.17954 21 5.80497 20.9694C5.40963 20.9371 5.01641 20.8658 4.63803 20.673C4.07354 20.3854 3.6146 19.9265 3.32698 19.362C3.13419 18.9836 3.06287 18.5904 3.03057 18.195C2.99997 17.8205 2.99998 17.3657 3 16.8385L3 11C3 8.92477 4.02755 6.93324 5.4804 5.4804C6.93324 4.02755 8.92477 3 11 3L16.8385 3C17.3657 2.99998 17.8205 2.99997 18.195 3.03057C18.5904 3.06287 18.9836 3.13419 19.362 3.32698C19.9265 3.6146 20.3854 4.07354 20.673 4.63803C20.8658 5.01641 20.9371 5.40963 20.9694 5.80497C21 6.17954 21 6.6343 21 7.16144V10C21 10.5523 20.5523 11 20 11C19.4477 11 19 10.5523 19 10V7.2C19 6.62345 18.9992 6.25118 18.9761 5.96784C18.9539 5.69617 18.9162 5.59546 18.891 5.54601C18.7951 5.35785 18.6422 5.20487 18.454 5.109C18.4045 5.0838 18.3038 5.04612 18.0322 5.02393ZM5.28014 9.41336L7.2952 8.96556C8.08861 8.78925 8.24308 8.74089 8.35381 8.67166C8.48251 8.59121 8.59121 8.48251 8.67166 8.35381C8.74089 8.24308 8.78925 8.08861 8.96556 7.2952L9.41336 5.28014C8.51014 5.59289 7.63524 6.15398 6.89461 6.89461C6.15398 7.63524 5.59289 8.51014 5.28014 9.41336ZM17 15C17 14.4477 17.4477 14 18 14C18.5523 14 19 14.4477 19 15V17H21C21.5523 17 22 17.4477 22 18C22 18.5523 21.5523 19 21 19H19V21C19 21.5523 18.5523 22 18 22C17.4477 22 17 21.5523 17 21V19H15C14.4477 19 14 18.5523 14 18C14 17.4477 14.4477 17 15 17H17V15Z",fill:"currentColor"}));function Rje({clientThreadId:e}){const t=gh(e);return t!=null?i.jsx(txe,{clientThreadId:e,gizmoId:t}):i.jsx(bA,{clientThreadId:e})}function txe({clientThreadId:e,gizmoId:t}){const n=pa(t).data,r=Ba(o=>vn.getThreadCreateTime(e,o)),a=n?.gizmo.updated_at!=null?new Date(n.gizmo.updated_at):void 0;return n?.gizmo.gizmo_type===Lh.PROJECT||n?.gizmo.short_url==null||a==null||r==null||a<=r?i.jsx(bA,{clientThreadId:e}):i.jsxs("div",{className:"text-token-text-tertiary",children:[i.jsx(CA,{className:"text-token-secondary mb-1 mr-1 inline-block h-4 w-4 stroke-0"}),i.jsx(b,{...Wo.outdatedGptDisclaimer,values:{link:o=>i.jsx(Tr,{to:wi(n.gizmo.short_url),className:"underline",children:o},`gizmo-link-${n.gizmo.short_url}`),bold:o=>i.jsx("span",{className:"text-token-secondary font-semibold",children:o},`gizmo-bold-${n.gizmo.short_url}`)}})]})}function xA({clientThreadId:e,role:t}){return dh(e)?.tree.countMessagesByAuthor(t)??0}function bA({clientThreadId:e}){const t=Pn(aa.isBusinessWorkspace),r=Pn(c=>c.currentWorkspace)?.name,{isUnauthenticated:a,isLoading:o}=Lt();if(o)return null;if(t)return i.jsx("div",{children:r!=null?i.jsx(b,{...Wo.businessDisclaimer,values:{workspaceName:r}}):i.jsx(b,{...Wo.businessDisclaimerNoName})});const l=xA({clientThreadId:e,role:ie.User})>0;return a&&!l?i.jsx(Vi,{children:i.jsx(wA,{clientThreadId:e})}):i.jsx("div",{children:i.jsx(b,{...Wo.mayProduceInaccurateInformation})})}function wA({clientThreadId:e}){const{country:t}=Zi(),n=t==="KR"?Wo.mayProduceInaccurateInformationNoAuthKorea:Wo.mayProduceInaccurateInformationNoAuthV2,{layer:r}=MC("3533083032"),a=r.get("disclaimer_color_adjust",!1);return d.useEffect(()=>()=>{xA({clientThreadId:e,role:ie.User})>0&&yA.updateHasAcceptedFooterDisclaimer()},[e]),i.jsx("span",{className:"text-sm leading-none",children:i.jsx(b,{...n,values:{privacyLink:o=>i.jsx("a",{href:"https://openai.com/privacy",target:"_blank",className:P(a?"text-token-text-secondary":"text-token-text-primary","underline decoration-token-text-primary"),onClick:()=>{z.logEvent("chatgpt_footer_disclaimer_privacy_link_clicked"),S.logEvent(k.footerDisclaimerPrivacyLinkClicked)},rel:"noreferrer",children:o}),termsLink:o=>i.jsx("a",{href:"https://openai.com/terms",target:"_blank",className:P(a?"text-token-text-secondary":"text-token-text-primary","underline decoration-token-text-primary"),onClick:()=>{z.logEvent("chatgpt_footer_disclaimer_terms_link_clicked"),S.logEvent(k.footerDisclaimerTermsLinkClicked)},rel:"noreferrer",children:o}),koreaAddendumLink:o=>i.jsx("a",{href:"https://openai.com/ko/policies/kr-privacy-policy-addendum",target:"_blank",className:"text-token-text-primary underline decoration-token-text-primary",onClick:()=>{z.logEvent("chatgpt_footer_disclaimer_korea_addendum_link_clicked"),S.logEvent(k.footerDisclaimerKoreaAddendumLinkClicked)},rel:"noreferrer",children:o})}})})}const Wo=V({mayProduceInaccurateInformation:{id:"thread.chatgptMayProduceInaccurateInformation-oct-30",defaultMessage:"ChatGPT can make mistakes. Check important info."},mayProduceInaccurateInformationNoAuthV2:{id:"thread.chatgptMayProduceInaccurateInformationNoAuth-may-06",defaultMessage:"By messaging ChatGPT, you agree to our <termsLink>Terms</termsLink> and have read our <privacyLink>Privacy Policy</privacyLink>."},mayProduceInaccurateInformationNoAuthKorea:{id:"thread.chatgptMayProduceInaccurateInformationNoAuthKorea-may-06",defaultMessage:"By messaging ChatGPT, you agree to our <termsLink>Terms</termsLink> and have read our <privacyLink>Privacy Policy</privacyLink> and its <koreaAddendumLink>Korea addendum</koreaAddendumLink>."},businessDisclaimer:{id:"thread.businessDisclaimer-oct-30",defaultMessage:"{workspaceName} workspace chats aren't used to train our models. ChatGPT can make mistakes."},businessDisclaimerNoName:{id:"thread.businessDisclaimerNoName-oct-30",defaultMessage:"Your workspace chats aren'ts used to train our models. ChatGPT can make mistakes."},outdatedGptDisclaimer:{id:"thread.outdatedGptDisclaimer.0",defaultMessage:"<bold>New version of GPT available</bold> - Continue chatting to use the old version, or start a <link>new chat</link> for the latest version."}});function Lje({threadId:e}){const t=IC();d.useEffect(()=>{yA.updateBannerDisclaimerClientThreadId(e),z.logEvent("chatgpt_unauthenticated_legal_banner"),S.logEvent(k.unauthLegalBanner,{threadId:e})},[e]);const n=t?es.bannerTermsDisclaimer:es.bannerTermsDisclaimerSafetyAndAbuse;return i.jsxs(oM,{type:"none",children:[i.jsx(wA,{clientThreadId:e}),i.jsx("br",{}),i.jsx(b,{...n,values:{learnMoreLink:r=>i.jsx("a",{href:"https://help.openai.com/en/articles/5722486-how-your-data-is-used-to-improve-model-performance",target:"_blank",className:"text-token-text-primary underline",onClick:()=>{z.logEvent("chatgpt_unauthenticated_banner_learn_more_clicked"),S.logEvent(k.unauthDisclaimerBannerLearnMoreClicked,{threadId:e})},children:r})}})]})}function $je({threadId:e,showLogin:t=!0}){const n=U();d.useEffect(()=>{z.logEvent("chatgpt_unauthenticated_signup_banner"),S.logEvent(k.unauthSignupBanner,{threadId:e})},[e]);const r=un();return i.jsx(Ir,{content:n.formatMessage(es.bannerSignup),onPrimaryCtaClick:()=>{r({authType:"signup",callback:a=>{z.logEvent("chatgpt_unauthenticated_banner_signup_button_clicked"),S.logSignUpButtonClicked({location:"Chat Stage Signup Banner",provider:a})}})},primaryCtaText:n.formatMessage(es.bannerSignupButton),onSecondaryCtaClick:t?()=>{r({authType:"login",callback:a=>{z.logEvent("chatgpt_unauthenticated_banner_login_button_clicked"),S.logLogInButtonClicked({location:"Chat Stage Signup Banner",provider:a})}})}:void 0,secondaryCtaText:t?n.formatMessage(Ct.logInButtonText):void 0})}function Dje({threadId:e,showSignUp:t}){const n=U();d.useEffect(()=>{z.logEvent("chatgpt_unauthenticated_login_banner"),S.logEvent(k.unauthLoginBanner,{threadId:e})},[e]);const r=un();return i.jsx(Ir,{content:n.formatMessage(es.bannerSignup),onPrimaryCtaClick:()=>{r({authType:"login",callback:a=>{z.logEvent("chatgpt_unauthenticated_banner_login_button_clicked"),S.logLogInButtonClicked({location:"Chat Stage Login Banner",provider:a})}})},primaryCtaText:n.formatMessage(Ct.logInButtonText),onSecondaryCtaClick:t?()=>{r({authType:"signup",callback:a=>{z.logEvent("chatgpt_unauthenticated_banner_signup_button_clicked"),S.logSignUpButtonClicked({location:"Chat Stage Login Banner",provider:a})}})}:void 0,secondaryCtaText:t?n.formatMessage(es.bannerSignupButton):void 0})}const es=V({bannerTermsDisclaimer:{id:"bannerTermsDisclaimer",defaultMessage:"Don't share sensitive info. Chats may be reviewed and used to train our models. <learnMoreLink>Learn more</learnMoreLink>"},bannerTermsDisclaimerSafetyAndAbuse:{id:"pDsoLk",defaultMessage:"Don't share sensitive information. Chats may be reviewed for safety and abuse prevention. <learnMoreLink>Learn more</learnMoreLink>"},bannerSignup:{id:"4qlPtW",defaultMessage:"Get smarter responses, upload files and images, and more."},bannerSignupButton:{id:"hedgehog.banner_signup_button",defaultMessage:"Sign up"}}),nxe="{{.assetPrefix}}/assets/app-slack-icon-edtfy1gb.png";function Fje({messages:e}){const t=qi(e.flatMap(r=>r?.message?.metadata?.citations?.map(a=>a.metadata)??[])),n=d.useMemo(()=>eA(t.map(r=>axe(r)).filter(r=>r!==void 0),r=>r?.url),[t]);return i.jsx("div",{className:"mt-4 grid w-full grid-cols-[50%,50%] gap-3",children:n.map(r=>i.jsx(lxe,{citationMetadata:r},r?.url))})}const Ky={"https://docs.google.com/document":"Google Docs","https://docs.google.com/presentation":"Google Slides","https://docs.google.com/spreadsheets":"Google Sheets","https://drive.google.com/":"Google Drive"},rxe=/^(https:\/\/)([a-zA-Z0-9-]+\.)slack\.com(\/.*)?$/;function _A(e){if(e){if(rxe.test(e))return"Slack";{const t=Object.keys(Ky).find(n=>e.startsWith(n));return t?Ky[t]:void 0}}}function SA(e){return i.jsx("img",{src:nxe,...e})}function MA(e){switch(e){case"Google Docs":return u9;case"Google Slides":return f9;case"Google Sheets":return d9;case"Google Drive":return js;case"Slack":return SA;default:return null}}function Bje(e){const t=_A(e);if(!t)return null;const n=MA(t);return n?{type:t,Icon:n}:null}function axe(e){if(e.type==="file"){const t=e.extra?.cloud_doc_url;if(!t)return;const n=_A(t);if(!n)return;const r=e.name;return{url:t,type:n,title:sxe(n)?ixe(r):r}}}const oxe=["Google Docs","Google Slides","Google Sheets"];function sxe(e){return oxe.includes(e)}function ixe(e){const t=e.lastIndexOf(".");return t!==-1?e.slice(0,t):e}function lxe({citationMetadata:e,compact:t}){if(!e)return null;const n=MA(e.type);return n?t?i.jsx("a",{href:Pc(e.url),target:"_blank",rel:"noreferrer",children:i.jsxs("div",{className:"flex flex-row items-center gap-2 overflow-clip rounded-lg border border-gray-200 px-[16px] py-2",children:[i.jsx(n,{className:"h-[16px] w-[16px] object-contain",alt:e.type}),i.jsx("p",{className:"text-token -text-primary line-clamp-1 text-sm",children:e.title?e.title:Pc(e.url)})]})}):i.jsx("a",{href:Pc(e.url),target:"_blank",rel:"noreferrer",children:i.jsxs("div",{className:"flex flex-col gap-[2px] overflow-clip rounded-lg border border-gray-200 px-[16px] py-[12px]",children:[i.jsxs("div",{className:"flex items-center gap-2 pb-0.5",children:[i.jsx(n,{className:"h-[16px] w-[16px] object-contain",alt:e.type}),i.jsx("p",{className:"text-xs leading-normal text-token-text-secondary",children:e.type})]}),i.jsx("p",{className:"text-token -text-primary line-clamp-1 text-sm",children:e.title})]})}):null}const v9=he.section`max-w-sm flex flex-col gap-2 rounded-2xl border border-token-border-light p-4 shadow items-center`,cxe=.9;function TA(e){return e.sync_phase==="discovering"||e.sync_phase==="syncing"&&e.items_synced<e.items_discovered*cxe}function Uje(){const[e,t]=d.useState(void 0),[n,r]=d.useState(void 0);d.useEffect(()=>{(async()=>{try{const[p,m]=await Promise.all([q.getKnowledgeStoreStatus("google_drive"),q.getKnowledgeStoreStatus("slack")]);t(p),r(m)}catch{t(void 0),r(void 0)}})()},[]);const{isSuccess:a,data:o,isLoading:s}=ye({queryKey:["getCaSyncStatus"],queryFn:q.getCaSyncStatus,refetchInterval:f=>{switch(f.state.status){case"error":return 30*1e3;case"success":return f.state.data?.connectors?.length?f.state.data?.connectors.some(TA)?3*1e3:!1:30*1e3;case"pending":return 30*1e3}}}),l=a&&!s&&o?o.connectors:[],c=e?.credential_type==="user_oauth"||n?.credential_type==="user_oauth",u=e?.exist||n?.exist;return i.jsx("div",{className:"p-7",children:u===void 0?i.jsx(yn,{}):u?c?i.jsx(fxe,{syncStatuses:l,gDriveKnowledgeStoreOAuthType:e?.credential_type,slackKnowledgeStoreOAuthType:n?.credential_type}):i.jsx(dxe,{}):i.jsx(uxe,{})})}function uxe(){return i.jsxs(v9,{className:"text-center",children:[i.jsx("p",{className:"mb-1 text-lg font-bold text-token-text-primary",children:i.jsx(b,{id:"hv8AR4",defaultMessage:"Your Workspace Is Not Set Up For Synced Connectors"})}),i.jsxs("p",{className:"mb-1 text-sm text-token-text-secondary",children:[i.jsx(b,{id:"0yexmP",defaultMessage:"ChatGPT's answers will not be enhanced with knowledge from synced files."})," ",i.jsx(b,{id:"gLcU9K",defaultMessage:"Please contact your organization's administrator to enable this feature."})]})]})}function dxe(){return i.jsx(v9,{className:"text-center",children:i.jsx("p",{className:"mb-1 text-sm text-token-text-primary",children:i.jsx(b,{id:"LvrAFF",defaultMessage:"Your ChatGPT Workspace Is Connected With Your Company Data"})})})}function fxe({syncStatuses:e,gDriveKnowledgeStoreOAuthType:t,slackKnowledgeStoreOAuthType:n}){const{config:r}=x1("1001765573"),a=r.get("ca_sk_enabled",!1);return i.jsxs(v9,{className:"text-center",children:[i.jsx("p",{className:"mb-1 text-lg font-bold text-token-text-primary",children:i.jsx(b,{id:"1NWyN0",defaultMessage:"Ask ChatGPT about work"})}),i.jsx("p",{className:"mb-1 text-sm text-token-text-secondary",children:i.jsx(b,{id:"rkdEvr",defaultMessage:"Connect your work accounts to ChatGPT."})}),i.jsxs("div",{className:"my-1 w-full",children:[t==="user_oauth"&&i.jsx(Qy,{type:U9.GDRIVE_SYNC_CONNECTOR,syncStatuses:e,appIcon:js,appName:"Google",syncedResourceDisplayNameAsPluralNoun:i.jsx(b,{id:"krAMi5",defaultMessage:"files"})}),a&&n==="user_oauth"&&i.jsx(Qy,{type:U9.SLACK_SYNC_CONNECTOR,syncStatuses:e,appIcon:SA,appName:"Slack",syncedResourceDisplayNameAsPluralNoun:i.jsx(b,{id:"UXSOIk",defaultMessage:"channels"})})]}),i.jsx("p",{className:"max-w-64 text-xs text-token-text-tertiary",children:i.jsx(b,{id:"K/YIKe",defaultMessage:"{workspaceName} workspace chats and connections aren't used to train our models.",values:{workspaceName:"OpenAI"}})})]})}function Qy({type:e,syncStatuses:t,appIcon:n,appName:r,syncedResourceDisplayNameAsPluralNoun:a}){const o=d.useMemo(()=>t.filter(u=>u.connector===e)[0],[t,e]),{connectors:s}=dA([e]),l=s.get(e);if(!l)return null;const c=!!l.access_token;return i.jsx(mxe,{entry:l,syncStatus:o,isConnected:c,onConnect:fA,appIcon:n,appName:r,syncedResourceDisplayNameAsPluralNoun:a})}function pxe({children:e}){return i.jsx("div",{className:"btn-secondary btn hover:bg-inherit relative mb-2 flex w-full items-center justify-center rounded-lg p-3",children:e})}const mxe=({entry:e,isConnected:t,syncStatus:n,onConnect:r,appIcon:a,appName:o,syncedResourceDisplayNameAsPluralNoun:s})=>{const l=!n||n.sync_phase==="unknown",c=t&&!l&&TA(n),u=t&&!l&&!c,f=u?VC:a;return t?i.jsxs(pxe,{loading:!u,children:[f&&i.jsx(f,{className:P("mx-2 h-5 w-5 flex-initial",u&&"text-green-500")}),i.jsxs("div",{className:P("flex-auto",u&&"mr-9"),children:[i.jsx("p",{children:u?i.jsx(b,{...D0.connected,values:{appName:o}}):i.jsx(b,{...D0.syncing,values:{appName:o}})}),i.jsx("p",{className:P("w-full text-sm text-token-text-secondary",c?"pt-2":"py-2"),children:l?i.jsx(b,{id:"i/Sjic",defaultMessage:"Getting sync status…"}):n.sync_phase==="discovering"?i.jsx(b,{id:"p1r5Np",defaultMessage:"Discovering {items_plural}…",values:{items_plural:s}}):c?i.jsx(b,{id:"rJKA22",defaultMessage:"Indexing {items_plural}…",values:{items_plural:s}}):i.jsx(b,{id:"2z5H/P",defaultMessage:"Your {items_plural} are ready to use.",values:{items_plural:s}})}),c&&i.jsx("p",{className:"w-full pb-2 text-sm text-token-text-tertiary",children:n.sync_phase==="discovering"?i.jsx(b,{id:"B+XNod",defaultMessage:"{items_synced} {items_plural} processed",values:{items_synced:n.items_synced.toLocaleString(),items_plural:s}}):i.jsx(b,{id:"1KydWB",defaultMessage:"{items_synced}/{items_discovered} {items_plural} processed",values:{items_synced:n.items_synced.toLocaleString(),items_discovered:n.items_discovered.toLocaleString(),items_plural:s}})})]}),!u&&i.jsx("div",{className:"mx-2 w-5",children:i.jsx(yn,{})})]}):i.jsxs(re,{fullWidth:!0,contentsFullWidth:!0,onClick:()=>r({id:e.id},"settings_connected_apps",`${window.location.origin}/ca/${e.id}/oauth/callback`,"?model=gpt-4o-gdrive&onboarding=true"),color:"secondary",size:"medium",className:"mb-2 rounded-lg p-3",children:[f&&i.jsx(f,{className:"mx-2 h-5 w-5 flex-initial"}),i.jsx("div",{className:"mr-9 flex-auto",children:i.jsx("p",{children:i.jsx(b,{...D0.connect,values:{appName:o}})})})]})},D0=V({connect:{id:"caOnboarding.connect",defaultMessage:"Connect to {appName}"},syncing:{id:"caOnboarding.syncing",defaultMessage:"Syncing with {appName}"},connected:{id:"caOnboarding.connected",defaultMessage:"Connected to {appName}"}});function Hje(){const{store:e}=o9(),t=e.useSharedProps(),n=w$(),{clearSearchModeTrigger:r,getSearchModeTrigger:a}=c2e();return d.useCallback(async(o,s,l)=>{if(!t)return;const{clientThreadId:c,currentLeafId:u,onCreateNewCompletion:f,onResetState:p,conversationMode:m}=t;Re.hideThreadHeader();const g=`${u}-nextPrompt`,h=new bi,v=n.has(_t.Search),y=v?a():void 0;await f({promptId:g,content:Ro(o),eventMetadata:{eventSource:"mouse"},completionMetadata:{suggestions:s,suggestion:o,suggestionIndex:l,conversationMode:m??vn.getConversationMode(c),systemHints:[...n],searchSource:y},messageMetadata:{is_starter_prompt:!0,suggestion_type:o.type,starter_prompt_id:"id"in o?o.id:null},turnTracker:h});const C=F.getTree(c).getMessageId(g);p(),khe(o,l,c,C),KT(),y&&v&&r()},[t,n,a,r])}const Vje=e=>D1([Oe.GizmoMagicCreate,Oe.GizmoTest],e?.kind),gxe=e=>D1([Oe.GizmoInteraction,Oe.GizmoMagicCreate,Oe.GizmoTest],e?.kind);function Jy(e){return(Jx(e)?e.promptStarters:e.gizmo.display.prompt_starters)?.map(t=>({type:it.Starter,title:"",body:t,prompt:t}))}function Gje(e,t,n,r,a,o){const s=lr(),l=ss(t),c=pa(l?.kind===Oe.GizmoInteraction?l.gizmo_id:void 0).data,{gizmoEditorData:u,mode:f}=Ol(),p=gxe(l),m=Se(),g=e&&!p&&(r||!m?.isEnterprisey()),{data:h,isLoading:v,isSuccess:y,isError:x}=ye({queryKey:["promptStarters",t,n,a,o],queryFn:()=>q.getSampledPromptStarter(n,a,o),enabled:g});return s==null?{promptStarters:[],isLoading:!0,isSuccess:!1}:f==="test"&&u?{promptStarters:Jy(u)??[],isLoading:!1,isSuccess:!0}:c!=null?{promptStarters:Jy(c),isLoading:!1,isSuccess:!0}:g?{promptStarters:h?.items.map(C=>({type:it.Starter,id:C.id,title:C.title,body:C.description,prompt:C.prompt,category:C.category,oneliner:C.oneliner,theme:C.theme,requires_file_upload:C.requires_file_upload}))??[],isLoading:v,isSuccess:y,isError:x}:{promptStarters:[],isLoading:!1,isSuccess:!0}}function Wje(e){return e.shouldRender?i.jsx(hxe,{...e}):null}function hxe({contentArea:e,children:t}){const{store:n}=o9(),r=d.useRef(null);return n.useContentAreaResizeObserver(e,r),i.jsx("div",{ref:r,className:P("relative h-full w-full"),children:t})}function zje(){const{layer:e}=xn("3637408529");return e.get("is_secondary_auth_banner_button_enabled",!1)}const vxe={MessageAction:"z-10",ScrollToBottom:"z-10",PromptTextareaHeader:"z-20"},y9=Ee.hasSeenMemoryInSearch;function qje(){const e=Ge();d.useEffect(()=>{S.logEventWithStatsig(k.chatgptMemoryInSearchAnnouncementShown,"chatgpt_memory_in_search_announcement_shown")},[]);const{markAsViewed:t}=ke(y9),n=d.useCallback(()=>{S.logEventWithStatsig(k.chatgptMemoryInSearchAnnouncementClosed,"chatgpt_memory_in_search_announcement_closed"),t()},[t]),r=d.useCallback(()=>{S.logEventWithStatsig(k.chatgptMemoryInSearchAnnouncementCTAClicked,"chatgpt_memory_in_search_announcement_cta_clicked"),e("#settings/Personalization"),t()},[t,e]);return i.jsx(Ir,{onPrimaryCtaClick:r,primaryCtaText:i.jsx(b,{id:"8MwdJw",defaultMessage:"Settings"}),onDismiss:n,content:i.jsxs("div",{className:"flex-grow",children:[i.jsx("div",{className:"mb-0.5 font-semibold",children:i.jsx(b,{id:"Sdp8JT",defaultMessage:"Search, now with memory"})}),i.jsx("span",{className:"text-token-text-secondary",children:i.jsx(b,{id:"a4czFu",defaultMessage:"ChatGPT can now use memories to shape searches it sends to search providers, to give you more relevant answers. You can turn this off at any time in settings. {learnMoreLink}",values:{learnMoreLink:i.jsx("a",{href:"https://help.openai.com/en/articles/9237897-chatgpt-search",target:"_blank",rel:"noopener noreferrer",className:"underline",children:i.jsx(b,{id:"JMsjZT",defaultMessage:"Learn more"})},"learn-more-link")}})})]})})}function Zje(){const e=ke(y9);return e.eligible&&!e.isLoading}function Yje(){const{markAsViewed:e,eligible:t}=ke(y9);return t?e:void 0}const C9=Ee.hasSeenMoonshineNux;function Kje(){const e=Ge();d.useEffect(()=>{Wt.count(Nt.MOONSHINE,"nux.shown"),S.logEventWithStatsig(k.chatgptMoonshineAnnouncementShown,"chatgpt_moonshine_announcement_shown")},[]);const{markAsViewed:t}=ke(C9);return i.jsx(Ir,{onPrimaryCtaClick:()=>{Wt.count(Nt.MOONSHINE,"nux.cta_clicked"),S.logEventWithStatsig(k.chatgptMoonshineAnnouncementCTAClicked,"chatgpt_moonshine_announcement_cta_clicked"),e("#settings/Personalization"),t()},primaryCtaText:i.jsx(b,{id:"8MwdJw",defaultMessage:"Settings"}),onDismiss:()=>{Wt.count(Nt.MOONSHINE,"nux.close_clicked"),S.logEventWithStatsig(k.chatgptMoonshineAnnouncementClosed,"chatgpt_moonshine_announcement_closed"),t()},content:i.jsxs("div",{className:"flex-grow",children:[i.jsx("div",{className:"mb-0.5 font-semibold",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(b,{id:"87Rz58",defaultMessage:"Memory is getting smarter"}),i.jsx(L4,{})]})}),i.jsx("span",{className:"text-token-text-secondary",children:i.jsx(b,{id:"B0kRQC",defaultMessage:"ChatGPT can now remember more of your past conversations. You can turn this off by disabling memory in your settings. {learnMoreLink}",values:{learnMoreLink:i.jsx("a",{href:"https://help.openai.com/en/articles/10303002-how-does-memory-use-past-conversations",target:"_blank",rel:"noopener noreferrer",className:"underline",children:i.jsx(b,{id:"KyzRsF",defaultMessage:"Learn more"})})}})})]})})}function EA(){return Se()?.features.includes(cs.Moonshine)}function Qje(){const e=EA(),{eligible:t,isLoading:n}=ke(C9);return e&&t&&!n}function Jje(){const e=EA(),{markAsViewed:t,eligible:n}=ke(C9);return()=>{!e||!n||(Wt.count(Nt.MOONSHINE,"nux.implicit_close"),t())}}function yxe(e){return e.metadata?.dalle?.prompt??""}async function Cxe(e,t,n="image/png"){return new Promise((r,a)=>{e.toBlob(o=>{o!=null?r(new File([o],t,{type:n})):a(new Error("Failed to convert canvas to blob"))},n)})}async function xxe(e,t){const n=document.createElement("canvas");n.width=e.width,n.height=e.height;const r=n.getContext("2d");if(r==null)throw new Error("Failed to get 2d context for mask canvas");const a=r.createImageData(e.width,e.height);for(let o=0;o<e.data.length;o+=4)e.data[o+3]!==0?(a.data[o]=0,a.data[o+1]=0,a.data[o+2]=0,a.data[o+3]=255):(a.data[o]=255,a.data[o+1]=255,a.data[o+2]=255,a.data[o+3]=255);return r.putImageData(a,0,0),Cxe(n,t)}async function bxe(e,t){const r=await(await fetch(e)).blob(),a=document.createElement("a");a.href=URL.createObjectURL(r),a.download=t,a.click(),a.remove()}function wxe(e){const t=Dae(new Date,"yyyy-MM-dd HH.mm.ss");let n=e.slice(0,150);return n.endsWith(".")&&(n=n.slice(0,-1)),`DALL·E ${t} - ${n}.webp`}async function Xje(e,t,n){const r=yxe(e),a=wxe(r);await bxe(e.url,a),z.logEvent("chatgpt_dalle_image_download",null,{sourceOperation:e.metadata?.dalle?.edit_op??"none",hasParent:e.metadata?.dalle?.parent_gen_id!=null?"true":"false"}),S.logEvent(k.dalleImageDownload,{conversationId:t,messageId:n,generationId:e.metadata?.dalle?.gen_id,parentGenerationId:e.metadata?.dalle?.parent_gen_id,fileId:vl(e.asset_pointer),sourceOperation:e.metadata?.dalle?.edit_op})}function eRe(e){const t=G5(e),n=bl(),r=t&&"gizmo"in t?t.gizmo:void 0;return!n&&r?.gizmo.id===XL}function tRe(e,t){const n=t.metadata?.dalle?.gen_id,r=vl(t.asset_pointer);return r==null||n==null?e:{...e,messageMetadata:{...e.messageMetadata,dalle:{from_client:{operation:{type:"transformation",original_gen_id:n,original_file_id:r}}}}}}async function _xe(e,t,n,r){return new Promise((a,o)=>{e4(ji(e),e,t,n,{kind:Vt.DalleAgent},{onFileCreated:_e,onFileUploadProgress:_e,onFileUploaded:(s,l)=>a(l),onError:(s,l)=>{o(new Error(`Failed to upload file with reason: ${l}`))}},r)})}async function nRe(e,t,n,r,a){const o=t.metadata?.dalle?.gen_id,s=vl(t.asset_pointer);if(s==null||o==null||n==null)return e;try{const l=await xxe(n,"mask.png"),c=await _xe(l,r,a,{imageDimensions:{width:t.width,height:t.height}});return{...e,messageMetadata:{...e.messageMetadata,dalle:{from_client:{operation:{type:"inpainting",original_gen_id:o,original_file_id:s,mask_file_id:c}}}}}}catch(l){return te.addError(l),e}}class Nl{static async getAutomations(t=null,n=null){return K.safeGet("/automations",{parameters:{query:{cursor:t,filter:n}}})}static async getAutomation(t){return K.safeGet("/automation/{automation_id}",{parameters:{path:{automation_id:t}}})}static async setAutomationStatus(t,n){return K.safePost("/automations/set_status",{requestBody:{jawbone_id:t,is_enabled:n}})}static async removeAutomation(t){return K.safePost("/automations/remove",{requestBody:{automation_id:t}})}static async saveAutomation(t,n,r,a,o,s,l,c,u,f){return K.safePost("/automations/save",{requestBody:{jawbone_id:t,title:n,schedule:r,is_enabled:a,prompt:o,default_timezone:s,notifications_enabled:l,email_enabled:c,schedule_components:u,last_run_time:f}})}static async setEmailEnabled(t,n){return K.safePost("/automations/set_notifications_status",{requestBody:{automation_id:t,email_enabled:n}})}static async setNotificationsEnabled(t,n){return K.safePost("/automations/set_notifications_status",{requestBody:{automation_id:t,notifications_enabled:n}})}}const x9=Me(Vn(()=>({jawboneById:{},cursorsByFilter:{scheduled:null,paused:null,finished:null},maxBannerClientThreadId:void 0}))),wa=x9.getState,Ks=x9.setState,Il={initJawbonesFromServerData:(e,t,n)=>{Ks(r=>{e.forEach(a=>{r.jawboneById[a.id]=a}),r.cursorsByFilter[n]=t})},removeAutomation:e=>{Ks(t=>{delete t.jawboneById[e]})},setAutomation:(e,t)=>{Ks(n=>{n.jawboneById[e]=t})},setAutomationStatus:(e,t)=>{Ks(n=>{n.jawboneById[e].is_enabled=t})},setMaxBannerClientThreadId:e=>{Ks(t=>{t.maxBannerClientThreadId=e})}},kA={getAllJawbonesGrouped:(e=wa())=>Sxe(Object.values(e.jawboneById)),getAutomation:(e,t=wa())=>t.jawboneById[e],getCursor:(e,t=wa())=>t.cursorsByFilter[e],getHasJawbones:(e=wa())=>Object.values(e.jawboneById).length>0,getTargetTimeUTC:(e,t=wa())=>t.jawboneById[e]?.target_time_utc,hasJawbones:(e=wa())=>Object.keys(e.jawboneById).length>0,getMaxBannerClientThreadId:(e=wa())=>e.maxBannerClientThreadId};function F0(e){const{isLoading:t}=ps({queryKey:["automations",e],queryFn:async({pageParam:n})=>{const r=await Nl.getAutomations(n,e);return Il.initJawbonesFromServerData(r.items,r.cursor,e),r},initialPageParam:kA.getCursor(e),getNextPageParam:n=>n.cursor??void 0});return{isLoading:t}}function rRe(){const{isLoading:e}=F0("scheduled"),{isLoading:t}=F0("paused"),{isLoading:n}=F0("finished");return{isLoadingScheduled:e,isLoadingPaused:t,isLoadingFinished:n}}function aRe({automation_id:e,onSuccess:t,onError:n}){return Ve({mutationFn:({is_enabled:r})=>Nl.setAutomationStatus(e,r),onSuccess:r=>{Il.setAutomation(r.id,r),t&&t()},onError:(r,a)=>{n&&n(a.is_enabled)}})}function oRe({automation_id:e,onSuccess:t,onError:n}){return Ve({mutationFn:()=>Nl.removeAutomation(e),onSuccess:()=>{Il.removeAutomation(e),t&&t()},onError:()=>{n&&n()}})}function sRe({automation_id:e,onSuccess:t,onError:n}){return Ve({mutationFn:r=>Nl.setEmailEnabled(e,r),onSuccess:r=>{Il.setAutomation(r.id,r),t?.()},onError:n})}function iRe({automation_id:e,onError:t}){return Ve({mutationFn:n=>Nl.setNotificationsEnabled(e,n),onSuccess:n=>{Il.setAutomation(n.id,n)},onError:t})}function Sxe(e){return e.reduce((t,n)=>(n.next_run_times.length===0?t.completed.automations.push(n):n.is_enabled?t.scheduled.automations.push(n):t.paused.automations.push(n),t),{scheduled:{label:mi.scheduled,filter:"scheduled",automations:[]},paused:{label:mi.paused,filter:"paused",automations:[]},completed:{label:mi.completed,filter:"finished",automations:[]}})}function lRe(e){const t=Tf(),n=x9(kA.getMaxBannerClientThreadId);return!(!t||n!==e)}let Ur="";const Xy={setSessionId(e){Ur=e},logImpression(){Wt.count(Nt.JAWBONE,"jawbone_notifications_banner.impression"),te.addAction("tasks.notification.impression"),S.logEvent("tasks:notification.impression",{logging_session_id:Ur})},logNotNow(){Wt.count(Nt.JAWBONE,"jawbone_notifications_banner.not_now"),te.addAction("tasks.notification.not_now"),S.logEvent("tasks:notification.not_now",{logging_session_id:Ur})},logAllow(){Wt.count(Nt.JAWBONE,"jawbone_notifications_banner.allow"),te.addAction("tasks.notification.allow"),S.logEvent("tasks:notification.allow",{logging_session_id:Ur})},logSystemDeny(){Wt.count(Nt.JAWBONE,"jawbone_notifications_banner.system_deny"),te.addAction("tasks.notification.system_deny"),S.logEvent("tasks:notification.system_deny",{logging_session_id:Ur})},logSystemAllow(){Wt.count(Nt.JAWBONE,"jawbone_notifications_banner.system_allow"),te.addAction("tasks.notification.system_allow"),S.logEvent("tasks:notification.system_allow",{logging_session_id:Ur})},logSystemSuccess(){Wt.count(Nt.JAWBONE,"jawbone_notifications_banner.system_success"),te.addAction("tasks.notification.system_success"),S.logEvent("tasks:notification.system_success",{logging_session_id:Ur})},logRegistration(){Wt.count(Nt.JAWBONE,"jawbone_notifications_banner.registration"),te.addAction("tasks.notification.registration"),S.logEvent("tasks:notification.registration",{logging_session_id:Ur})}},AA=window.localStorage,b9=Me(Vn(()=>({initialized:!1,requestingClientThreadId:null,previouslyRequestedClientThreadIds:new Set,lastRequestTime:AA?.getItem("oai/apps/jawboneNotificationLastRequestTime")??null,permission:typeof window<"u"&&"Notification"in window?Notification.permission:"default"}))),Su=b9.getState,Cc=b9.setState,cRe={initIfNeeded:(e=Su())=>{e.initialized||(Cc({initialized:!0}),typeof window<"u"&&"Notification"in window&&navigator.permissions?.query({name:"notifications"}).then(t=>{t.onchange=()=>{switch(Notification.permission){case"granted":Xy.logSystemAllow();break;case"denied":Xy.logSystemDeny();break}Cc({permission:Notification.permission})}}))},setRequestingClientThreadId:e=>{Cc(t=>{t.previouslyRequestedClientThreadIds.has(e)||(t.requestingClientThreadId=e,t.previouslyRequestedClientThreadIds.add(e))})},clearNotificationRequest:()=>{Cc(e=>{e.requestingClientThreadId=null;const t=new Date().toISOString();e.lastRequestTime=t,AA?.setItem("oai/apps/jawboneNotificationLastRequestTime",t)})}},Mxe={getRequestingClientThreadId:(e=Su())=>e.requestingClientThreadId,getLastRequestTime:(e=Su())=>e.lastRequestTime,getPermission:(e=Su())=>e.permission};function uRe(e){const{requestingClientThreadId:t}=b9(r=>({requestingClientThreadId:Mxe.getRequestingClientThreadId(r)}));return!(!Tf()||e!==t)}const dRe=()=>{const{shouldShowSkipButton:e=!1}=I2e(),t=T4(({isParagenVisible:n})=>n);return!!e&&t};function Txe(e){return ye({queryKey:["system-hints"],queryFn:async()=>(await q.getSystemHints()).system_hints.map(({name:n,description:r,logo:a,system_hint:o,required_features:s=[],required_models:l=[],required_conversation_modes:c=[]})=>({name:n,description:r,logo:a,systemHint:o,requiredFeatures:s,requiredModels:l,requiredConversationModes:c})),select:e,staleTime:1/0})}function PA({clientThreadId:e}){const t=F.getThreadCurrentLeafId(e),n=F.getTree(e).getMessage(t),r=gh(e),{data:a}=pa(r),{categories:o}=z1(),{value:s}=$t("3463955812"),l=U(),c=n.metadata?.model_switcher_deny??[],u={};c.forEach(p=>{const{slug:m,context:g,reason:h,description:v}=p,y=u[m]??{},x=y[g]??[];x.push({reason:h,description:v}),y[g]=x,u[m]=y});const f=SC();for(const{resets_after:p,model_slug:m}of f)[Dl.CONVERSATION,Dl.REGENERATE].forEach(g=>{const h=u[m]??{},v=h[g]??[],y={reason:$1.RATE_LIMIT,resetsAfter:p};v.push(y),h[g]=v,u[m]=h});if(s&&r&&kn(r)){const p=[mr.GIZMO_PROJECT];a?.files?.length&&p.push(mr.ATTACHMENT),a?.gizmo.instructions.length&&p.push(mr.CUSTOM_INSTRUCTIONS),o.forEach(m=>{const{defaultModel:g,supportedFeatures:h}=m,v=[];if(p.includes(mr.GIZMO_PROJECT)&&!h.includes(mr.GIZMO_PROJECT)&&v.push({reason:hr.UNSUPPORTED_GIZMO,description:l.formatMessage({id:"6w0z4F",defaultMessage:"This model doesn't support projects."})}),p.includes(mr.ATTACHMENT)&&!h.includes(mr.ATTACHMENT)&&v.push({reason:hr.UNSUPPORTED_ATTACHMENT,description:l.formatMessage({id:"ZKjdak",defaultMessage:"This model doesn't support file attachments."})}),p.includes(mr.CUSTOM_INSTRUCTIONS)&&!h.includes(mr.CUSTOM_INSTRUCTIONS)&&v.push({reason:hr.UNSUPPORTED_CUSTOM_INSTRUCTIONS,description:l.formatMessage({id:"zaubcf",defaultMessage:"This model doesn't support custom instructions."})}),v.length){const y=u[g]??{};[Dl.CONVERSATION,Dl.REGENERATE].forEach(x=>{const C=y[x]??[];C.push(...v),y[x]=C,u[g]=y})}})}return u}function fRe(e){let t=ss(e);const n=Txe(),r=q1(e),a=d.useMemo(()=>!n.isSuccess||!n.data?[]:n.data,[n.data,n.isSuccess]),o=PA({clientThreadId:e});return d.useMemo(()=>{const l=new Set(r.enabledTools||[]);return a.filter(c=>!(!(c.requiredFeatures.length===0||c.requiredFeatures.every(m=>l.has(m)))||!(c.requiredModels.length===0||c.requiredModels.some(m=>!o[m]))||!(c.requiredConversationModes.length===0||c.requiredConversationModes.some(m=>m===t?.kind))))},[a,r,o,t?.kind])}var Exe=new Map([["aac","audio/aac"],["abw","application/x-abiword"],["arc","application/x-freearc"],["avif","image/avif"],["avi","video/x-msvideo"],["azw","application/vnd.amazon.ebook"],["bin","application/octet-stream"],["bmp","image/bmp"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["cda","application/x-cdf"],["csh","application/x-csh"],["css","text/css"],["csv","text/csv"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["eot","application/vnd.ms-fontobject"],["epub","application/epub+zip"],["gz","application/gzip"],["gif","image/gif"],["heic","image/heic"],["heif","image/heif"],["htm","text/html"],["html","text/html"],["ico","image/vnd.microsoft.icon"],["ics","text/calendar"],["jar","application/java-archive"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["js","text/javascript"],["json","application/json"],["jsonld","application/ld+json"],["mid","audio/midi"],["midi","audio/midi"],["mjs","text/javascript"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mpeg","video/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["opus","audio/opus"],["otf","font/otf"],["png","image/png"],["pdf","application/pdf"],["php","application/x-httpd-php"],["ppt","application/vnd.ms-powerpoint"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["rar","application/vnd.rar"],["rtf","application/rtf"],["sh","application/x-sh"],["svg","image/svg+xml"],["swf","application/x-shockwave-flash"],["tar","application/x-tar"],["tif","image/tiff"],["tiff","image/tiff"],["ts","video/mp2t"],["ttf","font/ttf"],["txt","text/plain"],["vsd","application/vnd.visio"],["wav","audio/wav"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["woff","font/woff"],["woff2","font/woff2"],["xhtml","application/xhtml+xml"],["xls","application/vnd.ms-excel"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xml","application/xml"],["xul","application/vnd.mozilla.xul+xml"],["zip","application/zip"],["7z","application/x-7z-compressed"],["mkv","video/x-matroska"],["mov","video/quicktime"],["msg","application/vnd.ms-outlook"]]);function jl(e,t){var n=kxe(e);if(typeof n.path!="string"){var r=e.webkitRelativePath;Object.defineProperty(n,"path",{value:typeof t=="string"?t:typeof r=="string"&&r.length>0?r:e.name,writable:!1,configurable:!1,enumerable:!0})}return n}function kxe(e){var t=e.name,n=t&&t.lastIndexOf(".")!==-1;if(n&&!e.type){var r=t.split(".").pop().toLowerCase(),a=Exe.get(r);a&&Object.defineProperty(e,"type",{value:a,writable:!1,configurable:!1,enumerable:!0})}return e}var Axe=[".DS_Store","Thumbs.db"];function Pxe(e){return ms(this,void 0,void 0,function(){return gs(this,function(t){return n1(e)&&Oxe(e.dataTransfer)?[2,Rxe(e.dataTransfer,e.type)]:Nxe(e)?[2,Ixe(e)]:Array.isArray(e)&&e.every(function(n){return"getFile"in n&&typeof n.getFile=="function"})?[2,jxe(e)]:[2,[]]})})}function Oxe(e){return n1(e)}function Nxe(e){return n1(e)&&n1(e.target)}function n1(e){return typeof e=="object"&&e!==null}function Ixe(e){return B2(e.target.files).map(function(t){return jl(t)})}function jxe(e){return ms(this,void 0,void 0,function(){var t;return gs(this,function(n){switch(n.label){case 0:return[4,Promise.all(e.map(function(r){return r.getFile()}))];case 1:return t=n.sent(),[2,t.map(function(r){return jl(r)})]}})})}function Rxe(e,t){return ms(this,void 0,void 0,function(){var n,r;return gs(this,function(a){switch(a.label){case 0:return e.items?(n=B2(e.items).filter(function(o){return o.kind==="file"}),t!=="drop"?[2,n]:[4,Promise.all(n.map(Lxe))]):[3,2];case 1:return r=a.sent(),[2,e8(OA(r))];case 2:return[2,e8(B2(e.files).map(function(o){return jl(o)}))]}})})}function e8(e){return e.filter(function(t){return Axe.indexOf(t.name)===-1})}function B2(e){if(e===null)return[];for(var t=[],n=0;n<e.length;n++){var r=e[n];t.push(r)}return t}function Lxe(e){if(typeof e.webkitGetAsEntry!="function")return t8(e);var t=e.webkitGetAsEntry();return t&&t.isDirectory?NA(t):t8(e)}function OA(e){return e.reduce(function(t,n){return z9(z9([],q9(t),!1),q9(Array.isArray(n)?OA(n):[n]),!1)},[])}function t8(e){var t=e.getAsFile();if(!t)return Promise.reject("".concat(e," is not a File"));var n=jl(t);return Promise.resolve(n)}function $xe(e){return ms(this,void 0,void 0,function(){return gs(this,function(t){return[2,e.isDirectory?NA(e):Dxe(e)]})})}function NA(e){var t=e.createReader();return new Promise(function(n,r){var a=[];function o(){var s=this;t.readEntries(function(l){return ms(s,void 0,void 0,function(){var c,u,f;return gs(this,function(p){switch(p.label){case 0:if(l.length)return[3,5];p.label=1;case 1:return p.trys.push([1,3,,4]),[4,Promise.all(a)];case 2:return c=p.sent(),n(c),[3,4];case 3:return u=p.sent(),r(u),[3,4];case 4:return[3,6];case 5:f=Promise.all(l.map($xe)),a.push(f),o(),p.label=6;case 6:return[2]}})})},function(l){r(l)})}o()})}function Dxe(e){return ms(this,void 0,void 0,function(){return gs(this,function(t){return[2,new Promise(function(n,r){e.file(function(a){var o=jl(a,e.fullPath);n(o)},function(a){r(a)})})]})})}var Fxe=function(e,t){if(e&&t){var n=Array.isArray(t)?t:t.split(","),r=e.name||"",a=(e.type||"").toLowerCase(),o=a.replace(/\/.*$/,"");return n.some(function(s){var l=s.trim().toLowerCase();return l.charAt(0)==="."?r.toLowerCase().endsWith(l):l.endsWith("/*")?o===l.replace(/\/.*$/,""):a===l})}return!0};function n8(e){return Hxe(e)||Uxe(e)||jA(e)||Bxe()}function Bxe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Uxe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Hxe(e){if(Array.isArray(e))return U2(e)}function r8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function a8(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?r8(Object(n),!0).forEach(function(r){IA(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function IA(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fi(e,t){return Wxe(e)||Gxe(e,t)||jA(e,t)||Vxe()}function Vxe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jA(e,t){if(e){if(typeof e=="string")return U2(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return U2(e,t)}}function U2(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Gxe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r=[],a=!0,o=!1,s,l;try{for(n=n.call(e);!(a=(s=n.next()).done)&&(r.push(s.value),!(t&&r.length===t));a=!0);}catch(c){o=!0,l=c}finally{try{!a&&n.return!=null&&n.return()}finally{if(o)throw l}}return r}}function Wxe(e){if(Array.isArray(e))return e}var RA="file-invalid-type",LA="file-too-large",$A="file-too-small",DA="too-many-files",o8={FileInvalidType:RA,FileTooLarge:LA,FileTooSmall:$A,TooManyFiles:DA},zxe=function(t){t=Array.isArray(t)&&t.length===1?t[0]:t;var n=Array.isArray(t)?"one of ".concat(t.join(", ")):t;return{code:RA,message:"File type must be ".concat(n)}},s8=function(t){return{code:LA,message:"File is larger than ".concat(t," ").concat(t===1?"byte":"bytes")}},i8=function(t){return{code:$A,message:"File is smaller than ".concat(t," ").concat(t===1?"byte":"bytes")}},qxe={code:DA,message:"Too many files"};function FA(e,t){var n=e.type==="application/x-moz-file"||Fxe(e,t);return[n,n?null:zxe(t)]}function BA(e,t,n){if(Pa(e.size))if(Pa(t)&&Pa(n)){if(e.size>n)return[!1,s8(n)];if(e.size<t)return[!1,i8(t)]}else{if(Pa(t)&&e.size<t)return[!1,i8(t)];if(Pa(n)&&e.size>n)return[!1,s8(n)]}return[!0,null]}function Pa(e){return e!=null}function Zxe(e){var t=e.files,n=e.accept,r=e.minSize,a=e.maxSize,o=e.multiple,s=e.maxFiles,l=e.validator;return!o&&t.length>1||o&&s>=1&&t.length>s?!1:t.every(function(c){var u=FA(c,n),f=Fi(u,1),p=f[0],m=BA(c,r,a),g=Fi(m,1),h=g[0],v=l?l(c):null;return p&&h&&!v})}function r1(e){return typeof e.isPropagationStopped=="function"?e.isPropagationStopped():typeof e.cancelBubble<"u"?e.cancelBubble:!1}function xc(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,function(t){return t==="Files"||t==="application/x-moz-file"}):!!e.target&&!!e.target.files}function l8(e){e.preventDefault()}function Yxe(e){return e.indexOf("MSIE")!==-1||e.indexOf("Trident/")!==-1}function Kxe(e){return e.indexOf("Edge/")!==-1}function Qxe(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return Yxe(e)||Kxe(e)}function Jn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(r){for(var a=arguments.length,o=new Array(a>1?a-1:0),s=1;s<a;s++)o[s-1]=arguments[s];return t.some(function(l){return!r1(r)&&l&&l.apply(void 0,[r].concat(o)),r1(r)})}}function Jxe(){return"showOpenFilePicker"in window}function Xxe(e){if(Pa(e)){var t=Object.entries(e).filter(function(n){var r=Fi(n,2),a=r[0],o=r[1],s=!0;return UA(a)||(console.warn('Skipped "'.concat(a,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),s=!1),(!Array.isArray(o)||!o.every(HA))&&(console.warn('Skipped "'.concat(a,'" because an invalid file extension was provided.')),s=!1),s}).reduce(function(n,r){var a=Fi(r,2),o=a[0],s=a[1];return a8(a8({},n),{},IA({},o,s))},{});return[{description:"Files",accept:t}]}return e}function ebe(e){if(Pa(e))return Object.entries(e).reduce(function(t,n){var r=Fi(n,2),a=r[0],o=r[1];return[].concat(n8(t),[a],n8(o))},[]).filter(function(t){return UA(t)||HA(t)}).join(",")}function tbe(e){return e instanceof DOMException&&(e.name==="AbortError"||e.code===e.ABORT_ERR)}function nbe(e){return e instanceof DOMException&&(e.name==="SecurityError"||e.code===e.SECURITY_ERR)}function UA(e){return e==="audio/*"||e==="video/*"||e==="image/*"||e==="text/*"||/\w+\/[-+.\w]+/g.test(e)}function HA(e){return/^.*\.[\w]+$/.test(e)}var rbe=["children"],abe=["open"],obe=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],sbe=["refKey","onChange","onClick"];function ibe(e){return ube(e)||cbe(e)||VA(e)||lbe()}function lbe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cbe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ube(e){if(Array.isArray(e))return H2(e)}function B0(e,t){return pbe(e)||fbe(e,t)||VA(e,t)||dbe()}function dbe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VA(e,t){if(e){if(typeof e=="string")return H2(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return H2(e,t)}}function H2(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function fbe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r=[],a=!0,o=!1,s,l;try{for(n=n.call(e);!(a=(s=n.next()).done)&&(r.push(s.value),!(t&&r.length===t));a=!0);}catch(c){o=!0,l=c}finally{try{!a&&n.return!=null&&n.return()}finally{if(o)throw l}}return r}}function pbe(e){if(Array.isArray(e))return e}function c8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function nt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?c8(Object(n),!0).forEach(function(r){V2(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function V2(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a1(e,t){if(e==null)return{};var n=mbe(e,t),r,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function mbe(e,t){if(e==null)return{};var n={},r=Object.keys(e),a,o;for(o=0;o<r.length;o++)a=r[o],!(t.indexOf(a)>=0)&&(n[a]=e[a]);return n}var w9=d.forwardRef(function(e,t){var n=e.children,r=a1(e,rbe),a=WA(r),o=a.open,s=a1(a,abe);return d.useImperativeHandle(t,function(){return{open:o}},[o]),J.createElement(d.Fragment,null,n(nt(nt({},s),{},{open:o})))});w9.displayName="Dropzone";var GA={disabled:!1,getFilesFromEvent:Pxe,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!0,autoFocus:!1};w9.defaultProps=GA;w9.propTypes={children:He.func,accept:He.objectOf(He.arrayOf(He.string)),multiple:He.bool,preventDropOnDocument:He.bool,noClick:He.bool,noKeyboard:He.bool,noDrag:He.bool,noDragEventsBubbling:He.bool,minSize:He.number,maxSize:He.number,maxFiles:He.number,disabled:He.bool,getFilesFromEvent:He.func,onFileDialogCancel:He.func,onFileDialogOpen:He.func,useFsAccessApi:He.bool,autoFocus:He.bool,onDragEnter:He.func,onDragLeave:He.func,onDragOver:He.func,onDrop:He.func,onDropAccepted:He.func,onDropRejected:He.func,onError:He.func,validator:He.func};var G2={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function WA(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=nt(nt({},GA),e),n=t.accept,r=t.disabled,a=t.getFilesFromEvent,o=t.maxSize,s=t.minSize,l=t.multiple,c=t.maxFiles,u=t.onDragEnter,f=t.onDragLeave,p=t.onDragOver,m=t.onDrop,g=t.onDropAccepted,h=t.onDropRejected,v=t.onFileDialogCancel,y=t.onFileDialogOpen,x=t.useFsAccessApi,C=t.autoFocus,w=t.preventDropOnDocument,_=t.noClick,E=t.noKeyboard,T=t.noDrag,M=t.noDragEventsBubbling,A=t.onError,D=t.validator,j=d.useMemo(function(){return ebe(n)},[n]),B=d.useMemo(function(){return Xxe(n)},[n]),N=d.useMemo(function(){return typeof y=="function"?y:u8},[y]),H=d.useMemo(function(){return typeof v=="function"?v:u8},[v]),R=d.useRef(null),G=d.useRef(null),X=d.useReducer(gbe,G2),ae=B0(X,2),$=ae[0],I=ae[1],O=$.isFocused,Q=$.isFileDialogActive,oe=d.useRef(typeof window<"u"&&window.isSecureContext&&x&&Jxe()),ne=function(){!oe.current&&Q&&setTimeout(function(){if(G.current){var le=G.current.files;le.length||(I({type:"closeDialog"}),H())}},300)};d.useEffect(function(){return window.addEventListener("focus",ne,!1),function(){window.removeEventListener("focus",ne,!1)}},[G,Q,H,oe]);var ee=d.useRef([]),Y=function(le){R.current&&R.current.contains(le.target)||(le.preventDefault(),ee.current=[])};d.useEffect(function(){return w&&(document.addEventListener("dragover",l8,!1),document.addEventListener("drop",Y,!1)),function(){w&&(document.removeEventListener("dragover",l8),document.removeEventListener("drop",Y))}},[R,w]),d.useEffect(function(){return!r&&C&&R.current&&R.current.focus(),function(){}},[R,C,r]);var W=d.useCallback(function(Z){A?A(Z):console.error(Z)},[A]),de=d.useCallback(function(Z){Z.preventDefault(),Z.persist(),Ll(Z),ee.current=[].concat(ibe(ee.current),[Z.target]),xc(Z)&&Promise.resolve(a(Z)).then(function(le){if(!(r1(Z)&&!M)){var mt=le.length,kt=mt>0&&Zxe({files:le,accept:j,minSize:s,maxSize:o,multiple:l,maxFiles:c,validator:D}),dn=mt>0&&!kt;I({isDragAccept:kt,isDragReject:dn,isDragActive:!0,type:"setDraggedFiles"}),u&&u(Z)}}).catch(function(le){return W(le)})},[a,u,W,M,j,s,o,l,c,D]),fe=d.useCallback(function(Z){Z.preventDefault(),Z.persist(),Ll(Z);var le=xc(Z);if(le&&Z.dataTransfer)try{Z.dataTransfer.dropEffect="copy"}catch{}return le&&p&&p(Z),!1},[p,M]),Ze=d.useCallback(function(Z){Z.preventDefault(),Z.persist(),Ll(Z);var le=ee.current.filter(function(kt){return R.current&&R.current.contains(kt)}),mt=le.indexOf(Z.target);mt!==-1&&le.splice(mt,1),ee.current=le,!(le.length>0)&&(I({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),xc(Z)&&f&&f(Z))},[R,f,M]),st=d.useCallback(function(Z,le){var mt=[],kt=[];Z.forEach(function(dn){var Rs=FA(dn,j),uo=B0(Rs,2),tp=uo[0],np=uo[1],rp=BA(dn,s,o),$l=B0(rp,2),ap=$l[0],op=$l[1],sp=D?D(dn):null;if(tp&&ap&&!sp)mt.push(dn);else{var ip=[np,op];sp&&(ip=ip.concat(sp)),kt.push({file:dn,errors:ip.filter(function(VP){return VP})})}}),(!l&&mt.length>1||l&&c>=1&&mt.length>c)&&(mt.forEach(function(dn){kt.push({file:dn,errors:[qxe]})}),mt.splice(0)),I({acceptedFiles:mt,fileRejections:kt,type:"setFiles"}),m&&m(mt,kt,le),kt.length>0&&h&&h(kt,le),mt.length>0&&g&&g(mt,le)},[I,l,j,s,o,c,m,g,h,D]),nn=d.useCallback(function(Z){Z.preventDefault(),Z.persist(),Ll(Z),ee.current=[],xc(Z)&&Promise.resolve(a(Z)).then(function(le){r1(Z)&&!M||st(le,Z)}).catch(function(le){return W(le)}),I({type:"reset"})},[a,st,W,M]),se=d.useCallback(function(){if(oe.current){I({type:"openDialog"}),N();var Z={multiple:l,types:B};window.showOpenFilePicker(Z).then(function(le){return a(le)}).then(function(le){st(le,null),I({type:"closeDialog"})}).catch(function(le){tbe(le)?(H(le),I({type:"closeDialog"})):nbe(le)?(oe.current=!1,G.current?(G.current.value=null,G.current.click()):W(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):W(le)});return}G.current&&(I({type:"openDialog"}),N(),G.current.value=null,G.current.click())},[I,N,H,x,st,W,B,l]),Ft=d.useCallback(function(Z){!R.current||!R.current.isEqualNode(Z.target)||(Z.key===" "||Z.key==="Enter"||Z.keyCode===32||Z.keyCode===13)&&(Z.preventDefault(),se())},[R,se]),$r=d.useCallback(function(){I({type:"focus"})},[]),pr=d.useCallback(function(){I({type:"blur"})},[]),j9=d.useCallback(function(){_||(Qxe()?setTimeout(se,0):se())},[_,se]),co=function(le){return r?null:le},ep=function(le){return E?null:co(le)},Rl=function(le){return T?null:co(le)},Ll=function(le){M&&le.stopPropagation()},BP=d.useMemo(function(){return function(){var Z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},le=Z.refKey,mt=le===void 0?"ref":le,kt=Z.role,dn=Z.onKeyDown,Rs=Z.onFocus,uo=Z.onBlur,tp=Z.onClick,np=Z.onDragEnter,rp=Z.onDragOver,$l=Z.onDragLeave,ap=Z.onDrop,op=a1(Z,obe);return nt(nt(V2({onKeyDown:ep(Jn(dn,Ft)),onFocus:ep(Jn(Rs,$r)),onBlur:ep(Jn(uo,pr)),onClick:co(Jn(tp,j9)),onDragEnter:Rl(Jn(np,de)),onDragOver:Rl(Jn(rp,fe)),onDragLeave:Rl(Jn($l,Ze)),onDrop:Rl(Jn(ap,nn)),role:typeof kt=="string"&&kt!==""?kt:"presentation"},mt,R),!r&&!E?{tabIndex:0}:{}),op)}},[R,Ft,$r,pr,j9,de,fe,Ze,nn,E,T,r]),UP=d.useCallback(function(Z){Z.stopPropagation()},[]),HP=d.useMemo(function(){return function(){var Z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},le=Z.refKey,mt=le===void 0?"ref":le,kt=Z.onChange,dn=Z.onClick,Rs=a1(Z,sbe),uo=V2({accept:j,multiple:l,type:"file",style:{display:"none"},onChange:co(Jn(kt,nn)),onClick:co(Jn(dn,UP)),tabIndex:-1},mt,G);return nt(nt({},uo),Rs)}},[G,n,l,nn,r]);return nt(nt({},$),{},{isFocused:O&&!r,getRootProps:BP,getInputProps:HP,rootRef:R,inputRef:G,open:co(se)})}function gbe(e,t){switch(t.type){case"focus":return nt(nt({},e),{},{isFocused:!0});case"blur":return nt(nt({},e),{},{isFocused:!1});case"openDialog":return nt(nt({},G2),{},{isFileDialogActive:!0});case"closeDialog":return nt(nt({},e),{},{isFileDialogActive:!1});case"setDraggedFiles":return nt(nt({},e),{},{isDragActive:t.isDragActive,isDragAccept:t.isDragAccept,isDragReject:t.isDragReject});case"setFiles":return nt(nt({},e),{},{acceptedFiles:t.acceptedFiles,fileRejections:t.fileRejections});case"reset":return nt({},G2);default:return e}}function u8(){}function hbe(){return{}}const d8=new WeakMap;function zA(e){const t=d8.get(e);if(!t){const n=new Set;return d8.set(e,n),n}return t}function vbe(e,t){zA(e).add(t)}function ybe(e,t){zA(e).delete(t)}function pRe(e){return!1}function mRe(e){const t=R1(),[n]=d.useState(hbe);d.useEffect(()=>{if(t&&e)return vbe(t,n),()=>ybe(t,n)},[e,t,n])}const _9=e=>d.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},d.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.7071 5.29289C15.0976 5.68342 15.0976 6.31658 14.7071 6.70711L9.41421 12L14.7071 17.2929C15.0976 17.6834 15.0976 18.3166 14.7071 18.7071C14.3166 19.0976 13.6834 19.0976 13.2929 18.7071L7.29289 12.7071C7.10536 12.5196 7 12.2652 7 12C7 11.7348 7.10536 11.4804 7.29289 11.2929L13.2929 5.29289C13.6834 4.90237 14.3166 4.90237 14.7071 5.29289Z",fill:"currentColor"})),Cbe=({className:e})=>i.jsxs(cr,{width:"132",height:"108",viewBox:"0 0 132 108",fill:"none",className:e,children:[i.jsx("g",{clipPath:"url(#clip0_3605_64419)",children:i.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M25.2025 29.3514C10.778 33.2165 8.51524 37.1357 11.8281 49.4995L13.4846 55.6814C16.7975 68.0453 20.7166 70.308 35.1411 66.443L43.3837 64.2344C57.8082 60.3694 60.0709 56.4502 56.758 44.0864L55.1016 37.9044C51.7887 25.5406 47.8695 23.2778 33.445 27.1428L29.3237 28.2471L25.2025 29.3514ZM18.1944 42.7244C18.8572 41.5764 20.325 41.1831 21.4729 41.8459L27.3517 45.24C28.4996 45.9027 28.8929 47.3706 28.2301 48.5185L24.836 54.3972C24.1733 55.5451 22.7054 55.9384 21.5575 55.2757C20.4096 54.613 20.0163 53.1451 20.6791 51.9972L22.8732 48.1969L19.0729 46.0028C17.925 45.3401 17.5317 43.8723 18.1944 42.7244ZM29.4091 56.3843C29.066 55.104 29.8258 53.7879 31.1062 53.4449L40.3791 50.9602C41.6594 50.6172 42.9754 51.377 43.3184 52.6573C43.6615 53.9376 42.9017 55.2536 41.6214 55.5967L32.3485 58.0813C31.0682 58.4244 29.7522 57.6646 29.4091 56.3843Z",fill:"#AFC1FF"})}),i.jsx("g",{clipPath:"url(#clip1_3605_64419)",children:i.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M86.8124 13.4036C81.0973 11.8722 78.5673 13.2649 77.0144 19.0603L68.7322 49.97C67.1793 55.7656 68.5935 58.2151 74.4696 59.7895L97.4908 65.958C103.367 67.5326 105.816 66.1184 107.406 60.1848L115.393 30.379C115.536 29.8456 115.217 29.2959 114.681 29.16C113.478 28.8544 112.435 28.6195 111.542 28.4183C106.243 27.2253 106.22 27.2201 109.449 20.7159C109.73 20.1507 109.426 19.4638 108.816 19.3004L86.8124 13.4036ZM87.2582 28.4311C86.234 28.1567 85.1812 28.7645 84.9067 29.7888C84.6323 30.813 85.2401 31.8658 86.2644 32.1403L101.101 36.1158C102.125 36.3902 103.178 35.7824 103.453 34.7581C103.727 33.7339 103.119 32.681 102.095 32.4066L87.2582 28.4311ZM82.9189 37.2074C83.1934 36.1831 84.2462 35.5753 85.2704 35.8497L100.107 39.8252C101.131 40.0996 101.739 41.1524 101.465 42.1767C101.19 43.201 100.137 43.8088 99.1132 43.5343L84.2766 39.5589C83.2523 39.2844 82.6445 38.2316 82.9189 37.2074ZM83.2826 43.2683C82.2584 42.9939 81.2056 43.6017 80.9311 44.626C80.6567 45.6502 81.2645 46.703 82.2888 46.9775L89.7071 48.9652C90.7313 49.2396 91.7841 48.6318 92.0586 47.6076C92.333 46.5833 91.7252 45.5305 90.7009 45.256L83.2826 43.2683Z",fill:"#7989FF"})}),i.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M40.4004 71.8426C40.4004 57.2141 44.0575 53.5569 61.1242 53.5569H66.0004H70.8766C87.9432 53.5569 91.6004 57.2141 91.6004 71.8426V79.1569C91.6004 93.7855 87.9432 97.4426 70.8766 97.4426H61.1242C44.0575 97.4426 40.4004 93.7855 40.4004 79.1569V71.8426ZM78.8002 67.4995C78.8002 70.1504 76.6512 72.2995 74.0002 72.2995C71.3492 72.2995 69.2002 70.1504 69.2002 67.4995C69.2002 64.8485 71.3492 62.6995 74.0002 62.6995C76.6512 62.6995 78.8002 64.8485 78.8002 67.4995ZM60.7204 70.8597C60.2672 70.2553 59.5559 69.8997 58.8004 69.8997C58.045 69.8997 57.3337 70.2553 56.8804 70.8597L47.2804 83.6597C46.4851 84.72 46.7 86.2244 47.7604 87.0197C48.8208 87.8149 50.3251 87.6 51.1204 86.5397L58.8004 76.2997L66.4804 86.5397C66.8979 87.0962 67.5363 87.4443 68.2303 87.4936C68.9243 87.5429 69.6055 87.2887 70.0975 86.7967L74.8004 82.0938L79.5034 86.7967C80.4406 87.734 81.9602 87.734 82.8975 86.7967C83.8347 85.8595 83.8347 84.3399 82.8975 83.4026L76.4975 77.0026C75.5602 76.0653 74.0406 76.0653 73.1034 77.0026L68.6601 81.4459L60.7204 70.8597Z",fill:"#3C46FF"}),i.jsxs("defs",{children:[i.jsx("clipPath",{id:"clip0_3605_64419",children:i.jsx("rect",{width:"56",height:"56",fill:"white",transform:"translate(0 26.9939) rotate(-15)"})}),i.jsx("clipPath",{id:"clip1_3605_64419",children:i.jsx("rect",{width:"64",height:"64",fill:"white",transform:"translate(69.5645 0.5) rotate(15)"})})]})]}),xbe=({className:e})=>i.jsxs(cr,{width:"36",height:"36",viewBox:"0 0 36 36",fill:"none",className:e,children:[i.jsx("rect",{width:"36",height:"36",rx:"6",fill:"#10A37F"}),i.jsx("path",{d:"M15.5 10.5H12.1667C11.2462 10.5 10.5 11.2462 10.5 12.1667V13.5V18M15.5 10.5H23.8333C24.7538 10.5 25.5 11.2462 25.5 12.1667V13.5V18M15.5 10.5V25.5M15.5 25.5H18H23.8333C24.7538 25.5 25.5 24.7538 25.5 23.8333V18M15.5 25.5H12.1667C11.2462 25.5 10.5 24.7538 10.5 23.8333V18M10.5 18H25.5",stroke:"white",strokeWidth:"1.66667",strokeLinecap:"round",strokeLinejoin:"round"})]}),bbe=({className:e})=>i.jsxs(cr,{width:"36",height:"36",viewBox:"0 0 36 36",fill:"none",className:e,children:[i.jsx("rect",{width:"36",height:"36",rx:"6",fill:"#FF5588"}),i.jsx("path",{d:"M19.6663 9.66663H12.9997C12.5576 9.66663 12.1337 9.84222 11.8212 10.1548C11.5086 10.4673 11.333 10.8913 11.333 11.3333V24.6666C11.333 25.1087 11.5086 25.5326 11.8212 25.8451C12.1337 26.1577 12.5576 26.3333 12.9997 26.3333H22.9997C23.4417 26.3333 23.8656 26.1577 24.1782 25.8451C24.4907 25.5326 24.6663 25.1087 24.6663 24.6666V14.6666L19.6663 9.66663Z",stroke:"white",strokeWidth:"1.66667",strokeLinecap:"round",strokeLinejoin:"round"}),i.jsx("path",{d:"M19.667 9.66663V14.6666H24.667",stroke:"white",strokeWidth:"1.66667",strokeLinecap:"round",strokeLinejoin:"round"}),i.jsx("path",{d:"M21.3337 18.8334H14.667",stroke:"white",strokeWidth:"1.66667",strokeLinecap:"round",strokeLinejoin:"round"}),i.jsx("path",{d:"M21.3337 22.1666H14.667",stroke:"white",strokeWidth:"1.66667",strokeLinecap:"round",strokeLinejoin:"round"}),i.jsx("path",{d:"M16.3337 15.5H15.5003H14.667",stroke:"white",strokeWidth:"1.66667",strokeLinecap:"round",strokeLinejoin:"round"})]}),wbe=({className:e})=>i.jsxs(cr,{width:"36",height:"36",viewBox:"0 0 36 36",fill:"none",className:e,children:[i.jsx("rect",{width:"36",height:"36",rx:"6",fill:"#F8CA27"}),i.jsx("path",{d:"M10.5 14V13.5V12.1667C10.5 11.2462 11.2462 10.5 12.1667 10.5H15.5H23.8333C24.7538 10.5 25.5 11.2462 25.5 12.1667V13.5V14M10.5 14V23.8333C10.5 24.7538 11.2462 25.5 12.1667 25.5H15.5H18H23.8333C24.7538 25.5 25.5 24.7538 25.5 23.8333V14M10.5 14H25.5M14 21.5L16.5 19L19 20.5L22 17.5",stroke:"white",strokeWidth:"1.66667",strokeLinecap:"round",strokeLinejoin:"round"})]}),_be=({className:e})=>i.jsxs(cr,{width:"36",height:"36",viewBox:"0 0 36 36",fill:"none",className:e,children:[i.jsx("rect",{width:"36",height:"36",rx:"6",fill:"#B161FD"}),i.jsx("path",{d:"M26.3337 23.8333C26.3337 24.2754 26.1581 24.6993 25.8455 25.0118C25.5329 25.3244 25.109 25.5 24.667 25.5H11.3337C10.8916 25.5 10.4677 25.3244 10.1551 25.0118C9.84259 24.6993 9.66699 24.2754 9.66699 23.8333V12.1667C9.66699 11.7246 9.84259 11.3007 10.1551 10.9882C10.4677 10.6756 10.8916 10.5 11.3337 10.5H15.5003L17.167 13H24.667C25.109 13 25.5329 13.1756 25.8455 13.4882C26.1581 13.8007 26.3337 14.2246 26.3337 14.6667V23.8333Z",stroke:"white",strokeWidth:"1.66667",strokeLinecap:"round",strokeLinejoin:"round"})]}),Sbe=({className:e})=>i.jsxs(cr,{width:"36",height:"36",viewBox:"0 0 36 36",fill:"none",className:e,children:[i.jsx("rect",{width:"36",height:"36",rx:"6",fill:"#0088FF"}),i.jsx("path",{d:"M18.833 9.66663H12.9997C12.5576 9.66663 12.1337 9.84222 11.8212 10.1548C11.5086 10.4673 11.333 10.8913 11.333 11.3333V24.6666C11.333 25.1087 11.5086 25.5326 11.8212 25.8451C12.1337 26.1577 12.5576 26.3333 12.9997 26.3333H22.9997C23.4417 26.3333 23.8656 26.1577 24.1782 25.8451C24.4907 25.5326 24.6663 25.1087 24.6663 24.6666V15.5L18.833 9.66663Z",stroke:"white",strokeWidth:"1.66667",strokeLinecap:"round",strokeLinejoin:"round"}),i.jsx("path",{d:"M18.833 9.66663V15.5H24.6663",stroke:"white",strokeWidth:"1.66667",strokeLinecap:"round",strokeLinejoin:"round"})]}),Mbe=({className:e})=>i.jsxs(cr,{width:"36",height:"36",viewBox:"0 0 36 36",fill:"none",className:e,children:[i.jsx("rect",{width:"36",height:"36",rx:"6",fill:"#FF6E3C"}),i.jsx("path",{d:"M21.333 23L26.333 18L21.333 13",stroke:"white",strokeWidth:"1.66667",strokeLinecap:"round",strokeLinejoin:"round"}),i.jsx("path",{d:"M14.667 13L9.66699 18L14.667 23",stroke:"white",strokeWidth:"1.66667",strokeLinecap:"round",strokeLinejoin:"round"})]}),qA=({clientThreadId:e,rateLimitPopup:t,children:n,disabled:r,highlightTooltip:a=!1})=>{const o=U(),s=L1(e),l=Se(),c=p=>{t!=null&&p&&S.logPopoverHover({type:"rate_limit",location:"file_upload",plan_type:l?.planType??"unknown"})},u=io(Ct.signUpButtonText),f=!!t;return i.jsx(i.Fragment,{children:f?i.jsx("div",{className:"h-8",children:i.jsxs(GC,{delayDuration:150,onOpenChange:c,children:[i.jsx(WC,{asChild:!0,children:n}),i.jsx(zC,{children:i.jsx(UC,{$as:qC,side:"left",sideOffset:0,align:"start",alignOffset:-12,className:"max-w-[320px]",children:i.jsx(Tbe,{isNewConversation:s,rateLimitPopup:t,signUpButtonText:u})})})]})}):i.jsx(ot,{sideOffset:0,label:r?o.formatMessage({id:"9Wgi7B",defaultMessage:"Attach files is unavailable"}):o.formatMessage({id:"qYwjac",defaultMessage:"Attach files"}),className:"flex",open:a?!0:void 0,side:"left",children:n})})},Tbe=({isNewConversation:e=!1,rateLimitPopup:t,signUpButtonText:n})=>{const r=Se(),a=Ge(),o=un(),s=Is(),l=ua();if(t==null)return null;const{call_to_action:c,description:u}=t,f=u||i.jsx(b,{...f8.defaultDescription}),p=c?.includes(an.GET_PLUS),m=c?.includes(an.AUTHENTICATE),g=m&&l;return i.jsxs("div",{className:"p-2 text-sm text-token-text-primary",children:[i.jsx("div",{className:"mb-3",children:f}),p?i.jsx(re,{size:"small",color:"secondary",onClick:()=>{oa(a,"Rate limited file upload popover"),S.logRateLimitGetPlusButtonClicked({type:"file_upload",location:"popover",plan_type:r?.planType??"unknown",is_hard_block:!1,is_new_conversation:e,hard_block_reason:""})},children:i.jsx(b,{...f8.getPlus})}):null,m?i.jsx(re,{size:"small",color:"primary",onClick:()=>{o({authType:s?"login":"signup",callback:h=>{s?S.logLogInButtonClicked({location:"File picker rate limit tooltip",provider:h}):S.logSignUpButtonClicked({location:"File picker rate limit tooltip",provider:h})}})},children:s?i.jsx(b,{...Ct.logInButtonText}):i.jsx(b,{...n})}):null,g?i.jsx(re,{size:"small",color:"secondary",className:"ml-2",onClick:()=>{o({authType:s?"signup":"login",callback:h=>{s?S.logSignUpButtonClicked({location:"File picker rate limit tooltip",provider:h}):S.logLogInButtonClicked({location:"File picker rate limit tooltip",provider:h})}})},children:s?i.jsx(b,{...n}):i.jsx(b,{...Ct.logInButtonText})}):null]})},f8=V({defaultDescription:{id:"U5qAWP",defaultMessage:"You've reached your daily upload limit. Get ChatGPT Plus to unlock more."},getPlus:{id:"TeyLcp",defaultMessage:"Get Plus"}}),ZA=he.button`flex items-center justify-center h-8 w-8 rounded-lg rounded-bl-xl text-token-text-primary dark:text-white ${({includeBorder:e=!0})=>e?"focus-visible:outline-black dark:focus-visible:outline-white ":""} ${({disabled:e})=>e?"opacity-30":"hover:bg-black/10"}`;function gRe({clientThreadId:e,getInputProps:t,openFileDialog:n,uploadType:r,icon:a,isDisabled:o=!1,highlightTooltip:s=!1}){const l=U(),c=yh();o=o||!!c;const u=i.jsx(ZA,{disabled:o,onClick:m=>{m.preventDefault(),S.logEvent(k.openFileViewer,{intent:r.toString()}),n()},"aria-label":o?l.formatMessage({id:"PromptFilePicker.attachFilesUnavailable",defaultMessage:"Attach files is unavailable"}):l.formatMessage({id:"PromptFilePicker.attachFiles",defaultMessage:"Attach files"}),children:a}),f=i.jsx("input",{disabled:o,...t({className:"hidden"})}),p=i.jsxs("div",{className:"flex",children:[u,f]});return i.jsx(qA,{disabled:o,clientThreadId:e,rateLimitPopup:c,highlightTooltip:s,children:p})}function Ebe({code:e,message:t}){switch(e){case o8.FileTooLarge:return p8.errorFileTooLarge;case o8.TooManyFiles:return S.logEvent(k.uploadedMaxFilesError),p8.errorTooManyFiles;default:return t}}const p8=V({attachImages:{id:"PromptFilePicker.attachImages",defaultMessage:"Attach images"},attachFiles:{id:"PromptFilePicker.attachFiles",defaultMessage:"Attach files"},errorFileTooLarge:{id:"PromptFilePicker.errorFileTooLarge",defaultMessage:"Your file is too large. The maximum file size is {size}MB."},errorTooManyFiles:{id:"PromptFilePicker.errorTooManyFiles",defaultMessage:"You may only upload {maxNum} files at a time."},defaultFileUploadRateLimited:{id:"U5qAWP",defaultMessage:"You've reached your daily upload limit. Get ChatGPT Plus to unlock more."},getPlusButton:{id:"TeyLcp",defaultMessage:"Get Plus"}}),m8=V({dragInstructions:{id:"FileDropZone.dragInstructions",defaultMessage:"Add anything"},dragAllAccepted:{id:"FileDropZone.dragAllAccepted",defaultMessage:"Drop any file here to add it to the conversation"}});function kbe(e){if(!e.accept||Object.keys(e.accept).length===0)return[];const t=[];return Object.values(e.accept).forEach(n=>t.push(...n)),t.sort()}function hRe(e){const{className:t,children:n,clientThreadId:r,currentModelConfig:a}=e,o=U(),s=Ne(),l=G5(r),c=Rd(a,l),u=c!==Xe.None,f=nM(_=>_.files),p=(c===Xe.Multimodal?HS:Id)-f.length,m=p<=0,{getGizmoId:g}=Ol(),{handleFileAccepted:h}=Pbe(o,Rd(a,l),ZS(a,l),"drag",g,yl(a,l)?.attachments),v=yh(),y=Oue(Aue(a,l)),{getRootProps:x,isDragActive:C}=WA({maxFiles:p,disabled:!u||m||v!=null,noClick:!0,onDropAccepted:h,onDropRejected:_=>Abe(_,o,s,c),multiple:!0,maxSize:mue,...y}),w=kbe(y);return i.jsxs("div",{...x({className:t}),children:[n,C&&i.jsxs(Obe,{children:[i.jsx(Cbe,{}),i.jsx("h3",{children:i.jsx(b,{...m8.dragInstructions})}),i.jsx("h4",{className:"w-2/3 text-center",children:w.length>0?w.join(", "):i.jsx(b,{...m8.dragAllAccepted})})]})]})}function Abe(e,t,n,r){const{errors:a}=e[0];a.forEach(o=>{const s=Ebe(o);typeof s=="string"?n.danger(s,{hasCloseButton:!0}):n.danger(t.formatMessage(s,{size:VS,maxNum:r===Xe.Multimodal?HS:Id}),{hasCloseButton:!0})})}function Pbe(e,t,n,r,a,o){const s=Ne(),l=Cl();return{handleFileAccepted:d.useCallback(async(u,f)=>{S.logEvent(k.uploadFile,{client:"web",eventSource:r,intent:t.toString()});const p=a!=null?await a():void 0;u.length>0&&u.forEach(m=>{gn.uploadFile(l,ji(m),m,t,n,e,s,{gizmoId:p},o)})},[r,t,a,l,n,e,s,o])}}const Obe=he.div`absolute inset-0 opacity-80 flex gap-2 flex-col justify-center items-center bg-token-main-surface-primary text-token-text-primary`,Nbe=e=>d.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},d.createElement("path",{d:"M7.70711 10.2929C7.31658 9.90237 6.68342 9.90237 6.29289 10.2929C5.90237 10.6834 5.90237 11.3166 6.29289 11.7071L11.2929 16.7071C11.6834 17.0976 12.3166 17.0976 12.7071 16.7071L17.7071 11.7071C18.0976 11.3166 18.0976 10.6834 17.7071 10.2929C17.3166 9.90237 16.6834 9.90237 16.2929 10.2929L13 13.5858L13 4C13 3.44771 12.5523 3 12 3C11.4477 3 11 3.44771 11 4L11 13.5858L7.70711 10.2929Z",fill:"currentColor"}),d.createElement("path",{d:"M5 19C4.44772 19 4 19.4477 4 20C4 20.5523 4.44772 21 5 21H19C19.5523 21 20 20.5523 20 20C20 19.4477 19.5523 19 19 19L5 19Z",fill:"currentColor"})),Ibe=e=>d.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},d.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19 6C18.4477 6 18 6.44772 18 7V11C18 11.5523 17.5523 12 17 12H7.41421L9.70711 9.70711C10.0976 9.31658 10.0976 8.68342 9.70711 8.29289C9.31658 7.90237 8.68342 7.90237 8.29289 8.29289L4.29289 12.2929C3.90237 12.6834 3.90237 13.3166 4.29289 13.7071L8.29289 17.7071C8.68342 18.0976 9.31658 18.0976 9.70711 17.7071C10.0976 17.3166 10.0976 16.6834 9.70711 16.2929L7.41421 14H17C18.6569 14 20 12.6569 20 11V7C20 6.44772 19.5523 6 19 6Z",fill:"currentColor"}));function jbe({contextConnectorSourceUrl:e,...t}){const n=U(),[r,a]=d.useState({width:0,height:0}),o=r.width/r.height,s=r.width>0&&r.height>0,l=d.useMemo(()=>{if(e!==void 0){let c=new URL(e);return c.protocol!=="https:"&&(c=void 0),c?.toString()}},[e]);return d.useEffect(()=>{if(!t.src)throw new Error("ExpandableImage requires a src");const c=new Image;c.onload=()=>{a({width:c.naturalWidth,height:c.naturalHeight})},c.onerror=()=>{},c.src=t.src},[t.src]),i.jsxs(M1,{children:[i.jsx(ch,{className:t.className,disabled:!s,children:t.children}),i.jsx(T1,{children:i.jsxs(w1,{className:"fixed inset-0 flex items-center justify-center overflow-hidden bg-black/90 radix-state-open:animate-show dark:bg-black/80",children:[i.jsx(S1,{asChild:!0,children:i.jsx("button",{className:"absolute right-4 top-4",children:i.jsx(ls,{className:"h-5 w-5 text-gray-100"})})}),i.jsxs(_1,{className:"shadow-xl focus:outline-none radix-state-open:animate-contentShow",children:[i.jsx("div",{className:P("relative max-h-[85vh] max-w-[90vw]"),style:{aspectRatio:o},children:i.jsx("img",{src:t.src,alt:t.alt,className:"h-full w-full object-contain"})}),l&&i.jsx("div",{className:"absolute right-14 top-4",children:i.jsx(ot,{label:n.formatMessage(Rbe.openOriginal),children:i.jsx("a",{href:l,target:"_blank",rel:"noreferrer",children:i.jsx(Ibe,{className:"h-5 w-5 rotate-180 text-gray-100"})})})})]})]})})]})}const Rbe=V({openOriginal:{id:"ExpandableImage.openOriginal",defaultMessage:"Open original image"}});function Lbe({fileName:e,icon:t,loadingPercentage:n,contextConnectorInfo:r,customFileDescription:a}){const o=U(),s=n!==void 0&&n<100,l=Za(e),c=r?.syntheticExtension??null;function u(p){if(X5(p))return o.formatMessage(To.fileDescImage);switch(l){case"py":return"Python";case"js":case"jsx":return"JavaScript";case"ts":case"tsx":return"TypeScript";case"pdf":return"PDF";case"doc":case"docx":case"txt":return o.formatMessage(To.fileDescDocument);case"zip":return o.formatMessage(To.fileDescZip);case"xls":case"xlsx":case"csv":return o.formatMessage(To.fileDescSpreadsheet);case"ppt":case"pptx":case"key":return o.formatMessage(To.fileDescPresentation);default:return o.formatMessage(To.fileDescFile)}}const f=a??(r?.contextConnector?i.jsx(H8e,{contextConnector:r.contextConnector,extension:c??l??null}):u(e));return i.jsxs("div",{className:"flex flex-row items-center gap-2",children:[t!=null&&t!==!1?i.jsxs("div",{className:"relative h-10 w-10 shrink-0 overflow-hidden rounded-lg border border-token-border-heavy",children:[t,s&&i.jsx(g8,{percentage:n,blurBackground:!0})]}):i.jsx("div",{className:"relative h-10 w-10 shrink-0 overflow-hidden rounded-lg",children:s?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:P("inset-0",YA,Dbe(e,r?.contextConnector))}),i.jsx(g8,{percentage:r?null:n})]}):i.jsx($be,{filename:e,contextConnectorInfo:r})}),i.jsxs("div",{className:"overflow-hidden",children:[i.jsx("div",{className:"truncate font-semibold",children:JS(e,c)}),i.jsx("div",{className:"truncate text-token-text-secondary",children:f})]})]})}function g8({percentage:e,blurBackground:t=!1}){return i.jsx("div",{className:P("absolute inset-0 flex items-center justify-center text-white",t&&"bg-black/5 backdrop-blur-sm"),children:e?i.jsx(yS,{percentage:e,className:"h-6 w-6"}):i.jsx(yn,{className:"h-6 w-6 text-token-text-secondary"})})}const YA="h-10 w-10 flex-shrink-0";function $be({filename:e,contextConnectorInfo:t,className:n=YA}){if(t)return i.jsx($8e,{contextConnector:t.contextConnector,extension:t.syntheticExtension??Za(e)??null,className:n});switch(Za(e)){case"py":case"js":case"jsx":case"ts":case"tsx":return i.jsx(Mbe,{className:n});case"doc":case"docx":case"txt":case"pdf":return i.jsx(bbe,{className:n});case"zip":return i.jsx(_be,{className:n});case"ppt":case"pptx":case"key":return i.jsx(wbe,{className:n});case"xls":case"xlsx":case"csv":return i.jsx(xbe,{className:n});default:return i.jsx(Sbe,{className:n})}}function Dbe(e,t){if(t)return"bg-gray-50 dark:bg-token-main-surface-secondary border rounded-md border-gray-100 dark:border-white/10";switch(Za(e)){case"py":case"js":case"jsx":case"ts":case"tsx":return"bg-[#FF6E3C]";case"doc":case"docx":case"txt":case"pdf":return"bg-[#FF5588]";case"zip":return"bg-[#B161FD]";case"ppt":case"pptx":case"key":return"bg-[#F8CA27]";case"xls":case"xlsx":case"csv":return"bg-[#10A37F]";default:return"bg-[#0088FF]"}}const To=V({fileDescDocument:{id:"FileDataView.fileDescDocument",defaultMessage:"Document"},fileDescZip:{id:"FileDataView.fileDescZip",defaultMessage:"Zip Archive"},fileDescSpreadsheet:{id:"FileDataView.fileDescSpreadsheet",defaultMessage:"Spreadsheet"},fileDescPresentation:{id:"FileDataView.fileDescPresentation",defaultMessage:"Presentation"},fileDescImage:{id:"FileDataView.fileDescImage",defaultMessage:"Image"},fileDescFile:{id:"FileDataView.fileDescFile",defaultMessage:"File"}});function Fa(e){return typeof window>"u"?!1:typeof e!="string"}function Fbe({downloadLink:e}){const t=d.useCallback(()=>{const n=document.createElement("a");n.href=e,n.setAttribute("download",e.split("/").pop()??"downloaded_file"),document.body.appendChild(n),n.click(),document.body.removeChild(n)},[e]);return i.jsx("button",{onClick:t,children:i.jsx(Nbe,{className:"icon-sm m-1.5"})})}function Bbe({onRemoveFileClick:e,file:t,fileId:n,gizmoId:r,loadingPercentage:a,contextConnectorInfo:o,width:s="normal",alwaysShowData:l=!1,showDownloadButton:c=!1,downloadLink:u="",borderRadius:f="xl",useV2Style:p=!1}){const m=U(),g=a!==void 0&&a<100,h=Fa(t)?t.name:t,v=Fa(t)&&t?.type.startsWith("image/")||X5(h)&&n!=null,y=v&&i.jsx(QA,{file:t,fileId:n,gizmoId:r,contextConnectorInfo:o}),x=v?void 0:o?.sourceUrl,w=Fa(t)&&t?.type==="text/plain"&&!l&&!o&&z.checkGate("1508312659"),_=Hbe({file:t,isExpandableTextFile:w}),E=!e,T=i.jsxs("div",{className:P("p-2",s==="wide"?"w-80":"w-60"),children:[i.jsx(Lbe,{fileName:h,icon:y,loadingPercentage:a,contextConnectorInfo:o}),c&&u!==""&&i.jsx("div",{className:"absolute right-1 top-1",children:i.jsx(Fbe,{downloadLink:u})})]});return i.jsxs("div",{className:"group relative inline-block text-sm text-token-text-primary",children:[i.jsx(Wbe,{showTooltip:E,sourceUrl:x,className:P("relative overflow-hidden border border-token-border-light bg-token-main-surface-primary",f==="xl"&&"rounded-xl",f==="2xl"&&"rounded-2xl"),children:v&&!l?i.jsxs("div",{className:"h-14 w-14",children:[y,g&&i.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/5 text-white",children:i.jsx(yS,{percentage:a,className:"h-6 w-6"})})]}):w&&_?.length?i.jsx(Vbe,{trigger:T,content:_}):T}),e!=null&&i.jsx("button",{onClick:e,className:P("absolute right-1 top-1 -translate-y-1/2 translate-x-1/2 rounded-full transition-colors",p?"border-[3px] border-[#f4f4f4] bg-black p-[2px] text-white dark:border-token-main-surface-secondary dark:bg-white dark:text-black":"border border-token-border-heavy bg-token-main-surface-secondary p-0.5 text-token-text-primary hover:opacity-100 group-hover:opacity-100 md:opacity-0"),children:i.jsx(ot,{label:m.formatMessage(XA.removeFile),side:"top",sideOffset:4,children:i.jsx(eS,{className:"icon-xs"})})})]})}const KA=he.span`flex items-center h-full w-full justify-center bg-gray-500 dark:bg-gray-700 bg-cover bg-center text-white`;function Ube(){return i.jsx(KA,{})}function QA({file:e,fileId:t,gizmoId:n,contextConnectorInfo:r}){const a=U(),o=Fa(e)?e.name:e,s=JA(Fa(e)?e:null,o,t,n,r);return s==null?i.jsx(Ube,{}):i.jsx(jbe,{src:s,alt:a.formatMessage(XA.userUploadedImage),contextConnectorSourceUrl:r?.sourceUrl,className:"h-full w-full",children:i.jsx(KA,{style:{backgroundImage:`url(${s})`}})})}function Hbe({file:e,isExpandableTextFile:t}){const[n,r]=d.useState(void 0);return d.useEffect(()=>{if(t&&Fa(e)){const a=new FileReader;a.addEventListener("load",()=>{const o=a.result;r(typeof o=="string"?o:void 0)}),a.readAsText(e)}},[t,e]),n}function Vbe({trigger:e,content:t}){return i.jsxs(M1,{children:[i.jsx(ch,{className:"h-full w-full text-left",children:e}),i.jsx(T1,{children:i.jsxs(w1,{className:"fixed inset-0 flex items-center justify-center overflow-hidden bg-black/90 radix-state-open:animate-show dark:bg-black/80",children:[i.jsx(S1,{asChild:!0,children:i.jsx("button",{className:"absolute right-4 top-4",children:i.jsx(ls,{className:"h-5 w-5 text-gray-100"})})}),i.jsx(_1,{className:"shadow-xl focus:outline-none radix-state-open:animate-contentShow",children:i.jsx("div",{className:P("relative max-h-[85vh] max-w-[90vw] overflow-scroll bg-white p-10 dark:bg-gray-800"),children:i.jsx(kf,{children:t})})})]})})]})}const bc=new Map,Gbe=100;function JA(e,t,n,r,a){const[o,s]=d.useState(void 0);return d.useEffect(()=>{async function l(c){try{const u=bc.get(c);if(u){s(u);return}const f=await q.getFileDownloadLink(c,r);f.status===Cr.Success?(bc.size>Gbe&&bc.clear(),bc.set(c,f.download_url),s(f.download_url)):te.addError(`Error fetching URL for file ${c}: ${f.status}`)}catch(u){te.addError(new Error(`Error fetching URL for file ${c})`,{cause:u}))}}if(a)n&&l(n);else if(e?.type.startsWith("image/")&&!a){const c=new FileReader;c.addEventListener("load",()=>{const u=c.result;s(typeof u=="string"?u:void 0)}),c.readAsDataURL(e)}else X5(t)&&n!=null?l(n):s(void 0)},[e,t,n,r,a]),o}const XA=V({removeFile:{id:"FileTile.removeFile",defaultMessage:"Remove file"},userUploadedImage:{id:"FileTile.userUploadedImage",defaultMessage:"User uploaded image"}});function Wbe({showTooltip:e,sourceUrl:t,children:n,className:r}){const a=nI();if(!t)return i.jsx("div",{className:r,children:n});const o=i.jsx("a",{href:t,target:"_blank",rel:"noreferrer",children:i.jsx("div",{className:r,children:n})});return!e||!a?o:i.jsx(ot,{wide:!0,interactive:!0,sideOffset:0,label:i.jsxs("a",{href:t,target:"_blank",className:"flex w-full items-center gap-2",rel:"noreferrer",children:[i.jsx("p",{className:"line-clamp-1 flex-1 text-ellipsis",children:zbe(t)}),i.jsx(Da,{className:"icon-sm"})]}),side:"top",children:o})}function zbe(e){return e.split("").join("​")}const qbe=Object.freeze(Object.defineProperty({__proto__:null,ImageThumbnail:QA,default:Bbe,isFile:Fa,useImageUri:JA},Symbol.toStringTag,{value:"Module"})),Zbe=e=>d.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},d.createElement("path",{d:"M7.5 13.25C7.98703 13.25 8.45082 13.1505 8.87217 12.9708C8.46129 14.0478 7.62459 15.5792 6.35846 15.76C5.81173 15.8382 5.43183 16.3447 5.50993 16.8914C5.58804 17.4382 6.09457 17.8181 6.6413 17.7399C9.19413 17.3753 10.7256 14.4711 11.169 12.1909C11.4118 10.942 11.3856 9.58095 10.8491 8.44726C10.2424 7.16517 8.92256 6.24402 7.48508 6.25001C5.55895 6.25805 4 7.82196 4 9.74998C4 11.683 5.567 13.25 7.5 13.25Z",fill:"currentColor"}),d.createElement("path",{d:"M16.18 13.25C16.667 13.25 17.1308 13.1505 17.5522 12.9708C17.1413 14.0478 16.3046 15.5792 15.0385 15.76C14.4917 15.8382 14.1118 16.3447 14.1899 16.8914C14.268 17.4382 14.7746 17.8181 15.3213 17.7399C17.8741 17.3753 19.4056 14.4711 19.849 12.1909C20.0918 10.942 20.0656 9.58095 19.5291 8.44726C18.9224 7.16517 17.6026 6.24402 16.1651 6.25001C14.2389 6.25805 12.68 7.82196 12.68 9.74998C12.68 11.683 14.247 13.25 16.18 13.25Z",fill:"currentColor"}));function Ybe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)n.hasOwnProperty(r)&&(e[r]=n[r])}return e}function W2(e,t){return Array(t+1).join(e)}function Kbe(e){return e.replace(/^\n*/,"")}function Qbe(e){for(var t=e.length;t>0&&e[t-1]===`
`;)t--;return e.substring(0,t)}var Jbe=["ADDRESS","ARTICLE","ASIDE","AUDIO","BLOCKQUOTE","BODY","CANVAS","CENTER","DD","DIR","DIV","DL","DT","FIELDSET","FIGCAPTION","FIGURE","FOOTER","FORM","FRAMESET","H1","H2","H3","H4","H5","H6","HEADER","HGROUP","HR","HTML","ISINDEX","LI","MAIN","MENU","NAV","NOFRAMES","NOSCRIPT","OL","OUTPUT","P","PRE","SECTION","TABLE","TBODY","TD","TFOOT","TH","THEAD","TR","UL"];function S9(e){return M9(e,Jbe)}var eP=["AREA","BASE","BR","COL","COMMAND","EMBED","HR","IMG","INPUT","KEYGEN","LINK","META","PARAM","SOURCE","TRACK","WBR"];function tP(e){return M9(e,eP)}function Xbe(e){return rP(e,eP)}var nP=["A","TABLE","THEAD","TBODY","TFOOT","TH","TD","IFRAME","SCRIPT","AUDIO","VIDEO"];function ewe(e){return M9(e,nP)}function twe(e){return rP(e,nP)}function M9(e,t){return t.indexOf(e.nodeName)>=0}function rP(e,t){return e.getElementsByTagName&&t.some(function(n){return e.getElementsByTagName(n).length})}var Jt={};Jt.paragraph={filter:"p",replacement:function(e){return`

`+e+`

`}};Jt.lineBreak={filter:"br",replacement:function(e,t,n){return n.br+`
`}};Jt.heading={filter:["h1","h2","h3","h4","h5","h6"],replacement:function(e,t,n){var r=Number(t.nodeName.charAt(1));if(n.headingStyle==="setext"&&r<3){var a=W2(r===1?"=":"-",e.length);return`

`+e+`
`+a+`

`}else return`

`+W2("#",r)+" "+e+`

`}};Jt.blockquote={filter:"blockquote",replacement:function(e){return e=e.replace(/^\n+|\n+$/g,""),e=e.replace(/^/gm,"> "),`

`+e+`

`}};Jt.list={filter:["ul","ol"],replacement:function(e,t){var n=t.parentNode;return n.nodeName==="LI"&&n.lastElementChild===t?`
`+e:`

`+e+`

`}};Jt.listItem={filter:"li",replacement:function(e,t,n){e=e.replace(/^\n+/,"").replace(/\n+$/,`
`).replace(/\n/gm,`
    `);var r=n.bulletListMarker+"   ",a=t.parentNode;if(a.nodeName==="OL"){var o=a.getAttribute("start"),s=Array.prototype.indexOf.call(a.children,t);r=(o?Number(o)+s:s+1)+".  "}return r+e+(t.nextSibling&&!/\n$/.test(e)?`
`:"")}};Jt.indentedCodeBlock={filter:function(e,t){return t.codeBlockStyle==="indented"&&e.nodeName==="PRE"&&e.firstChild&&e.firstChild.nodeName==="CODE"},replacement:function(e,t,n){return`

    `+t.firstChild.textContent.replace(/\n/g,`
    `)+`

`}};Jt.fencedCodeBlock={filter:function(e,t){return t.codeBlockStyle==="fenced"&&e.nodeName==="PRE"&&e.firstChild&&e.firstChild.nodeName==="CODE"},replacement:function(e,t,n){for(var r=t.firstChild.getAttribute("class")||"",a=(r.match(/language-(\S+)/)||[null,""])[1],o=t.firstChild.textContent,s=n.fence.charAt(0),l=3,c=new RegExp("^"+s+"{3,}","gm"),u;u=c.exec(o);)u[0].length>=l&&(l=u[0].length+1);var f=W2(s,l);return`

`+f+a+`
`+o.replace(/\n$/,"")+`
`+f+`

`}};Jt.horizontalRule={filter:"hr",replacement:function(e,t,n){return`

`+n.hr+`

`}};Jt.inlineLink={filter:function(e,t){return t.linkStyle==="inlined"&&e.nodeName==="A"&&e.getAttribute("href")},replacement:function(e,t){var n=t.getAttribute("href"),r=o1(t.getAttribute("title"));return r&&(r=' "'+r+'"'),"["+e+"]("+n+r+")"}};Jt.referenceLink={filter:function(e,t){return t.linkStyle==="referenced"&&e.nodeName==="A"&&e.getAttribute("href")},replacement:function(e,t,n){var r=t.getAttribute("href"),a=o1(t.getAttribute("title"));a&&(a=' "'+a+'"');var o,s;switch(n.linkReferenceStyle){case"collapsed":o="["+e+"][]",s="["+e+"]: "+r+a;break;case"shortcut":o="["+e+"]",s="["+e+"]: "+r+a;break;default:var l=this.references.length+1;o="["+e+"]["+l+"]",s="["+l+"]: "+r+a}return this.references.push(s),o},references:[],append:function(e){var t="";return this.references.length&&(t=`

`+this.references.join(`
`)+`

`,this.references=[]),t}};Jt.emphasis={filter:["em","i"],replacement:function(e,t,n){return e.trim()?n.emDelimiter+e+n.emDelimiter:""}};Jt.strong={filter:["strong","b"],replacement:function(e,t,n){return e.trim()?n.strongDelimiter+e+n.strongDelimiter:""}};Jt.code={filter:function(e){var t=e.previousSibling||e.nextSibling,n=e.parentNode.nodeName==="PRE"&&!t;return e.nodeName==="CODE"&&!n},replacement:function(e){if(!e)return"";e=e.replace(/\r?\n|\r/g," ");for(var t=/^`|^ .*?[^ ].* $|`$/.test(e)?" ":"",n="`",r=e.match(/`+/gm)||[];r.indexOf(n)!==-1;)n=n+"`";return n+t+e+t+n}};Jt.image={filter:"img",replacement:function(e,t){var n=o1(t.getAttribute("alt")),r=t.getAttribute("src")||"",a=o1(t.getAttribute("title")),o=a?' "'+a+'"':"";return r?"!["+n+"]("+r+o+")":""}};function o1(e){return e?e.replace(/(\n+\s*)+/g,`
`):""}function aP(e){this.options=e,this._keep=[],this._remove=[],this.blankRule={replacement:e.blankReplacement},this.keepReplacement=e.keepReplacement,this.defaultRule={replacement:e.defaultReplacement},this.array=[];for(var t in e.rules)this.array.push(e.rules[t])}aP.prototype={add:function(e,t){this.array.unshift(t)},keep:function(e){this._keep.unshift({filter:e,replacement:this.keepReplacement})},remove:function(e){this._remove.unshift({filter:e,replacement:function(){return""}})},forNode:function(e){if(e.isBlank)return this.blankRule;var t;return(t=U0(this.array,e,this.options))||(t=U0(this._keep,e,this.options))||(t=U0(this._remove,e,this.options))?t:this.defaultRule},forEach:function(e){for(var t=0;t<this.array.length;t++)e(this.array[t],t)}};function U0(e,t,n){for(var r=0;r<e.length;r++){var a=e[r];if(nwe(a,t,n))return a}}function nwe(e,t,n){var r=e.filter;if(typeof r=="string"){if(r===t.nodeName.toLowerCase())return!0}else if(Array.isArray(r)){if(r.indexOf(t.nodeName.toLowerCase())>-1)return!0}else if(typeof r=="function"){if(r.call(e,t,n))return!0}else throw new TypeError("`filter` needs to be a string, array, or function")}function rwe(e){var t=e.element,n=e.isBlock,r=e.isVoid,a=e.isPre||function(p){return p.nodeName==="PRE"};if(!(!t.firstChild||a(t))){for(var o=null,s=!1,l=null,c=h8(l,t,a);c!==t;){if(c.nodeType===3||c.nodeType===4){var u=c.data.replace(/[ \r\n\t]+/g," ");if((!o||/ $/.test(o.data))&&!s&&u[0]===" "&&(u=u.substr(1)),!u){c=H0(c);continue}c.data=u,o=c}else if(c.nodeType===1)n(c)||c.nodeName==="BR"?(o&&(o.data=o.data.replace(/ $/,"")),o=null,s=!1):r(c)||a(c)?(o=null,s=!0):o&&(s=!1);else{c=H0(c);continue}var f=h8(l,c,a);l=c,c=f}o&&(o.data=o.data.replace(/ $/,""),o.data||H0(o))}}function H0(e){var t=e.nextSibling||e.parentNode;return e.parentNode.removeChild(e),t}function h8(e,t,n){return e&&e.parentNode===t||n(t)?t.nextSibling||t.parentNode:t.firstChild||t.nextSibling||t.parentNode}var oP=typeof window<"u"?window:{};function awe(){var e=oP.DOMParser,t=!1;try{new e().parseFromString("","text/html")&&(t=!0)}catch{}return t}function owe(){var e=function(){};return swe()?e.prototype.parseFromString=function(t){var n=new window.ActiveXObject("htmlfile");return n.designMode="on",n.open(),n.write(t),n.close(),n}:e.prototype.parseFromString=function(t){var n=document.implementation.createHTMLDocument("");return n.open(),n.write(t),n.close(),n},e}function swe(){var e=!1;try{document.implementation.createHTMLDocument("").open()}catch{window.ActiveXObject&&(e=!0)}return e}var iwe=awe()?oP.DOMParser:owe();function lwe(e,t){var n;if(typeof e=="string"){var r=cwe().parseFromString('<x-turndown id="turndown-root">'+e+"</x-turndown>","text/html");n=r.getElementById("turndown-root")}else n=e.cloneNode(!0);return rwe({element:n,isBlock:S9,isVoid:tP,isPre:t.preformattedCode?uwe:null}),n}var V0;function cwe(){return V0=V0||new iwe,V0}function uwe(e){return e.nodeName==="PRE"||e.nodeName==="CODE"}function dwe(e,t){return e.isBlock=S9(e),e.isCode=e.nodeName==="CODE"||e.parentNode.isCode,e.isBlank=fwe(e),e.flankingWhitespace=pwe(e,t),e}function fwe(e){return!tP(e)&&!ewe(e)&&/^\s*$/i.test(e.textContent)&&!Xbe(e)&&!twe(e)}function pwe(e,t){if(e.isBlock||t.preformattedCode&&e.isCode)return{leading:"",trailing:""};var n=mwe(e.textContent);return n.leadingAscii&&v8("left",e,t)&&(n.leading=n.leadingNonAscii),n.trailingAscii&&v8("right",e,t)&&(n.trailing=n.trailingNonAscii),{leading:n.leading,trailing:n.trailing}}function mwe(e){var t=e.match(/^(([ \t\r\n]*)(\s*))(?:(?=\S)[\s\S]*\S)?((\s*?)([ \t\r\n]*))$/);return{leading:t[1],leadingAscii:t[2],leadingNonAscii:t[3],trailing:t[4],trailingNonAscii:t[5],trailingAscii:t[6]}}function v8(e,t,n){var r,a,o;return e==="left"?(r=t.previousSibling,a=/ $/):(r=t.nextSibling,a=/^ /),r&&(r.nodeType===3?o=a.test(r.nodeValue):n.preformattedCode&&r.nodeName==="CODE"?o=!1:r.nodeType===1&&!S9(r)&&(o=a.test(r.textContent))),o}var gwe=Array.prototype.reduce,hwe=[[/\\/g,"\\\\"],[/\*/g,"\\*"],[/^-/g,"\\-"],[/^\+ /g,"\\+ "],[/^(=+)/g,"\\$1"],[/^(#{1,6}) /g,"\\$1 "],[/`/g,"\\`"],[/^~~~/g,"\\~~~"],[/\[/g,"\\["],[/\]/g,"\\]"],[/^>/g,"\\>"],[/_/g,"\\_"],[/^(\d+)\. /g,"$1\\. "]];function s1(e){if(!(this instanceof s1))return new s1(e);var t={rules:Jt,headingStyle:"setext",hr:"* * *",bulletListMarker:"*",codeBlockStyle:"indented",fence:"```",emDelimiter:"_",strongDelimiter:"**",linkStyle:"inlined",linkReferenceStyle:"full",br:"  ",preformattedCode:!1,blankReplacement:function(n,r){return r.isBlock?`

`:""},keepReplacement:function(n,r){return r.isBlock?`

`+r.outerHTML+`

`:r.outerHTML},defaultReplacement:function(n,r){return r.isBlock?`

`+n+`

`:n}};this.options=Ybe({},t,e),this.rules=new aP(this.options)}s1.prototype={turndown:function(e){if(!Cwe(e))throw new TypeError(e+" is not a string, or an element/document/fragment node.");if(e==="")return"";var t=sP.call(this,new lwe(e,this.options));return vwe.call(this,t)},use:function(e){if(Array.isArray(e))for(var t=0;t<e.length;t++)this.use(e[t]);else if(typeof e=="function")e(this);else throw new TypeError("plugin must be a Function or an Array of Functions");return this},addRule:function(e,t){return this.rules.add(e,t),this},keep:function(e){return this.rules.keep(e),this},remove:function(e){return this.rules.remove(e),this},escape:function(e){return hwe.reduce(function(t,n){return t.replace(n[0],n[1])},e)}};function sP(e){var t=this;return gwe.call(e.childNodes,function(n,r){r=new dwe(r,t.options);var a="";return r.nodeType===3?a=r.isCode?r.nodeValue:t.escape(r.nodeValue):r.nodeType===1&&(a=ywe.call(t,r)),iP(n,a)},"")}function vwe(e){var t=this;return this.rules.forEach(function(n){typeof n.append=="function"&&(e=iP(e,n.append(t.options)))}),e.replace(/^[\t\r\n]+/,"").replace(/[\t\r\n\s]+$/,"")}function ywe(e){var t=this.rules.forNode(e),n=sP.call(this,e),r=e.flankingWhitespace;return(r.leading||r.trailing)&&(n=n.trim()),r.leading+t.replacement(n,e,this.options)+r.trailing}function iP(e,t){var n=Qbe(e),r=Kbe(t),a=Math.max(e.length-n.length,t.length-r.length),o=`

`.substring(0,a);return n+o+r}function Cwe(e){return e!=null&&(typeof e=="string"||e.nodeType&&(e.nodeType===1||e.nodeType===9||e.nodeType===11))}var y8=/highlight-(?:text|source)-([a-z0-9]+)/;function xwe(e){e.addRule("highlightedCodeBlock",{filter:function(t){var n=t.firstChild;return t.nodeName==="DIV"&&y8.test(t.className)&&n&&n.nodeName==="PRE"},replacement:function(t,n,r){var a=n.className||"",o=(a.match(y8)||[null,""])[1];return`

`+r.fence+o+`
`+n.firstChild.textContent+`
`+r.fence+`

`}})}function bwe(e){e.addRule("strikethrough",{filter:["del","s","strike"],replacement:function(t){return"~"+t+"~"}})}var wwe=Array.prototype.indexOf,_we=Array.prototype.every,ts={};ts.tableCell={filter:["th","td"],replacement:function(e,t){return lP(e,t)}};ts.tableRow={filter:"tr",replacement:function(e,t){var n="",r={left:":--",right:"--:",center:":-:"};if(T9(t))for(var a=0;a<t.childNodes.length;a++){var o="---",s=(t.childNodes[a].getAttribute("align")||"").toLowerCase();s&&(o=r[s]||o),n+=lP(o,t.childNodes[a])}return`
`+e+(n?`
`+n:"")}};ts.table={filter:function(e){return e.nodeName==="TABLE"&&T9(e.rows[0])},replacement:function(e){return e=e.replace(`

`,`
`),`

`+e+`

`}};ts.tableSection={filter:["thead","tbody","tfoot"],replacement:function(e){return e}};function T9(e){var t=e.parentNode;return t.nodeName==="THEAD"||t.firstChild===e&&(t.nodeName==="TABLE"||Swe(t))&&_we.call(e.childNodes,function(n){return n.nodeName==="TH"})}function Swe(e){var t=e.previousSibling;return e.nodeName==="TBODY"&&(!t||t.nodeName==="THEAD"&&/^\s*$/i.test(t.textContent))}function lP(e,t){var n=wwe.call(t.parentNode.childNodes,t),r=" ";return n===0&&(r="| "),r+e+" |"}function Mwe(e){e.keep(function(n){return n.nodeName==="TABLE"&&!T9(n.rows[0])});for(var t in ts)e.addRule(t,ts[t])}function Twe(e){e.addRule("taskListItems",{filter:function(t){return t.type==="checkbox"&&t.parentNode.nodeName==="LI"},replacement:function(t,n){return(n.checked?"[x]":"[ ]")+" "}})}function Ewe(e){e.use([xwe,bwe,Mwe,Twe])}function C8(e){const t={...e};for(const n of Object.keys(t))t[n]=Math.round(t[n]);return t}function gi(e,t){for(;e;){if(e instanceof HTMLElement&&e.dataset[t]!=null)return{node:e,dataValue:e.dataset[t]};e=e.parentNode}return{node:void 0,dataValue:void 0}}const G0={clientRect:void 0,isCollapsed:void 0,textContent:void 0,documentFragment:void 0,selection:void 0},cP=new s1;cP.use(Ewe);function kwe(e){const n=e.getRangeAt(0).cloneContents(),r=document.createElement("div");return r.appendChild(n),cP.turndown(r.innerHTML)}function Awe(e){const[{clientRect:t,isCollapsed:n,textContent:r,documentFragment:a,selection:o},s]=d.useState(G0);return jC(()=>{const l=()=>{setTimeout(()=>{let c;const u=window.getSelection(),f={};if(u==null||!u.rangeCount){s(G0);return}const p=u.getRangeAt(0);if(p==null){s(G0);return}const m=p.cloneContents();f.documentFragment=m,f.textContent=kwe(u);const g=p.getClientRects();if(g.length===0&&p.commonAncestorContainer!=null&&p.commonAncestorContainer instanceof HTMLElement){const h=p.commonAncestorContainer;c=C8(h.getBoundingClientRect().toJSON())}else{if(g.length<1)return;c=C8(g[0].toJSON())}f.clientRect=c,f.isCollapsed=p.collapsed,f.selection=u,s(f)},0)};return window.addEventListener("mouseup",l),()=>{window.removeEventListener("mouseup",l)}},[]),d.useEffect(()=>{const l=c=>{const u=window.getSelection(),f=u?.toString(),p=F.getServerThreadId(e),{dataValue:m}=gi(u?.anchorNode,"messageAuthorRole"),{dataValue:g}=gi(u?.anchorNode,"messageId");!f||!g||!p||!m||m!=="assistant"||q.submitImplicitMessageFeedback({source:"keyboard",type:"copy",messageId:g,serverThreadId:p,selectedText:f,location:"selection"})};return document.addEventListener("copy",l),()=>{document.removeEventListener("copy",l)}},[e]),{clientRect:t,isCollapsed:n,textContent:r,documentFragment:a,selection:o}}const Pwe="agent-turn",vRe=[Oe.PrimaryAssistant,Oe.GizmoInteraction];function Owe(e){return bh.createPortal(e.children,e.mount??document.body)}function Nwe({messageId:e,anchorNode:t,clientRect:n,onClick:r}){const a=U(),o=()=>{r(e)};if(!t)return null;const s=t.closest(`.${Pwe}`);if(!s)return null;const l=t.getBoundingClientRect();return i.jsx(Owe,{mount:s,children:i.jsx("div",{className:"absolute",style:{top:t.offsetTop-36+n.top-l.top,left:n.left-l.left,width:n.width,height:n.height},children:i.jsx(ot,{label:a.formatMessage(jwe.replyTooltip),side:"top",children:i.jsx(re,{size:"small",color:"secondary",className:"shadow-lg",onClick:o,children:i.jsx(Zbe,{className:"icon-md"})})})})})}const Iwe=3;function yRe({clientThreadId:e,onTargetedReply:t}){const{clientRect:n,isCollapsed:r,textContent:a,selection:o}=Awe(e),{dataValue:s}=gi(o?.anchorNode,"messageAuthorRole"),{node:l,dataValue:c}=gi(o?.anchorNode,"messageId"),{dataValue:u}=gi(o?.focusNode,"messageId"),f=!u||c===u,p=a?.trim(),m=p?.length??0,g=h=>{p!==void 0&&t({targetedReply:{type:"text",label:p,createNewCompletionParams:v=>{const y=rI(p);return{...v,messageMetadata:{...v.messageMetadata,targeted_reply:p},appendMessages:v.appendMessages==null?[y]:[...v.appendMessages,y]}},onCreateCompletion:({serverThreadId:v,currentLeafId:y})=>{S.logEvent(k.targetedReplySubmitted,{conversationId:v,currentLeafId:y})},onCleared:({serverThreadId:v,currentLeafId:y})=>{S.logEvent(k.targetedReplyCleared,{conversationId:v,currentLeafId:y})}},messageId:h})};return n==null||r||m<Iwe||!f||s!=="assistant"?null:i.jsx(Nwe,{messageId:c??"",anchorNode:l,clientRect:n,onClick:g})}const jwe=V({replyTooltip:{id:"targetedReply.replyTooltip",defaultMessage:"Reply"}}),CRe=e=>d.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},d.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM11.9851 4.00291C11.9933 4.00046 11.9982 4.00006 11.9996 4C12.001 4.00006 12.0067 4.00046 12.0149 4.00291C12.0256 4.00615 12.047 4.01416 12.079 4.03356C12.2092 4.11248 12.4258 4.32444 12.675 4.77696C12.9161 5.21453 13.1479 5.8046 13.3486 6.53263C13.6852 7.75315 13.9156 9.29169 13.981 11H10.019C10.0844 9.29169 10.3148 7.75315 10.6514 6.53263C10.8521 5.8046 11.0839 5.21453 11.325 4.77696C11.5742 4.32444 11.7908 4.11248 11.921 4.03356C11.953 4.01416 11.9744 4.00615 11.9851 4.00291ZM8.01766 11C8.08396 9.13314 8.33431 7.41167 8.72334 6.00094C8.87366 5.45584 9.04762 4.94639 9.24523 4.48694C6.48462 5.49946 4.43722 7.9901 4.06189 11H8.01766ZM4.06189 13H8.01766C8.09487 15.1737 8.42177 17.1555 8.93 18.6802C9.02641 18.9694 9.13134 19.2483 9.24522 19.5131C6.48461 18.5005 4.43722 16.0099 4.06189 13ZM10.019 13H13.981C13.9045 14.9972 13.6027 16.7574 13.1726 18.0477C12.9206 18.8038 12.6425 19.3436 12.3823 19.6737C12.2545 19.8359 12.1506 19.9225 12.0814 19.9649C12.0485 19.9852 12.0264 19.9935 12.0153 19.9969C12.0049 20.0001 11.9999 20 11.9999 20C11.9999 20 11.9948 20 11.9847 19.9969C11.9736 19.9935 11.9515 19.9852 11.9186 19.9649C11.8494 19.9225 11.7455 19.8359 11.6177 19.6737C11.3575 19.3436 11.0794 18.8038 10.8274 18.0477C10.3973 16.7574 10.0955 14.9972 10.019 13ZM15.9823 13C15.9051 15.1737 15.5782 17.1555 15.07 18.6802C14.9736 18.9694 14.8687 19.2483 14.7548 19.5131C17.5154 18.5005 19.5628 16.0099 19.9381 13H15.9823ZM19.9381 11C19.5628 7.99009 17.5154 5.49946 14.7548 4.48694C14.9524 4.94639 15.1263 5.45584 15.2767 6.00094C15.6657 7.41167 15.916 9.13314 15.9823 11H19.9381Z",fill:"currentColor"})),xRe=({svgString:e,className:t})=>{const n=i.jsx("div",{className:t});return i.jsx(ZC,{name:"StringToSVG",fallback:n,children:i.jsx("div",{className:P("[&_svg]:h-full [&_svg]:w-full",t),dangerouslySetInnerHTML:{__html:e}})})};function Rwe({hasConnectors:e}){const{eligible:t,markAsViewed:n}=ke(Ee.ContextConnectors),{activeModals:r}=xe(),a=U();return i.jsx(If,{announcementKey:Ee.ContextConnectors,side:"top",show:t&&e&&r.size===0,title:a.formatMessage(x8.connectApps),onDismiss:n,sideOffset:32,theme:"bright",description:a.formatMessage(x8.description),children:i.jsx("div",{})})}const x8=V({connectApps:{id:"ContextConnectorAnnouncementTooltipContent.connectApps",defaultMessage:"Connect Apps"},description:{id:"ContextConnectorAnnouncementTooltipContent.description",defaultMessage:"Connect apps to access files in ChatGPT, like docs and spreadsheets."}}),Lwe=(e,t)=>`${e}:${t}`,uP=y1((e,t)=>({async getToken(n,r){const a=Lwe(n,r),o=t()._tokens[a];if(o)try{const l=await o;if(Date.now()+30*60*1e3<l.expires_at*1e3)return l.access_token}catch{}const s=q.getConnectorAccessTokenWithScope(n,r);return e(l=>({...l,_tokens:{...l._tokens,[a]:s}})),s.then(l=>l.access_token)},_tokens:{}}));async function $we(e,t,n,r){if(n.type==="business"){const u=new URL(n.baseUrl);t=await uP.getState().getToken(L.O365_BUSINESS,`${u.origin}/.default`)}const a=Dwe(r,n.baseUrl),o=new URLSearchParams({filePicker:JSON.stringify(a)}),s=`${n.parsedUrl}?${o}`,l=e.document.createElement("form");l.setAttribute("action",s),l.setAttribute("method","POST");const c=e.document.createElement("input");c.setAttribute("type","hidden"),c.setAttribute("name","access_token"),c.setAttribute("value",t),l.appendChild(c),e.document.body.append(l),l.submit()}function Dwe(e,t){return{sdk:"8.0",messaging:{channelId:e,origin:location.origin},authentication:{},entry:{sharePoint:{byPath:{list:t}}},typesAndSources:{mode:"files"},selection:{mode:"multiple"},search:{enabled:!0}}}function Fwe(e,t,n,r,a,o){function s(l){if(l?.source!==t)return;const c=l.data;if(c.type==="initialize"&&c.channelId===n){yt.filePickerLoaded(o);const u=l.ports[0],p=Uwe(e,async m=>{if(u.removeEventListener("message",p),u.close(),t.close(),m!=null){const g=await Promise.all(m.map(h=>Bwe(h,e,a)));r({type:"pick",docs:g})}else r({type:"cancel"})},u,o);u.addEventListener("message",p),u.start(),u.postMessage({type:"activate"})}}window.addEventListener("message",s)}async function Bwe(e,t,n){let r=`https://graph.microsoft.com/v1.0/drives/${encodeURIComponent(e.parentReference.driveId)}/items/${encodeURIComponent(e.id)}`;n.type==="personal"&&(r=`https://api.onedrive.com/v1.0/drives/${encodeURIComponent(e.parentReference.driveId)}/items/${encodeURIComponent(e.id)}`);const o=await(await fetch(r,{method:"GET",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}})).json();return{connector:n.type==="personal"?L.O365_PERSONAL:L.O365_BUSINESS,id:e.id,title:o.name??"",mimeType:o.file?.mimeType??"",url:o.webUrl??"",syntheticExtension:null,o365DriveId:e.parentReference.driveId}}function Uwe(e,t,n,r){return async function(o){const s=o.data;if(s.type==="notification"||s.type!=="command")return;const l=s.data;switch(n.postMessage({type:"acknowledge",id:o.data.id}),l.command){case"authenticate":{r===L.O365_BUSINESS&&(e=await uP.getState().getToken(r,`${l.resource}/.default`)),n.postMessage({type:"result",id:o.data.id,data:{result:"token",token:e}});break}case"close":{t(null);break}case"pick":{try{t(l.items),n.postMessage({type:"result",id:o.data.id,data:{result:"success"}})}catch(c){n.postMessage({type:"result",id:o.data.id,data:{result:"error",error:{code:"unusableItem",message:c.message}}})}break}default:{n.postMessage({type:"result",id:o.data.id,data:{result:"error",error:{code:"unsupportedCommand",message:l.command}}});break}}}}const Hwe=J.memo(function({type:t,onClose:n,uploadPickedFile:r}){const{connectorConfig:a}=Jf(),o=t?a.get(t):null;return!o?.onedrive_endpoint_hint||!o.access_token?null:i.jsx(Vwe,{onClose:n,accessToken:o?.access_token,oneDriveURL:o?.onedrive_endpoint_hint,uploadPickedFile:r})});function Vwe({onClose:e,accessToken:t,oneDriveURL:n,uploadPickedFile:r}){const{current:a}=d.useRef(new WeakMap),o=n.type==="personal"?L.O365_PERSONAL:L.O365_BUSINESS;return i.jsx(M1,{open:!0,onOpenChange:s=>{s||e()},children:i.jsx(T1,{children:i.jsx(w1,{className:"fixed inset-0 flex items-center justify-center bg-black/50 dark:bg-black/80",children:i.jsx(_1,{className:"flex h-full max-h-[600px] w-full max-w-[1300px] items-center justify-center",onPointerDownOutside:()=>{yt.filePickerCancelled(o)},children:i.jsx("iframe",{className:"mx-[32px] my-[32px] h-full w-full",src:"about:blank",ref:s=>{const l=s?.contentWindow;if(s==null||l==null||a.has(s))return;a.set(s,!0);const c=fa();yt.filePickerStarted(o),$we(l,t,n,c),Fwe(t,l,c,u=>{switch(u.type){case"pick":yt.filePickerPicked(o,u.docs.length),u.docs.forEach(f=>r(f,o));break;case"cancel":yt.filePickerCancelled(o);break}e()},n,o)}})})})})})}let W0=null;function dP(e){return W0==null&&(W0=Gwe().then(()=>(gapi.client.setToken({access_token:e}),gapi.client.init({apiKey:QE,scope:"https://www.googleapis.com/auth/drive.file",discoveryDocs:["https://www.googleapis.com/discovery/v1/apis/drive/v3/rest"]})))),W0}function Gwe(){return new Promise((e,t)=>{const n=document.createElement("script");n.src="https://apis.google.com/js/api.js",n.onload=e,n.onerror=t,document.documentElement.appendChild(n)}).then(()=>Promise.all([new Promise(e=>gapi.load("client",e)),new Promise(e=>gapi.load("client:picker",e))]))}function b8({entry:e,onClick:t}){const{connectorConfig:n}=Jf();d.useEffect(()=>{if(!open||e.type!==L.GDRIVE)return;const l=n.get(L.GDRIVE)?.access_token;l&&dP(l)},[n,e.type]);const r=lA(e.type),a=U(),o=e.access_token?w8.uploadFromMessage:w8.signinWithMessage;return i.jsx(ce.Item,{onClick:t,icon:r,children:i.jsxs("div",{className:"flex flex-col",children:[i.jsx(b,{...o,values:{connectorName:Pl(e.type,a)}}),e.type===L.O365_BUSINESS&&i.jsx("div",{className:"text-s text-token-text-tertiary",children:i.jsx(b,{...g9.includesSharePoint})})]})},e.id)}const w8=V({signinWithMessage:{id:"ContextConnectorPickerDropdownItem.signInWithMessage",defaultMessage:"Connect to {connectorName}"},uploadFromMessage:{id:"ContextConnectorPickerDropdownItem.uploadWithMessage",defaultMessage:"Add from {connectorName}"}});function Wwe({clientThreadId:e,icon:t,setOpen:n,isDisabled:r=!1,highlightTooltip:a=!1}){const o=yh(),s=U();return r=r||!!o,i.jsxs(i.Fragment,{children:[i.jsx(ce.Trigger,{className:"m-0 h-0 w-0 border-none bg-transparent p-0"}),i.jsx(qA,{clientThreadId:e,rateLimitPopup:o,highlightTooltip:a,disabled:r,children:i.jsx(ZA,{disabled:r,"aria-disabled":r,"aria-label":r?s.formatMessage({id:"NTwThg",defaultMessage:"Attach files is unavailable"}):s.formatMessage({id:"tA7CXR",defaultMessage:"Attach files"}),onClick:l=>{l.preventDefault(),n(!0)},children:t})})]})}const zwe=e=>d.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},d.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.75 4.5C5.50736 4.5 4.5 5.50736 4.5 6.75C4.5 7.99264 5.50736 9 6.75 9C7.99264 9 9 7.99264 9 6.75C9 5.50736 7.99264 4.5 6.75 4.5ZM2.5 6.75C2.5 4.40279 4.40279 2.5 6.75 2.5C9.09721 2.5 11 4.40279 11 6.75C11 9.09721 9.09721 11 6.75 11C4.40279 11 2.5 9.09721 2.5 6.75Z",fill:"currentColor"}),d.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.25 4.5C16.0074 4.5 15 5.50736 15 6.75C15 7.99264 16.0074 9 17.25 9C18.4926 9 19.5 7.99264 19.5 6.75C19.5 5.50736 18.4926 4.5 17.25 4.5ZM13 6.75C13 4.40279 14.9028 2.5 17.25 2.5C19.5972 2.5 21.5 4.40279 21.5 6.75C21.5 9.09721 19.5972 11 17.25 11C14.9028 11 13 9.09721 13 6.75Z",fill:"currentColor"}),d.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.75 15C5.50736 15 4.5 16.0074 4.5 17.25C4.5 18.4926 5.50736 19.5 6.75 19.5C7.99264 19.5 9 18.4926 9 17.25C9 16.0074 7.99264 15 6.75 15ZM2.5 17.25C2.5 14.9028 4.40279 13 6.75 13C9.09721 13 11 14.9028 11 17.25C11 19.5972 9.09721 21.5 6.75 21.5C4.40279 21.5 2.5 19.5972 2.5 17.25Z",fill:"currentColor"}),d.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.25 13C17.8023 13 18.25 13.4477 18.25 14V16.25H20.5C21.0523 16.25 21.5 16.6977 21.5 17.25C21.5 17.8023 21.0523 18.25 20.5 18.25H18.25V20.5C18.25 21.0523 17.8023 21.5 17.25 21.5C16.6977 21.5 16.25 21.0523 16.25 20.5V18.25H14C13.4477 18.25 13 17.8023 13 17.25C13 16.6977 13.4477 16.25 14 16.25H16.25V14C16.25 13.4477 16.6977 13 17.25 13Z",fill:"currentColor"}));function qwe({connectorEntries:e,onOauthRedirect:t}){const n=U();return i.jsxs(ce.Sub,{children:[i.jsx(ce.SubMenuTrigger,{icon:zwe,children:i.jsx("div",{className:"line-clamp-1 text-ellipsis",children:i.jsx(b,{...Zwe.connectApps})})}),i.jsx(ce.Portal,{children:i.jsx(ce.SubContent,{children:e.map(r=>i.jsx(ce.Item,{onClick:()=>t(r),icon:lA(r.type),children:i.jsxs("div",{className:"flex flex-col",children:[Pl(r.type,n),r.type===L.O365_BUSINESS&&i.jsx("div",{className:"text-s text-token-text-tertiary",children:i.jsx(b,{...g9.includesSharePoint})})]})},r.id))})})]})}const Zwe=V({connectApps:{id:"ContextConnectorPicker.connectApps",defaultMessage:"Connect apps"}});function Ywe({onOauthRedirect:e,connectors:t}){const n=U();return i.jsxs(ce.Sub,{children:[i.jsx(ce.SubMenuTrigger,{icon:iA,children:i.jsx(b,{...Kwe.oneDriveSubmenuName})}),i.jsx(ce.Portal,{children:i.jsx(ce.SubContent,{children:t.map(r=>r?i.jsx(ce.Item,{onClick:()=>e(r),children:i.jsxs("div",{className:"flex flex-col",children:[Pl(r.type,n),r.type===L.O365_BUSINESS&&i.jsx("div",{className:"text-s text-token-text-tertiary",children:i.jsx(b,{...g9.includesSharePoint})})]})},r.id):null)})})]})}const Kwe=V({oneDriveSubmenuName:{id:"ContextConnectorPickerOneDriveSubmenu.oneDriveSubmenuName",defaultMessage:"Connect to Microsoft OneDrive"}}),Qwe=e=>d.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},d.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 4C10.8908 4 9.92096 4.60141 9.40073 5.50073C9.22199 5.80972 8.89209 6 8.53513 6H5C4.44772 6 4 6.44771 4 7V18C4 18.5523 4.44772 19 5 19H19C19.5523 19 20 18.5523 20 18V7C20 6.44771 19.5523 6 19 6H15.4649C15.1079 6 14.778 5.80972 14.5993 5.50073C14.079 4.60141 13.1092 4 12 4ZM7.99978 4C8.91089 2.78702 10.3631 2 12 2C13.6369 2 15.0891 2.78702 16.0002 4H19C20.6569 4 22 5.34315 22 7V18C22 19.6569 20.6569 21 19 21H5C3.34315 21 2 19.6569 2 18V7C2 5.34315 3.34315 4 5 4H7.99978ZM12 10C10.8954 10 10 10.8954 10 12C10 13.1046 10.8954 14 12 14C13.1046 14 14 13.1046 14 12C14 10.8954 13.1046 10 12 10ZM8 12C8 9.79086 9.79086 8 12 8C14.2091 8 16 9.79086 16 12C16 14.2091 14.2091 16 12 16C9.79086 16 8 14.2091 8 12Z",fill:"currentColor"})),Jwe=e=>d.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},d.createElement("path",{d:"M6 3C4.34315 3 3 4.34315 3 6V8C3 8.55228 3.44772 9 4 9C4.55228 9 5 8.55228 5 8V6C5 5.44772 5.44772 5 6 5H8C8.55228 5 9 4.55228 9 4C9 3.44772 8.55228 3 8 3H6ZM16 3C15.4477 3 15 3.44772 15 4C15 4.55228 15.4477 5 16 5H18C18.5523 5 19 5.44772 19 6V8C19 8.55228 19.4477 9 20 9C20.5523 9 21 8.55228 21 8V6C21 4.34315 19.6569 3 18 3H16ZM5 16C5 15.4477 4.55228 15 4 15C3.44772 15 3 15.4477 3 16V18C3 19.6569 4.34315 21 6 21H8C8.55228 21 9 20.5523 9 20C9 19.4477 8.55228 19 8 19H6C5.44772 19 5 18.5523 5 18V16ZM21 16C21 15.4477 20.5523 15 20 15C19.4477 15 19 15.4477 19 16V18C19 18.5523 18.5523 19 18 19H16C15.4477 19 15 19.4477 15 20C15 20.5523 15.4477 21 16 21H18C19.6569 21 21 19.6569 21 18V16ZM9.6665 11.9993C9.6665 10.7107 10.7112 9.66602 11.9998 9.66602C13.2885 9.66602 14.3332 10.7107 14.3332 11.9993C14.3332 13.288 13.2885 14.3327 11.9998 14.3327C10.7112 14.3327 9.6665 13.288 9.6665 11.9993ZM11.9998 7.66602C9.6066 7.66602 7.6665 9.60611 7.6665 11.9993C7.6665 14.3926 9.6066 16.3327 11.9998 16.3327C14.3931 16.3327 16.3332 14.3926 16.3332 11.9993C16.3332 9.60611 14.3931 7.66602 11.9998 7.66602Z",fill:"currentColor"})),Xwe={"image/jpeg":".jpg","image/png":".png"};function e_e({entry:e}){return i.jsx(ce.Item,{onClick:e.onClick,icon:e.icon,children:i.jsx(b,{...e.label})},e.key)}function t_e(e){const t=U(),n=Ne(),r=Cl();return d.useCallback(async o=>{const s=`${new Date().toISOString().replaceAll(":","-")}${Xwe[o.mimeType]}`;$n.uploadFile(r,new File([o.data],s,{type:o.mimeType}),e,t,n,void 0,void 0,Xe.Multimodal)},[r,t,n,e])}function n_e(e){const t=t_e(e),n=r_e(t),r=a_e(t);return{desktopConnectors:d.useMemo(()=>us?[n,r].filter(o=>o!==void 0):[],[n,r])}}function r_e(e){const{value:t}=ct("4204519260");return d.useMemo(()=>{if(t)return{key:"takeScreenshot",label:fP.takeScreenshot,icon:Jwe,onClick:async()=>{const n=await aI();n&&(S.logEvent(k.sidetronScreenshotAttached),await e(n))}}},[t,e])}function a_e(e){const{value:t}=ct("239993468");return d.useMemo(()=>{if(t)return{key:"takePhoto",label:fP.takePhoto,icon:Qwe,onClick:async()=>{const n=await oI();n&&(S.logEvent(k.sidetronPhotoAttached),await e(n))}}},[t,e])}const fP=V({takeScreenshot:{id:"ContextConnectorPickerDropdownItem.takeScreenshotDesktop",defaultMessage:"Take screenshot"},takePhoto:{id:"ContextConnectorPickerDropdownItem.takePhotoDesktop",defaultMessage:"Take photo"}});async function o_e(e,t,n,r){await dP(n);async function a(f){switch(f.action){case google.picker.Action.PICKED:{yt.filePickerPicked(L.GDRIVE,f.docs.length);const p=f.docs.map(m=>({connector:t,id:m.id,title:m.name,mimeType:m.mimeType,url:m.url,syntheticExtension:m.type==="document"?GS(m.mimeType):null}));r(p);break}case google.picker.Action.CANCEL:yt.filePickerCancelled(L.GDRIVE);return;case"loaded":{yt.filePickerLoaded(L.GDRIVE);return}}}const o=new google.picker.DocsView(google.picker.ViewId.DOCS).setIncludeFolders(!0).setSelectFolderEnabled(!1).setMode(google.picker.DocsViewMode.LIST);let s="en";_8.includes(e)?s=e:_8.includes(e.split("-")[0])&&(s=e.split("-")[0]);const l=new google.picker.PickerBuilder().enableFeature(google.picker.Feature.MULTISELECT_ENABLED).enableFeature(google.picker.Feature.SUPPORT_DRIVES).setDeveloperKey(QE).setAppId(I3e).setOAuthToken(n).addView(o).setCallback(a).setLocale(s).build();yt.filePickerStarted(L.GDRIVE),l.setVisible(!0);const c=s_e(),u=()=>{yt.filePickerCancelled(L.GDRIVE),l.setVisible(!1),c?.removeEventListener("click",u)};c?.addEventListener("click",u)}function s_e(){if(typeof window>"u")return null;const e=window.document.body.querySelector("div.picker-dialog-bg")??window.document.body.querySelector("div.oai-picker-dialog-bg");return e?.classList.add("oai-picker-dialog-bg","bg-black/50","dark:bg-black/80","absolute","inset-0","z-[1000]"),e?.classList.remove("picker-dialog-bg"),e}const _8=["af","am","ar","bg","bn","ca","cs","da","de","el","en","en-GB","es","es-419","et","eu","fa","fi","fil","fr","fr-CA","gl","gu","hi","hr","hu","id","is","it","iw","ja","kn","ko","lt","lv","ml","mr","ms","nl","no","pl","pt-BR","pt-PT","ro","ru","sk","sl","sr","sv","sw","ta","te","th","tr","uk","ur","vi","zh-CN","zh-HK","zh-TW","zu"];var i_e=Ux,l_e=i_e(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]}),c_e=l_e;const i1=ve(c_e);var S8=bC,u_e=sI,d_e=p1,M8=S8?S8.isConcatSpreadable:void 0;function f_e(e){return d_e(e)||u_e(e)||!!(M8&&e&&e[M8])}var p_e=f_e,m_e=iI,g_e=p_e;function pP(e,t,n,r,a){var o=-1,s=e.length;for(n||(n=g_e),a||(a=[]);++o<s;){var l=e[o];t>0&&n(l)?t>1?pP(l,t-1,n,r,a):m_e(a,l):r||(a[a.length]=l)}return a}var h_e=pP,v_e=Bx,y_e=f1;function C_e(e,t){var n=-1,r=y_e(e)?Array(e.length):[];return v_e(e,function(a,o,s){r[++n]=t(a,o,s)}),r}var x_e=C_e;function b_e(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}var w_e=b_e,T8=V8;function __e(e,t){if(e!==t){var n=e!==void 0,r=e===null,a=e===e,o=T8(e),s=t!==void 0,l=t===null,c=t===t,u=T8(t);if(!l&&!u&&!o&&e>t||o&&s&&c&&!l&&!u||r&&s&&c||!n&&c||!a)return 1;if(!r&&!o&&!u&&e<t||u&&n&&a&&!r&&!o||l&&n&&a||!s&&a||!c)return-1}return 0}var S_e=__e,M_e=S_e;function T_e(e,t,n){for(var r=-1,a=e.criteria,o=t.criteria,s=a.length,l=n.length;++r<s;){var c=M_e(a[r],o[r]);if(c){if(r>=l)return c;var u=n[r];return c*(u=="desc"?-1:1)}}return e.index-t.index}var E_e=T_e,z0=lI,k_e=cI,A_e=rs,P_e=x_e,O_e=w_e,N_e=mh,I_e=E_e,j_e=Bi,R_e=p1;function L_e(e,t,n){t.length?t=z0(t,function(o){return R_e(o)?function(s){return k_e(s,o.length===1?o[0]:o)}:o}):t=[j_e];var r=-1;t=z0(t,N_e(A_e));var a=P_e(e,function(o,s,l){var c=z0(t,function(u){return u(o)});return{criteria:c,index:++r,value:o}});return O_e(a,function(o,s){return I_e(o,s,n)})}var $_e=L_e;function D_e(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var F_e=D_e,B_e=F_e,E8=Math.max;function U_e(e,t,n){return t=E8(t===void 0?e.length-1:t,0),function(){for(var r=arguments,a=-1,o=E8(r.length-t,0),s=Array(o);++a<o;)s[a]=r[t+a];a=-1;for(var l=Array(t+1);++a<t;)l[a]=r[a];return l[t]=n(s),B_e(e,this,l)}}var H_e=U_e,V_e=ax,k8=uI,G_e=Bi,W_e=k8?function(e,t){return k8(e,"toString",{configurable:!0,enumerable:!1,value:V_e(t),writable:!0})}:G_e,z_e=W_e,q_e=800,Z_e=16,Y_e=Date.now;function K_e(e){var t=0,n=0;return function(){var r=Y_e(),a=Z_e-(r-n);if(n=r,a>0){if(++t>=q_e)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var Q_e=K_e,J_e=z_e,X_e=Q_e,eSe=X_e(J_e),tSe=eSe,nSe=Bi,rSe=H_e,aSe=tSe;function oSe(e,t){return aSe(rSe(e,t,nSe),e+"")}var sSe=oSe,iSe=dI,lSe=f1,cSe=fI,uSe=ns;function dSe(e,t,n){if(!uSe(n))return!1;var r=typeof t;return(r=="number"?lSe(n)&&cSe(t,n.length):r=="string"&&t in n)?iSe(n[t],e):!1}var fSe=dSe,pSe=h_e,mSe=$_e,gSe=sSe,A8=fSe,hSe=gSe(function(e,t){if(e==null)return[];var n=t.length;return n>1&&A8(e,t[0],t[1])?t=[]:n>2&&A8(t[0],t[1],t[2])&&(t=[t[0]]),mSe(e,pSe(t,1),[])}),vSe=hSe;const mP=ve(vSe);function ySe(){const{connectorConfig:e}=Jf(),t=ca(),n=v4(),[r,a]=i1(mP([...e.values()],f=>!!f.access_token),f=>!!f.access_token),[o,s]=i1(a,f=>f.type===L.O365_PERSONAL||f.type===L.O365_BUSINESS),l=!t&&!n&&r.length>0,c=!t&&!n&&!l&&o.length>1;return{unconnectedConnectors:n?[]:c?s:a,showUnconnectedInSubmenu:l,showOneDriveInSubmenu:c}}function CSe({clientThreadId:e,icon:t,modelAcceptedMimeTypes:n,modelSupportedImageMimeTypes:r,attachmentsProductFeature:a,onOauthRedirect:o,uploadType:s,getInputProps:l,openFileDialog:c,isDisabled:u=!1,highlightTooltip:f=!1}){const{currentLocale:p}=iC(),m=U(),g=Ne(),h=Cl(),v=ca(),{connectorConfig:y,isLoading:x}=Jf(),C=ke(Ee.ContextConnectors),{getGizmoId:w}=Ol(),[_,E]=d.useState();d.useEffect(()=>{w?w().then(se=>E(se)):E(void 0)},[w]);const T=d.useRef(null),[M,A]=d.useState(!1),D=d.useRef(!1),j=d.useCallback(()=>{const se=T.current?.files;Array.from(se??[]).forEach(Ft=>$n.uploadFile(h,Ft,r,m,g,a))},[h,r,m,g,a]),[B,N]=d.useState(null),H=d.useCallback(()=>N(null),[N]),R=d.useCallback((se,Ft)=>$n.uploadPickedFile(h,se,Ft,r,n,a,_,m,g),[h,r,n,a,_,m,g]),{openMenu:G,confirmMenuOpened:X}=Di();d.useEffect(()=>{G&&(A(!0),X())},[G,X,A]);const ae=d.useCallback(se=>{$n.doContextConnectorOauthRedirect(location.pathname+location.search+location.hash,se,o,Cn.Picker),o()},[o]),$=d.useCallback(se=>{$n.uploadPickedFile(h,se,L.GDRIVE,r,n,a,_,m,g)},[h,r,n,a,_,m,g]),I=d.useCallback(async se=>{const{access_token:Ft}=se;if(!Ft){ae(se);return}switch($n.logAttemptIfAccessTokenIsExpired(se,Cn.Picker),se.type){case L.GDRIVE:o_e(p,se.type,Ft,$r=>$r.forEach($));break;case L.O365_PERSONAL:case L.O365_BUSINESS:N(se.type);break}},[$,ae,N,p]),O=()=>{S.logEvent(k.openFileViewer,{intent:s.toString()}),c()},Q=se=>{if(!se&&D.current&&!x)O();else if(se&&Ze&&!x){O();return}A(se),se&&(C.eligible&&C.markAsViewed(),S.logEvent(k.composerOpenContextConnectorPicker),D.current=!0,setTimeout(()=>{D.current=!1},250))},[oe,ne]=i1(mP([...y.values()],se=>!!se.access_token),se=>!!se.access_token);xSe(oe,I);const[ee]=i1(ne,se=>se.type===L.O365_PERSONAL||se.type===L.O365_BUSINESS),{unconnectedConnectors:Y,showUnconnectedInSubmenu:W,showOneDriveInSubmenu:de}=ySe(),{desktopConnectors:fe}=n_e(r),Ze=!oe.length&&!Y.length&&!fe.length,st=i.jsxs(i.Fragment,{children:[W&&Y.length>0&&i.jsx(qwe,{connectorEntries:Y,onOauthRedirect:se=>ae(se)}),!W&&Y.map(se=>i.jsx(b8,{entry:se,onClick:()=>I(se)},se.id)),de&&i.jsx(Ywe,{connectors:ee,onOauthRedirect:ae}),x&&i.jsx(ce.Item,{icon:i.jsx(yn,{className:"text-token-text-secondary"})}),(Y.length>0||x)&&i.jsx(ce.Separator,{}),oe.map(se=>i.jsx(b8,{entry:se,onClick:()=>I(se)},se.id)),fe.map(se=>i.jsx(e_e,{entry:se},se.key)),i.jsx(ce.Item,{onClick:O,icon:CA,children:i.jsx(b,{...v?P8.uploadFileMobile:P8.uploadFile})},"upload")]}),nn=i.jsxs("div",{className:"flex flex-col",children:[i.jsx(Hwe,{type:B,onClose:H,uploadPickedFile:R}),i.jsx("input",{onChange:j,...l({className:"hidden"})}),i.jsxs(ce.Root,{open:M,onOpenChange:Q,children:[i.jsx(Wwe,{clientThreadId:e,icon:t,setOpen:Q,isDisabled:u,highlightTooltip:f}),i.jsx(ce.Portal,{children:i.jsx(ce.Content,{size:"large",children:st})})]}),i.jsx(Rwe,{hasConnectors:!x&&!Ze})]});return{dropdownItems:st,mainComponent:nn}}function xSe(e,t){const{connector:n,clearParam:r}=sCe(),a=e.find(o=>o.type===n&&!!o.access_token);d.useEffect(()=>{a&&(t(a),r())},[a,t,r])}function bRe(e){const{mainComponent:t}=CSe(e);return t}const P8=V({attachFiles:{id:"ContextConnectorPicker.attachFiles",defaultMessage:"Attach files"},uploadFile:{id:"LocalFileDropdownItem.uploadFile",defaultMessage:"Upload from computer"},uploadFileMobile:{id:"LocalFileDropdownItem.uploadFileMobile",defaultMessage:"Upload file"}}),wRe=e=>d.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},d.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9 7C9 4.23858 11.2386 2 14 2C16.7614 2 19 4.23858 19 7V15C19 18.866 15.866 22 12 22C8.13401 22 5 18.866 5 15V9C5 8.44772 5.44772 8 6 8C6.55228 8 7 8.44772 7 9V15C7 17.7614 9.23858 20 12 20C14.7614 20 17 17.7614 17 15V7C17 5.34315 15.6569 4 14 4C12.3431 4 11 5.34315 11 7V15C11 15.5523 11.4477 16 12 16C12.5523 16 13 15.5523 13 15V9C13 8.44772 13.4477 8 14 8C14.5523 8 15 8.44772 15 9V15C15 16.6569 13.6569 18 12 18C10.3431 18 9 16.6569 9 15V7Z",fill:"currentColor"})),_Re=e=>d.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},d.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.29289 7.29289C7.68342 6.90237 8.31658 6.90237 8.70711 7.29289L12 10.5858L15.2929 7.29289C15.6834 6.90237 16.3166 6.90237 16.7071 7.29289C17.0976 7.68342 17.0976 8.31658 16.7071 8.70711L13.4142 12L16.7071 15.2929C17.0976 15.6834 17.0976 16.3166 16.7071 16.7071C16.3166 17.0976 15.6834 17.0976 15.2929 16.7071L12 13.4142L8.70711 16.7071C8.31658 17.0976 7.68342 17.0976 7.29289 16.7071C6.90237 16.3166 6.90237 15.6834 7.29289 15.2929L10.5858 12L7.29289 8.70711C6.90237 8.31658 6.90237 7.68342 7.29289 7.29289Z",fill:"currentColor"}));function bSe(){const{value:e}=$t("2813404493");return e}const wSe=Ke(()=>qe(()=>import("./cg1ggceqk9ockf3h.js"),__vite__mapDeps([53,1,3,4,54,55,13,56,57,44,5,58,21,59,60,61,25,26,62])).then(e=>e.VoiceModeLayout)),_Se=Ke(()=>qe(()=>import("./iyesubpiejb9ptnn.js"),__vite__mapDeps([63,1,64,3,4,54,59,60,61,25,26,62])).then(e=>e.ComposerSpeechButton)),SSe=Ke(()=>qe(()=>import("./btrex5plair14xg9.js"),__vite__mapDeps([65,1,3,4,64])).then(e=>e.ComposerSpeechUpsellButton)),MSe=Ke(()=>qe(()=>import("./ehkxyh1470vw43v4.js"),__vite__mapDeps([66,1,3,4,64,36])).then(e=>e.VoiceConversationRating));function Xf(){return ct("1426009137")?.value}function SRe(e){return Xf()?i.jsx(wSe,{...e}):null}function TSe(e){const t=Xf(),{fallback:n,...r}=e;return t?i.jsx(_Se,{...r}):n}function MRe(e){return Xf()?i.jsx(MSe,{...e}):null}function ESe(e){const t=Xf(),{fallback:n,...r}=e;return t?i.jsx(SSe,{...r}):n}const TRe=300,kSe="straw",ERe=1e3,kRe=7e3,ARe=1e3,PRe=7e3,ORe=()=>EM().some(t=>t.voice===kSe),NRe=async(e=1)=>{let t=0,n;return new Promise(r=>{const a=o=>(n||(n=o),o-n<e*1e3?(t+=1,requestAnimationFrame(a)):r(Math.floor(t/e)));requestAnimationFrame(a)})},IRe=e=>{const t=d.useRef(e),n=d.useCallback(r=>{(t.current[0]!==r.width||t.current[1]!==r.height)&&(t.current=[r.width,r.height])},[]);return{canvasSizeRef:t,handleCanvasSizeUpdate:n}},ASe=()=>{if(typeof navigator>"u")return!1;const e=navigator.userAgent||navigator.vendor;return/android|iphone|ipad|ipod|mobile/i.test(e)},jRe=e=>{const{voiceSessionId:t,server:n,voiceMode:r,audioInputDevice:a,voiceStatus:o}=e;return{voice_session_id:t??"(none)",server_messages:n.messages.map(s=>s.type).join(","),rate_limit_message:JSON.stringify(n.usage?.rate_limit_message)??"(none)",audio_s:n.usage?.audio_s??"(none)",tool_update:n.toolUpdate?.type??"(none)",voice_connection_quality:n.voiceConnectionQuality??"(none)",voice_mode:r??"(none)",audio_input_device:a?.label??"(none)",voice_status:JSON.stringify(o)??"(none)"}};function RRe(e){return e instanceof DOMException&&e.name==="NotAllowedError"?(pI.permissions.denied({message:e.message}),!0):!1}function LRe(e){const{isUnauthenticated:t}=Lt(),r=nM(g=>g.files).length>0,a=e.composerController.useState(g=>!g.isEmpty()),o=!r&&!a,{browseMode:s}=xe(),l=fh(),c=l2e(),u=j4(e.gizmoId),f=ASe(),p=ia();if(e.inputState==="disabled")return null;const m=i.jsx(PSe,{state:e.state,onSubmit:e.onSubmit,disableReason:e.disableReason,isSearchMode:c,useProduceImpl:e.useProduceImpl});return!t&&!l&&!u&&o&&e.state==="disabled"&&e.clientThreadId&&s!=="gizmo-editor"&&!p?i.jsx("div",{className:"min-w-8",children:f?i.jsx(ESe,{fallback:m}):i.jsx(TSe,{clientThreadId:e.clientThreadId,gizmoId:e.gizmoId,fallback:m})}):m}function PSe({state:e,onSubmit:t,disableReason:n,isSearchMode:r,useProduceImpl:a}){const o=e==="streaming"?Sre:Mre,s=U(),l=bSe(),c=i.jsx("button",{onClick:t,disabled:e==="disabled","aria-label":e==="streaming"?s.formatMessage(Qs.stopStreamingLabel):s.formatMessage(Qs.sendPromptLabel),"data-testid":e==="streaming"?"stop-button":"send-button",className:P("flex h-8 w-8 items-center justify-center rounded-full transition-colors hover:opacity-70 focus-visible:outline-none focus-visible:outline-black disabled:text-[#f4f4f4] disabled:hover:opacity-100 dark:focus-visible:outline-white disabled:dark:bg-token-text-quaternary dark:disabled:text-token-main-surface-secondary",a?"bg-green-600 text-white disabled:bg-green-600 disabled:bg-opacity-15 dark:bg-green-600 dark:text-white disabled:dark:bg-green-600 disabled:dark:bg-opacity-15":r?"bg-blue-1000 text-white dark:bg-blue-1000 dark:text-white":"bg-black text-white dark:bg-white dark:text-black",l&&"disabled:bg-black disabled:bg-opacity-[0.27]",!l&&"disabled:bg-[#D7D7D7]"),children:i.jsx(o,{className:P(e==="streaming"?"icon-lg":"icon-2xl")})});return n&&e==="disabled"?i.jsx(OSe,{label:n==="file_upload_pending"?s.formatMessage(Qs.fileUploadPendingLabel):n==="empty_text_content"?s.formatMessage(Qs.emptyTextContentLabel):s.formatMessage(Qs.textContentTooLongLabel),children:c}):c}function OSe({label:e,children:t}){return i.jsx(ot,{sideOffset:14,label:e,side:"top",children:t})}const Qs=V({stopStreamingLabel:{id:"+yfm/p",defaultMessage:"Stop streaming"},sendPromptLabel:{id:"xfIykB",defaultMessage:"Send prompt"},emptyTextContentLabel:{id:"LCVL2q",defaultMessage:"Message is empty"},textContentTooLongLabel:{id:"kDrqDJ",defaultMessage:"Message is too long"},fileUploadPendingLabel:{id:"Qv7jQN",defaultMessage:"File upload pending"}}),O8=Me(()=>({rect:null})),NSe=e=>{if(!e)return O8.setState({rect:null});const{height:t,left:n,top:r,width:a}=e.getBoundingClientRect(),{borderRadius:o}=getComputedStyle(e);O8.setState({rect:{height:t,left:n,top:r,width:a,borderRadius:o}})},ISe=e=>d.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},d.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13 4C13 3.44772 13.4477 3 14 3H20C20.5523 3 21 3.44772 21 4V10C21 10.5523 20.5523 11 20 11C19.4477 11 19 10.5523 19 10V6.41421L15.2071 10.2071C14.8166 10.5976 14.1834 10.5976 13.7929 10.2071C13.4024 9.81658 13.4024 9.18342 13.7929 8.79289L17.5858 5H14C13.4477 5 13 4.55228 13 4ZM4 13C4.55228 13 5 13.4477 5 14V17.5858L8.79289 13.7929C9.18342 13.4024 9.81658 13.4024 10.2071 13.7929C10.5976 14.1834 10.5976 14.8166 10.2071 15.2071L6.41421 19H10C10.5523 19 11 19.4477 11 20C11 20.5523 10.5523 21 10 21H4C3.44772 21 3 20.5523 3 20V14C3 13.4477 3.44772 13 4 13Z",fill:"currentColor"}));function $Re({composerController:e,composerRef:t,clientThreadId:n}){const r=U(),[{height:a},o]=wre(),s=d.useCallback(()=>{const{height:g}=e.element?.getBoundingClientRect()??{};return g==null||e.isEmpty()?!1:g>a},[e,a]),l=d.useSyncExternalStore(g=>e.subscribe("change",g),s,()=>!1),u=e.useState(g=>g.getContentLength())>gx,f=i.jsx("span",{ref:o,"aria-hidden":!0,className:"pointer-events-none invisible fixed left-0 top-0 block",children:"O"});if(!l)return f;const p=()=>({clientThreadId:n,conversation_id:F.getServerThreadId(n)});function m(){S.logEventWithStatsig(k.composerOpenInCanvasButtonClicked,"composer_open_in_canvas_button_clicked",p()),t?.current&&NSe(t.current);const g=xx.createTempTextdoc(e.getContentToSend().content,r.formatMessage({id:"9e0Zzr",defaultMessage:"New document"}),yx.USER_CREATED_COMPOSER);requestAnimationFrame(()=>{Va(g),e.eraseContent(),e.focus()})}return i.jsxs(i.Fragment,{children:[f,i.jsx(ot,{side:"right",sideOffset:0,label:u?i.jsx(b,{id:"Ff/tSw",defaultMessage:"Too long for canvas"}):i.jsx(b,{id:"r4hDqs",defaultMessage:"Open in canvas"}),onOpenChange:g=>{g&&S.logEventWithStatsig(k.composerOpenInCanvasButtonHovered,"composer_open_in_canvas_button_hovered",p())},children:i.jsx("button",{className:"flex h-8 min-w-8 items-center justify-center rounded-lg p-1 text-xs font-semibold hover:bg-black/10 focus-visible:outline-black disabled:text-token-text-tertiary disabled:hover:bg-transparent dark:focus-visible:outline-white",disabled:u,"aria-label":r.formatMessage({id:"Fj5Lgk",defaultMessage:"Open in canvas"}),onPointerDown:()=>{u||m?.()},onMouseDown:g=>{g.preventDefault()},onClick:g=>{g.preventDefault(),g.detail===0&&!u&&m()},children:i.jsx(ISe,{})})})]})}const DRe=e=>d.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",overflow:"visible",xmlns:"http://www.w3.org/2000/svg",...e},d.createElement("mask",{id:"stuff-part-box-fill"},d.createElement("path",{d:"M-6 -10H30V11H-6Z",fill:"white"}),d.createElement("path",{d:"M20 11H4V19C4 20.1 4.9 21 6 21H18C19.1 21 20 20.1 20 19V11Z",fill:"black"})),d.createElement("mask",{id:"stuff-part-star-fill"},d.createElement("path",{d:"M-6 -6H30V11H-6Z",fill:"white"}),d.createElement("path",{className:"stuff-part-star",d:"M8.05625 3.61554C8.30853 2.89184 9.2477 2.70929 9.75272 3.28578L11.2938 5.04497C11.4788 5.25615 11.744 5.37984 12.0247 5.38581L14.3629 5.43554C15.1291 5.45184 15.593 6.28864 15.2008 6.94708L14.0039 8.95633C13.8602 9.19753 13.8245 9.48802 13.9056 9.75682L14.5808 11.9959C14.8021 12.7297 14.1496 13.4294 13.4022 13.2599L11.1214 12.7425C10.8476 12.6804 10.5603 12.7362 10.3297 12.8964L8.40888 14.2305C7.7794 14.6677 6.91229 14.2633 6.84258 13.5001L6.62986 11.1711C6.60432 10.8915 6.46243 10.6355 6.23886 10.4657L4.37646 9.05111C3.76614 8.58754 3.88274 7.63792 4.58708 7.33577L6.73638 6.41376C6.99439 6.30307 7.19399 6.08903 7.28641 5.82392L8.05625 3.61554Z",fill:"black"})),d.createElement("g",{mask:"url(#stuff-part-box-fill)"},d.createElement("g",{mask:"url(#stuff-part-star-fill)"},d.createElement("path",{className:"stuff-part-pen",fillRule:"evenodd",clipRule:"evenodd",d:"M14.1356 3.327C14.6861 2.06081 16.1589 1.48067 17.4251 2.03123L19.4885 2.92841C20.7547 3.47897 21.3348 4.95174 20.7842 6.21793L17.8342 13.0027C17.663 13.3963 17.3934 13.7392 17.0513 13.9984L13.054 17.026L12.4501 16.2289L11.4544 16.3212L11.3505 15.2023C11.295 14.6055 11.2326 13.9364 11.2047 13.6425L10.987 11.3504C10.947 10.9294 11.0145 10.505 11.1831 10.1172L14.1356 3.327ZM12.4501 16.2289L11.4544 16.3212C11.4879 16.6826 11.7146 16.9975 12.0468 17.1439C12.3789 17.2903 12.7646 17.245 13.054 17.026L12.4501 16.2289ZM13.2795 14.3467L15.8435 12.4043C15.9119 12.3525 15.9658 12.2839 16 12.2052L18.9501 5.42044C19.0602 5.1672 18.9442 4.87264 18.691 4.76253L16.6276 3.86535C16.3743 3.75524 16.0798 3.87126 15.9697 4.1245L13.0172 10.9147C12.9835 10.9922 12.97 11.0771 12.978 11.1613L13.1957 13.4533C13.2135 13.6399 13.2448 13.9752 13.2795 14.3467Z",fill:"currentColor"})),d.createElement("path",{className:"stuff-part-star",fillRule:"evenodd",clipRule:"evenodd",d:"M7.11197 3.28637C7.61654 1.83896 9.49489 1.47385 10.5049 2.62685L12.046 4.38603L14.3842 4.43577C15.9166 4.46836 16.8443 6.14195 16.0599 7.45885L14.863 9.4681L15.5382 11.7072C15.9808 13.1748 14.6758 14.5742 13.181 14.2351L10.9002 13.7177L8.97932 15.0518C7.72036 15.9262 5.98614 15.1175 5.84672 13.5911L5.634 11.262L3.7716 9.84744C2.55096 8.9203 2.78416 7.02106 4.19284 6.41676L6.34213 5.49475L7.11197 3.28637ZM10.5416 5.7039L9.00051 3.94471L8.23067 6.15309C8.04584 6.6833 7.64664 7.1114 7.13061 7.33276L4.98132 8.25478L6.84371 9.66936C7.29086 10.009 7.57464 10.5209 7.62571 11.0801L7.83843 13.4091L9.75929 12.075C10.2205 11.7547 10.7951 11.643 11.3427 11.7673L13.6234 12.2847L12.9482 10.0455C12.7861 9.50795 12.8574 8.92697 13.1448 8.44457L14.3416 6.43532L12.0034 6.38558C11.4421 6.37364 10.9116 6.12626 10.5416 5.7039Z",fill:"currentColor"}),d.createElement("g",{className:"stuff-part-jack"},d.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.4873 26.067C11.5514 26.0445 11.6198 26.0217 11.6925 25.9988L11.0922 24.091C10.6826 24.2199 10.239 24.3899 9.87818 24.6169C9.58085 24.804 9 25.243 9 26C9 26.7396 9.49534 27.2202 9.86829 27.4784C9.87463 27.4828 9.88099 27.4872 9.88737 27.4915C9.86663 27.5058 9.84613 27.5203 9.82589 27.535C9.45161 27.8072 9 28.2875 9 29C9 29.7396 9.49534 30.2202 9.86829 30.4784C9.90016 30.5005 9.93264 30.522 9.96568 30.5431C9.93938 30.5594 9.91347 30.5759 9.888 30.5926C9.70054 30.7159 9.49716 30.8773 9.33217 31.0864C9.16471 31.2986 9 31.6092 9 32C9 32.3908 9.16471 32.7014 9.33217 32.9136C9.49716 33.1227 9.70054 33.2841 9.888 33.4074C10.263 33.654 10.7308 33.8492 11.1866 33.9996C12.0976 34.3003 13.2047 34.5 14 34.5V32.5C13.462 32.5 12.569 32.3497 11.8134 32.1004C11.7126 32.0671 11.6187 32.0335 11.5319 32C11.6187 31.9665 11.7126 31.9329 11.8134 31.8996C12.569 31.6503 13.462 31.5 14 31.5C14.5523 31.5 15 31.0523 15 30.5C15 29.9477 14.5523 29.5 14 29.5C13.4254 29.5 12.5226 29.3877 11.7873 29.1672C11.5941 29.1092 11.4306 29.049 11.2974 28.9903C11.4159 28.9376 11.5604 28.8834 11.7316 28.8308C12.4366 28.6139 13.336 28.5 14 28.5C14.5523 28.5 15 28.0523 15 27.5C15 26.9477 14.5523 26.5 14 26.5C13.4254 26.5 12.5226 26.3877 11.7873 26.1672C11.6777 26.1343 11.5776 26.1007 11.4873 26.067Z",fill:"currentColor"}),d.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.5 10.382V12C13.5 12.5167 13.5053 13.1354 13.6523 13.6744C13.7561 14.0553 13.8996 14.2919 14.0859 14.4317C14.8816 14.222 15.8088 14.1322 16.7039 14.2601C17.7583 14.4107 18.8748 14.8844 19.582 15.9453L20.3759 17.1361L18.9847 17.4721C18.5941 17.5664 18.3944 17.6948 18.2874 17.7953C18.1845 17.8918 18.1122 18.0138 18.0619 18.1945C18.0076 18.3896 17.9843 18.6347 17.9822 18.955C17.9812 19.1127 17.9852 19.2749 17.9899 19.452L17.9909 19.4879C17.9952 19.6499 18 19.8262 18 20C18 23.3137 15.3137 26 12 26C8.6863 26 6.00001 23.3137 6.00001 20C6.00001 19.8108 6.00384 19.6603 6.00738 19.5217C6.01201 19.3399 6.01612 19.1786 6.01036 18.9771C6.00164 18.6724 5.96752 18.4502 5.90286 18.2781C5.84523 18.1246 5.75703 17.9926 5.5915 17.8702C5.4129 17.7381 5.10246 17.5873 4.55908 17.4816L3.12725 17.2031L3.90325 15.968C4.95025 14.3016 6.56507 13.9881 7.77695 14.0645C8.18753 14.0904 8.56505 14.1599 8.88234 14.2391C9.66993 12.4933 11.119 11.5725 12.0528 11.1056L13.5 10.382ZM6.65071 16.1709C6.69502 16.2004 6.73833 16.2308 6.78066 16.2621C7.27801 16.6299 7.59164 17.0862 7.77518 17.5749C7.95168 18.0449 7.99806 18.5188 8.00954 18.9199C8.01605 19.1476 8.01011 19.4317 8.00512 19.6699C8.00242 19.7989 8.00001 19.9143 8.00001 20C8.00001 22.2091 9.79087 24 12 24C14.2091 24 16 22.2091 16 20C16 19.8543 15.996 19.7036 15.9914 19.5349L15.9906 19.5057C15.9859 19.3305 15.981 19.1373 15.9823 18.9421C15.9848 18.5565 16.0107 18.1055 16.1351 17.6584C16.2623 17.2011 16.495 16.739 16.9075 16.3475C16.7574 16.3007 16.5951 16.2648 16.4211 16.2399C15.7217 16.14 14.9416 16.2402 14.3162 16.4487C14.111 16.5171 13.889 16.5171 13.6838 16.4487C12.4861 16.0495 11.9545 15.0504 11.7227 14.2006C11.6855 14.064 11.6545 13.9262 11.6286 13.7891C11.1253 14.2598 10.6832 14.8905 10.4701 15.7425C10.3975 16.0329 10.1987 16.2755 9.92819 16.4037C9.65885 16.5313 9.34669 16.5321 9.07678 16.406Z  M11 19.5C11 20.0523 10.6642 20.5 10.25 20.5C9.83579 20.5 9.5 20.0523 9.5 19.5C9.5 18.9477 9.83579 18.5 10.25 18.5C10.6642 18.5 11 18.9477 11 19.5Z M14.5 19.5C14.5 20.0523 14.1642 20.5 13.75 20.5C13.3358 20.5 13 20.0523 13 19.5C13 18.9477 13.3358 18.5 13.75 18.5C14.1642 18.5 14.5 18.9477 14.5 19.5Z",fill:"currentColor"}))),d.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3 11C3 10.4477 3.44772 10 4 10H20C20.5523 10 21 10.4477 21 11V19C21 20.6523 19.6523 22 18 22H6C4.34772 22 3 20.6523 3 19V11ZM5 12V19C5 19.5477 5.45228 20 6 20H18C18.5477 20 19 19.5477 19 19V12H5ZM9.5 14.5C9.5 13.9477 9.94772 13.5 10.5 13.5H13.5C14.0523 13.5 14.5 13.9477 14.5 14.5C14.5 15.0523 14.0523 15.5 13.5 15.5H10.5C9.94772 15.5 9.5 15.0523 9.5 14.5Z",fill:"currentColor"})),jSe="_toolsButton_d2h2h_8",FRe={toolsButton:jSe},BRe=e=>d.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},d.createElement("path",{d:"M20 8L12.5 15.5L8.5 11.5L3 17",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),d.createElement("path",{d:"M15 7H21V13",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}));function URe({label:e,onClick:t,disabled:n=!1,icon:r,rightIcon:a}){return i.jsxs("button",{className:"group relative flex h-[42px] items-center gap-1.5 rounded-full border border-token-border-light px-3 py-2 text-start text-[13px] shadow-xxs transition enabled:hover:bg-token-main-surface-secondary disabled:cursor-not-allowed xl:gap-2 xl:text-[14px]",disabled:n,onClick:t,children:[r,i.jsx("span",{className:"max-w-full select-none whitespace-nowrap text-gray-600 transition group-hover:text-token-text-primary dark:text-gray-500",children:e}),a]})}function RSe(e,t,n){var r=-1,a=e.length;t<0&&(t=-t>a?0:a+t),n=n>a?a:n,n<0&&(n+=a),a=t>n?0:n-t>>>0,t>>>=0;for(var o=Array(a);++r<a;)o[r]=e[r+t];return o}var LSe=RSe,$Se=LSe;function DSe(e,t,n){var r=e.length;return n=n===void 0?r:n,!t&&n>=r?e:$Se(e,t,n)}var FSe=DSe,BSe="\\ud800-\\udfff",USe="\\u0300-\\u036f",HSe="\\ufe20-\\ufe2f",VSe="\\u20d0-\\u20ff",GSe=USe+HSe+VSe,WSe="\\ufe0e\\ufe0f",zSe="\\u200d",qSe=RegExp("["+zSe+BSe+GSe+WSe+"]");function ZSe(e){return qSe.test(e)}var gP=ZSe;function YSe(e){return e.split("")}var KSe=YSe,hP="\\ud800-\\udfff",QSe="\\u0300-\\u036f",JSe="\\ufe20-\\ufe2f",XSe="\\u20d0-\\u20ff",eMe=QSe+JSe+XSe,tMe="\\ufe0e\\ufe0f",nMe="["+hP+"]",z2="["+eMe+"]",q2="\\ud83c[\\udffb-\\udfff]",rMe="(?:"+z2+"|"+q2+")",vP="[^"+hP+"]",yP="(?:\\ud83c[\\udde6-\\uddff]){2}",CP="[\\ud800-\\udbff][\\udc00-\\udfff]",aMe="\\u200d",xP=rMe+"?",bP="["+tMe+"]?",oMe="(?:"+aMe+"(?:"+[vP,yP,CP].join("|")+")"+bP+xP+")*",sMe=bP+xP+oMe,iMe="(?:"+[vP+z2+"?",z2,yP,CP,nMe].join("|")+")",lMe=RegExp(q2+"(?="+q2+")|"+iMe+sMe,"g");function cMe(e){return e.match(lMe)||[]}var uMe=cMe,dMe=KSe,fMe=gP,pMe=uMe;function mMe(e){return fMe(e)?pMe(e):dMe(e)}var gMe=mMe,hMe=FSe,vMe=gP,yMe=gMe,CMe=YC;function xMe(e){return function(t){t=CMe(t);var n=vMe(t)?yMe(t):void 0,r=n?n[0]:t.charAt(0),a=n?hMe(n,1).join(""):t.slice(1);return r[e]()+a}}var bMe=xMe,wMe=bMe,_Me=wMe("toUpperCase"),SMe=_Me,MMe=YC,TMe=SMe;function EMe(e){return TMe(MMe(e).toLowerCase())}var kMe=EMe;const HRe=ve(kMe);function VRe({children:e}){let t;return d.Children.forEach(e,n=>{if(d.isValidElement(n)&&n.type==="title"){const r=d.Children.toArray(n.props.children)[0];typeof r=="string"&&(t=r)}}),d.useEffect(()=>{if(t!=null){const n=document.title;return document.title=t,()=>{document.title=n}}},[t]),null}const AMe=e=>d.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24",...e},d.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M14.5 5a2 2 0 1 0 0 4 2 2 0 0 0 0-4Zm-3.874 1a4.002 4.002 0 0 1 7.748 0H20a1 1 0 1 1 0 2h-1.626a4.002 4.002 0 0 1-7.748 0H4a1 1 0 0 1 0-2h6.626ZM9.5 15a2 2 0 1 0 0 4 2 2 0 0 0 0-4Zm-3.874 1a4.002 4.002 0 0 1 7.748 0H20a1 1 0 1 1 0 2h-6.626a4.002 4.002 0 0 1-7.748 0H4a1 1 0 1 1 0-2h1.626Z",clipRule:"evenodd"})),PMe=e=>d.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},d.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.5 4.91421L4.29289 6.12132C4.10536 6.30886 4 6.56321 4 6.82843V16.9472L5.5 14.6972V4.91421ZM7.03518 16L5.03518 19H18.9648L16.9648 16H7.03518ZM18.5 14.6972L20 16.9472V6.43675C20 6.13997 19.8682 5.85852 19.6402 5.66853L18.5 4.71838V14.6972ZM16.5 14V4H7.5V14H16.5ZM4.70711 2.87868C5.26972 2.31607 6.03278 2 6.82843 2H17.2759C17.9777 2 18.6573 2.24605 19.1965 2.69534L20.9206 4.13209C21.6045 4.70207 22 5.54641 22 6.43675V18C22 19.6569 20.6569 21 19 21H5C3.34315 21 2 19.6569 2 18V6.82843C2 6.03278 2.31607 5.26972 2.87868 4.70711L4.70711 2.87868Z",fill:"currentColor"}),d.createElement("path",{d:"M12.6297 5.93615C12.6974 5.57624 12.3408 5.34363 12.1528 5.62504L9.56654 9.49667C9.41387 9.72521 9.54081 10.0776 9.7758 10.0776H11.7435L11.3703 12.0639C11.3026 12.4238 11.6592 12.6564 11.8472 12.375L14.4335 8.50333C14.5861 8.27479 14.4592 7.92238 14.2242 7.92238H12.2565L12.6297 5.93615Z",fill:"currentColor"}));function OMe(){const e=cn(),t=Ne(),{isUnauthenticated:n}=Lt(),r=ct("3376455464")?.value,{openSettings:a}=zE();return i.jsx(i.Fragment,{children:i.jsxs(O1,{triggerButton:i.jsx("button",{className:"flex h-6 w-6 items-center justify-center rounded-full border border-token-border-light text-xs text-token-text-secondary",children:"?"}),children:[e&&!n&&e.email&&i.jsx(ce.Item,{onClick:o=>{wl(e.id,t,o).then(()=>{t.success("Copied your User ID to clipboard")})},icon:u4,children:e.email}),i.jsx(Iye,{}),i.jsx(ce.Item,{icon:PMe,onClick:()=>{Re.openModal(et.KeyboardActions)},children:i.jsx(b,{id:"thread.keyboardShortcutsMenu",defaultMessage:"Keyboard shortcuts"})}),r&&i.jsx(ce.Item,{icon:Aye,onClick:()=>{Re.openModal(et.ReportConversation)},children:i.jsx(b,{id:"thread.report",defaultMessage:"Report Illegal Content"})}),n&&i.jsx(ce.Item,{onClick:()=>a(),icon:AMe,children:i.jsx(b,{id:"helpMenu.items.settings",defaultMessage:"Settings"})})]})})}const NMe=Object.freeze(Object.defineProperty({__proto__:null,default:OMe},Symbol.toStringTag,{value:"Module"}));function IMe(e){return e.sub_reasons.length===0&&e.details_placeholder==null&&e.link_attachment==null&&e.subtext==null}function jMe(e,t,n){const r=Ne();return Ve({mutationFn:a=>q.postReport({...a,entity_type:n,entity_id:t}),onError:a=>{te.addError(new Error("Error occurred while reporting",{cause:a}),{entityType:n,id:t}),r.danger(e.formatMessage({id:"report.submitError",defaultMessage:"Error reporting: {detail}"},{detail:a.message}))}})}function RMe(e){return ye({queryKey:["reportReasons",{entityType:e}],queryFn:()=>q.getReportReasons(e)})}function LMe({name:e,placeholder:t,type:n,list:r,ariaLabel:a,displayName:o,onChange:s,onFocus:l,onBlur:c,value:u,saveOnBlur:f,icon:p,onInputIconClick:m,className:g,inputClassName:h,autoComplete:v,autoFocus:y,onPressEnter:x,disabled:C,maxLength:w,color:_="tertiary"},E){const[T,M]=d.useState(u),A=d.useCallback(N=>{c?.(N),f&&M(N.target.value)},[c,f]),D=d.useCallback(N=>{s?.(N),f&&M(N.target.value)},[s,f]),j=d.useCallback(N=>{N.key==="Enter"&&x&&(N.preventDefault(),x(T))},[x,T]);d.useEffect(()=>{M(u)},[u]);const B={...f?{}:{value:u},...f?{value:T}:{}};return i.jsxs("div",{className:P("rounded-md border shadow-none",_==="neutral"&&"border-transparent px-3 py-2 focus-within:border-green-500 focus-within:bg-token-main-surface-tertiary focus-within:ring-1 focus-within:ring-transparent hover:bg-token-main-surface-tertiary",_==="tertiary"&&"border-token-border-medium px-3 py-2 focus-within:border-token-border-xheavy focus-within:ring-1 focus-within:ring-token-text-secondary",_==="search"&&"rounded-xl border-token-border-medium bg-token-main-surface-primary p-4 focus-within:border-token-border-xheavy focus-within:ring-0 dark:border-token-border-medium dark:focus-within:border-token-border-xheavy dark:focus-within:ring-0",_==="quaternary"&&"border-token-main-surface-quaternary px-3 py-2 text-token-text-quaternary focus-within:border-token-border-xheavy focus-within:ring-1 focus-within:ring-token-text-secondary",g),children:[i.jsx("label",{htmlFor:e,className:"block text-xs font-semibold text-token-text-primary",children:o}),i.jsxs("div",{className:P(o&&"mt-1","relative"),children:[i.jsx("input",{ref:E,type:n,name:e,id:e,list:r,"aria-label":a||void 0,className:P("block w-full border-0 p-0 shadow-none outline-none focus-within:shadow-none focus-within:outline-none focus-within:ring-0 focus:border-none focus:ring-0 sm:text-sm",p!=null&&"pr-6",_==="neutral"||_==="search"?"bg-transparent":"bg-token-main-surface-primary text-token-text-primary",_==="quaternary"?"placeholder:text-token-text-quaternary":"placeholder-gray-500",h),placeholder:t,onBlur:A,onFocus:l,onChange:D,onKeyDown:j,autoComplete:v,autoFocus:y,disabled:C,maxLength:w,...B}),p!=null&&i.jsx($Me,{onClick:m,children:i.jsx(p,{className:"icon-sm"})})]})]})}const Z2=J.forwardRef(LMe),$Me=he.button`absolute right-0 top-1/2 -translate-y-1/2`,DMe=he.div`divide-y overflow-hidden rounded-md border border-token-border-medium`,FMe=he.button`w-full border-token-border-medium p-2 text-left text-sm hover:bg-token-main-surface-secondary`,BMe=he.div`text-sm font-semibold`,UMe=he.div`text-sm text-token-text-secondary`;function Eo({header:e,subHeader:t}){return e==null&&t==null?null:i.jsxs("div",{className:"mb-4",children:[e!=null&&i.jsx(BMe,{children:e}),t!=null&&i.jsx(UMe,{children:t})]})}function HMe({reasons:e,onSelectReason:t}){return i.jsx(DMe,{children:e.map(n=>i.jsx(FMe,{onClick:()=>{t(n)},children:n.cta},n.id))})}function VMe({reason:e,submitReport:t}){const[n,r]=d.useState(""),[a,o]=d.useState(""),[s,l]=d.useState(""),c=e.additional_fields?.map(v=>v.id),u=c?.includes(H9.UserName),f=c?.includes(H9.UserEmail),p=u||f,m=U(),g=m.formatMessage({id:"report.loggedOut.name",defaultMessage:"Your name"}),h=m.formatMessage({id:"report.loggedOut.email",defaultMessage:"Your email address"});return i.jsxs("div",{className:"flex flex-col gap-4",children:[p&&i.jsxs("div",{className:"flex flex-col gap-4 text-sm",children:[u&&i.jsxs("div",{className:"flex flex-col gap-1",children:[g,i.jsx(Z2,{ariaLabel:g,name:"name",type:"text",value:a,onChange:v=>o(v.target.value)})]}),f&&i.jsxs("div",{className:"flex flex-col gap-1",children:[h,i.jsx(Z2,{ariaLabel:h,name:"email",type:"email",value:s,onChange:v=>l(v.target.value)})]})]}),i.jsx(Jk,{value:n,onChange:v=>r(v.target.value),placeholder:e.details_placeholder??void 0,autoFocus:!0,className:"!bg-token-main-surface-primary"}),e.subtext!=null&&i.jsx("div",{className:"text-sm text-token-text-secondary",children:e.subtext}),i.jsx("div",{className:"flex justify-end",children:i.jsx(re,{onClick:()=>{let v;p&&(v={},u&&(v.user_name=a),f&&(v.user_email=s)),t.mutateAsync({reason:{id:e.id,details:n},additional_fields_values:v})},disabled:t.isPending,children:i.jsx(b,{id:"report.submitReport",defaultMessage:"Submit"})})})]})}function GMe({reason:e}){return i.jsxs("div",{className:"text-sm",children:[i.jsx("div",{className:"mb-2",children:e.link_explanation}),e.link_attachment!=null&&i.jsx("div",{children:i.jsx("a",{href:e.link_attachment,target:"_blank",rel:"noreferrer",className:"break-words underline",children:e.link_attachment})})]})}function WMe({reasons:e,submitReport:t,title:n,onClose:r,header:a,subHeader:o}){const[s,l]=d.useState([]),c=U();let u=e,f;for(const y of s)f=u.find(x=>x.id===y),u=f?.sub_reasons??[];const p=f!=null&&i.jsx("div",{className:"mb-2 flex gap-1 text-sm",children:i.jsxs("button",{onClick:()=>{l(y=>y.slice(0,-1))},className:"flex items-center gap-2 p-1",children:[i.jsx(_9,{className:"icon-sm"}),i.jsx("div",{children:f.cta})]})}),m=f?.subtext!=null&&i.jsx("div",{className:"text-sm text-token-text-secondary",children:f.subtext}),g=c.formatMessage({id:"report.submittedModal.header",defaultMessage:"Report submitted"}),h=c.formatMessage({id:"report.submittedModal.subHeader",defaultMessage:"You report has been submitted. Thank you for letting us know about this issue."});let v;return t.isSuccess?v=i.jsx(Eo,{header:g,subHeader:h}):f?.details_placeholder!=null?v=i.jsxs(i.Fragment,{children:[i.jsx(Eo,{header:a,subHeader:o}),p,i.jsx(VMe,{reason:f,submitReport:t})]}):f?.link_attachment!=null?v=i.jsxs(i.Fragment,{children:[i.jsx(Eo,{header:a,subHeader:o}),p,i.jsx(GMe,{reason:f}),m]}):u.length>0?v=i.jsxs(i.Fragment,{children:[i.jsx(Eo,{header:a,subHeader:o}),p,u.length>0&&i.jsx(HMe,{reasons:u,onSelectReason:async y=>{IMe(y)?t.mutateAsync({reason:{id:y.id}}):l(x=>[...x,y.id])}}),m]}):f?.subtext!=null?v=i.jsxs(i.Fragment,{children:[i.jsx(Eo,{header:a,subHeader:o}),p,i.jsx("div",{className:"text-sm",children:f?.subtext})]}):(te.addError("Reporting: arrived at empty leaf reason",f),v=i.jsx(Eo,{header:g,subHeader:h})),i.jsx(Te,{title:n,onClose:r,isOpen:!0,showCloseButton:!0,type:"success",children:v})}function GRe({serverThreadId:e,clientThreadId:t,isStaticSharedThread:n,isDynamicSharedThread:r}){const a=d4(et.ReportConversation),o=$t("2935021756")?.value,s=ct("3376455464")?.value||n||r,l=HC(t);let c=e??l;const u=d.useContext(mI);c==null&&u!=null&&(c=u.serverSharedThreadId??void 0),o&&typeof window<"u"&&(window._convo_share_debug={isOpen:a,canReport:s,serverThreadIdIsNull:c==null,isStaticSharedThread:n,isDynamicSharedThread:r});const f=U(),p=Ne();return d.useEffect(()=>{c==null&&a&&s&&(p.danger(f.formatMessage({id:"gizmo.report.conversationModal.emptyConversationError",defaultMessage:"Empty conversations cannot be reported"})),Re.closeModal(et.ReportConversation))},[c,a,s,f,p]),!a||!s||c==null?(a&&z.logEvent("chatgpt_conversation_share_report_modal_not_shown",s?"serverThreadId":"canReport"),null):i.jsx(zMe,{serverThreadId:c,onClose:()=>Re.closeModal(et.ReportConversation),isStaticSharedThread:n,isDynamicSharedThread:r})}function zMe({serverThreadId:e,onClose:t,isStaticSharedThread:n,isDynamicSharedThread:r}){const{data:a}=RMe(n||r?Fl.ShareableConversation:Fl.Conversation),o=U(),s=jMe(o,e,n||r?Fl.ShareableConversation:Fl.Conversation);return a==null||e==null?(z.logEvent("chatgpt_conversation_share_report_modal_not_shown",a==null?"report_reasons":"thread_id"),null):i.jsx(WMe,{reasons:a.reasons,submitReport:s,title:o.formatMessage({id:"gizmo.report.conversationModal.title",defaultMessage:"Report a conversation"}),onClose:t,header:a.header,subHeader:a.header_explanation})}function qMe(e,t){const n=os(e),r=F.getTitle(e);return t&&t.kind===Oe.GizmoInteraction&&t.gizmo?n?`ChatGPT - ${t.gizmo.gizmo.display.name}`:r&&`${t.gizmo.gizmo.display.name} - ${r}`:n?"ChatGPT":r}function WRe(e){const t=G5(e);return d.useMemo(()=>qMe(e,t),[e,t])}const zRe=60*60*24*30;function ZMe(e){return e.author.metadata?.real_author===gI.ToolWeb}function qRe(e,t){returnwindow.location.origin+`/search/evals/permalink/${e}/${t}`}function ZRe(e){return qi(e.flatMap(t=>t.type==="image_v2"?t.images:[]))}function YMe(e,t){const n={};return e.forEach(r=>{t?r.type==="grouped_webpages_v2"&&r.items.forEach(a=>{if(!a.url)return;const o=n[a.url];o?"attribution_segments"in a&&"attribution_segments"in o&&(n[a.url]={...o,attribution_segments:[...o.attribution_segments??[],...a.attribution_segments??[]]}):n[a.url]={...a}}):r.type==="webpage"||r.type==="webpage_extended"?r.url&&!n[r.url]&&(n[r.url]=r):r.type==="grouped_webpages"&&r.items.forEach(a=>{a.url&&!n[a.url]&&(n[a.url]=a)}),r.type==="businesses_map"&&Object.values(r.cite_map).forEach(a=>{a&&a.url&&(n[a.url]||(n[a.url]=a))})}),Object.values(n)}const YRe=(e,t,n)=>{const{turnIndex:r,clientThreadId:a,scrollToHeader:o,messageId:s}=j1("searchSources")??{},l=hI(),c=Yi()&&l?.type==="searchSources",u=KMe(t,n),f=u!=null,{openThreadSidebar:p,closeThreadSidebar:m}=la();d.useEffect(()=>{if(c){const g=u?.message.id,h=e-1,v=t!==a,y=h>(r??-1),x=h==r&&!v&&g!=s;f&&g&&y&&(!v||v&&a===KC)?p({type:"searchSources",clientThreadId:t,turnIndex:h,messageId:g,scrollToHeader:o}):!v&&x&&!f&&e&&m({clientThreadId:t})}},[e,f,t])},KMe=(e,t)=>{const r=vI(e,t)?.messages.find(o=>ZMe(o.message)),a=gde();if(r){const s=yI(r?.message).length,l=CI(r?.message),c=YMe(l,a).length;return s||c?r:null}return null},N8=({label:e,value:t,onCopied:n})=>{const r=Ne(),a=o=>{wl(t,r,o),n()};return i.jsxs("div",{className:"flex flex-col space-y-2",children:[e!==void 0&&i.jsx("label",{className:"font-semibold",children:e}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{onClick:a,className:"w-full cursor-pointer break-all rounded-lg bg-token-main-surface-tertiary px-4 py-2 font-mono text-sm text-token-text-primary",children:t}),i.jsx(re,{color:"ghost",onClick:a,icon:u4})]})]})},E9=d.createContext({rootBordered:!1});function QMe({children:e}){return i.jsx("thead",{children:i.jsx("tr",{children:e})})}function JMe({textAlign:e="left",children:t,className:n=""}){const{rootBordered:r}=d.useContext(E9);return i.jsx("th",{className:P("text-token sticky top-0 z-10 border-b-[0.5px] border-token-border-medium bg-token-main-surface-primary py-2 font-semibold",r?"px-3":"pr-4 last:pr-0",e==="left"?"text-left":e==="right"?"text-right":"text-center",n),children:t})}function XMe({children:e,...t}){return i.jsx("tbody",{...t,children:e})}const eTe=d.forwardRef(function({children:t,disabled:n=!1,onClick:r,className:a},o){return i.jsx("tr",{ref:o,...n?{"data-disabled":!0}:{},className:P(n?"pointer-events-none":"",a),onClick:r,children:t})});function tTe({textAlign:e="left",children:t,className:n,divClassName:r="min-h-[40px] items-center",colSpan:a}){const{rootBordered:o}=d.useContext(E9);return i.jsx("td",{className:P("border-b-[0.5px] border-token-border-medium align-top",o?"px-3":"pr-4 last:pr-0 [tr:last-child_&]:border-b-0",e&&"text-"+e,n),colSpan:a,children:i.jsx("div",{className:P("flex [tr[data-disabled=true]_&]:opacity-50",e==="right"&&"justify-end",e==="center"&&"justify-center",r),children:t})})}function nTe({children:e}){return i.jsx("div",{className:"text-md flex items-center justify-end gap-2",children:e})}function rTe({children:e,fixed:t=!1,className:n,size:r="normal",bordered:a=!1}){const o=d.useRef(null),s=d.useRef(null),[l,c]=d.useState(!1);return d.useEffect(()=>{const u=o.current,f=s.current;if(u&&f){const p=new ResizeObserver(()=>{c(f.scrollHeight>u.clientHeight)});return p.observe(u),()=>p.disconnect()}},[]),i.jsx(E9.Provider,{value:{rootBordered:a},children:i.jsx("div",{className:P("overflow-y-auto text-token-text-primary",a&&"rounded-lg border border-token-border-light",r==="normal"?"text-base":"text-sm",l&&"pr-1",n),ref:o,children:i.jsx("table",{className:P("w-full border-separate border-spacing-0",t&&"table-fixed"),ref:s,children:e})})})}const aTe={Root:rTe,Header:QMe,HeaderCell:JMe,Body:XMe,Row:eTe,Cell:tTe,Actions:nTe},_a=aTe;function wP(e,t){return ye({queryKey:["workspace/identity",e],queryFn:async()=>{if(e!==void 0)return await q.getWorkspaceIdentitySettings(e)},enabled:t})}function KRe(){const e=Pn(aa.workspaceId),{data:t}=wP(e??void 0,e!=null);return t?.allow_external_domain_invites}function QRe(){const e=Pn(aa.workspaceId),{data:t}=wP(e??void 0,e!=null);return d.useMemo(()=>t?.domains&&t?.domains.filter(n=>n.status==="verified"),[t?.domains])}function JRe(e){const t=U(),n=Ne();return Ve({mutationFn:({shouldAutoProvision:r})=>q.setWorkspaceShouldAutoProvision(e,r).then(a=>{const o=r?l1.autoProvisionEnabledToast:l1.autoProvisionDisabledToast;return n.success(t.formatMessage(o),{duration:3}),a}).catch(a=>{throw n.danger(a.message),a})})}function XRe(e){const t=U(),n=Ne();return Ve({mutationFn:async({shouldAllowExternalDomainInvites:r})=>{try{const a=await q.setWorkspaceShouldDisableExternalDomainInvites(e,r),o=r?l1.allowExternalDomainInvitesToast:l1.disableExternalDomainInvitesToast;return n.success(t.formatMessage(o),{duration:3}),a}catch(a){throw n.danger(a.message),a}}})}function _P(e){const t=be();return Ve({mutationFn:({domainId:n})=>q.removeDomainFromWorkspace(e,n),onSuccess:()=>{t.refetchQueries({queryKey:["workspace/identity",e]}),t.refetchQueries({queryKey:["builderProfile"]})}})}function SP(e){let t=e;return t.startsWith("-----BEGIN")||(t=`-----BEGIN CERTIFICATE-----
${t}`),t.endsWith("CERTIFICATE-----")||(t=`${t}
-----END CERTIFICATE-----`),t}function eLe(e){const t=be();return Ve({mutationFn:({signInEndpoint:n,cert:r})=>q.createSAMLConnection(e,n,SP(r)),onSuccess:()=>{t.refetchQueries({queryKey:["workspace/identity",e]})}})}function tLe(e){const t=be();return Ve({mutationFn:({connectionId:n,signInEndpoint:r,cert:a,active:o,enforcedClients:s})=>q.updateSAMLConnection(e,n,{signInEndpoint:r,cert:a!==void 0?SP(a):void 0,active:o,enforcedClients:s}),onSuccess:()=>{t.refetchQueries({queryKey:["workspace/identity",e]})}})}function nLe(e){const t=be();return Ve({mutationFn:({connectionId:n})=>q.deleteSAMLConnection(e,n),onSuccess:()=>{t.refetchQueries({queryKey:["workspace/identity",e]})}})}const rLe=he.div`text-md mb-4 text-token-text-secondary`,aLe={[Do.VERIFIED]:oi({id:"i7FkyS",defaultMessage:"Verified"}),[Do.PENDING]:oi({id:"THBv/l",defaultMessage:"Pending"}),[Do.EXPIRED]:oi({id:"+sjWGK",defaultMessage:"Expired"})},l1=V({autoProvisionEnabledToast:{id:"workspaceIdentity.autoProvisionEnabledToast",defaultMessage:"Auto provisioning enabled for this workspace"},autoProvisionDisabledToast:{id:"workspaceIdentity.autoProvisionDisabledToast",defaultMessage:"Auto provisioning disabled for this workspace"},allowExternalDomainInvitesToast:{id:"j0jI/4",defaultMessage:"External domain invites are allowed for this workspace"},disableExternalDomainInvitesToast:{id:"67yB97",defaultMessage:"External domain invites are disabled for this workspace"}});function oTe(e){const t=be(),n=Ne();return Ve({mutationFn:({hostname:r})=>q.addDomainToWorkspace(e,r),onSuccess:()=>{t.invalidateQueries({queryKey:["workspace/identity",e]}),t.invalidateQueries({queryKey:["builderProfile"]})},onError:r=>{n.danger(r.message)}})}function sTe(e){const t=be(),n=Ne();return Ve({mutationFn:({domainId:r})=>q.checkDomainForWorkspace(e,r),onSuccess:()=>{t.invalidateQueries({queryKey:["workspace/identity",e]}),t.invalidateQueries({queryKey:["builderProfile"]})},onError:r=>{n.danger(r.message)}})}function iTe({workspaceId:e,isOpen:t,onClose:n,currentDomain:r,domains:a=[],showUnverifiedDomains:o=!1,onVerifyDomain:s}){const l=U(),c=Ne(),{mutateAsync:u,isPending:f}=oTe(e),{mutateAsync:p,isPending:m}=sTe(e),[g,h]=d.useState(r??void 0),[v,y]=d.useState(r?.hostname),[x,C]=d.useState(r?.status===void 0?0:r?.status===Do.PENDING?1:2),w=()=>{r||(h(void 0),C(0))},_=async()=>{if(v===void 0)return;const A=a.find(D=>D.hostname===v&&D.status===Do.PENDING);if(A)h(A),C(1);else{const D=await u({hostname:v});"id"in D&&h(D),C(1)}},E=i.jsx(Ye.Button,{title:l.formatMessage(Ht.check),color:"primary",disabled:g?.id===void 0||m,onClick:async()=>{if(g?.id){const A=await p({domainId:g.id});"error"in A&&c.danger(l.formatMessage(Ht.domainCheckError,{message:A.error.message})),"id"in A&&(s&&s(A),A.status===Do.VERIFIED&&C(2))}}}),T=i.jsx(Ye.Button,{title:l.formatMessage(Ht.submit),color:"primary",disabled:v===void 0||f,onClick:_}),M=i.jsx(Ye.Button,{title:l.formatMessage(Ht.done),color:"primary",onClick:()=>{w(),n()}});return i.jsxs(Te,{isOpen:t,onClose:()=>{w(),n()},type:"success",className:"text-token-text-secondary",title:l.formatMessage(x===0?Ht.newTitle:Ht.editTitle),primaryButton:x===0?T:x===1?E:M,secondaryButton:i.jsx(Ye.Button,{title:l.formatMessage(Ht.cancel),color:"secondary",onClick:()=>{w(),n()}}),children:[x===0&&i.jsx(cTe,{hostname:v,onSetHostname:y,onSubmit:_,unverifiedDomains:o?a:[],onVerifyDomain:A=>{C(1),h(A)},workspaceId:e}),x===1&&i.jsxs("div",{className:"flex flex-col gap-3",children:[l.formatMessage(Ht.verificationTokenMessage,{hostname:g?.hostname}),g?.dns_verification_token_string&&i.jsx(N8,{value:g.dns_verification_token_string,onCopied:()=>{c.success(l.formatMessage(Ht.copiedTXTRecordToClipboard),{duration:3})}}),i.jsx(b,{...Ht.verificationTokenFooter})]}),x===2&&i.jsxs("div",{className:"flex flex-col gap-3",children:[i.jsx(b,{...Ht.successfulVerification,values:{hostname:g?.hostname}}),g?.dns_verification_token_string&&i.jsx(N8,{value:g.dns_verification_token_string,onCopied:()=>{c.success(l.formatMessage(Ht.copiedTXTRecordToClipboard),{duration:3})}})]})]})}function lTe({unverifiedDomains:e,onVerifyDomain:t,workspaceId:n}){const{mutateAsync:r}=_P(n);return i.jsxs(_a.Root,{fixed:!0,size:"compact",className:"mb-6 border-b border-token-border-light",children:[i.jsxs(_a.Header,{children:[i.jsx(_a.HeaderCell,{children:i.jsx(b,{...Ht.unverifiedDomainsTableHeader})}),i.jsx(_a.HeaderCell,{textAlign:"right"})]}),e.map(a=>i.jsxs(_a.Row,{children:[i.jsx(_a.Cell,{children:a.hostname}),i.jsx(_a.Cell,{textAlign:"right",children:i.jsxs("div",{className:"flex gap-2",children:[i.jsx(re,{color:"secondary",size:"small",onClick:()=>t(a),children:i.jsx(b,{...Ht.verifyDomainButton})}),i.jsx(re,{color:"secondary",size:"small",onClick:()=>r({domainId:a.id}),icon:hl})]})})]},a.id))]})}function cTe({hostname:e,onSetHostname:t,onSubmit:n,unverifiedDomains:r,onVerifyDomain:a,workspaceId:o}){const s=U();return i.jsxs(i.Fragment,{children:[r&&r.length>0&&i.jsx(lTe,{workspaceId:o,unverifiedDomains:r,onVerifyDomain:a}),i.jsx("form",{onSubmit:l=>{l.preventDefault(),n()},children:i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{htmlFor:"hostname",className:"mb-2 flex items-center text-sm font-semibold",children:i.jsx(b,{...Ht.domainInput})}),i.jsx(Z2,{ariaLabel:!1,name:"hostname",placeholder:s.formatMessage(Ht.placeholder),value:e??"",onChange:l=>{t(l.target.value)}})]})})]})}const Ht=V({newTitle:{id:"domainModal.newTitle.0",defaultMessage:"Verify a new domain"},editTitle:{id:"domainModal.editTitle",defaultMessage:"Manage Domain"},submit:{id:"domainModal.submit",defaultMessage:"Submit"},check:{id:"domainModal.check",defaultMessage:"Check"},done:{id:"domainModal.done",defaultMessage:"Done"},cancel:{id:"domainModal.cancel",defaultMessage:"Cancel"},domainInput:{id:"domainModal.domainInput.0",defaultMessage:"Add a new domain"},placeholder:{id:"domainModal.placeholder",defaultMessage:"openai.com"},domainCheckError:{id:"domainModal.domainCheckError",defaultMessage:"Your domain could not be verified: {message}"},verificationTokenMessage:{id:"domainModal.verificationTokenMessage",defaultMessage:"To verify ownership of {hostname}, navigate to your DNS provider and add a TXT record with this value:"},verificationTokenFooter:{id:"domainModal.verificationTokenFooter",defaultMessage:"Then, check the record to complete the verification."},successfulVerification:{id:"domainModal.successfulVerification.0",defaultMessage:'Your domain, "{hostname}" has been successfully verified'},copiedTXTRecordToClipboard:{id:"domainModal.copiedTXTRecordToClipboard",defaultMessage:"Copied DNS TXT record to clipboard"},verifyDomainButton:{id:"domainModal.verifyDomainButton",defaultMessage:"Verify"},unverifiedDomainsTableHeader:{id:"domainModal.unverifiedDomainsTableHeader",defaultMessage:"Your unverified domains"}}),uTe=e=>d.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},d.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.29289 8.29289C4.68342 7.90237 5.31658 7.90237 5.70711 8.29289L12 14.5858L18.2929 8.29289C18.6834 7.90237 19.3166 7.90237 19.7071 8.29289C20.0976 8.68342 20.0976 9.31658 19.7071 9.70711L12.7071 16.7071C12.3166 17.0976 11.6834 17.0976 11.2929 16.7071L4.29289 9.70711C3.90237 9.31658 3.90237 8.68342 4.29289 8.29289Z",fill:"currentColor"})),MP=e=>d.createElement("svg",{width:14,height:14,viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},d.createElement("path",{d:"M7.00016 0.300537C10.6835 0.300537 13.6668 3.28387 13.6668 6.9672C13.6665 8.36404 13.2281 9.72559 12.4134 10.8602C11.5986 11.9948 10.4486 12.8454 9.12516 13.2922C8.79183 13.3589 8.66683 13.1505 8.66683 12.9755C8.66683 12.7505 8.67516 12.0339 8.67516 11.1422C8.67516 10.5172 8.46683 10.1172 8.22516 9.90887C9.7085 9.7422 11.2668 9.17554 11.2668 6.6172C11.2668 5.88387 11.0085 5.2922 10.5835 4.82554C10.6502 4.65887 10.8835 3.97554 10.5168 3.05887C10.5168 3.05887 9.9585 2.87554 8.6835 3.7422C8.15016 3.5922 7.5835 3.5172 7.01683 3.5172C6.45016 3.5172 5.8835 3.5922 5.35016 3.7422C4.07516 2.88387 3.51683 3.05887 3.51683 3.05887C3.15016 3.97554 3.3835 4.65887 3.45016 4.82554C3.02516 5.2922 2.76683 5.8922 2.76683 6.6172C2.76683 9.1672 4.31683 9.7422 5.80016 9.90887C5.6085 10.0755 5.4335 10.3672 5.37516 10.8005C4.99183 10.9755 4.0335 11.2589 3.4335 10.2505C3.3085 10.0505 2.9335 9.55887 2.4085 9.5672C1.85016 9.57554 2.1835 9.88387 2.41683 10.0089C2.70016 10.1672 3.02516 10.7589 3.10016 10.9505C3.2335 11.3255 3.66683 12.0422 5.34183 11.7339C5.34183 12.2922 5.35016 12.8172 5.35016 12.9755C5.35016 13.1505 5.22516 13.3505 4.89183 13.2922C3.56403 12.8502 2.40911 12.0014 1.5909 10.8661C0.772702 9.73076 0.332762 8.36663 0.333497 6.9672C0.333497 3.28387 3.31683 0.300537 7.00016 0.300537Z",fill:"currentColor"})),TP=e=>d.createElement("svg",{width:12,height:12,viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},d.createElement("path",{d:"M11.1 0H0.9C0.661305 0 0.432387 0.0948212 0.263604 0.263604C0.0948212 0.432387 0 0.661305 0 0.9V11.1C0 11.3387 0.0948212 11.5676 0.263604 11.7364C0.432387 11.9052 0.661305 12 0.9 12H11.1C11.3387 12 11.5676 11.9052 11.7364 11.7364C11.9052 11.5676 12 11.3387 12 11.1V0.9C12 0.661305 11.9052 0.432387 11.7364 0.263604C11.5676 0.0948212 11.3387 0 11.1 0ZM3.6 10.2H1.8V4.8H3.6V10.2ZM2.7 3.75C2.49371 3.7441 2.29373 3.67755 2.12505 3.55865C1.95637 3.43974 1.82647 3.27377 1.75158 3.08147C1.67669 2.88916 1.66012 2.67905 1.70396 2.47738C1.7478 2.27572 1.8501 2.09144 1.99807 1.94758C2.14604 1.80372 2.33312 1.70666 2.53594 1.66852C2.73876 1.63038 2.94832 1.65285 3.13844 1.73313C3.32856 1.8134 3.49081 1.94793 3.60491 2.11989C3.71902 2.29185 3.77992 2.49363 3.78 2.7C3.77526 2.98221 3.659 3.25107 3.45663 3.44782C3.25426 3.64457 2.98223 3.75321 2.7 3.75ZM10.2 10.2H8.4V7.356C8.4 6.504 8.04 6.198 7.572 6.198C7.43479 6.20714 7.30073 6.24329 7.17753 6.30439C7.05433 6.36548 6.94441 6.45032 6.85409 6.55402C6.76377 6.65771 6.69483 6.77824 6.65123 6.90866C6.60762 7.03908 6.59021 7.17683 6.6 7.314C6.59702 7.34192 6.59702 7.37008 6.6 7.398V10.2H4.8V4.8H6.54V5.58C6.71552 5.313 6.95666 5.09554 7.24031 4.94846C7.52397 4.80138 7.84065 4.7296 8.16 4.74C9.09 4.74 10.176 5.256 10.176 6.936L10.2 10.2Z",fill:"currentColor"})),EP=e=>d.createElement("svg",{width:14,height:12,viewBox:"0 0 14 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},d.createElement("path",{d:"M10.8187 0H12.8544L8.40697 5.08308L13.639 12H9.54236L6.33374 7.80492L2.66236 12H0.625435L5.38236 6.56308L0.363281 0H4.5639L7.4642 3.83446L10.8187 0ZM10.1042 10.7815H11.2322L3.95097 1.15446H2.74051L10.1042 10.7815Z",fill:"currentColor"})),dTe="#settings/BuilderProfile";function oLe({selectedDomain:e,verifiedDomains:t,domains:n,onChangeDomain:r}){const[a,o]=d.useState(!1),s=t.length>0,l=Se()?.id,c=Se()?.isEnterprisey(),{mutateAsync:u}=_P(l);return i.jsxs("div",{className:"font-normal",children:[i.jsxs(ce.Root,{children:[i.jsx(xI,{children:i.jsxs("span",{className:"flex items-center gap-2 py-2",children:[e??i.jsx(b,{...Y2.selectADomain}),i.jsx(uTe,{className:"icon-md"})]})}),i.jsx(ce.Portal,{children:i.jsxs(ce.Content,{children:[i.jsx(ce.RadioGroup,{value:e,onValueChange:f=>{f!==e&&r(f)},children:t.map(({id:f,hostname:p})=>i.jsx(ce.RadioItem,{value:p,children:i.jsxs("div",{className:"flex flex-row",children:[i.jsx("span",{children:p}),i.jsx("span",{onClick:()=>{u({domainId:f}),r("")},children:i.jsx(hl,{className:"icon-sm fixed right-4"})})]})},f))}),s&&i.jsx(ce.Separator,{}),i.jsx(ce.Item,{onClick:()=>{o(!0)},icon:m4,children:i.jsx(b,{...Y2.addDomain})})]})})]}),l&&!c&&i.jsx(iTe,{domains:n,isOpen:a,onClose:()=>o(!1),workspaceId:l,showUnverifiedDomains:!0,onVerifyDomain:f=>{r(f.hostname)}})]})}function fTe(){const e=be();return Ve({mutationFn:({verifierType:t})=>tt.unverifySocialAuth(t),onSuccess:()=>{e.refetchQueries({queryKey:["builderProfile"]})}})}function pTe({socialData:e}){const{type:t,display_name:n,verified_data:r}=e,a=t==="twitter"?EP:t==="linkedin"?TP:t==="github"?MP:null;return a?i.jsxs("div",{className:"flex w-full flex-row items-center justify-between",children:[i.jsxs("div",{className:"flex flex-row items-center space-x-2 text-token-text-primary",children:[a({className:"icon-md"}),i.jsx("span",{children:n})]}),r?.link_to&&i.jsx("a",{target:"_blank",rel:"noopener noreferrer",href:r.link_to,className:"text-sm text-token-text-tertiary hover:cursor-pointer",children:i.jsx(Da,{className:"icon-sm"})})]}):null}function sLe({socialData:e,icon:t}){const{id:n,type:r,display_name:a,verified:o,verified_data:s}=e,[l,c]=d.useState(!1),u=fTe();return i.jsxs("div",{className:"flex flex-row items-center justify-between space-y-1",children:[i.jsxs("div",{className:P("flex items-center space-x-2"),children:[i.jsx(t,{className:"icon-sm"}),i.jsx("span",{children:a}),o&&s?.username&&i.jsx("a",{target:"_blank",rel:"noopener noreferrer",href:s.link_to,className:"text-sm text-token-text-tertiary hover:cursor-pointer",children:s?.username})]}),o?i.jsx("div",{className:"py-1 font-semibold hover:cursor-pointer",onClick:()=>{u.mutate({verifierType:r})},children:u.isPending?i.jsx(yn,{}):i.jsx(ls,{className:"icon-sm text-token-text-tertiary"})}):i.jsx(re,{size:"small",color:"secondary",loading:l,onClick:async()=>{c(!0),await iCe({id:n},dTe),c(!1)},children:i.jsx(b,{...Y2.verify})})]})}const Y2=V({verify:{defaultMessage:"Add",id:"GizmoSocialRow.add"},addDomain:{id:"GizmoSocialRow.addDomain",defaultMessage:"Verify new domain"},selectADomain:{id:"GizmoSocialRow.selectADomain",defaultMessage:"Select a domain"}}),kP=e=>d.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},d.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM11.9851 4.00291C11.9744 4.00615 11.953 4.01416 11.921 4.03356C11.7908 4.11248 11.5742 4.32444 11.325 4.77696C11.0839 5.21453 10.8521 5.8046 10.6514 6.53263C10.3148 7.75315 10.0844 9.29169 10.019 11H13.981C13.9156 9.29169 13.6852 7.75315 13.3486 6.53263C13.1479 5.8046 12.9161 5.21453 12.675 4.77696C12.4258 4.32444 12.2092 4.11248 12.079 4.03356C12.047 4.01416 12.0256 4.00615 12.0149 4.00291C12.0067 4.00046 12.001 4.00006 11.9996 4C11.9982 4.00006 11.9933 4.00046 11.9851 4.00291ZM8.01766 11C8.08396 9.13314 8.33431 7.41167 8.72334 6.00094C8.87366 5.45584 9.04762 4.94639 9.24523 4.48694C6.48462 5.49946 4.43722 7.9901 4.06189 11H8.01766ZM4.06189 13H8.01766C8.09487 15.1737 8.42177 17.1555 8.93 18.6802C9.02641 18.9694 9.13134 19.2483 9.24522 19.5131C6.48461 18.5005 4.43722 16.0099 4.06189 13ZM10.019 13C10.0955 14.9972 10.3973 16.7574 10.8274 18.0477C11.0794 18.8038 11.3575 19.3436 11.6177 19.6737C11.7455 19.8359 11.8494 19.9225 11.9186 19.9649C11.9515 19.9852 11.9736 19.9935 11.9847 19.9969C11.9948 20 11.9999 20 11.9999 20C11.9999 20 12.0049 20.0001 12.0153 19.9969C12.0264 19.9935 12.0485 19.9852 12.0814 19.9649C12.1506 19.9225 12.2545 19.8359 12.3823 19.6737C12.6425 19.3436 12.9206 18.8038 13.1726 18.0477C13.6027 16.7574 13.9045 14.9972 13.981 13H10.019ZM15.9823 13C15.9051 15.1737 15.5782 17.1555 15.07 18.6802C14.9736 18.9694 14.8687 19.2483 14.7548 19.5131C17.5154 18.5005 19.5628 16.0099 19.9381 13H15.9823ZM19.9381 11C19.5628 7.99009 17.5154 5.49946 14.7548 4.48694C14.9524 4.94639 15.1263 5.45584 15.2767 6.00094C15.6657 7.41167 15.916 9.13314 15.9823 11H19.9381Z",fill:"currentColor"})),mTe=he.div`text-sm text-token-text-tertiary`,gTe="community builder";function hTe(e){const[t,n]=d.useState(e),r=d.useRef(null),a=(o,s)=>{r.current&&clearTimeout(r.current),r.current=setTimeout(()=>{n(o),r.current=null},s)};return d.useEffect(()=>()=>{r.current&&clearTimeout(r.current)},[]),[t,a]}function vTe(e){return"gizmo"in e}function iLe({gizmo:e,builderName:t,builderUrl:n,className:r,socials:a,hideLink:o=!1}){const{value:s}=ct("2256850471");let l,c;e&&vTe(e)?(l=e.gizmo.author.display_name,c=e.gizmo.author.link_to):(l=t,c=n),(l===""||l==null)&&(l=gTe);const u=a?.filter(p=>p.verified),f=i.jsxs("div",{className:"w-48 space-y-4 text-sm",children:[c&&i.jsxs("div",{className:"flex w-full flex-row items-center justify-between",children:[i.jsxs("div",{className:"flex flex-row items-center space-x-2 text-token-text-primary",children:[i.jsx(kP,{className:"icon-md"}),i.jsx("span",{children:i.jsx(b,{id:"gizmo.author.websiteLabel",defaultMessage:"Website"})})]}),i.jsx("a",{target:"_blank",rel:"noopener noreferrer",href:c,className:"text-token-text-tertiary hover:cursor-pointer",children:i.jsx(Da,{className:"icon-sm"})})]}),s&&u?.map((p,m)=>p.verified?i.jsx(pTe,{socialData:p},m):null),i.jsxs("div",{className:"text-xs text-token-text-tertiary",children:[(c||u&&u.length>0)&&i.jsx("hr",{className:"my-2 border-token-border-light"}),i.jsx(b,{id:"gizmo.author.cannotViewLabel",defaultMessage:"The builder of this GPT cannot view your conversations."})]})]});return i.jsxs("div",{className:"flex flex-row items-center space-x-1",children:[i.jsx(mTe,{className:r,children:i.jsx(b,{id:"gizmo.author.byLabel",defaultMessage:"By {displayName}",values:{displayName:l}})}),!o&&i.jsx(yTe,{socials:a,website:c,children:f})]})}function yTe({website:e,socials:t,children:n}){const[r,a]=hTe(!1);let o=[];e&&o.push(i.jsx(kP,{className:"icon-xs text-token-text-secondary"})),t&&t.forEach(l=>{l.verified&&(l.type==="twitter"?o.push(i.jsx(EP,{className:"icon-xs text-token-text-secondary"})):l.type==="linkedin"?o.push(i.jsx(TP,{className:"icon-xs text-token-text-secondary"})):l.type==="github"&&o.push(i.jsx(MP,{className:"icon-xs text-token-text-secondary"})))});const s=o.length-2;return o=o.slice(0,2),s>0&&o.push(i.jsxs("span",{className:"text-xs font-semibold text-token-text-secondary",children:["+",s]},"overflow")),i.jsx(H5,{open:r,onOpenChange:l=>a(l,0),children:i.jsxs("div",{onPointerLeave:()=>a(!1,300),children:[i.jsx(Zu,{asChild:!0,children:i.jsx("div",{onPointerEnter:()=>a(!0,0),children:o.length>0?i.jsx("div",{className:"flex items-center gap-1 rounded-xl bg-token-main-surface-secondary px-2 py-1",children:o}):i.jsx(D5,{className:"icon-xs text-token-text-secondary"})})}),i.jsx(V5,{side:"top",sideOffset:8,align:"center",className:"z-10 rounded-lg bg-token-main-surface-primary p-4 drop-shadow-md",children:i.jsx("div",{onPointerEnter:()=>a(!0,0),children:n})})]})})}function lLe(e){const t=lr();return!Se()?.isWorkspaceAccount()||(t?.includes(e)??!1)}const CTe=({inMobileHeader:e=!1,children:t,onDismiss:n})=>{const{config:r,isLoading:a}=Ch("743318407"),o=r.get("show_nux",!1),s=!a&&o;return i.jsx(If,{announcementKey:Ee.hasSeenCanvasDropdownNux,side:"bottom",align:e?"center":"start",sideOffset:0,show:s,title:i.jsx(b,{...q0.title}),description:i.jsxs("span",{children:[i.jsx(b,{...q0.description}),i.jsx(nb,{type:"neutral",openNewTab:!0,href:"https://openai.com/index/introducing-canvas/",className:"ml-1",children:i.jsx(b,{...q0.link})})]}),onDismiss:n,theme:"bright",children:t})},cLe=({inMobileHeader:e=!1,children:t})=>{const{isLoading:n,eligible:r,markAsViewed:a}=ke(Ee.hasSeenCanvasDropdownNux),{store:o}=o9(),s=o.useHasAnnouncementInHeader();return n||!r||s?i.jsx(i.Fragment,{children:t}):i.jsx(CTe,{inMobileHeader:e,onDismiss:a,children:t})},q0=V({title:{id:"Sh/ho6",defaultMessage:"You've got access to canvas"},description:{id:"6JEoci",defaultMessage:"Collaborate with ChatGPT to write and code in a dedicated space."},link:{id:"GtDcBu",defaultMessage:"Learn more"}}),uLe=e=>d.createElement("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},d.createElement("g",null,d.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.0337 7.74408C14.7082 7.41864 14.1806 7.41864 13.8552 7.74408L9.99998 11.5993L6.14479 7.74408C5.81935 7.41864 5.29171 7.41864 4.96628 7.74408C4.64084 8.06951 4.64084 8.59715 4.96628 8.92259L9.41072 13.367C9.73616 13.6925 10.2638 13.6925 10.5892 13.367L15.0337 8.92259C15.3591 8.59715 15.3591 8.06951 15.0337 7.74408Z",fill:"currentColor"}))),dLe=e=>d.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},d.createElement("path",{d:"M15.11 14.285a.41.41 0 0 1 .78 0c.51 2.865.96 3.315 3.825 3.826.38.12.38.658 0 .778-2.865.511-3.315.961-3.826 3.826a.408.408 0 0 1-.778 0c-.511-2.865-.961-3.315-3.826-3.826a.408.408 0 0 1 0-.778c2.865-.511 3.315-.961 3.826-3.826Zm2.457-12.968a.454.454 0 0 1 .866 0C19 4.5 19.5 5 22.683 5.567a.454.454 0 0 1 0 .866C19.5 7 19 7.5 18.433 10.683a.454.454 0 0 1-.866 0C17 7.5 16.5 7 13.317 6.433a.454.454 0 0 1 0-.866C16.5 5 17 4.5 17.567 1.317Z",fill:"currentColor"}),d.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.001 4a1 1 0 0 1 .993.887c.192 1.7.701 2.877 1.476 3.665.768.783 1.913 1.3 3.618 1.452a1 1 0 0 1-.002 1.992c-1.675.145-2.849.662-3.638 1.452-.79.79-1.307 1.963-1.452 3.638a1 1 0 0 1-1.992.003c-.152-1.706-.67-2.851-1.452-3.62-.788-.774-1.965-1.283-3.665-1.475a1 1 0 0 1-.002-1.987c1.73-.2 2.878-.709 3.646-1.476.767-.768 1.276-1.916 1.476-3.646A1 1 0 0 1 7 4Zm-2.472 6.998a6.11 6.11 0 0 1 2.468 2.412 6.232 6.232 0 0 1 1.037-1.376 6.232 6.232 0 0 1 1.376-1.036 6.114 6.114 0 0 1-2.412-2.469 6.163 6.163 0 0 1-1.053 1.416 6.163 6.163 0 0 1-1.416 1.053Z",fill:"currentColor"})),fLe=e=>d.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},d.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 7.42a22.323 22.323 0 0 0-2.453 2.127A22.323 22.323 0 0 0 7.42 12a22.32 22.32 0 0 0 2.127 2.453c.807.808 1.636 1.52 2.453 2.128a22.335 22.335 0 0 0 2.453-2.128A22.322 22.322 0 0 0 16.58 12a22.326 22.326 0 0 0-2.127-2.453A22.32 22.32 0 0 0 12 7.42Zm1.751-1.154a24.715 24.715 0 0 1 2.104 1.88 24.722 24.722 0 0 1 1.88 2.103c.316-.55.576-1.085.779-1.59.35-.878.507-1.625.503-2.206-.003-.574-.16-.913-.358-1.111-.199-.199-.537-.356-1.112-.36-.58-.003-1.328.153-2.205.504-.506.203-1.04.464-1.59.78Zm3.983 7.485a24.706 24.706 0 0 1-1.88 2.104 24.727 24.727 0 0 1-2.103 1.88 12.7 12.7 0 0 0 1.59.779c.878.35 1.625.507 2.206.503.574-.003.913-.16 1.111-.358.199-.199.356-.538.36-1.112.003-.58-.154-1.328-.504-2.205a12.688 12.688 0 0 0-.78-1.59ZM12 18.99c.89.57 1.768 1.03 2.605 1.364 1.026.41 2.036.652 2.955.646.925-.006 1.828-.267 2.5-.94.673-.672.934-1.575.94-2.5.006-.919-.236-1.929-.646-2.954A15.688 15.688 0 0 0 18.99 12a15.6 15.6 0 0 0 1.364-2.606c.41-1.025.652-2.035.646-2.954-.006-.925-.267-1.828-.94-2.5-.672-.673-1.575-.934-2.5-.94-.919-.006-1.929.235-2.954.646-.838.335-1.716.795-2.606 1.364a15.69 15.69 0 0 0-2.606-1.364C8.37 3.236 7.36 2.994 6.44 3c-.925.006-1.828.267-2.5.94-.673.672-.934 1.575-.94 2.5-.006.919.235 1.929.646 2.955A15.69 15.69 0 0 0 5.01 12c-.57.89-1.03 1.768-1.364 2.605-.41 1.026-.652 2.036-.646 2.955.006.925.267 1.828.94 2.5.672.673 1.575.934 2.5.94.92.006 1.93-.235 2.955-.646A15.697 15.697 0 0 0 12 18.99Zm-1.751-1.255a24.714 24.714 0 0 1-2.104-1.88 24.713 24.713 0 0 1-1.88-2.104c-.315.55-.576 1.085-.779 1.59-.35.878-.507 1.625-.503 2.206.003.574.16.913.359 1.111.198.199.537.356 1.111.36.58.003 1.328-.153 2.205-.504.506-.203 1.04-.463 1.59-.78Zm-3.983-7.486a24.727 24.727 0 0 1 1.88-2.104 24.724 24.724 0 0 1 2.103-1.88 12.696 12.696 0 0 0-1.59-.779c-.878-.35-1.625-.507-2.206-.503-.574.003-.913.16-1.111.359-.199.198-.356.537-.36 1.111-.003.58.153 1.328.504 2.205.203.506.464 1.04.78 1.59Z",fill:"currentColor"})),pLe=()=>{const e=un(),t=Is(),n=io(xTe.signUpCta),r=NC(),a=()=>{e({authType:"login",callback:c=>{S.logLogInButtonClicked({location:"Model switcher dropdown",provider:c}),z.logEvent("chatgpt_modelswitcher_login_button_clicked")}})},o=()=>{e({authType:"signup",callback:c=>{S.logSignUpButtonClicked({location:"Model switcher dropdown",provider:c}),z.logEvent("chatgpt_modelswitcher_signup_button_clicked")}})},s=i.jsx(re,{as:"button",size:"medium",color:t?"primary":"secondary",onClick:a,children:i.jsx(b,{id:"NavigationContent.unauthLoginCta",defaultMessage:"Log in"})}),l=i.jsx(re,{as:"button",size:"medium",color:t?"secondary":"primary",onClick:o,children:i.jsx(b,{...n})});return i.jsxs("div",{className:"p-4",children:[i.jsxs("div",{className:"mb-4",children:[i.jsx("p",{className:"text-md mb-1 font-medium text-token-text-primary",children:t?r?i.jsx(b,{id:"bEtrO8",defaultMessage:"Log in to use other models"}):i.jsx(b,{id:"5JLF3H",defaultMessage:"Log in to try advanced features"}):r?i.jsx(b,{id:"mTr8UT",defaultMessage:"Sign up to use other models"}):i.jsx(b,{id:"g7yYMy",defaultMessage:"Sign up to try GPT 4o for free"})}),i.jsx("p",{className:"text-sm text-token-text-secondary",children:r?i.jsx(b,{id:"Vyn8f0",defaultMessage:"To access more intelligence, create an account or log in."}):i.jsx(b,{id:"pyWwm8",defaultMessage:"Get smarter responses, upload files, analyze images, and more by logging in."})})]}),i.jsx("div",{className:"flex flex-row justify-start space-x-2",children:t?[s,l]:[l,s]})]})},xTe=V({signUpCta:{id:"NavigationContent.unauthSignupCta",defaultMessage:"Sign up"}}),bTe=({categoryId:e,type:t,className:n})=>{const{data:r,isLoading:a}=h$(),o=i.jsx("div",{className:n});if(a)return o;const{iconFilledSrc:s,iconOutlineSrc:l}=r?.[e]??{},c=(t==="filled"?s:l)??"";return i.jsx(ZC,{name:"ModelCategoryIcon",fallback:o,children:i.jsx("div",{className:P("[&_svg]:h-full [&_svg]:w-full",n),dangerouslySetInnerHTML:{__html:c}})})};function wTe(e,t,n){const r=wI();if(r.authStatus!==am.LoggedIn)return;const a=bI(n);a?.id!=null&&Tt.setItem(e,t,{workspaceId:a.id,userId:r.user.id})}const _Te=e=>d.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},d.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 3C7 2.44772 7.44772 2 8 2H16C16.5523 2 17 2.44772 17 3C17 3.55228 16.5523 4 16 4V9.2759C16 9.50984 16.082 9.73637 16.2318 9.91608L19.9174 14.3388C20.6169 15.1782 21 16.2364 21 17.3291C21 19.9087 18.9088 22 16.3291 22H7.67094C5.09125 22 3 19.9087 3 17.3291C3 16.2364 3.38309 15.1782 4.08262 14.3388L4.1282 14.2841C4.18783 14.178 4.26675 14.0826 4.36186 14.0037L7.76822 9.91608C7.91798 9.73637 8 9.50984 8 9.2759V4C7.44772 4 7 3.55228 7 3ZM10 4V9.2759C10 9.97771 9.75395 10.6573 9.30466 11.1965L7.59607 13.2468C8.09343 13.2051 8.55728 13.1988 8.9961 13.2187C10.0671 13.2673 10.9654 13.4731 11.7457 13.6519C11.8198 13.6689 11.8929 13.6857 11.9649 13.702C12.8074 13.8931 13.5265 14.0341 14.3658 13.9929C14.989 13.9623 15.7127 13.8285 16.6123 13.4968L14.6953 11.1965C14.246 10.6573 14 9.97771 14 9.2759V4H10ZM17.9589 15.1127C16.6121 15.6867 15.4872 15.9402 14.4639 15.9904C13.3329 16.046 12.3863 15.8484 11.5226 15.6525C11.4526 15.6366 11.3833 15.6208 11.3144 15.605C10.5208 15.4239 9.78883 15.2567 8.90547 15.2167C8.02643 15.1768 6.97222 15.2639 5.60016 15.6421C5.21216 16.1184 5 16.7141 5 17.3291C5 18.8042 6.19582 20 7.67094 20H16.3291C17.8042 20 19 18.8042 19 17.3291C19 16.7042 18.7809 16.0992 18.3809 15.6192L17.9589 15.1127Z",fill:"currentColor"}));function AP({modelSwitcherDeny:e}){const n=Se()?.isPro();switch(e.reason){case hr.UNSUPPORTED_TOOL_USE:case hr.UNSUPPORTED_AUDIO:case hr.UNSUPPORTED_IMAGE:case hr.UNSUPPORTED_GIZMO:case hr.UNSUPPORTED_ATTACHMENT:case hr.UNSUPPORTED_CUSTOM_INSTRUCTIONS:return i.jsx(i.Fragment,{children:e.description});case $1.RATE_LIMIT:{const{resetsAfter:a}=e,o=new Date(a),s=new Date(a).toLocaleTimeString([],{hour:"numeric",minute:"2-digit"});if(n)return i.jsx("div",{children:i.jsx(b,{id:"CwSQn9",defaultMessage:"Temporarily limited. Contact <supportEmail>support@openai.com</supportEmail> for help.",values:{supportEmail:l=>i.jsx(Tr,{to:"mailto:support@openai.com",className:"underline",children:l})}})});if(Gce(o))return i.jsx(b,{id:"HUybjA",defaultMessage:"Your limit will reset at {time}",values:{time:s}});if(Wce(o))return i.jsx(b,{id:"TvYw9K",defaultMessage:"Your limit will reset at {time} tomorrow",values:{time:s}});{const l=o.toLocaleDateString([],{month:"short",day:"numeric"});return i.jsx(b,{id:"60ZcZL",defaultMessage:"Your limit will reset on {date}",values:{date:l}})}}}const r=e.description;if(r)return i.jsx(i.Fragment,{children:r})}function STe({currentModel:e,categoryOptions:t,className:n,modelSwitcherDenialsBySlug:r,displayInFull_INTERNAL_USE_ONLY:a=!1}){const o=e?.id;return i.jsx(ce.Portal,{children:i.jsx(ce.SubContent,{className:n,children:t.map(s=>{const{value:l}=s;return"options"in s?i.jsx(MTe,{currentModel:e,isSelected:o.startsWith(l),option:s,modelSwitcherDenialsBySlug:r,displayInFull_INTERNAL_USE_ONLY:a},l):i.jsx(TTe,{currentModelId:o,isSelected:o===l,value:l,renderName:()=>s.name,modelSwitcherDenialsBySlug:r,showNewChatHint:!1,displayInFull_INTERNAL_USE_ONLY:a},l)})})})}function MTe({currentModel:e,option:t,isSelected:n=!1,modelSwitcherDenialsBySlug:r,displayInFull_INTERNAL_USE_ONLY:a=!1}){const{name:o,options:s,categoryId:l}=t,c=`${o} Models`,u=()=>i.jsx("div",{className:"flex shrink-0 grow justify-between gap-2",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(_Te,{className:"icon-md w-7 text-token-text-secondary"}),c]})});let f;return a&&n&&(f=t.options.find(p=>p.value===e.id)?.name),i.jsxs(ce.Sub,{children:[i.jsx(ce.SubMenuTrigger,{children:i.jsxs("div",{className:P("flex grow justify-between gap-2 overflow-hidden",a?"items-center break-all":""),children:[l?u():o,n&&i.jsx("div",{className:"truncate text-token-text-tertiary",children:f??e.title})]})}),i.jsx(STe,{currentModel:e,categoryOptions:s,modelSwitcherDenialsBySlug:r,displayInFull_INTERNAL_USE_ONLY:a})]})}function TTe({value:e,renderName:t,currentModelId:n,isSelected:r,showNewChatHint:a=!0,onClick:o,modelSwitcherDenialsBySlug:s,isUpgradeUpsell:l=!1,testId:c,displayInFull_INTERNAL_USE_ONLY:u=!1}){const f=Xi(),p=be(),m=e?s[e]?.conversation?.[0]:null,{layer:g}=xn("1846737571"),h=i.jsx(ce.Item,{onClick:()=>{if(o)o();else if(e){S.logEvent(k.modelSwitcherModelChanged,{from:n,to:e}),z.logEvent("chatgpt_model_switcher_model_changed",e,{from:n,to:e});const v=e;f({modelId:v,location:"Model switcher menu item"}),v!==EE&&wTe(Ue.LastUsedModel,{modelId:v,updatedAt:Date.now()},p)}},className:P("!pr-3",r&&"!opacity-100",m&&"pointer-events-none text-token-text-quaternary"),"data-testid":c,children:i.jsxs("div",{className:"flex grow items-center justify-between gap-2",children:[i.jsx("div",{className:u?"break-all":"",children:t(m!=null)}),l&&i.jsx(re,{color:"secondary",size:"small",className:g.get("is_upgrade_button_blue",!1)?"border-none bg-blue-600 text-white hover:bg-blue-800":"",children:i.jsx(b,{id:"oKo8wt",defaultMessage:"Upgrade"})}),l?i.jsx(i.Fragment,{children:r&&i.jsx(kM,{className:P("icon-md group-hover:invisible",!a&&"block group-hover:hidden")})}):r&&i.jsx(VC,{className:"icon-md"})]})},e);return m?i.jsx(ot,{isLeftArrow:!0,sideOffset:-10,label:i.jsx(AP,{modelSwitcherDeny:m}),children:h}):h}function ETe(e){if(e<60)return{type:"minute",value:e,text:e<2?"minute":`${e} minutes`};const t=Math.floor(e/60);if(t<24)return{type:"hour",value:t,text:t<2?"hour":`${t} hours`};const n=Math.floor(t/24);return n<7?{type:"day",value:n,text:n<2?"day":`${n} days`}:{type:"minute",value:e,text:e<2?"minute":`${e} minutes`}}const Z0={textarea:"","model-switcher":""};function kTe(){const e=xl(l=>l.isoDate),t=$x(e),n=U(),r=Pn(aa.isEnterpriseyPlan),{isUnauthenticated:a,isLoading:o}=Lt(),{data:s}=ye({queryKey:["modelMessageCap",a],queryFn:()=>q.getModelMessageCap(a),enabled:!o});return d.useMemo(()=>{const l=s?.message_cap??0,c=s?.message_cap_window??1,{text:u,type:f,value:p}=ETe(c),m=s?.message_disclaimer??Z0;if(!u||r)return{textareaDisclaimer:m.textarea,modelSwitcherDisclaimer:m["model-switcher"],modelSwitcherLimitShort:""};if(!s||!c||!l)return{textareaDisclaimer:Z0.textarea,modelSwitcherDisclaimer:Z0["model-switcher"],modelSwitcherLimitShort:""};let g=n.formatMessage(Y0.shortLimitMinutes,{numerator:l,denominator:p});switch(f){case"hour":g=n.formatMessage(Y0.shortLimitHours,{numerator:l,denominator:p});break;case"day":g=n.formatMessage(Y0.shortLimitDays,{numerator:l,denominator:p});break}return{textareaDisclaimer:m.textarea.replaceAll("%FORMATTED_TIME%",t).replaceAll("%NUMERATOR%",`${l}`).replaceAll("%DENOMINATOR%",u),modelSwitcherDisclaimer:m["model-switcher"].replaceAll("%FORMATTED_TIME%",t).replaceAll("%NUMERATOR%",`${l}`).replaceAll("%DENOMINATOR%",u),modelSwitcherLimitShort:g}},[s,t,n,r])}const Y0=V({shortLimitMinutes:{id:"modelCapMessaging.shortLimitMinutes",defaultMessage:"Limit {numerator, plural, =0 {# message} one {# message} other {# messages}} / {denominator, plural, =0 {# minute} one {# minute} other {# minutes}}"},shortLimitHours:{id:"modelCapMessaging.shortLimitHours",defaultMessage:"Limit {numerator, plural, =0 {# message} one {# message} other {# messages}} / {denominator, plural, =0 {# hour} one {# hour} other {# hours}}"},shortLimitDays:{id:"modelCapMessaging.shortLimitDays",defaultMessage:"Limit {numerator, plural, =0 {# message} one {# message} other {# messages}} / {denominator, plural, =0 {# day} one {# day} other {# days}}"}});var ATe=(e=>(e.ALPHA="alpha",e.DATA_CAMPAIGNS="data_campaigns",e.EXPERIMENTS="experiments",e.MAINLINE="mainline",e))(ATe||{});const I8={code_interpreter_model:{name:"Advanced Data Analysis"},dalle_model:{name:"DALL·E 3"}};function mLe(e){const t=PTe(e??void 0);return D1(["alpha","data_campaigns","experiments","mainline"],t)?"bg-orange-500 text-white":"bg-token-main-surface-primary text-token-text-primary"}function PTe(e){const t=PP();for(const n of t)if(n.options.length>0&&n.options.find(a=>a.value===e))return n.categoryId;return null}const OTe=e=>Rh(e,({id:t})=>t.split(":").slice(0,1).join(":"));function PP(){const{data:e}=eo(),t=t1e(),{modelSwitcherDisclaimer:n}=kTe(),r=Wx();return d.useMemo(()=>{const a=[];if(!e)return a;const{categories:o,groups:s,modelsMap:l}=e;for(const c of o){const{defaultModel:u,categoryId:f,label:p}=c;if(r.has(u)){const m=t===u,g=e.modelsMap[u],h=m?[]:NTe(c,r,e.modelsMap);a.push({categoryId:f,value:u,name:p,description:m?n:g.description,options:[hi(g,{name:"Default"}),...h]})}}for(const c of s){const{group:u,label:f,modelIds:p}=c,m=p[0],g=p.map(h=>l[h]).filter(({tags:h})=>!h.includes(ja.HIDDEN));if(u==="experiments"){const h=OTe(g),v=Object.entries(h).map(([y,x])=>{const C=y.split(":").slice(-1)[0];return{key:y,value:C,name:C,options:x.map(w=>{const{title:_}=w;return hi({...w,title:_.replace(C,"")})})}});a.push({categoryId:u,value:m,name:f,options:v})}else a.push({categoryId:u,value:m,name:f,options:g.map(h=>hi(h))})}return a},[e,r,t,n])}function hi(e,t={}){return{value:e.id,name:e.title,...t}}function NTe(e,t,n){const r=[];if(e.code_interpreter_model!=null&&t.has(e.code_interpreter_model)){const a=I8.code_interpreter_model;r.push(hi(n[e.code_interpreter_model],{name:a.name}))}if(e.dalle_model!=null&&t.has(e.dalle_model)){const a=I8.dalle_model;r.push(hi(n[e.dalle_model],{name:a.name}))}return r}const ITe=e=>d.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},d.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4 5C4 3.34315 5.34315 2 7 2H12.6716C13.4672 2 14.2303 2.31607 14.7929 2.87868L19.1213 7.20711C19.6839 7.76972 20 8.53278 20 9.32843V19C20 20.6569 18.6569 22 17 22H7C5.34315 22 4 20.6569 4 19V5ZM7 4C6.44772 4 6 4.44772 6 5V19C6 19.5523 6.44772 20 7 20H17C17.5523 20 18 19.5523 18 19V10H14.5C13.1193 10 12 8.88071 12 7.5V4H7ZM14 4.91421V7.5C14 7.77614 14.2239 8 14.5 8H17.0858L14 4.91421Z",fill:"currentColor"})),OP=Ee.TemporaryChatOnboarding;function gLe(){const e=ia(),{eligible:t}=ke(OP);return t&&e}function Js({icon:e,title:t,description:n}){return i.jsxs("div",{className:"flex items-start",children:[i.jsx("div",{className:"mt-1 h-5 w-5",children:e}),i.jsxs("div",{className:"ml-4",children:[i.jsx("div",{className:"text-lg font-semibold",children:t}),i.jsx("p",{className:"mt-1 text-sm text-token-text-secondary",children:n})]})]})}function hLe({onClose:e}){const[t,n]=d.useState(!0),r=Se(),a=U(),{markAsViewed:o}=ke(OP),s=Al(),l=d.useCallback(()=>{o(),n(!1),e?.()},[o,e]);return r?.isWorkspaceAccount()?i.jsx(Te,{isOpen:t,onClose:_e,size:"custom",className:"max-w-xl",type:"success",title:a.formatMessage(Qe.title),primaryButton:i.jsx(Ye.Button,{onClick:l,title:a.formatMessage(Qe.continue),color:"primary"}),children:i.jsxs("div",{className:"mb-6 flex flex-col gap-3",children:[i.jsx(Js,{icon:i.jsx(Qe.bulletTitle1.Icon,{}),title:a.formatMessage(Qe.bulletTitle1),description:a.formatMessage({id:"nSGhxr",defaultMessage:"Temporary chats won't appear in your history."})}),i.jsx(Js,{icon:s?i.jsx(Qe.bulletTitle2MemoryAvailable.Icon,{}):i.jsx(Qe.bulletTitle2MemoryUnavailable.Icon,{}),title:a.formatMessage(s?Qe.bulletTitle2MemoryAvailable:Qe.bulletTitle2MemoryUnavailable),description:a.formatMessage(s?Qe.bulletDescription2MemoryAvailable:Qe.bulletDescription2MemoryUnavailable)})]})}):i.jsx(Te,{isOpen:t,onClose:_e,size:"custom",className:"max-w-xl",type:"success",title:a.formatMessage(Qe.title),primaryButton:i.jsx(Ye.Button,{onClick:l,title:a.formatMessage(Qe.continue),color:"primary"}),children:i.jsxs("div",{className:"mb-6 flex flex-col gap-3",children:[i.jsx(Js,{icon:i.jsx(Qe.bulletTitle1.Icon,{}),title:a.formatMessage(Qe.bulletTitle1),description:a.formatMessage(Qe.bulletDescription1)}),i.jsx(Js,{icon:i.jsx(Qe.bulletTitle3.Icon,{}),title:a.formatMessage(Qe.bulletTitle3),description:a.formatMessage(Qe.bulletDescription3)}),i.jsx(Js,{icon:s?i.jsx(Qe.bulletTitle2MemoryAvailable.Icon,{}):i.jsx(Qe.bulletTitle2MemoryUnavailable.Icon,{}),title:a.formatMessage(s?Qe.bulletTitle2MemoryAvailable:Qe.bulletTitle2MemoryUnavailable),description:a.formatMessage(s?Qe.bulletDescription2MemoryAvailable:Qe.bulletDescription2MemoryUnavailable)})]})})}const Qe=V({title:{id:"TemporaryChatOnboardingModal.title",defaultMessage:"Temporary Chat"},bulletTitle1:{Icon:Kk,id:"TemporaryChatOnboardingModal.bulletTitle1",defaultMessage:"Not in history"},bulletDescription1:{id:"TemporaryChatOnboardingModal.bulletDescription1.1",defaultMessage:"Temporary chats won't appear in your history. For safety purposes, we may keep a copy of your chat for up to 30 days."},bulletTitle2MemoryAvailable:{Icon:ITe,id:"TemporaryChatOnboardingModal.bulletTitle2MemoryAvailable",defaultMessage:"Memory off"},bulletDescription2MemoryAvailable:{id:"Ziehyb",defaultMessage:"While in a Temporary Chat, ChatGPT won't use or create memories. Custom Instructions will still be followed if you have them enabled."},bulletTitle2MemoryUnavailable:{Icon:$4,id:"TemporaryChatOnboardingModal.bulletTitle2MemoryUnavailable",defaultMessage:"Follows Custom Instructions"},bulletDescription2MemoryUnavailable:{id:"TemporaryChatOnboardingModal.bulletDescription2MemoryUnavailable",defaultMessage:"Custom Instructions will still be followed if you have them enabled."},bulletTitle3:{Icon:_I,id:"TemporaryChatOnboardingModal.bulletTitle3",defaultMessage:"No model training"},bulletDescription3:{id:"TemporaryChatOnboardingModal.bulletDescription3",defaultMessage:"Temporary chats won't be used to improve our models."},continue:{id:"TemporaryChatOnboardingModal.continue",defaultMessage:"Continue"}});function K2(e){if(e&&e.messages.length>0){const t=e.messages[0].message.create_time;if(t)return new Date(t*1e3)}return null}function c1(e,t){return!e||!t?!1:e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate()}function vLe(e,t){const n=oh(e,t),r=eb(e),a=r?.value===Tn.UNREAD&&r.source===yr.SERVER,[o,s]=d.useState(null),{results:l,lastRenderableTurnIndex:c}=d.useMemo(()=>{const f=new Array(n.length).fill(void 0),p=new Date;let m=null;for(const y of n){const x=K2(y);x&&(!m||x<m)&&(m=x)}let g=null,h=!0,v=null;for(let y=0;y<n.length;y++){const x=n[y],C=x.messages;if(RR(x,C)){v=y;const _=K2(x);h?(h=!1,m&&!c1(m,p)&&(f[y]=0)):g&&!c1(_,g)&&(f[y]=0),g=_}}return{results:f,lastRenderableTurnIndex:v}},[n]);d.useEffect(()=>{a&&c!=null&&c!==o&&s(c)},[a,c,o]);const u=d.useMemo(()=>{const f=[...l];return a&&c!=null?f[c]=1:!a&&o!=null&&(f[o]=1),f},[l,a,c,o]);return f=>u[f]}function jTe(e){const t=U(),n=K2(e);if(n){const r=new Date,a=new Date;a.setDate(r.getDate()-1);let o;if(c1(n,r))o=t.formatMessage({id:"ConversationTurn.todayHeader",defaultMessage:"Today"});else if(c1(n,a))o=t.formatMessage({id:"ConversationTurn.yesterdayHeader",defaultMessage:"Yesterday"});else{const s=r.getFullYear(),l=n.getFullYear();s===l?o=t.formatDate(n,{month:"short",day:"numeric"}):o=t.formatDate(n,{month:"short",day:"numeric",year:"numeric"})}return o}else return null}const RTe=()=>{const{value:e}=ct("1847911009");return e},yLe=({turn:e,dateHeaderType:t})=>{const n=RTe(),r=jTe(e);return!n||!r||t===void 0?null:t===1?i.jsxs("div",{className:"mx-auto my-4 flex h-[20px] w-full items-center md:max-w-3xl lg:max-w-[40rem] xl:max-w-[48rem]",children:[i.jsx("div",{className:"mr-1 flex-1 border-t border-[#B3DBFF]"}),i.jsx("span",{className:"text-sm font-normal leading-5 text-[#0088FF]",children:r}),i.jsx("div",{className:"ml-1 flex-1 border-t border-[#B3DBFF]"})]}):i.jsx("div",{className:"my-4 flex justify-center",style:{height:"20px"},children:i.jsx("span",{className:"text-sm font-normal leading-5 text-token-text-secondary",children:r})})},CLe=e=>d.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},d.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 3C12.2652 3 12.5196 3.10536 12.7071 3.29289L19.7071 10.2929C20.0976 10.6834 20.0976 11.3166 19.7071 11.7071C19.3166 12.0976 18.6834 12.0976 18.2929 11.7071L13 6.41421V20C13 20.5523 12.5523 21 12 21C11.4477 21 11 20.5523 11 20V6.41422L5.70711 11.7071C5.31658 12.0976 4.68342 12.0976 4.29289 11.7071C3.90237 11.3166 3.90237 10.6834 4.29289 10.2929L11.2929 3.29289C11.4804 3.10536 11.7348 3 12 3Z",fill:"currentColor"})),xLe=e=>d.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},d.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.06189 11H8.01766C8.09487 8.8263 8.42177 6.84448 8.93 5.31981C9.02641 5.03057 9.13134 4.7517 9.24521 4.48695C6.48461 5.49947 4.43722 7.9901 4.06189 11ZM12 2C6.47715 2 2 6.47715 2 12C2 17.148 5.88912 21.3862 10.8901 21.939C11.2795 21.9821 11.6582 21.7938 11.8588 21.4573C12.0595 21.1208 12.0452 20.6982 11.8223 20.376C11.425 19.8019 10.9607 18.6839 10.5975 17.1672C10.3041 15.9422 10.0898 14.5119 10.0224 13H21C21.5523 13 22 12.5523 22 12C22 6.47715 17.5228 2 12 2ZM12 4C11.9999 4 12.0001 4 12 4C12.0012 4.00001 12.0058 4.00018 12.0153 4.00305C12.0264 4.00645 12.0485 4.01483 12.0814 4.03507C12.1506 4.07752 12.2545 4.16408 12.3823 4.32624C12.6425 4.65642 12.9206 5.19616 13.1726 5.95227C13.6027 7.24257 13.9045 9.00275 13.981 11H10.019C10.0955 9.00275 10.3973 7.24257 10.8274 5.95227C11.0794 5.19616 11.3575 4.65642 11.6177 4.32624C11.7455 4.16408 11.8494 4.07752 11.9186 4.03507C11.9515 4.01483 11.9736 4.00645 11.9847 4.00305C11.9951 3.9999 11.9993 4 12 4ZM15.9823 11C15.9051 8.8263 15.5782 6.84448 15.07 5.31981C14.9736 5.03058 14.8687 4.7517 14.7548 4.48695C17.5154 5.49947 19.5628 7.9901 19.9381 11H15.9823ZM8.02058 13H4.06191C4.43529 15.9937 6.46303 18.4743 9.20105 19.4969C8.99671 18.9272 8.81194 18.2988 8.6525 17.633C8.32456 16.2637 8.0892 14.6754 8.02058 13ZM14.2929 16.7071C13.9024 16.3166 13.9024 15.6834 14.2929 15.2929C14.6834 14.9024 15.3166 14.9024 15.7071 15.2929L17.5 17.0858L19.2929 15.2929C19.6834 14.9024 20.3166 14.9024 20.7071 15.2929C21.0976 15.6834 21.0976 16.3166 20.7071 16.7071L18.9142 18.5L20.7071 20.2929C21.0976 20.6834 21.0976 21.3166 20.7071 21.7071C20.3166 22.0976 19.6834 22.0976 19.2929 21.7071L17.5 19.9142L15.7071 21.7071C15.3166 22.0976 14.6834 22.0976 14.2929 21.7071C13.9024 21.3166 13.9024 20.6834 14.2929 20.2929L16.0858 18.5L14.2929 16.7071Z",fill:"currentColor"}));function bLe(e){const n=g1(e)==="root",r=h1(e),a=Hi(r),o=M4(),{isUnauthenticated:s}=Lt(),l=SI(e);return!n&&!a&&!o.displayingSideBySideFeedback&&!s&&!l}const wLe=({clientThreadId:e,message:t})=>{const n=PP(),r=zx(),a=ke(Ee.ModelSwitcherAutoDowngrade),{categories:o}=z1({isRegen:!0}),s=PA({clientThreadId:e}),{doesUserHaveAnyAccountsWithPlusFeatures:l}=as(),c=y$()!=null,u=[];for(const C of o){if(th(C))continue;const{defaultModel:w,label:_,tagline:E,categoryId:T,subscriptionLevel:M,subcategory:A}=C,D=s[w]?.regenerate?.[0];u.push({label:_,value:w,subtitle:E,icon:i.jsx(bTe,{className:"icon-md h-4 w-4",categoryId:T,type:"filled"}),modelSwitcherDeny:D,subscriptionLevel:M,subcategory:A})}const f=LTe(e,t.nodeId),p=t.message.metadata?.model_slug,m=n.find(C=>C.value===p)?.name,h=(p!=null?r[p]:void 0)?.enabledTools||[],v=$Te(c,f,p),y=t.message.metadata?.model_adjustments,x=l&&a.eligible&&!a.isLoading&&m&&u[0]?.label&&m!==u[0]?.label&&y?.some(C=>C.startsWith("auto:smaller_model"));return{modelOptions:u,modelSlug:p,messageModelEnabledTools:h,animateModelLabelOnRender:v,nuxProps:{shouldRenderNux:x,usedModelName:m,largestModelName:u[0]?.label,announcement:a}}};function LTe(e,t){return F.getTree(e).getConversationTurns(t).flatMap(s=>s.messages).filter(s=>s.message.author.role===ie.Assistant&&!sC(s.message)).reverse()[1]?.message.metadata?.model_slug}function $Te(e,t,n){return e&&!t?!0:!!(t&&n!==t)}function _Le(){const{doesUserHaveAnyAccountsWithPlusFeatures:e}=as(),{categories:t}=z1();return!!e||!!t.find(th)}const SLe=({modelSwitcherDeny:e,value:t,label:n,subtitle:r,icon:a,onMouseEnter:o,onMouseLeave:s,onSelect:l,messageModelSlug:c,isHovered:u=!1,shouldShowUpsell:f=!1,className:p,includeCheck:m,includeRegenerate:g,justifyIcon:h,wrapIcon:v=!0})=>{const y=Se(),x=!e,C=!x&&!f,w=Ge(),_=()=>{if(!f){l?.();return}S.logEvent(k.openModalAccountPaymentfromMessageModelPicker),S.logRateLimitGetPlusButtonClicked({type:$1.RATE_LIMIT,location:"message_model_switcher_dropdown",plan_type:y?.planType??"unknown",is_hard_block:!1,hard_block_reason:"",is_new_conversation:!1}),oa(w,"Message model switcher dropdown")};return i.jsx(ce.Item,{onSelect:_,onMouseEnter:()=>x&&o?.(),onMouseLeave:()=>x&&s?.(),disabled:C,className:p??"radix-disabled:pointer-events-auto radix-disabled:cursor-not-allowed radix-disabled:hover:bg-transparent",children:i.jsxs(ot,{label:e&&i.jsx(AP,{modelSwitcherDeny:e}),className:"flex w-full items-center justify-between gap-2",sideOffset:0,children:[i.jsxs("div",{className:P("flex items-center gap-3",h==="right"&&"w-full"),children:[!!a&&(v?i.jsx("span",{className:P("flex h-7 w-7 items-center justify-center rounded-full bg-token-main-surface-secondary",h==="right"&&"order-10 ml-auto"),children:a}):a),i.jsxs("div",{children:[i.jsx("div",{children:n}),i.jsx("div",{className:P({"text-sm text-token-text-secondary":!C},{"text-sm text-token-text-quaternary":C}),children:r})]})]}),f?i.jsx(re,{color:"secondary",size:"small",children:i.jsx(b,{id:"54fmrA",defaultMessage:"Get Plus"})}):i.jsx(DTe,{messageModelSlug:c,isHovered:u,modelSwitcherDeny:e,optionModelSlug:t,includeCheck:m,includeRegenerate:g})]})})},DTe=({modelSwitcherDeny:e,optionModelSlug:t,isHovered:n,messageModelSlug:r,includeRegenerate:a=!0,includeCheck:o=!0})=>{let s=null;if(e)switch(e.reason){case $1.RATE_LIMIT:s=Xk;break;default:s=Ef;break}if(e)return i.jsx(s,{className:"icon-md"});const l=!!a&&i.jsx(cpe,{className:P("icon-md hidden text-token-text-tertiary",{"group-hover:block":n})});return r===t&&o?i.jsxs(i.Fragment,{children:[i.jsx(kM,{className:P("icon-md text-token-text-primary",{"group-hover:hidden":n})}),l]}):l},MLe=e=>d.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},d.createElement("path",{d:"M11.4079 21.4961C11.1953 21.8698 10.7683 22.0649 10.348 21.9805C8.4373 21.5968 7.27541 19.6391 7.84844 17.7691L8.69697 14.9999L6.98577 14.9999C4.35915 14.9999 2.45151 12.492 3.14262 9.94747L4.50063 4.94747C4.97329 3.20722 6.54741 1.99994 8.34378 1.99994H14.0328C15.131 2.00207 16.0206 2.89668 16.0206 3.99994V14.9999H15.6827C15.3253 14.9999 14.9953 15.1922 14.818 15.5038L11.4079 21.4961Z",fill:"currentColor"}),d.createElement("path",{d:"M18.0124 14.9999C19.6624 14.9999 21 13.6568 21 11.9999V4.99994C21 3.34308 19.6624 1.99994 18.0124 1.99994H17.4794C17.8184 2.58829 18.0124 3.27136 18.0124 3.99994V14.9999Z",fill:"currentColor"})),TLe=e=>d.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},d.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.8727 21.4961C11.6725 21.8466 11.2811 22.0423 10.8805 21.9922L10.4267 21.9355C7.95958 21.6271 6.36855 19.1665 7.09975 16.7901L7.65054 15H6.93226C4.29476 15 2.37923 12.4921 3.0732 9.94753L4.43684 4.94753C4.91145 3.20728 6.49209 2 8.29589 2H18.0045C19.6614 2 21.0045 3.34315 21.0045 5V12C21.0045 13.6569 19.6614 15 18.0045 15H16.0045C15.745 15 15.5054 15.1391 15.3766 15.3644L11.8727 21.4961ZM14.0045 4H8.29589C7.39399 4 6.60367 4.60364 6.36637 5.47376L5.00273 10.4738C4.65574 11.746 5.61351 13 6.93226 13H9.00451C9.32185 13 9.62036 13.1506 9.8089 13.4059C9.99743 13.6612 10.0536 13.9908 9.96028 14.2941L9.01131 17.3782C8.6661 18.5002 9.35608 19.6596 10.4726 19.9153L13.6401 14.3721C13.9523 13.8258 14.4376 13.4141 15.0045 13.1902V5C15.0045 4.44772 14.5568 4 14.0045 4ZM17.0045 13V5C17.0045 4.64937 16.9444 4.31278 16.8338 4H18.0045C18.5568 4 19.0045 4.44772 19.0045 5V12C19.0045 12.5523 18.5568 13 18.0045 13H17.0045Z",fill:"currentColor"})),ELe=e=>d.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},d.createElement("path",{d:"M12.592 2.50386C12.8047 2.13014 13.2317 1.935 13.652 2.01942C15.5627 2.40314 16.7246 4.36079 16.1516 6.23085L15.303 9L17.0142 9C19.6409 9 21.5485 11.5079 20.8574 14.0525L19.4994 19.0525C19.0267 20.7927 17.4526 22 15.6562 22H9.96721C8.869 21.9979 7.97939 21.1033 7.97939 20V9H8.31734C8.67472 9 9.0047 8.80771 9.18201 8.49613L12.592 2.50386Z",fill:"currentColor"}),d.createElement("path",{d:"M5.98763 9C4.33761 9 3 10.3431 3 12V19C3 20.6569 4.33761 22 5.98763 22H6.52055C6.18162 21.4116 5.98763 20.7286 5.98763 20V9Z",fill:"currentColor"})),kLe=e=>d.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},d.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.1318 2.50389C12.3321 2.15338 12.7235 1.95768 13.124 2.00775L13.5778 2.06447C16.0449 2.37286 17.636 4.83353 16.9048 7.20993L16.354 8.99999H17.0722C19.7097 8.99999 21.6253 11.5079 20.9313 14.0525L19.5677 19.0525C19.0931 20.7927 17.5124 22 15.7086 22H6C4.34315 22 3 20.6568 3 19V12C3 10.3431 4.34315 8.99999 6 8.99999H8C8.25952 8.99999 8.49914 8.86094 8.6279 8.63561L12.1318 2.50389ZM10 20H15.7086C16.6105 20 17.4008 19.3964 17.6381 18.5262L19.0018 13.5262C19.3488 12.2539 18.391 11 17.0722 11H15C14.6827 11 14.3841 10.8494 14.1956 10.5941C14.0071 10.3388 13.9509 10.0092 14.0442 9.70591L14.9932 6.62175C15.3384 5.49984 14.6484 4.34036 13.5319 4.08468L10.3644 9.62789C10.0522 10.1742 9.56691 10.5859 9 10.8098V19C9 19.5523 9.44772 20 10 20ZM7 11V19C7 19.3506 7.06015 19.6872 7.17071 20H6C5.44772 20 5 19.5523 5 19V12C5 11.4477 5.44772 11 6 11H7Z",fill:"currentColor"})),ALe=({actions:e,pagination:t,isHovered:n,showInline:r,alwaysShow:a})=>!t&&!e?null:i.jsxs("div",{className:P("items-center justify-start rounded-xl p-1",r?"flex":"z-10 -mt-1 bg-token-main-surface-primary screen-arch:mt-1 md:absolute",r?!1:n?"flex":"md:sr-only"),children:[t,e&&i.jsx("div",{className:P("flex items-center",r&&!a?n?"visible":"md:invisible":!1),children:e})]}),PLe=({onClick:e})=>{const[t,n]=d.useState(!1),r=Wk(),a=U(),o=d.useCallback(s=>{s.stopPropagation(),e(s),n(!0),setTimeout(()=>{r()&&n(!1)},2e3),z.logEvent("chatgpt_turn_action_copy")},[r,e]);return i.jsx(NP,{icon:t?k1:u4,onClick:o,label:a.formatMessage({id:"CopyButton.copyTooltip",defaultMessage:"Copy"}),testId:"copy-turn-action-button"})},NP=({icon:e,label:t,iconClassName:n,className:r,onClick:a,disabled:o=!1,asLink:s=!1,href:l,style:c,target:u,testId:f})=>{const p=s?"a":"button";return i.jsx(DC,{sideOffset:0,label:t,disabled:!t,children:i.jsx(p,{className:P("rounded-lg text-token-text-secondary hover:bg-token-main-surface-secondary",r),"aria-label":t,onClick:a,disabled:o,target:u,href:l,style:c,"data-testid":f,children:e&&i.jsx("span",{className:"flex h-[30px] w-[30px] items-center justify-center",children:i.jsx(e,{className:P("icon-md-heavy",n)})})})})},OLe=d.memo(function(t){const{hasModelTunerAutoGPT4:n}=IP(t),r=jP(),a=Ge();if(!n)return null;const o=r&&t.isFinalTurn,s=i.jsx(NP,{icon:om,className:P(o&&"hover:text-token-text-tertiary",!o&&"cursor-pointer"),iconClassName:t.isFinalTurn?"icon-shimmer":void 0});return o?s:i.jsxs(GC,{delayDuration:150,children:[i.jsx(WC,{children:s}),i.jsx(zC,{children:i.jsx(qC,{side:"top",sideOffset:0,children:i.jsxs("div",{className:"flex max-w-2xs flex-col flex-nowrap rounded-lg border border-token-border-light bg-token-main-surface-primary p-4 shadow-xl",children:[i.jsxs("div",{className:"mb-1 flex flex-nowrap items-start gap-2",children:[i.jsx(om,{className:"h-[20px] w-[20px]"}),i.jsx("div",{className:"text-sm font-semibold",children:i.jsx(b,{id:"ModelTunerDisclaimer.autoUpgradeToGPT4.title",defaultMessage:"Upgraded response"})})]}),i.jsx("div",{className:"mb-3 text-sm text-token-text-secondary",children:i.jsx(b,{id:"ModelTunerDisclaimer.autoUpgradeToGPT4.content",defaultMessage:"Written with our most capable model, GPT-4, available on ChatGPT Plus"})}),i.jsx("div",{children:i.jsx(re,{onClick:()=>oa(a,"ModelTuner disclaimer cta"),size:"small",children:i.jsx(b,{id:"ModelTunerDisclaimer.autoUpgradeToGPT4.getPlus",defaultMessage:"Get Plus"})})})]})})})]})}),NLe=d.memo(function(t){const n=jP(),{hasModelTunerAutoGPT4:r}=IP(t);return!r||!t.isFinalTurn||!n?null:i.jsx(FTe,{})});function FTe(){const e=rb().mutate,t=Ge();return d.useEffect(()=>{e({key:Ee.ModelTunerDisclaimer})},[]),i.jsx("div",{className:"py-4",children:i.jsx("div",{className:"flex items-start justify-start gap-2.5 rounded-2xl bg-token-main-surface-secondary p-4 pr-5 text-token-text-primary",children:i.jsxs("div",{className:"flex w-full items-center justify-between gap-4",children:[i.jsxs("div",{className:"flex flex-nowrap items-start gap-2",children:[i.jsx(om,{className:"h-[20px] w-[20px] shrink-0"}),i.jsxs("div",{className:"text-sm",children:[i.jsx("div",{className:"font-semibold",children:i.jsx(b,{id:"ModelTunerDisclaimer.autoUpgradeToGPT4.title",defaultMessage:"Upgraded response"})}),i.jsx("div",{className:"pt-0.5",children:i.jsx(b,{id:"ModelTunerDisclaimer.autoUpgradeToGPT4.content",defaultMessage:"Written with our most capable model, GPT-4, available on ChatGPT Plus"})})]})]}),i.jsx(re,{className:"shrink-0",onClick:()=>oa(t,"ModelTuner disclaimer cta"),size:"small",children:i.jsx(b,{id:"ModelTunerDisclaimer.autoUpgradeToGPT4.getPlus",defaultMessage:"Get Plus"})})]})})})}function IP({message:e}){return{hasModelTunerAutoGPT4:e?.message?.metadata?.model_adjustments?.includes(MI.AUTO_UPGRADE_TO_GPT4)}}function jP(){return d.useRef(Z8(e=>!e.announcements[Ee.ModelTunerDisclaimer])?.data).current}const BTe="bg-token-main-surface-primary text-token-text-primary",UTe="openai",j8=["bg-blue-300 text-white"];function HTe(e){return j8[(e?.charCodeAt(0)??0)%j8.length]}const wc=({children:e})=>i.jsx("div",{className:"pt-0",children:i.jsx("div",{className:P(d.isValidElement(e)&&e.type===Um?"gizmo-bot-avatar":"gizmo-shadow-stroke","flex h-8 w-8 items-center justify-center overflow-hidden rounded-full"),children:e})});function ILe({messages:e,isUserTurn:t,avatarClassName:n,gizmo:r}){const a="medium",s=e[0]?.message.metadata?.shared_conversation_id,l=s!=null,c=cn(),{gizmoEditorData:u,mode:f}=Ol();let p=i.jsx(wc,{children:i.jsx(Um,{className:n??BTe,iconName:UTe,size:a})});return r?p=i.jsx(wc,{children:i.jsx(F6e,{gizmoId:r.gizmo.id,className:"h-full w-full"})}):u!=null&&f==="test"&&(p=i.jsx(n9,{isFirstParty:!1,src:u.profilePictureUrl,className:"h-8 w-8 first:pt-[3px]"})),i.jsx("div",{children:t?l?i.jsx(wc,{children:i.jsx(Um,{className:HTe(s),iconName:"user",size:a})}):i.jsx(wc,{children:i.jsx(_f,{user:c,size:a})}):p})}function jLe({currentPage:e,onChangeIndex:t,length:n,showInline:r=!1}){const a=s=>{t(Yu(e+s,0,n-1))},o=U();return i.jsxs("div",{className:P("flex items-center justify-center rounded-lg text-token-text-secondary",!r&&vxe.MessageAction),children:[i.jsx("button",{onClick:()=>a(-1),disabled:e===0,className:"flex h-[30px] w-[30px] items-center justify-center rounded-md hover:bg-token-main-surface-secondary disabled:opacity-50 disabled:hover:bg-transparent","aria-label":o.formatMessage({id:"XwENI/",defaultMessage:"Previous response"}),children:i.jsx(_9,{className:"icon-md-heavy"})}),i.jsx("div",{className:"px-0.5 text-sm font-semibold tabular-nums",children:`${e+1}/${n}`}),i.jsx("button",{onClick:()=>a(1),disabled:e===n-1,"aria-label":o.formatMessage({id:"V8RFHE",defaultMessage:"Next response"}),className:"flex h-[30px] w-[30px] items-center justify-center rounded-md hover:bg-token-main-surface-secondary disabled:opacity-50 disabled:hover:bg-transparent",children:i.jsx(is,{className:"icon-md-heavy"})})]})}function RLe({currentPage:e,onChangeIndex:t,length:n,className:r}){const a=o=>{t(Yu(e+o,0,n-1))};return n===0?null:i.jsxs(VTe,{className:r,children:[i.jsx(R8,{onClick:()=>a(-1),disabled:e===0,children:i.jsx(_9,{className:"icon-sm"})}),i.jsx(GTe,{children:`${e+1}/${n}`}),i.jsx(R8,{onClick:()=>a(1),disabled:e===n-1,children:i.jsx(is,{className:"icon-sm"})})]})}const VTe=he.div`text-xs inline-flex bg-token-main-surface-secondary h-8 border rounded border-token-border-medium`,R8=he.button`text-token-text-secondary disabled:text-token-border-medium w-8 flex items-center justify-center hover:bg-token-main-surface-tertiary`,GTe=he.span`text-token-text-tertiary px-2 flex items-center font-mono tracking-widest`;function LLe(e){const t=U();function n(){switch(e.role){case ie.User:return t.formatMessage({id:"3DStaP",defaultMessage:"You said:"});case ie.Assistant:return t.formatMessage({id:"LDIn6l",defaultMessage:"ChatGPT said:"});default:return""}}const r=e.role===ie.Assistant?"h6":"h5";return i.jsx(r,{className:"sr-only",children:n()})}function WTe(e,t="<unknown>"){if(!e)throw TI(new Error(`${t}: unexpected non-truthy condition: ${JSON.stringify(e)}`),WTe)}var k9={exports:{}};k9.exports;(function(e){(function(t,n,r){function a(c){var u=this,f=l();u.next=function(){var p=2091639*u.s0+u.c*23283064365386963e-26;return u.s0=u.s1,u.s1=u.s2,u.s2=p-(u.c=p|0)},u.c=1,u.s0=f(" "),u.s1=f(" "),u.s2=f(" "),u.s0-=f(c),u.s0<0&&(u.s0+=1),u.s1-=f(c),u.s1<0&&(u.s1+=1),u.s2-=f(c),u.s2<0&&(u.s2+=1),f=null}function o(c,u){return u.c=c.c,u.s0=c.s0,u.s1=c.s1,u.s2=c.s2,u}function s(c,u){var f=new a(c),p=u&&u.state,m=f.next;return m.int32=function(){return f.next()*4294967296|0},m.double=function(){return m()+(m()*2097152|0)*11102230246251565e-32},m.quick=m,p&&(typeof p=="object"&&o(p,f),m.state=function(){return o(f,{})}),m}function l(){var c=4022871197,u=function(f){f=String(f);for(var p=0;p<f.length;p++){c+=f.charCodeAt(p);var m=.02519603282416938*c;c=m>>>0,m-=c,m*=c,c=m>>>0,m-=c,c+=m*4294967296}return(c>>>0)*23283064365386963e-26};return u}n&&n.exports?n.exports=s:this.alea=s})(qt,e)})(k9);var zTe=k9.exports,A9={exports:{}};A9.exports;(function(e){(function(t,n,r){function a(l){var c=this,u="";c.x=0,c.y=0,c.z=0,c.w=0,c.next=function(){var p=c.x^c.x<<11;return c.x=c.y,c.y=c.z,c.z=c.w,c.w^=c.w>>>19^p^p>>>8},l===(l|0)?c.x=l:u+=l;for(var f=0;f<u.length+64;f++)c.x^=u.charCodeAt(f)|0,c.next()}function o(l,c){return c.x=l.x,c.y=l.y,c.z=l.z,c.w=l.w,c}function s(l,c){var u=new a(l),f=c&&c.state,p=function(){return(u.next()>>>0)/4294967296};return p.double=function(){do var m=u.next()>>>11,g=(u.next()>>>0)/4294967296,h=(m+g)/(1<<21);while(h===0);return h},p.int32=u.next,p.quick=p,f&&(typeof f=="object"&&o(f,u),p.state=function(){return o(u,{})}),p}n&&n.exports?n.exports=s:this.xor128=s})(qt,e)})(A9);var qTe=A9.exports,P9={exports:{}};P9.exports;(function(e){(function(t,n,r){function a(l){var c=this,u="";c.next=function(){var p=c.x^c.x>>>2;return c.x=c.y,c.y=c.z,c.z=c.w,c.w=c.v,(c.d=c.d+362437|0)+(c.v=c.v^c.v<<4^(p^p<<1))|0},c.x=0,c.y=0,c.z=0,c.w=0,c.v=0,l===(l|0)?c.x=l:u+=l;for(var f=0;f<u.length+64;f++)c.x^=u.charCodeAt(f)|0,f==u.length&&(c.d=c.x<<10^c.x>>>4),c.next()}function o(l,c){return c.x=l.x,c.y=l.y,c.z=l.z,c.w=l.w,c.v=l.v,c.d=l.d,c}function s(l,c){var u=new a(l),f=c&&c.state,p=function(){return(u.next()>>>0)/4294967296};return p.double=function(){do var m=u.next()>>>11,g=(u.next()>>>0)/4294967296,h=(m+g)/(1<<21);while(h===0);return h},p.int32=u.next,p.quick=p,f&&(typeof f=="object"&&o(f,u),p.state=function(){return o(u,{})}),p}n&&n.exports?n.exports=s:this.xorwow=s})(qt,e)})(P9);var ZTe=P9.exports,O9={exports:{}};O9.exports;(function(e){(function(t,n,r){function a(l){var c=this;c.next=function(){var f=c.x,p=c.i,m,g;return m=f[p],m^=m>>>7,g=m^m<<24,m=f[p+1&7],g^=m^m>>>10,m=f[p+3&7],g^=m^m>>>3,m=f[p+4&7],g^=m^m<<7,m=f[p+7&7],m=m^m<<13,g^=m^m<<9,f[p]=g,c.i=p+1&7,g};function u(f,p){var m,g=[];if(p===(p|0))g[0]=p;else for(p=""+p,m=0;m<p.length;++m)g[m&7]=g[m&7]<<15^p.charCodeAt(m)+g[m+1&7]<<13;for(;g.length<8;)g.push(0);for(m=0;m<8&&g[m]===0;++m);for(m==8?g[7]=-1:g[m],f.x=g,f.i=0,m=256;m>0;--m)f.next()}u(c,l)}function o(l,c){return c.x=l.x.slice(),c.i=l.i,c}function s(l,c){l==null&&(l=+new Date);var u=new a(l),f=c&&c.state,p=function(){return(u.next()>>>0)/4294967296};return p.double=function(){do var m=u.next()>>>11,g=(u.next()>>>0)/4294967296,h=(m+g)/(1<<21);while(h===0);return h},p.int32=u.next,p.quick=p,f&&(f.x&&o(f,u),p.state=function(){return o(u,{})}),p}n&&n.exports?n.exports=s:this.xorshift7=s})(qt,e)})(O9);var YTe=O9.exports,N9={exports:{}};N9.exports;(function(e){(function(t,n,r){function a(l){var c=this;c.next=function(){var f=c.w,p=c.X,m=c.i,g,h;return c.w=f=f+1640531527|0,h=p[m+34&127],g=p[m=m+1&127],h^=h<<13,g^=g<<17,h^=h>>>15,g^=g>>>12,h=p[m]=h^g,c.i=m,h+(f^f>>>16)|0};function u(f,p){var m,g,h,v,y,x=[],C=128;for(p===(p|0)?(g=p,p=null):(p=p+"\0",g=0,C=Math.max(C,p.length)),h=0,v=-32;v<C;++v)p&&(g^=p.charCodeAt((v+32)%p.length)),v===0&&(y=g),g^=g<<10,g^=g>>>15,g^=g<<4,g^=g>>>13,v>=0&&(y=y+1640531527|0,m=x[v&127]^=g+y,h=m==0?h+1:0);for(h>=128&&(x[(p&&p.length||0)&127]=-1),h=127,v=4*128;v>0;--v)g=x[h+34&127],m=x[h=h+1&127],g^=g<<13,m^=m<<17,g^=g>>>15,m^=m>>>12,x[h]=g^m;f.w=y,f.X=x,f.i=h}u(c,l)}function o(l,c){return c.i=l.i,c.w=l.w,c.X=l.X.slice(),c}function s(l,c){l==null&&(l=+new Date);var u=new a(l),f=c&&c.state,p=function(){return(u.next()>>>0)/4294967296};return p.double=function(){do var m=u.next()>>>11,g=(u.next()>>>0)/4294967296,h=(m+g)/(1<<21);while(h===0);return h},p.int32=u.next,p.quick=p,f&&(f.X&&o(f,u),p.state=function(){return o(u,{})}),p}n&&n.exports?n.exports=s:this.xor4096=s})(qt,e)})(N9);var KTe=N9.exports,I9={exports:{}};I9.exports;(function(e){(function(t,n,r){function a(l){var c=this,u="";c.next=function(){var p=c.b,m=c.c,g=c.d,h=c.a;return p=p<<25^p>>>7^m,m=m-g|0,g=g<<24^g>>>8^h,h=h-p|0,c.b=p=p<<20^p>>>12^m,c.c=m=m-g|0,c.d=g<<16^m>>>16^h,c.a=h-p|0},c.a=0,c.b=0,c.c=-1640531527,c.d=1367130551,l===Math.floor(l)?(c.a=l/4294967296|0,c.b=l|0):u+=l;for(var f=0;f<u.length+20;f++)c.b^=u.charCodeAt(f)|0,c.next()}function o(l,c){return c.a=l.a,c.b=l.b,c.c=l.c,c.d=l.d,c}function s(l,c){var u=new a(l),f=c&&c.state,p=function(){return(u.next()>>>0)/4294967296};return p.double=function(){do var m=u.next()>>>11,g=(u.next()>>>0)/4294967296,h=(m+g)/(1<<21);while(h===0);return h},p.int32=u.next,p.quick=p,f&&(typeof f=="object"&&o(f,u),p.state=function(){return o(u,{})}),p}n&&n.exports?n.exports=s:this.tychei=s})(qt,e)})(I9);var QTe=I9.exports,RP={exports:{}};(function(e){(function(t,n,r){var a=256,o=6,s=52,l="random",c=r.pow(a,o),u=r.pow(2,s),f=u*2,p=a-1,m;function g(_,E,T){var M=[];E=E==!0?{entropy:!0}:E||{};var A=x(y(E.entropy?[_,w(n)]:_??C(),3),M),D=new h(M),j=function(){for(var B=D.g(o),N=c,H=0;B<u;)B=(B+H)*a,N*=a,H=D.g(1);for(;B>=f;)B/=2,N/=2,H>>>=1;return(B+H)/N};return j.int32=function(){return D.g(4)|0},j.quick=function(){return D.g(4)/4294967296},j.double=j,x(w(D.S),n),(E.pass||T||function(B,N,H,R){return R&&(R.S&&v(R,D),B.state=function(){return v(D,{})}),H?(r[l]=B,N):B})(j,A,"global"in E?E.global:this==r,E.state)}function h(_){var E,T=_.length,M=this,A=0,D=M.i=M.j=0,j=M.S=[];for(T||(_=[T++]);A<a;)j[A]=A++;for(A=0;A<a;A++)j[A]=j[D=p&D+_[A%T]+(E=j[A])],j[D]=E;(M.g=function(B){for(var N,H=0,R=M.i,G=M.j,X=M.S;B--;)N=X[R=p&R+1],H=H*a+X[p&(X[R]=X[G=p&G+N])+(X[G]=N)];return M.i=R,M.j=G,H})(a)}function v(_,E){return E.i=_.i,E.j=_.j,E.S=_.S.slice(),E}function y(_,E){var T=[],M=typeof _,A;if(E&&M=="object")for(A in _)try{T.push(y(_[A],E-1))}catch{}return T.length?T:M=="string"?_:_+"\0"}function x(_,E){for(var T=_+"",M,A=0;A<T.length;)E[p&A]=p&(M^=E[p&A]*19)+T.charCodeAt(A++);return w(E)}function C(){try{var _;return m&&(_=m.randomBytes)?_=_(a):(_=new Uint8Array(a),(t.crypto||t.msCrypto).getRandomValues(_)),w(_)}catch{var E=t.navigator,T=E&&E.plugins;return[+new Date,t,T,t.screen,w(n)]}}function w(_){return String.fromCharCode.apply(0,_)}if(x(r.random(),n),e.exports){e.exports=g;try{m=AI}catch{}}else r["seed"+l]=g})(typeof self<"u"?self:qt,[],Math)})(RP);var JTe=RP.exports,XTe=zTe,eEe=qTe,tEe=ZTe,nEe=YTe,rEe=KTe,aEe=QTe,lo=JTe;lo.alea=XTe;lo.xor128=eEe;lo.xorwow=tEe;lo.xorshift7=nEe;lo.xor4096=rEe;lo.tychei=aEe;var oEe=lo;const $Le=ve(oEe),sEe=/^【(\d+)†([^†】]+)(†[^†】]+)?】$/,iEe=["File created at","File last modified at"];function DLe(e){let t=[];if(!e||typeof e!="object")return null;if(!Object.hasOwn(e,"results"))return null;const n=e.results;if(!Array.isArray(n))return null;const r=n.map(L8);for(let o of r){if(o==null)return null;t.push(o)}let a;if(Object.hasOwn(e,"debug_info")){const o=e.debug_info;if(!o||typeof o!="object"||!Object.hasOwn(o,"retrieval_results")||!Array.isArray(o.retrieval_results))return null;const s=o.retrieval_results;a={retrieval_results:[]};for(const l of s){if(!l||typeof l!="object"||typeof l.query!="string"||!Array.isArray(l.results))return null;const c=l.query;let u=l.results.map(L8);const f=[];for(const p of u){if(!p)return null;f.push(p)}a.retrieval_results.push({query:c,results:f})}}return{results:t,debug_info:a}}function L8(e){const t={};if(!e||typeof e!="object")return null;for(const[n,r]of Object.entries(e))n==="score"&&typeof r=="number"?t.score=r:["document_id","content","title","created_at","updated_at","file_created_at","file_modified_at","document_chunk_id","cloud_doc_url","document_source"].includes(n)&&(r==null||typeof r=="string")&&(t[n]=r??void 0);return t.document_id==null||t.content==null?null:{...t,document_id:t.document_id,content:t.content}}function FLe(e){const t=[];let n=null,r="",a=e.split(`
`);a.length>0&&a[a.length-1].startsWith("Visible: ")&&(r=a.pop()??"");for(const o of a){const s=o.trim(),l=s.startsWith("# ")?sEe.exec(s.slice(2)):null;if(l&&l.length>=3){const c=parseInt(l[1],10),u=l[2],f=l[3]?.slice(1)||void 0;n&&t.push(n),n={resultNum:c,title:u,documentId:f,contents:"",metadata:{}}}else if(n)if(n.contents)n.contents+=`
${o}`;else{let c=!1;for(const u of iEe){const f=`${u}: `;if(s.startsWith(f)){n.metadata[u]=s.slice(f.length),c=!0;break}}c||(n.contents=o)}}return n&&t.push(n),{visibilityLine:r,chunks:t}}function BLe(e){const t=e.content;switch(t.content_type){case je.Text:return t.parts.join();case je.ExecutionOutput:case je.SystemError:case je.Code:case je.SystemMessage:case je.TetherQuote:case je.TetherBrowsingCode:return t.text;case je.TetherBrowsingDisplay:return t.result;case je.UserEditableContext:case je.ModelEditableContext:case je.Error:return null;case je.MultimodalText:return $8(t.parts);case je.SystemContent:return t.instructions==null?null:typeof t.instructions=="string"?t.instructions:$8(t.instructions)}}function $8(e){return e.filter(t=>typeof t=="string").join()}const lEe=e=>d.createElement("svg",{width:18,height:18,viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},d.createElement("path",{d:"M6 3C4.89543 3 4 3.89543 4 5V13C4 14.1046 4.89543 15 6 15L6 3Z",fill:"currentColor"}),d.createElement("path",{d:"M7 3V15H8.18037L8.4899 13.4523C8.54798 13.1619 8.69071 12.8952 8.90012 12.6858L12.2931 9.29289C12.7644 8.82153 13.3822 8.58583 14 8.58578V3.5C14 3.22386 13.7761 3 13.5 3H7Z",fill:"currentColor"}),d.createElement("path",{d:"M11.3512 15.5297L9.73505 15.8529C9.38519 15.9229 9.07673 15.6144 9.14671 15.2646L9.46993 13.6484C9.48929 13.5517 9.53687 13.4628 9.60667 13.393L12.9996 10C13.5519 9.44771 14.4473 9.44771 14.9996 10C15.5519 10.5523 15.5519 11.4477 14.9996 12L11.6067 15.393C11.5369 15.4628 11.448 15.5103 11.3512 15.5297Z",fill:"currentColor"})),cEe=Ke(()=>qe(()=>import("./ckygfojr7gh4ys1w.js").then(e=>e.b),__vite__mapDeps([67,1,3,4])));function LP(e){return e.find(t=>t.message.author.role===ie.Tool&&t.message.metadata?.pending_memory_info)}function uEe(e){return e.filter((t,n)=>{const r=e[n+1],o=r?.message.recipient==="assistant"&&r?.message.author.role===ie.Tool&&r?.message.author.name==="bio"&&Mr(r.message).startsWith("Model set context");return t.message.author.role===ie.Assistant&&t.message.recipient==="bio"&&o}).flatMap(t=>{const n=t.message.content.content_type;return n===je.Text?t.message.content.parts:n===je.Code?[t.message.content.text]:[]}).map(yEe)}function dEe(e){return e.some(t=>t.message.author.role===ie.Assistant&&t.message.recipient==="bio"&&t.message.status==="in_progress")}function fEe(e){const{eligible:t,isLoading:n}=ak(),r=d.useMemo(()=>e.length>0,[e]);d.useEffect(()=>{r&&t&&!n&&Re.openModal(et.GlobalMemoryOnboarding)},[r,t,n])}function pEe(e){const[t,n]=d.useState(!1);return{isPopoverOpen:t,setIsPopoverOpen:n,handleTogglePopover:a=>{const o=a??!t;n(o),o&&S.logEvent(k.memoryUpdatePopoverShown,{updateCount:e.length})}}}function $P({memoryWrites:e,popoverState:t,triggerButton:n,isParagen:r,setShowMemoriesModal:a}){return i.jsxs(hA,{open:t.isPopoverOpen,sideOffset:4,side:"bottom",alignAgainstAnchor:"start",size:"none",className:"z-10 min-w-60 max-w-96 text-sm",onOpenChange:o=>t.handleTogglePopover(o),disableAutofocus:!0,triggerButton:n,children:[i.jsx("div",{className:"mb-2 rounded border border-token-border-light bg-token-main-surface-secondary",children:e.map((o,s)=>i.jsx("div",{className:"border-b border-token-border-light px-3 py-2 first-letter:uppercase last:border-b-0",children:o},s))}),r?i.jsx("div",{className:"text-xs text-token-text-tertiary",children:i.jsx(b,{id:"MemoryActionResult.paragenMessage",defaultMessage:"This memory will be saved if you choose this response."})}):i.jsxs("button",{className:"flex w-full items-center justify-between rounded px-3 py-2 font-semibold hover:bg-token-main-surface-secondary",onClick:()=>{a(!0),S.logEvent(k.memoryUpdatePopoverManageButtonClicked,{updateCount:e.length})},children:[i.jsx(b,{id:"MemoryActionResult.manageMemories",defaultMessage:"Manage memories"}),i.jsx(is,{className:"icon-md -mr-1 text-token-text-tertiary"})]})]})}function mEe({clientThreadId:e,pendingMessage:t,memoryWrites:n,popoverState:r,setShowMemoriesModal:a}){const o=Ne(),s=U(),l=F.getServerThreadId(e),c=EI({clientThreadId:e}),u=n.join(" ");let f=u.slice(0,50).replace(new RegExp("^\\p{L}","u"),m=>m.toLocaleUpperCase()).replace(/\.$/,"");u.length>50&&(f+="...");const p=async m=>{if(!l)throw new Error("Failed to confirm or reject memory update: serverThreadId is not found");const g=t.message.metadata?.pending_memory_info;F.updateTree(e,h=>{h.updateNodeMessageMetadata(t.nodeId,{pending_memory_info:{...g,is_pending:!1,confirm_result:m}})});try{await q.confirmOrRejectMemory(t.message.id,l,m)}catch{o.danger(s.formatMessage({id:"memory.confirmOrDenyFail",defaultMessage:"Failed to confirm or reject memory update"})),F.updateTree(e,v=>{v.updateNodeMessageMetadata(t.nodeId,{pending_memory_info:g})})}};return i.jsxs("div",{className:"flex items-start",children:[i.jsx("div",{className:"inline-block text-sm font-semibold text-token-text-tertiary outline-none",children:i.jsx(b,{id:"MemoryActionResult.memoryConfirmation",defaultMessage:"Update memory? {memoryText}",values:{memoryText:i.jsx("div",{className:"inline-block py-1",onMouseOver:()=>r.handleTogglePopover(!0),onMouseOut:()=>r.handleTogglePopover(!1),children:i.jsx($P,{memoryWrites:n,popoverState:r,triggerButton:i.jsx("button",{className:P("text-left font-normal",r.isPopoverOpen?"text-token-text-secondary":"text-token-text-tertiary"),children:i.jsx(b,{id:"MemoryActionResult.memoryWrapper",defaultMessage:"“{memoryWrites}”",values:{memoryWrites:f}})}),setShowMemoriesModal:a})})}})}),i.jsx(re,{className:"ml-3 text-token-text-tertiary hover:text-token-text-primary",size:"xs",color:"secondary",disabled:c,onClick:()=>{p(!0)},children:i.jsx(b,{id:"MemoryActionResult.confirm",defaultMessage:"Yes"})}),i.jsx(re,{className:"ml-2 text-token-text-tertiary hover:text-token-text-primary",size:"xs",color:"secondary",disabled:c,onClick:()=>{p(!1)},children:i.jsx(b,{id:"MemoryActionResult.deny",defaultMessage:"No"})})]})}function gEe({memoryWrites:e,popoverState:t,isParagen:n,setShowMemoriesModal:r}){return e.length===0?null:i.jsx(i.Fragment,{children:i.jsx("div",{className:"inline-block",onMouseOver:()=>t.handleTogglePopover(!0),onMouseOut:()=>t.handleTogglePopover(!1),children:i.jsx($P,{memoryWrites:e,popoverState:t,isParagen:n,triggerButton:i.jsxs("button",{className:P("my-1 flex items-center gap-1 text-sm font-semibold outline-none",t.isPopoverOpen?"text-token-text-secondary":"text-token-text-tertiary"),children:[i.jsx(lEe,{className:"mb-[-1px]"}),e.length===1?i.jsx(b,{id:"MemoryActionResult.memoryWriteSingular.1",defaultMessage:"Memory updated"}):i.jsx(b,{id:"MemoryActionResult.memoryWritePlural.1",defaultMessage:"Memories updated"})]}),setShowMemoriesModal:r})})})}function hEe(e){const t=LP(e),n=t?.message.metadata?.pending_memory_info?.confirm_result;return t==null?null:n===!0?"confirmed":n===!1?"denied":"pending"}function vEe({messages:e,clientThreadId:t,gizmoId:n,isParagen:r}){const a=uEe(e),o=pEe(a),s=dEe(e);fEe(a);const[l,c]=d.useState(!1),u=LP(e),f=hEe(e);return f==="denied"?null:s?i.jsx("div",{className:"result-streaming",children:i.jsx("span",{children:i.jsx("pre",{})})}):i.jsxs(i.Fragment,{children:[f==="pending"?i.jsx(mEe,{clientThreadId:t,memoryWrites:a,popoverState:o,setShowMemoriesModal:c,pendingMessage:u}):i.jsx(gEe,{memoryWrites:a,popoverState:o,isParagen:r,setShowMemoriesModal:c}),l&&i.jsx(cEe,{initialGizmoId:n,onClose:()=>c(!1)})]})}function yEe(e){const t=["The user ","The user's ","User ","User's "];for(const n of t)if(e.startsWith(n))return e.slice(n.length);return e}const ULe=Object.freeze(Object.defineProperty({__proto__:null,MemoryActionResult:vEe},Symbol.toStringTag,{value:"Module"})),CEe={liveRegionAssertive:"",liveRegionPolite:""},$o=Me()(()=>({...CEe}));let K0,Q0;const _c={setLiveRegionAssertive:e=>{window.clearTimeout(K0),$o.setState({liveRegionAssertive:e}),K0=window.setTimeout(()=>{$o.setState({liveRegionAssertive:""}),K0=void 0},5e3)},setLiveRegionPolite:e=>{window.clearTimeout(Q0),$o.setState({liveRegionPolite:e}),Q0=window.setTimeout(()=>{$o.setState({liveRegionPolite:""}),Q0=void 0},5e3)}};function HLe(e){const{isCompletionRequestInProgress:t,isUserTurn:n,message:r}=e,a=U(),o=d.useRef(t);d.useEffect(()=>{if(!t)return;let s;_c.setLiveRegionAssertive(a.formatMessage({id:"0LFLpz",defaultMessage:"ChatGPT is generating a response..."}));const l=a.formatMessage({id:"uqqkLX",defaultMessage:"ChatGPT is still generating a response..."}),c=5e3;function u(){_c.setLiveRegionAssertive(""),s=window.setTimeout(()=>{_c.setLiveRegionAssertive(l),s=window.setTimeout(()=>u(),c)},1e3)}return s=window.setTimeout(u,c),()=>{window.clearTimeout(s)}},[t,a]),d.useEffect(()=>{if(t||n||!r||!o.current){o.current=t;return}const{content:s}=r,l=(s.content_type===je.Text,s),c=a.formatMessage({id:"lZ4dVJ",defaultMessage:"ChatGPT says: {message}"},{message:l?.parts?.join?.(`
`)??""});_c.setLiveRegionAssertive(c),o.current=!1},[n,t,a,r])}function xEe(e){return e.nodeType===Node.ELEMENT_NODE}function DP(e){if(xEe(e)){if(["THEAD","TR","TD","TH"].includes(e.nodeName.toUpperCase())){let t=e.parentNode;for(;t&&t.nodeName!=="TABLE";)t=t.parentNode;if(!t){lh.debug("Found table element without a parent <table>");const n=document.createElement("table");e.parentNode?.insertBefore(n,e),n.appendChild(e)}}e.attributes&&[...e.attributes].forEach(t=>{["style"].includes(t.name)&&e.removeAttribute(t.name)})}e.childNodes.forEach(DP)}function bEe(e){e.childNodes.forEach(DP)}function wEe(e){const t=e.currentTarget.ownerDocument,n=t.defaultView;e.preventDefault();const r=n?.getSelection();if(r&&r.rangeCount>0){const o=r.getRangeAt(0).cloneContents();bEe(o);const s=t.createElement("div");s.appendChild(o);const l=s.innerHTML;e.clipboardData.setData("text/html",l),e.clipboardData.setData("text/plain",r.toString())}}const VLe=e=>{const t=ia();return d.useCallback(n=>{wEe(n);const{currentTarget:r}=n,a=r.closest("[data-message-id]")?.getAttribute("data-message-id"),o=document.getSelection()?.toString(),s=F.getServerThreadId(e);!a||!o||!s||t||q.submitImplicitMessageFeedback({source:"keyboard",type:"copy",messageId:a,serverThreadId:s,selectedText:o,location:"selection"})},[e,t])},_Ee=Ke(()=>qe(()=>import("./gzp99d3yjsamuheq.js").then(e=>e.a),__vite__mapDeps([68,1,3,4,69,17,18])).then(e=>e.SearchSources));function GLe({clientThreadId:e}){const t=Yi(),{turnIndex:n,messageId:r,clientThreadId:a,scrollToHeader:o,shouldAnimateScroll:s}=j1("searchSources")??{},{closeThreadSidebar:l}=la(),c=d.useCallback(()=>{l({clientThreadId:e})},[l,e]);return!r||!n||!t||a!==e?null:i.jsx(J4,{handleClose:c,children:i.jsx(_Ee,{clientThreadId:e,scrollToHeader:o,shouldAnimateScroll:s,turnIndex:n,messageId:r,isInSidebar:!0})})}const SEe=Ke(()=>qe(()=>import("./n3y554bzx6zip8aa.js"),__vite__mapDeps([70,1,3,4,68,69,17,18])).then(e=>e.ChatScreenRetrievalResultsFlyoutContent));function WLe({clientThreadId:e}){const t=Yi(),{turnIndex:n,clientThreadId:r}=j1("retrievalResults")??{},{closeThreadSidebar:a}=la(),o=d.useCallback(()=>{a({clientThreadId:e})},[a,e]),s=!n||!t||r!==e;return d.useEffect(()=>{s&&t&&o()},[o,t,s]),s?null:i.jsx(J4,{handleClose:o,children:i.jsx(SEe,{turnIndex:n,clientThreadId:e})})}function zLe({clientThreadId:e}){d.useEffect(()=>{Re.closeSharingModal(),sE(),F.updateScrollToMessageId(e,"finalAgentTurn")},[e]);const t=be();d.useEffect(()=>(F.retainThread(e),()=>{setTimeout(()=>{t.invalidateQueries({queryKey:["conversation",e]})},0),F.releaseThread(e)}),[e,t]),d.useEffect(()=>()=>{z.checkGate("3922476776")||Ua.abortAllRequests()},[e]);const n=d.useRef(e);d.useEffect(()=>{e!==n.current&&(z.checkGate("3922476776")||Ua.clear(),n.current=e)},[e]);const{closeThreadSidebar:r}=la(),a=V9.useState(V9.getActiveSidebar);d.useEffect(()=>{(a?.type==="searchSources"||a?.type==="summarizer")&&a.clientThreadId!==KC&&r({clientThreadId:e})},[e,r])}const MEe={type:"spring",stiffness:300,damping:30,mass:1},qLe={transition:MEe,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0}};function D8(e,t){return e===t-1}function ZLe(e,t){const n=d.useRef(e).current,r=t&&e>n;d.useEffect(()=>{r&&(z.logEvent("chatgpt_continue_conversation_first_message_sent"),S.logEvent(k.continueConversationFirstMessageSent))},[r]),d.useEffect(()=>{t&&(z.logEvent("chatgpt_continue_conversation_page_loaded"),S.logEvent(k.continueConversationPageLoaded),z.logEvent("chatgpt_conversation_share_page_loaded"),S.logEvent(k.sharedConversationPageLoaded))},[t]);const a=Array.from({length:n},(s,l)=>({turnIndex:l,isFinalTurn:D8(l,e)})),o=Array.from({length:e-n},(s,l)=>{const c=l+n;return{turnIndex:c,isFinalTurn:D8(c,e)}});return{initialConversationTurns:a,continuedConversationTurns:o}}function YLe(){return i.jsx("div",{className:"text-pretty text-center text-xs font-semibold text-token-text-primary",children:i.jsx("button",{onClick:()=>{Re.openModal(et.ReportConversation),z.logEvent("chatgpt_conversation_share_report_content_clicked",null,{location:"Static Shared Thread Page"}),S.logEvent(k.sharedConversationReportContentClicked,{location:"Dynamic Shared Thread Page"})},children:i.jsx(b,{id:"thread.reportSharedConversation",defaultMessage:"Report content"})})})}function KLe(){return i.jsx("p",{className:"text-pretty text-center text-xs text-gray-500",children:i.jsx(b,{id:"threadLayout.sharedConversationCopyDisclaimer",defaultMessage:"This is a copy of a conversation between ChatGPT & Anonymous."})})}function QLe(){return i.jsxs("p",{className:"flex items-center justify-center text-pretty text-xs text-gray-500",children:[i.jsx(so,{className:"icon-xs mr-2"}),i.jsx(b,{id:"threadLayout.sharedConversationPrivateDisclaimer",defaultMessage:"Messages beyond this point are only visible to you"})]})}var TEe=typeof qt=="object"&&qt&&qt.Object===Object&&qt,EEe=typeof self=="object"&&self&&self.Object===Object&&self;TEe||EEe||Function("return this")();function kEe({threshold:e=0,root:t=null,rootMargin:n="0%",freezeOnceVisible:r=!1,initialIsIntersecting:a=!1,onChange:o}={}){var s;const[l,c]=d.useState(null),[u,f]=d.useState(()=>({isIntersecting:a,entry:void 0})),p=d.useRef();p.current=o;const m=((s=u.entry)==null?void 0:s.isIntersecting)&&r;d.useEffect(()=>{if(!l||!("IntersectionObserver"in window)||m)return;let v;const y=new IntersectionObserver(x=>{const C=Array.isArray(y.thresholds)?y.thresholds:[y.thresholds];x.forEach(w=>{const _=w.isIntersecting&&C.some(E=>w.intersectionRatio>=E);f({isIntersecting:_,entry:w}),p.current&&p.current(_,w),_&&r&&v&&(v(),v=void 0)})},{threshold:e,root:t,rootMargin:n});return y.observe(l),()=>{y.disconnect()}},[l,JSON.stringify(e),t,n,m,r]);const g=d.useRef(null);d.useEffect(()=>{var v;!l&&((v=u.entry)!=null&&v.target)&&!r&&!m&&g.current!==u.entry.target&&(g.current=u.entry.target,f({isIntersecting:a,entry:void 0}))},[l,u.entry,r,m,a]);const h=[c,!!u.isIntersecting,u.entry];return h.ref=h[0],h.isIntersecting=h[1],h.entry=h[2],h}function JLe(){const[e,t]=kEe({initialIsIntersecting:!1});return i.jsx("input",{name:"thread_is_scrolled_to_bottom",type:"checkbox",checked:t,ref:e,onChange:_e,className:"invisible h-px w-full border-none"})}function XLe(e){const{children:t,className:n,style:r,...a}=e,[o,s]=ci(a);return i.jsx("div",{"data-testid":`bar-container-${a.name||"default"}`,className:P("z-10 flex flex-col gap-bar",n),ref:s,style:{...r,...o},children:t})}function e$e({className:e}){const t=U();return i.jsx(AEe,{className:e,"aria-label":t.formatMessage({id:"L/a4AQ",defaultMessage:"Scroll to bottom"}),onPointerDown:async n=>{n.preventDefault(),n.stopPropagation(),z.logEvent("chatgpt_thread_scroll_to_bottom"),await new Promise(a=>{requestAnimationFrame(()=>{requestAnimationFrame(()=>{a()})})}),document.querySelector("[data-testid='screen-thread'] [slot=content]")?.scrollIntoView({behavior:"smooth",block:"end"})},children:i.jsx(ab,{className:"icon-md text-token-text-secondary"})})}const AEe=he.button`cursor-pointer absolute bottom-0 self-center z-10 rounded-full bg-clip-padding border text-token-text-secondary border-token-border-light right-1/2 translate-x-1/2 bg-token-main-surface-primary w-11 h-11 flex items-center justify-center`,t$e=d.createContext({setComposerFooterElement:()=>{}}),PEe=e=>d.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",...e},d.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.85719 3H15.1428C16.2266 2.99999 17.1007 2.99998 17.8086 3.05782C18.5375 3.11737 19.1777 3.24318 19.77 3.54497C20.7108 4.02433 21.4757 4.78924 21.955 5.73005C22.2568 6.32234 22.3826 6.96253 22.4422 7.69138C22.5 8.39925 22.5 9.27339 22.5 10.3572V13.6428C22.5 14.7266 22.5 15.6008 22.4422 16.3086C22.3826 17.0375 22.2568 17.6777 21.955 18.27C21.4757 19.2108 20.7108 19.9757 19.77 20.455C19.1777 20.7568 18.5375 20.8826 17.8086 20.9422C17.1008 21 16.2266 21 15.1428 21H8.85717C7.77339 21 6.89925 21 6.19138 20.9422C5.46253 20.8826 4.82234 20.7568 4.23005 20.455C3.28924 19.9757 2.52433 19.2108 2.04497 18.27C1.74318 17.6777 1.61737 17.0375 1.55782 16.3086C1.49998 15.6007 1.49999 14.7266 1.5 13.6428V10.3572C1.49999 9.27341 1.49998 8.39926 1.55782 7.69138C1.61737 6.96253 1.74318 6.32234 2.04497 5.73005C2.52433 4.78924 3.28924 4.02433 4.23005 3.54497C4.82234 3.24318 5.46253 3.11737 6.19138 3.05782C6.89926 2.99998 7.77341 2.99999 8.85719 3ZM6.35424 5.05118C5.74907 5.10062 5.40138 5.19279 5.13803 5.32698C4.57354 5.6146 4.1146 6.07354 3.82698 6.63803C3.69279 6.90138 3.60062 7.24907 3.55118 7.85424C3.50078 8.47108 3.5 9.26339 3.5 10.4V13.6C3.5 14.7366 3.50078 15.5289 3.55118 16.1458C3.60062 16.7509 3.69279 17.0986 3.82698 17.362C4.1146 17.9265 4.57354 18.3854 5.13803 18.673C5.40138 18.8072 5.74907 18.8994 6.35424 18.9488C6.97108 18.9992 7.76339 19 8.9 19H9.5V5H8.9C7.76339 5 6.97108 5.00078 6.35424 5.05118ZM11.5 5V19H15.1C16.2366 19 17.0289 18.9992 17.6458 18.9488C18.2509 18.8994 18.5986 18.8072 18.862 18.673C19.4265 18.3854 19.8854 17.9265 20.173 17.362C20.3072 17.0986 20.3994 16.7509 20.4488 16.1458C20.4992 15.5289 20.5 14.7366 20.5 13.6V10.4C20.5 9.26339 20.4992 8.47108 20.4488 7.85424C20.3994 7.24907 20.3072 6.90138 20.173 6.63803C19.8854 6.07354 19.4265 5.6146 18.862 5.32698C18.5986 5.19279 18.2509 5.10062 17.6458 5.05118C17.0289 5.00078 16.2366 5 15.1 5H11.5ZM5 8.5C5 7.94772 5.44772 7.5 6 7.5H7C7.55229 7.5 8 7.94772 8 8.5C8 9.05229 7.55229 9.5 7 9.5H6C5.44772 9.5 5 9.05229 5 8.5ZM5 12C5 11.4477 5.44772 11 6 11H7C7.55229 11 8 11.4477 8 12C8 12.5523 7.55229 13 7 13H6C5.44772 13 5 12.5523 5 12Z",fill:"currentColor"}));function F8(e){const t=e??document.querySelector("[data-name='application-root'] nav");return t&&getComputedStyle(t)?.getPropertyValue("--sidebar_should_light_dismiss")==="1"}const Mu={openSidebar:(e,t,n)=>{const r=e.currentTarget.tagName==="INPUT"?e.currentTarget:document.querySelector(`#${e.currentTarget.getAttribute("for")}`);e.preventDefault(),e.persist();const o=F8(null)?Mt.Floating:n;cp({className:"open-sidebar",types:[`from-${o}`],update:()=>{r&&(r.checked=!0),t.openSidebar()}})},closeSidebar:(e,t,n)=>{const r=e.currentTarget.tagName==="INPUT"?e.currentTarget:document.querySelector(`#${e.currentTarget.getAttribute("for")}`);e.preventDefault(),e.persist();const o=F8(null)?Mt.Floating:n;cp({className:"close-sidebar",types:[`from-${o}`],update:()=>{r&&(r.checked=!1),t.closeSidebar()}})},togglePinSidebar:(e,t,n)=>{const a=e.currentTarget.tagName==="INPUT"?e.currentTarget:document.querySelector(`#${e.currentTarget.getAttribute("for")}`);a&&cp({className:n===Mt.Pinned?"pin-sidebar":"unpin-sidebar",update:()=>{a.checked=n===Mt.Pinned,t.setSidebarMode(n)}})}};function n$e(){const{useStore:e,actions:t}=V4(),n=e(a=>a.isSidebarOpen),r=e(a=>a.mode);return i.jsxs(i.Fragment,{children:[i.jsx(j2,{id:Fn.FloatingOrPinned,name:Fn.FloatingOrPinned,checked:r===Mt.Pinned,onChange:a=>{a.preventDefault(),a.persist();const o=r===Mt.Pinned?Mt.Floating:Mt.Pinned;Mu.togglePinSidebar(a,t,o)}}),i.jsx(j2,{id:Fn.OpenOrClosed,name:Fn.OpenOrClosed,checked:n,onChange:a=>{a.currentTarget.checked?Mu.openSidebar(a,t,r):Mu.closeSidebar(a,t,r)}})]})}function r$e({className:e}){const{actions:t,useStore:n}=V4(),r=n(u=>u.mode),a=U(),o=da(),s=R1(),l=!o.get("enable_arch_updates",!1)||o.get("include_legacy_sidebar_contents",!1);function c(){$C(s)?Re.toggleNavSidebar():Re.togglePopoverNavSidebar()}return i.jsx(_6e,{className:P(G9.openSidebar,G9.sidebarIcon,e),htmlFor:Fn.OpenOrClosed,style:{viewTransitionName:"var(--vt_toggle_sidebar_closed)"},onClick:u=>{l&&(c(),u.preventDefault())},onActivate:u=>{l?(c(),u.preventDefault()):Mu.openSidebar(u,t,r)},icon:i.jsxs(i.Fragment,{children:[i.jsx(PEe,{className:P("h-6 w-6","hidden @lg/thread:inline-flex")}),i.jsx(y6e,{className:P("h-6 w-6","inline-flex @lg/thread:hidden")})]}),label:a.formatMessage({id:"mj1DU8",defaultMessage:"Open sidebar"})})}const OEe=Ke(()=>qe(()=>import("./j2h13udkl1zlckh2.js"),__vite__mapDeps([46,3,1,4,42,47,48,49,50,31,16])).then(e=>e.OpenDebugSidebarButton)),NEe=Ke(()=>qe(()=>Promise.resolve().then(()=>NMe),void 0).then(e=>e.default));function a$e(){const e=Rye();return i.jsxs("div",{className:P("absolute bottom-4 right-4 z-30 flex-col gap-1","hidden @lg/screen-composer:flex"),style:{viewTransitionName:"var(--vt_thread_tools)"},children:[e?i.jsxs(i.Fragment,{children:[i.jsx(OEe,{}),!1]}):null,i.jsx(NEe,{})]})}var IEe=(e=>(e[e.ADAVisualization=0]="ADAVisualization",e[e.Image=1]="Image",e))(IEe||{});function o$e(){const{isUnauthenticated:e,isLoading:t}=Lt(),{eligible:n,isLoading:r,markAsViewed:a}=ke(Ee.hasSeenPioneer),o=cn();return{eligible:o&&o.created>Date.now()/1e3-24*60*60&&n&&!e,isLoading:r||t,markAsViewed:a}}function jEe(){return window.dataLayer=window.dataLayer||[],function(){window.dataLayer.push(arguments)}}function REe(){["IDE","ANID","NID"].forEach(t=>{try{document.cookie=t+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;domain=."+window.location.hostname}catch{z.logEvent("chatgpt_pioneer_cookie_error")}})}function s$e(){const e=cn(),{cspScriptNonce:t}=d.useContext(mC);return!window||!e||!t?()=>{}:async()=>{let n;if(e.email)try{const s=new TextEncoder().encode(e.email);n=await crypto.subtle.digest("SHA-256",s).then(l=>Array.from(new Uint8Array(l)).map(c=>c.toString(16).padStart(2,"0")).join(""))}catch{z.logEvent("chatgpt_pioneer_email_error")}const r=document.createElement("script");r.src="https://www.googletagmanager.com/gtag/js?id=AW-16678058309",r.nonce=t,r.async=!0,document.body.appendChild(r);const a=jEe();a("js",new Date),a("config","AW-16678058309",{send_page_view:!1,conversion_linker:!0,restricted_data_processing:!0}),REe(),a("set","user_data",{sha256_email_address:n}),a("event","conversion",{send_to:"AW-16678058309/0kStCJHMl9QZEMXy25A-",user_data:{sha256_email_address:n}}),z.logEvent("chatgpt_pioneer_conv")}}var LEe=(e=>(e.Turn="turn",e.ImagesTab="images_tab",e))(LEe||{}),$Ee=(e=>(e[e.FromLeft=-1]="FromLeft",e[e.FromRight=1]="FromRight",e))($Ee||{});class Q2 extends nh()(()=>({currentImage:void 0})){setCurrentImage(t){this.setState({currentImage:t})}static useCurrentImage(){return this.useState(t=>t.currentImage)}}function i$e({clientThreadId:e,children:t}){const[n]=d.useState(new Q2);return d.useEffect(()=>{n.setCurrentImage(void 0)},[e,n]),i.jsx(Q2.Provider,{store:n,children:t})}function l$e({clientThreadId:e}){return Q2.useCurrentImage()?i.jsx(DEe,{clientThreadId:e}):null}const DEe=Ke(()=>qe(()=>import("./bh91sj5txs08nvqu.js"),__vite__mapDeps([71,1,3,4,14,17,18,15])).then(e=>e.ImageLightbox));function c$e(){const e=$o(n=>n.liveRegionAssertive),t=$o(n=>n.liveRegionPolite);return i.jsxs(i.Fragment,{children:[i.jsx("div",{"aria-live":"assertive","aria-atomic":"true",className:"sr-only",children:e}),i.jsx("div",{"aria-live":"polite","aria-atomic":"true",className:"sr-only",children:t})]})}const u$e=()=>{const e=U(),t=xe(o=>o.activeModals.has(et.KeyboardActions)),n=()=>{Re.closeModal(et.KeyboardActions)},r=Fk(),a=d.useMemo(()=>{const o=Math.ceil(r.length/2);return[r.slice(0,o),r.slice(o)]},[r]);return i.jsx(Te,{isOpen:t,onClose:n,type:"success",size:"custom",className:"md:max-w-[672px] lg:max-w-[796px] xl:max-w-4xl",showCloseButton:!0,title:e.formatMessage(UEe.keyboardActionsModalTitle),children:i.jsx(i.Fragment,{children:i.jsx("div",{className:"grid grid-flow-row grid-cols-[repeat(auto-fit,minmax(250px,1fr))] gap-x-9",children:a.map((o,s)=>i.jsx("div",{className:"flex flex-col overflow-hidden",children:o.map(l=>i.jsx(FEe,{action:l},l.key))},`col-${s}`))})})})},FEe=({action:e})=>i.jsxs("div",{className:"flex items-center justify-between overflow-hidden text-token-text-primary",children:[i.jsx("div",{className:"flex flex-shrink items-center overflow-hidden text-sm",children:i.jsx("div",{className:"truncate",children:i.jsx(b,{...e.actionMessageDescriptor})})}),i.jsx("div",{className:"ml-3 flex flex-row gap-2",children:j6e(e.keyboardBinding).map((t,n)=>i.jsx(BEe,{keyName:t},`${e.key}-${n}`))})]}),BEe=({keyName:e})=>{const t=P("my-2 flex h-8 items-center justify-center rounded-md border border-token-border-light capitalize text-token-text-secondary");return e.length>1?e.length>3?i.jsx("div",{className:P(t,"min-w-[50px]"),children:i.jsx("span",{className:"text-xs",children:e})}):i.jsx("div",{className:P(t,"min-w-[32px]"),children:i.jsx("span",{className:"text-xs",children:e})}):i.jsx("div",{className:P(t,"min-w-[32px]"),children:i.jsx("span",{className:"text-sm",children:e})})},UEe=V({keyboardActionsModalTitle:{id:"KeyboardActionsModal.keyboardActionsModalTitle",defaultMessage:"Keyboard shortcuts"}});function d$e(e){const{children:t,className:n,style:r,name:a,...o}=e;return i.jsx("div",{className:Mn.parent,"data-testid":"screen-composer-parent",children:i.jsxs("div",{className:P(Mn.screenComposer,Mn.sidebarColors,Mn.registeredScreenProperties,n),"data-name":a,"data-testid":"screen-composer",style:r,children:[i.jsx("div",{className:Mn.banner,children:o.banner}),i.jsx("nav",{className:Mn.sidebar,children:o.sidebar}),i.jsx("div",{className:Mn.header,children:o.header}),i.jsx("main",{className:Mn.thread,id:"thread",children:o.thread}),i.jsx("section",{className:Mn.details,id:"details",children:o.details}),i.jsx("aside",{className:Mn.threadExtendedInfo,id:"threadExtendedInfo",children:o.threadExtendedInfo}),i.jsx("footer",{className:Mn.footer,children:o.footer}),i.jsx("div",{className:Mn.debugger,children:o.debugger}),t]})})}const HEe="webp",VEe=72,GEe=72,WEe="srgb",zEe=4,qEe="uchar",ZEe=72,YEe=!1,KEe=!1,QEe=!0,JEe="{{.assetPrefix}}/assets/sora-fe7ru8qd.webp",J0={format:HEe,width:VEe,height:GEe,space:WEe,channels:zEe,depth:qEe,density:ZEe,isProgressive:YEe,hasProfile:KEe,hasAlpha:QEe,src:JEe};function f$e(){const{config:e,isLoading:t}=Ch("357305500");return!FP()||t||!e.get("can_see_upsell",!1)?null:i.jsx(L6e,{header:i.jsx("div",{className:"sticky top-[--sidebar-sticky-threshold] z-20",children:i.jsx(b,{id:"pOwV9+",defaultMessage:"Apps"})}),children:i.jsx(XEe,{})})}const FP=()=>{const{isUnauthenticated:e}=Lt(),t=Se(),n=t?.isPlus()||t?.isTeam()||t?.isPro();return!e&&!t?.isEnterprisey()&&n},XEe=()=>{const{config:e,isLoading:t}=Ch("357305500"),n=FP(),r=U();return t||!e.get("can_see_upsell",!1)||!n?null:i.jsx(eke,{id:"sora",href:"https://sora.com?utm_source=chatgpt",onClick:()=>{S.logEvent(k.sidebarClickGizmo,{gizmo_id:"sora"}),S.logEventWithStatsig(k.sidebarClickGizmo,"chatgpt_sidebar_click_sora",{gizmo_id:"sora"})},icon:i.jsx("img",{src:typeof J0=="string"?J0:J0.src,alt:r.formatMessage({id:"GizmoSidebarListItem.soraIcon",defaultMessage:"Sora icon"})}),label:r.formatMessage({id:"GizmoSidebarListItem.sora",defaultMessage:"Sora"}),hoverRightIcon:i.jsx("div",{className:"invisible text-token-text-secondary hover:text-token-text-primary group-hover:visible",children:i.jsx(Dh,{className:"icon-md"})})})},eke=({id:e,href:t,onClick:n,icon:r,label:a,hoverRightIcon:o})=>{const[s,l]=d.useState(!1);return i.jsx("div",{onMouseEnter:()=>{l(!0)},onMouseLeave:()=>{l(!1)},className:"relative self-stretch",children:i.jsx(B6e,{loggingGizmoId:e,href:t,target:"_blank",isHovered:s,onClick:n,icon:r,isMenuOpen:!1,label:a,hoverRightIcon:o})})},p$e=e=>d.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},d.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.75 4.5C5.50736 4.5 4.5 5.50736 4.5 6.75C4.5 7.99264 5.50736 9 6.75 9C7.99264 9 9 7.99264 9 6.75C9 5.50736 7.99264 4.5 6.75 4.5ZM2.5 6.75C2.5 4.40279 4.40279 2.5 6.75 2.5C9.09721 2.5 11 4.40279 11 6.75C11 9.09721 9.09721 11 6.75 11C4.40279 11 2.5 9.09721 2.5 6.75Z",fill:"currentColor"}),d.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.25 4.5C16.0074 4.5 15 5.50736 15 6.75C15 7.99264 16.0074 9 17.25 9C18.4926 9 19.5 7.99264 19.5 6.75C19.5 5.50736 18.4926 4.5 17.25 4.5ZM13 6.75C13 4.40279 14.9028 2.5 17.25 2.5C19.5972 2.5 21.5 4.40279 21.5 6.75C21.5 9.09721 19.5972 11 17.25 11C14.9028 11 13 9.09721 13 6.75Z",fill:"currentColor"}),d.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.75 15C5.50736 15 4.5 16.0074 4.5 17.25C4.5 18.4926 5.50736 19.5 6.75 19.5C7.99264 19.5 9 18.4926 9 17.25C9 16.0074 7.99264 15 6.75 15ZM2.5 17.25C2.5 14.9028 4.40279 13 6.75 13C9.09721 13 11 14.9028 11 17.25C11 19.5972 9.09721 21.5 6.75 21.5C4.40279 21.5 2.5 19.5972 2.5 17.25Z",fill:"currentColor"}),d.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.25 15C16.0074 15 15 16.0074 15 17.25C15 18.4926 16.0074 19.5 17.25 19.5C18.4926 19.5 19.5 18.4926 19.5 17.25C19.5 16.0074 18.4926 15 17.25 15ZM13 17.25C13 14.9028 14.9028 13 17.25 13C19.5972 13 21.5 14.9028 21.5 17.25C21.5 19.5972 19.5972 21.5 17.25 21.5C14.9028 21.5 13 19.5972 13 17.25Z",fill:"currentColor"}));function tke(){const{activeModals:e}=xe(),t=Se(),n=ke(Ee.ExploreGPTs),r=ke(Ee.ExploreGPTsNewNux),a=rpe(),o=Nf(),s=ca(),l=n.eligible&&!n.isLoading&&!o;let u=r.eligible&&!r.isLoading&&!o&&!a&&!s;return e.size>0&&(u=!1),!l&&t?.hasPlusFeatures()&&(u=!1),d.useEffect(()=>{u&&S.logEvent(k.storeDisplayNewNux)},[u]),u}function m$e({children:e}){const t=tke(),n=U(),r=ke(Ee.ExploreGPTsNewNux);return t?i.jsx(If,{announcementKey:Ee.ExploreGPTsNewNux,side:"right",show:!0,title:n.formatMessage(B8.exploreGPTsTitle),onDismiss:r.markAsViewed,sideOffset:20,theme:"bright",description:i.jsx(b,{...B8.exploreGPTsDescriptionNewNux}),children:e}):i.jsx(i.Fragment,{children:e})}const B8=V({exploreGPTsTitle:{id:"gptExploreGPTs.title",defaultMessage:"Explore GPTs"},exploreGPTsDescription:{id:"gptExploreGPTs.description",defaultMessage:"Now you can discover GPTs created by the community"},exploreGPTsDescriptionNewNux:{id:"gptExploreGPTs.descriptionNewNux",defaultMessage:"Discover custom versions of ChatGPT created for specific use cases like writing, research, and coding."}});function g$e(){const e=Ja(),{conversations:t}=FS();return{isCollapsible:e&&t.length>5,recentConversationLimit:5}}function h$e({showRetry:e,refetch:t}){return i.jsxs("div",{className:"mt-5 p-3 text-center italic text-token-text-tertiary",children:[i.jsx(b,{id:"p9u9Tx",defaultMessage:"Unable to load history"}),e&&i.jsx("div",{className:"mt-1",children:i.jsx(re,{as:"button",color:"primary",size:"small",className:"m-auto mt-2",onClick:()=>{t()},children:i.jsx(b,{id:"3NKcIv",defaultMessage:"Retry"})})})]})}function v$e(){return i.jsx("div",{className:Bl.btn,children:i.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[i.jsx("path",{className:Bl.bar,d:"M4 5V19"}),i.jsxs("g",{className:Bl.rightArrow,children:[i.jsx("path",{d:"M21 12L11 12"}),i.jsx("path",{d:"M16 7L21 12L16 17"})]}),i.jsxs("g",{className:Bl.leftArrow,children:[i.jsx("path",{d:"M13 12L3 12"}),i.jsx("path",{d:"M8 7L3 12L8 17"})]})]})})}const y$e=e=>d.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:20,height:20,viewBox:"0 0 20 20",fill:"none",...e},d.createElement("path",{d:"M16.5 16.5L13 13",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),d.createElement("path",{d:"M14.5 9C14.5 10.5188 13.8844 11.8938 12.8891 12.8891C11.8938 13.8844 10.5188 14.5 9 14.5C5.96243 14.5 3.5 12.0376 3.5 9C3.5 5.96243 5.96243 3.5 9 3.5C12.0376 3.5 14.5 5.96243 14.5 9Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}));function nke(){return(R2()?"⌘":"Ctrl")+" K"}function C$e({children:e,sideOffset:t,className:n}){return i.jsx(ot,{sideOffset:t,className:n,label:i.jsxs("div",{children:[i.jsx(b,{id:"jmd8WH",defaultMessage:"Search chats"}),i.jsx("div",{className:"text-sm font-normal text-token-text-secondary",children:nke()})]}),children:e})}function rke(e){const t=new AbortController,n=t.signal;let r=!1;function a(l){if(r)return;const{checkElement:c,onLightDismiss:u}=e.current;!U8(l.target,c)&&!ake(l.target)&&u()}function o(l){const{checkElement:c}=e.current;r=U8(l.target,c)}function s(l){const{onLightDismiss:c}=e.current;l.key==="Escape"&&c()}return document.addEventListener("mousedown",o,{signal:n}),document.addEventListener("mouseup",a,{signal:n}),document.addEventListener("keydown",s,{signal:n}),()=>{t.abort()}}function ake(e){return"getAttribute"in e?e.getAttribute("role")==="menuitem":!1}function U8(e,t){if(!e)return!1;let n=e;for(;n!=null;){if(t(n))return!0;n=n.parentElement}return!1}function x$e({onLightDismiss:e,checkElement:t,enabled:n}){const r=d.useRef({onLightDismiss:e,checkElement:t});r.current={onLightDismiss:e,checkElement:t},d.useEffect(()=>{if(n)return rke(r)},[n])}export{tn as $,jye as A,Ir as B,F1 as C,ZIe as D,Fh as E,j1e as F,pIe as G,Ik as H,QPe as I,y6e as J,wE as K,gye as L,mye as M,Q$ as N,zIe as O,d$e as P,tje as Q,tE as R,$1e as S,bAe as T,Re as U,nb as V,mAe as W,kPe as X,FPe as Y,YPe as Z,Vd as _,NI as a,Ef as a$,zn as a0,gme as a1,Ml as a2,TT as a3,oo as a4,Be as a5,mge as a6,DT as a7,Cge as a8,OT as a9,hge as aA,kT as aB,ET as aC,wT as aD,OOe as aE,ao as aF,ni as aG,h2 as aH,rAe as aI,un as aJ,io as aK,K$ as aL,Qd as aM,zMe as aN,Eo as aO,DMe as aP,FMe as aQ,pa as aR,RMe as aS,jMe as aT,WMe as aU,Gt as aV,mx as aW,Z2 as aX,cue as aY,Z1 as aZ,mOe as a_,Ume as aa,q6 as ab,Tme as ac,nge as ad,sa as ae,Hn as af,Sn as ag,TOe as ah,MOe as ai,kOe as aj,$Oe as ak,POe as al,xge as am,m2 as an,Gd as ao,Df as ap,Jme as aq,Qme as ar,AOe as as,xt as at,Ome as au,qme as av,Uo as aw,vr as ax,IOe as ay,rge as az,e3e as b,FLe as b$,YNe as b0,oa as b1,zRe as b2,D6e as b3,O0e as b4,SOe as b5,Wk as b6,u4 as b7,KRe as b8,QRe as b9,G5 as bA,yl as bB,ZS as bC,gn as bD,ji as bE,Xe as bF,Jk as bG,BAe as bH,C$ as bI,x$ as bJ,NNe as bK,bi as bL,uNe as bM,rNe as bN,IEe as bO,ZRe as bP,eA as bQ,Q2 as bR,LEe as bS,$Ee as bT,C$e as bU,nke as bV,R2 as bW,sAe as bX,r$ as bY,Ji as bZ,h2e as b_,vl as ba,I1e as bb,SPe as bc,aPe as bd,Fe as be,QC as bf,Da as bg,D7 as bh,M1e as bi,x1e as bj,lNe as bk,vM as bl,A2e as bm,sNe as bn,M2e as bo,aNe as bp,kf as bq,oNe as br,Xy as bs,wNe as bt,y2e as bu,XT as bv,gIe as bw,cn as bx,Cl as by,q1 as bz,bIe as c,Yve as c$,Bje as c0,ITe as c1,Ce as c2,c4 as c3,Y1e as c4,bM as c5,mi as c6,cRe as c7,GRe as c8,$Ne as c9,dke as cA,mke as cB,gke as cC,Nu as cD,xi as cE,hke as cF,xe as cG,Nf as cH,GIe as cI,S4 as cJ,WIe as cK,k3e as cL,KAe as cM,L3e as cN,JE as cO,VIe as cP,L6e as cQ,HIe as cR,UIe as cS,$6e as cT,BIe as cU,G6e as cV,lIe as cW,j4 as cX,DIe as cY,tIe as cZ,U6e as c_,JPe as ca,Sje as cb,Mje as cc,D2 as cd,tde as ce,rOe as cf,xOe as cg,gOe as ch,Sf as ci,lk as cj,h7e as ck,Un as cl,Pn as cm,aa as cn,zx as co,Ki as cp,cje as cq,Wke as cr,VRe as cs,j2 as ct,w6e as cu,hRe as cv,a$e as cw,uPe as cx,dIe as cy,P0e as cz,wIe as d,Wt as d$,B6e as d0,n9 as d1,Gk as d2,o3e as d3,$Ie as d4,RIe as d5,cpe as d6,zPe as d7,LIe as d8,eIe as d9,T0e as dA,E0e as dB,k0e as dC,F0e as dD,i$e as dE,l$e as dF,DPe as dG,$Pe as dH,Ii as dI,tt as dJ,Vje as dK,Bbe as dL,wue as dM,Pc as dN,fSe as dO,sL as dP,ISe as dQ,V1 as dR,X_ as dS,NSe as dT,Ol as dU,bl as dV,jbe as dW,x9 as dX,kA as dY,Nl as dZ,Il as d_,YAe as da,zwe as db,GAe as dc,Hje as dd,Gje as de,Uje as df,MNe as dg,fje as dh,O$ as di,Jx as dj,iLe as dk,Jy as dl,_a as dm,hl as dn,zT as dp,KM as dq,lLe as dr,lje as ds,Lx as dt,v4 as du,vIe as dv,R0e as dw,L0e as dx,$0e as dy,D0e as dz,xIe as e,jNe as e$,Nt as e0,sM as e1,Xx as e2,qye as e3,VNe as e4,GNe as e5,l3e as e6,Nbe as e7,c3e as e8,wl as e9,SAe as eA,EAe as eB,kAe as eC,AAe as eD,Bw as eE,Pw as eF,J_ as eG,Uw as eH,wAe as eI,BPe as eJ,FP as eK,XEe as eL,n3e as eM,m$e as eN,tPe as eO,lye as eP,p$e as eQ,UPe as eR,Rh as eS,Oo as eT,Ete as eU,m9 as eV,e$ as eW,yAe as eX,sIe as eY,_3e as eZ,$ke as e_,qRe as ea,Xn as eb,LAe as ec,$Ae as ed,v5 as ee,MAe as ef,TAe as eg,ki as eh,ka as ei,dne as ej,Ai as ek,KX as el,jAe as em,RAe as en,C5 as eo,jw as ep,$w as eq,Rw as er,Lw as es,_ne as et,Rne as eu,_Ae as ev,OAe as ew,NAe as ex,IAe as ey,PAe as ez,N0e as f,x0 as f$,_f as f0,Lke as f1,zAe as f2,uTe as f3,Hx as f4,Ike as f5,hAe as f6,Zpe as f7,Dke as f8,yM as f9,kP as fA,oje as fB,m4 as fC,OMe as fD,FNe as fE,zNe as fF,Jd as fG,qNe as fH,ZNe as fI,EM as fJ,Jfe as fK,Xfe as fL,WE as fM,l2e as fN,S$ as fO,_t as fP,sRe as fQ,iRe as fR,aRe as fS,C3e as fT,AE as fU,kE as fV,hA as fW,h3e as fX,Mxe as fY,NP as fZ,Tje as f_,AMe as fa,ck as fb,V3e as fc,tAe as fd,nAe as fe,Uye as ff,vAe as fg,sje as fh,US as fi,Qf as fj,CIe as fk,N8 as fl,js as fm,B8e as fn,iA as fo,F8e as fp,rPe as fq,cAe as fr,uAe as fs,N$ as ft,s2e as fu,dAe as fv,oAe as fw,oM as fx,r$e as fy,t$ as fz,fx as g,rx as g$,VAe as g0,yS as g1,jPe as g2,RPe as g3,LPe as g4,MPe as g5,IPe as g6,o2 as g7,fde as g8,APe as g9,YMe as gA,Is as gB,QIe as gC,JIe as gD,XIe as gE,a9 as gF,GPe as gG,ZPe as gH,zE as gI,eje as gJ,KIe as gK,Aye as gL,Iye as gM,OI as gN,Eh as gO,fIe as gP,pj as gQ,cm as gR,Qfe as gS,ike as gT,Ph as gU,Sx as gV,lke as gW,O8 as gX,fke as gY,nx as gZ,yje as g_,WS as ga,Tf as gb,bPe as gc,fPe as gd,pPe as ge,kn as gf,EPe as gg,mPe as gh,ELe as gi,kLe as gj,MLe as gk,TLe as gl,D8e as gm,BLe as gn,DLe as go,Yke as gp,aAe as gq,Qke as gr,Une as gs,so as gt,uue as gu,QAe as gv,x_e as gw,h_e as gx,k6 as gy,gde as gz,B0e as h,R3e as h$,_P as h0,aLe as h1,iTe as h2,eLe as h3,nLe as h4,tLe as h5,rLe as h6,KPe as h7,wP as h8,JRe as h9,gPe as hA,QLe as hB,JLe as hC,Ire as hD,t$e as hE,XLe as hF,e$e as hG,V4 as hH,ci as hI,WRe as hJ,ZOe as hK,YOe as hL,qpe as hM,RLe as hN,ePe as hO,WOe as hP,zOe as hQ,lE as hR,phe as hS,Um as hT,pue as hU,m1e as hV,qLe as hW,SRe as hX,LNe as hY,o$e as hZ,s$e as h_,XRe as ha,pRe as hb,ok as hc,TPe as hd,yxe as he,XL as hf,nNe as hg,Xje as hh,lAe as hi,Rke as hj,hje as hk,Kke as hl,nPe as hm,jke as hn,dv as ho,t9 as hp,mLe as hq,zke as hr,ZLe as hs,mRe as ht,VLe as hu,YRe as hv,vLe as hw,Rje as hx,KLe as hy,YLe as hz,A0e as i,aye as i$,w2 as i0,EIe as i1,MIe as i2,u$e as i3,TIe as i4,c$e as i5,mIe as i6,sye as i7,CLe as i8,ab as i9,_Re as iA,CA as iB,eo as iC,Hke as iD,Aue as iE,Oue as iF,kbe as iG,WA as iH,mue as iI,o8 as iJ,w3e as iK,Obe as iL,Cbe as iM,iPe as iN,e4 as iO,t4 as iP,$be as iQ,by as iR,Fke as iS,dje as iT,Yk as iU,x3e as iV,iIe as iW,INe as iX,jIe as iY,V6e as iZ,X6e as i_,Zve as ia,K1 as ib,Ar as ic,ke as id,Ee as ie,If as ig,_9 as ih,tRe as ii,nRe as ij,Rge as ik,HOe as il,mje as im,D5 as io,PP as ip,_ue as iq,kM as ir,X5 as is,JA as it,Fa as iu,x2e as iv,E3e as iw,cIe as ix,Lbe as iy,Gr as iz,D1e as j,XAe as j$,rye as j0,FIe as j1,Zk as j2,Xk as j3,TRe as j4,kSe as j5,ERe as j6,kRe as j7,Vke as j8,COe as j9,mhe as jA,cE as jB,rIe as jC,Uk as jD,Vk as jE,g$e as jF,FS as jG,h$e as jH,qk as jI,f$e as jJ,_6e as jK,v$e as jL,Mu as jM,Mt as jN,x$e as jO,PEe as jP,y$e as jQ,F8 as jR,n$e as jS,rRe as jT,Xi as jU,URe as jV,EE as jW,L4 as jX,RRe as jY,jRe as jZ,oRe as j_,lT as ja,cT as jb,ije as jc,_Oe as jd,bOe as je,me as jf,D6 as jg,wOe as jh,a0e as ji,o0e as jj,epe as jk,Pue as jl,lPe as jm,cPe as jn,lxe as jo,Sbe as jp,axe as jq,_4e as jr,gP as js,FSe as jt,gMe as ju,cL as jv,_Ne as jw,z3e as jx,W4 as jy,qke as jz,zLe as k,BOe as k$,Bre as k0,a4e as k1,nM as k2,lc as k3,q8e as k4,zve as k5,BS as k6,oIe as k7,Abe as k8,QA as k9,V5 as kA,$7 as kB,hIe as kC,v0 as kD,cv as kE,Kr as kF,hde as kG,yde as kH,pke as kI,gx as kJ,C6e as kK,Lte as kL,xNe as kM,W2e as kN,Os as kO,yNe as kP,CNe as kQ,bNe as kR,vNe as kS,hNe as kT,Ibe as kU,NRe as kV,sSe as kW,IRe as kX,ORe as kY,IIe as kZ,Xt as k_,i1 as ka,A2 as kb,b3e as kc,nIe as kd,Jke as ke,iAe as kf,fAe as kg,pAe as kh,On as ki,T3e as kj,aIe as kk,Vx as kl,qPe as km,WAe as kn,wye as ko,FAe as kp,UAe as kq,$q as kr,tx as ks,wre as kt,sm as ku,Dh as kv,rje as kw,Hne as kx,H5 as ky,ZAe as kz,DNe as l,J1e as l$,Rf as l0,sge as l1,Pme as l2,VOe as l3,FOe as l4,LOe as l5,ROe as l6,Rr as l7,GOe as l8,DOe as l9,VPe as lA,uIe as lB,Rte as lC,q_ as lD,i0 as lE,Hte as lF,Vte as lG,hs as lH,R$ as lI,Wye as lJ,uE as lK,Ehe as lL,o9 as lM,KT as lN,ZCe as lO,k8e as lP,I2e as lQ,j2e as lR,Wje as lS,Lye as lT,$ye as lU,Dye as lV,vxe as lW,Nje as lX,PPe as lY,Kje as lZ,qje as l_,NOe as la,hme as lb,_T as lc,UOe as ld,Dme as le,eNe as lf,b$ as lg,HAe as lh,Wa as li,Zt as lj,tNe as lk,YT as ll,XOe as lm,f4 as ln,$pe as lo,BNe as lp,UNe as lq,r2e as lr,WPe as ls,Zx as lt,lpe as lu,Q1e as lv,qOe as lw,xAe as lx,a3e as ly,HPe as lz,NIe as m,$ue as m$,tOe as m0,jje as m1,zje as m2,Dje as m3,$je as m4,Lje as m5,eRe as m6,eOe as m7,OPe as m8,Zje as m9,Lh as mA,Rd as mB,gxe as mC,Nke as mD,BCe as mE,wke as mF,JOe as mG,HS as mH,Id as mI,KOe as mJ,Pbe as mK,sE as mL,xx as mM,CAe as mN,Oje as mO,wje as mP,Xke as mQ,HCe as mR,Pje as mS,$Re as mT,gS as mU,vje as mV,Aje as mW,vRe as mX,yRe as mY,xke as mZ,xje as m_,Qje as ma,NPe as mb,dRe as mc,Ije as md,uRe as me,lRe as mf,N2e as mg,Yy as mh,e6e as mi,Bke as mj,gNe as mk,c2e as ml,CRe as mm,fRe as mn,xRe as mo,bRe as mp,gRe as mq,wRe as mr,it as ms,i4e as mt,oCe as mu,LRe as mv,FRe as mw,DRe as mx,Yje as my,Jje as mz,OIe as n,RR as n$,u2e as n0,j3e as n1,dPe as n2,Cke as n3,Cje as n4,QOe as n5,M4 as n6,XE as n7,Bue as n8,Wx as n9,dLe as nA,TE as nB,gLe as nC,cLe as nD,hLe as nE,Al as nF,RNe as nG,_Le as nH,bLe as nI,wLe as nJ,ZMe as nK,xLe as nL,SLe as nM,Uke as nN,$Le as nO,mNe as nP,ILe as nQ,kIe as nR,AIe as nS,WTe as nT,MRe as nU,v2e as nV,M6e as nW,Va as nX,Hue as nY,pNe as nZ,HLe as n_,gje as na,F3e as nb,uje as nc,Uue as nd,a2 as ne,xl as nf,B2e as ng,pje as nh,BRe as ni,HRe as nj,khe as nk,rb as nl,TNe as nm,ENe as nn,q6e as no,Z6e as np,z1 as nq,PA as nr,ATe as ns,pLe as nt,TTe as nu,fLe as nv,MTe as nw,bTe as nx,Kk as ny,uLe as nz,nje as o,i9 as o$,Eke as o0,yLe as o1,LLe as o2,Pwe as o3,vEe as o4,Fje as o5,ALe as o6,jLe as o7,NLe as o8,PLe as o9,Ype as oA,i2 as oB,Bd as oC,YM as oD,Fd as oE,Dd as oF,lOe as oG,Gke as oH,iOe as oI,Qx as oJ,hOe as oK,pOe as oL,dOe as oM,cOe as oN,uOe as oO,jre as oP,oOe as oQ,aOe as oR,sOe as oS,n0e as oT,fOe as oU,vOe as oV,Pl as oW,kje as oX,fA as oY,Kf as oZ,c9 as o_,OLe as oa,DAe as ob,bSe as oc,Rye as od,qMe as oe,Cde as of,bde as og,x6e as oh,aje as oi,lEe as oj,eS as ok,SMe as ol,Qwe as om,Xue as on,ARe as oo,PRe as op,Gne as oq,Mre as or,im as os,Zu as ot,Th as ou,$3e as ov,K4 as ow,SIe as ox,W7e as oy,U7e as oz,qIe as p,U1 as p$,s9 as p0,dA as p1,nxe as p2,bje as p3,XNe as p4,pe as p5,KNe as p6,j6e as p7,gAe as p8,oLe as p9,S5e as pA,iy as pB,sy as pC,t5e as pD,Yu as pE,Zde as pF,PI as pG,CR as pH,uR as pI,Xj as pJ,qu as pK,D1 as pL,eR as pM,Sre as pN,_re as pO,An as pP,bke as pQ,n2 as pR,Yr as pS,kke as pT,br as pU,Mke as pV,Tke as pW,vke as pX,_ke as pY,SNe as pZ,Ske as p_,sLe as pa,TP as pb,MP as pc,EP as pd,J5 as pe,K6e as pf,yIe as pg,G3e as ph,QNe as pi,JNe as pj,m7e as pk,Zke as pl,nOe as pm,q3e as pn,dE as po,kNe as pp,ONe as pq,ANe as pr,fn as ps,yE as pt,gE as pu,E2 as pv,PNe as pw,ly as px,P5e as py,cy as pz,GLe as q,mn as q0,um as q1,fj as q2,Ake as q3,Nre as q4,Px as q5,Pke as q6,uke as q7,Oke as q8,cke as q9,Dde as qA,pM as qB,i4 as qC,zde as qD,Wde as qE,wPe as qF,I6 as qG,oPe as qH,Jde as qI,eAe as qJ,y0 as qK,ULe as qL,yke as qa,Cx as qb,jI as qc,RI as qd,_Pe as qe,hPe as qf,yPe as qg,CPe as qh,vPe as qi,sPe as qj,JAe as qk,Gce as ql,CS as qm,xPe as qn,_je as qo,Hy as qp,b8e as qq,Za as qr,U8e as qs,fNe as qt,dNe as qu,iNe as qv,Zue as qw,b2e as qx,cNe as qy,C2e as qz,WLe as r,wh as s,ta as t,dx as u,PIe as v,YIe as w,d4 as x,et as y,Eje as z};
//# sourceMappingURL=ntw4l0fkgqdiln85.js.map
