const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/nybk0i2l6i02zcof.js","assets/lklglvrzltpv3f05.js"])))=>i.map(i=>d[i]);
import{bb as u,L as p,bo as E,bp as g,I as c,u as f,a2 as S,N as y,aO as w,a4 as i,cx as U}from"./ltrr4mhf6s4m7a72.js";import{u as d,r as l}from"./lklglvrzltpv3f05.js";import{aW as D}from"./ntw4l0fkgqdiln85.js";const F=()=>{const{value:e}=u("3700195277");return e||!1},P=()=>{const{value:e}=u("711369489");return e},q=()=>!!p()?.features.includes(E.CanvasCodeExecution)||void 0,R=()=>{const{value:e}=u("2311599525");return e},V=()=>{const{value:e}=u("3468624635");return e||!1},K=()=>{const{value:e}=u("3286474446"),s=g();return e&&!s};async function m(e){const s=await w(()=>import("./nybk0i2l6i02zcof.js").then(a=>a.i),__vite__mapDeps([0,1]));if(i!=null&&e?.startsWith(i))return!0;try{return s.get(new URL(e??"").hostname)==="openai.com"}catch{return!1}}function H(e,s){const a=c();return d({queryKey:["safe-url",{serverThreadId:e,url:s,isHistoryAndTrainingDisabled:a}],queryFn:async()=>{if(e==null||s==null)throw new Error("Unexpected falsey useSafeUrlQuery");return await m(s)||U(e)?.safeUrls.includes(s)?{safe:!0}:y.getConversationSafeUrls(e,s,a)},enabled:e!=null&&s!=null})}function L(e,s,a=!0){const o=f(t=>e!=null&&s!=null&&S.isThreadUrlSafe(e,s,t)),{data:{safe:r}={}}=H(e,o?void 0:s);return o||r||!a?s:void 0}function M(e,s){const[a,o]=l.useState(void 0),[r]=l.useState(()=>D(t=>{o(t)},s));return l.useEffect(()=>{r(e)},[r,e]),a===e?e:void 0}function Q(e,s){const a=c(),o=f(t=>e==null?[]:S.getThread(e,t)?.safeUrls??[]),{data:r=[]}=d({queryKey:["safe-urls",e,s,a,o],queryFn:async()=>{const t=o.filter(n=>s.includes(n)),C=s.filter(n=>!t.includes(n)),b=(await Promise.allSettled(C.map(async n=>{if(await m(n))return n;if(e==null)return null;try{return(await y.getConversationSafeUrls(e,n,a)).safe?n:null}catch{return null}}))).map(n=>n.status==="fulfilled"?n.value:null).filter(n=>n!=null);return t.concat(b)},enabled:e!=null&&s.length>0});return r}export{R as a,P as b,q as c,F as d,Q as e,M as f,L as g,K as h,V as u};
//# sourceMappingURL=l6o7kknkh2c8b31f.js.map
