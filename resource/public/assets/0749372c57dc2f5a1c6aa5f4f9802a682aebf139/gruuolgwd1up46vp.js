const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/jchrwujngtw3q930.js","assets/lklglvrzltpv3f05.js","assets/ntw4l0fkgqdiln85.js","assets/ltrr4mhf6s4m7a72.js","assets/root-bh5spu2n.css","assets/conversation-small-iybhw0ps.css","assets/f8pqiq3yt5rzdtoz.js","assets/d3y72ugnrmac5z1v.js","assets/egqiifu2w883tusr.js","assets/fzrn137102spawew.js","assets/e9lafxuzyeh4418f.js","assets/j9pn3dpqp3dnyeg5.js","assets/hzqr5if7i3daaxip.js","assets/c4bxzbp1808foto4.js"])))=>i.map(i=>d[i]);
import{j as e,M as i,d as oe,r as f,ac as D,c as U,u as le,e as W}from"./lklglvrzltpv3f05.js";import{aX as T,P as g,bm as C,d1 as ce,d6 as de,dd as ue,ao as p,c2 as ge,c3 as me,bX as fe,bZ as pe,f as P,aq as H,N as G,S as k,j as N,gv as he,bd as xe,aN as be,aO as ve,y as ye,aQ as je,L as A,d$ as Se,K as Me,bS as z,d5 as Ce,ag as ke,fI as Ne,gw as Te,as as Pe,X as we,Y as Ie,f_ as _e,d9 as Ue,bT as I,bb as Ae}from"./ltrr4mhf6s4m7a72.js";import{gB as K,aJ as L,aK as $,cG as q,U as v,J as Le,gC as M,gD as Fe,gE as Be,gF as E,y as X,gG as Oe,gH as Ee,b1 as Re,gI as J,gJ as De,eP as R,d7 as We,eM as He,gK as Ge,Z as ze,gL as Ke,gM as $e}from"./ntw4l0fkgqdiln85.js";import{N as Z,d as qe,U as Q,e as Xe}from"./hzzlkn5ny7a6v61q.js";function ga({onClick:a,className:s,...t}){return e.jsx(qe,{onClick:a,className:p(s,"flex-grow overflow-hidden"),...t})}function ma({onNewChatButtonClick:a}){const{isUnauthenticated:s,isLoading:t}=T();return t||!s?null:e.jsx(Z,{className:"mr-3",onClick:()=>{g.logNewChatButtonClicked({location:"Mobile header"}),a()}})}function fa({onNewChatButtonClick:a}){const{isUnauthenticated:s,isLoading:t}=T(),n=K();return t?null:s?n?e.jsx(Ze,{}):e.jsx(Je,{}):e.jsx(Z,{onClick:()=>{g.logNewChatButtonClicked({location:"Mobile header"}),a()}})}function Je(){const a=L(),s=$(V.signUpButtonText);return e.jsx(C,{as:"button",size:"small",color:"primary",onClick:()=>{a({authType:"signup",callback:t=>{g.logSignUpButtonClicked({location:"Mobile Chat Stage Header",provider:t})}})},children:e.jsx(i,{...s})})}function Ze(){const a=L();return e.jsx(C,{as:"button",size:"small",color:"primary",onClick:()=>{a({authType:"login",callback:s=>{g.logLogInButtonClicked({location:"Mobile Chat Stage Header",provider:s})}})},"data-testid":"mobile-login-button",children:e.jsx(i,{...ce.logInButtonText})})}function Qe({onClick:a}){return e.jsxs("button",{type:"button",className:"inline-flex rounded-md hover:text-token-text-primary focus:outline-none focus:ring-2 focus:ring-inset focus:ring-white active:opacity-50",onClick:a,"data-testid":"open-sidebar-button",children:[e.jsx("span",{className:"sr-only",children:e.jsx(i,{...V.openSidebar})}),e.jsx(Le,{className:"icon-lg mx-2 text-token-text-secondary"})]})}const pa=({onClickOpenSidebar:a,children:s,showNavSidebar:t,leftContent:n,rightContent:l,bottomContent:o})=>{const c=q(u=>u.activeSidebar),r=oe(),d=r.pathname+r.search+r.hash;return f.useEffect(()=>{c==="popover-nav"&&v.setActiveSidebar(!1)},[d]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"draggable sticky top-0 z-10 flex min-h-[60px] items-center justify-center border-transparent bg-token-main-surface-primary pl-0 md:hidden",children:[(t||n)&&e.jsxs("div",{className:"no-draggable absolute bottom-0 left-0 top-0 ml-3 inline-flex items-center justify-center",children:[t&&e.jsx(Qe,{onClick:a}),n]}),e.jsx("div",{className:"no-draggable",children:s}),l&&e.jsx("div",{className:"no-draggable absolute bottom-0 right-0 top-0 mr-3 inline-flex items-center justify-center",children:l})]}),o&&e.jsx("div",{className:"no-draggable flex w-full items-center justify-center bg-token-main-surface-primary md:hidden",children:o})]})};function ha({isPopoverOnDesktop:a=!1,isExpanded:s=!1,children:t}){const n=de();return e.jsxs(e.Fragment,{children:[!n||a?e.jsx(Ye,{children:t}):null,e.jsx(Ve,{isExpanded:!a&&s,children:t})]})}function Ve({isExpanded:a,children:s}){const t=f.useRef(null),n=ue();return e.jsx(D.div,{className:p("z-[21] flex-shrink-0 overflow-x-hidden bg-token-sidebar-surface-primary max-md:!w-0",n.get("enable_arch_updates",!1)&&!n.get("include_legacy_sidebar_contents",!1)&&"h-[100dvh]"),ref:t,initial:!1,animate:{width:a?"260px":0,transition:{type:"spring",bounce:.12,duration:.64}},onAnimationStart:()=>{t.current&&(t.current.style.visibility="visible")},onAnimationComplete:()=>{t.current&&(a||(t.current.style.visibility="hidden"))},children:e.jsx("div",{className:"h-full w-[260px]",children:e.jsx("div",{className:"flex h-full min-h-0 flex-col",children:s})})})}function Ye({children:a}){const s=q(t=>t.activeSidebar);return e.jsx(ge,{open:s==="popover-nav",onOpenChange:t=>{t||v.setActiveSidebar(!1)},children:e.jsxs(me,{children:[e.jsx(fe,{className:"fixed inset-0 z-10 bg-gray-50/50 radix-state-open:animate-show dark:bg-black/50"}),e.jsx(pe,{className:"fixed left-0 top-0 z-50 h-full max-w-xs border-r border-gray-200 bg-token-sidebar-surface-primary shadow-[0_0_64px_0_rgba(0,0,0,0.07)] focus:outline-none radix-state-closed:animate-sidebarHide radix-state-open:animate-sidebarShow dark:border-gray-800",children:a})]})})}const V=P({closeSidebar:{id:"navigation.closeSidebar",defaultMessage:"Close sidebar"},openSidebar:{id:"navigation.openSidebar",defaultMessage:"Open sidebar"},signUpButtonText:{id:"navigation.signUpButtonText",defaultMessage:"Sign up"}});function ea({showFreeTrialLoadingPayment:a,handleGetPaymentLink:s}){const t=U(),n=()=>{a||(M(!0),s())},l=S=>{S.stopPropagation(),Fe(!0),Be(!0)},{data:o,isLoading:c,isSuccess:r}=le({queryKey:["claimedReferralInvite"],queryFn:()=>G.getClaimedReferralInvite(),refetchOnMount:!1,refetchOnWindowFocus:!1,refetchInterval:!1,refetchOnReconnect:!1}),d=o?.invite_code,[u,j]=f.useState(!1);if(f.useEffect(()=>{d&&!u&&r&&(j(!0),k.logEvent("chatgpt_referral_show_claimed_sidebar_menu_promo"),g.logEvent(N.chatgptReferralShowClaimedSidebartMenuPromo))},[d,j,u,r]),!d||c||!r)return null;const h=d.invite_metadata.invite_data,y=h?.referral_trial_duration_months?h?.referral_trial_duration_months>1?t.formatMessage(_.monthsOfBenefit,{referralTrialDurationMonths:h?.referral_trial_duration_months}):t.formatMessage(_.daysOfBenefit,{referralTrialDurationDays:h?.referral_trial_duration_days}):null;return e.jsx(D.div,{className:p("relative",{"cursor-progress opacity-50":a}),layout:"position",initial:{y:-10,opacity:1},animate:{y:0,opacity:1,transition:{duration:.1,ease:"easeIn"}},children:e.jsxs(aa,{className:p(a&&"opacity-75"),onClick:n,children:[e.jsxs("div",{className:"flex w-full flex-row items-center justify-start gap-3",children:[e.jsx(he,{className:"icon-sm shrink-0"}),e.jsx(i,{..._.freeTrialCta,values:{duration:y}})]}),!a&&e.jsx(xe,{onClick:l,className:"icon-md shrink-0 rounded-full p-0.5 text-token-text-tertiary opacity-50 transition-colors duration-200 hover:bg-[#0077FF] hover:text-red-500 group-hover:opacity-100"}),e.jsx("span",{className:"absolute top-11 h-0 w-0 border-l-8 border-r-8 border-t-8 border-l-transparent border-r-transparent border-t-[#0077FF] transition-colors duration-200 group-hover:border-t-[#0077FF]"})]})})}const aa=H.a`group relative mb-1 rounded-md hover:[#0077FF] bg-[#0077FF] flex px-3 min-h-[44px] py-1 items-center gap-3 transition-colors duration-200 dark:text-white cursor-pointer text-sm`,_=P({freeTrialCta:{id:"PaymentMenuItems.freeTrialCta",defaultMessage:"Get {duration}!"},monthsOfBenefit:{id:"FreeTrialMenuItem.monthsOfBenefit",defaultMessage:"{referralTrialDurationMonths, plural, one {one month free} other {# months free}}"},daysOfBenefit:{id:"FreeTrialMenuItem.daysOfBenefit",defaultMessage:"{referralTrialDurationDays, plural, one {one day free} other {# days free}}"}}),ta=be(()=>ve(()=>import("./jchrwujngtw3q930.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13])));function sa(){const a=U(),s=ye(),t=je(),n=A(),l=!n,o=n?.hasPaidSubscription()??!1,c=n?.hasClaimedFreeTrial()??!1,r=f.useMemo(()=>n?.subscriptionAnalyticsParams,[n]),d=Se(),u=async()=>{M(!0),g.logEvent(N.clickAccountPaymentCheckout,r);try{const x=await G.getCheckoutLink(t);window.location.href=x.url}catch{s.warning(a.formatMessage(m.paymentErrorWarning),{hasCloseButton:!0}),M(!1)}finally{}},j=()=>{y||(M(!0),u())},h=E(x=>x.didCloseFreeTrial),y=E(x=>x.showFreeTrialLoadingPayment),S=!h&&c,ee=n?.wasPaidCustomer()??!1;let w=n?.isWorkspaceAccount()??!1;const ae=n?.hasPaidSubscription()??!1,F=n?.isPlus()??!1,{doesUserHaveAnyAccountsWithPlusFeatures:B}=Me(),{layer:te}=z("2670443078");let O=F;!w&&!F&&B&&te.get("is_gating_fix_enabled",!1)&&(O=B,w=!0);const se=!l&&!w,ne=W(),ie=()=>{g.logEvent(N.clickSidebarAccountPaymentMenuItem,r),Re(ne,"Sidebar account payment menu item")};var re=n?.isTeam()??!1;return e.jsxs(e.Fragment,{children:[!o&&S&&e.jsx(ea,{showFreeTrialLoadingPayment:y,handleGetPaymentLink:u}),re?e.jsx(na,{}):null,se&&e.jsx(Q,{onClick:S?j:ie,className:p("rounded-lg",d?"":"m-0 px-2"),children:e.jsx("span",{className:"flex w-full flex-row flex-wrap-reverse justify-between",children:e.jsx("div",{className:"flex items-center gap-2",children:e.jsx(ia,{wasPaidCustomer:ee,showFreeTrialLoadingPayment:y,hasPlusSubscription:O,hasPaidSubscription:ae})})})})]})}const na=()=>{const a=A();return e.jsxs(e.Fragment,{children:[e.jsx(Q,{onClick:()=>{v.openModal(X.InviteUsersToWorkspace),g.logEvent(N.accountMemberInviteButton,{location:"payment-menu-click"}),k.logEvent("chatgpt_invite_users_to_workspace",0,{action:"OpenAdminInviteModal",location:"payment-menu-click",text:"AddTeammatesWithInfo",step:"OpenModal"})},className:"m-0 rounded-lg px-2",children:e.jsx("span",{className:"flex w-full flex-row flex-wrap-reverse justify-between",children:e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"flex h-7 w-7 items-center justify-center rounded-full border border-token-border-light",children:e.jsx(Oe,{className:"icon-sm shrink-0"})}),e.jsx("div",{className:"flex flex-col",children:e.jsxs(e.Fragment,{children:[e.jsx("span",{children:e.jsx(i,{...m.addTeammates})}),e.jsx("span",{className:"line-clamp-1 text-xs text-token-text-tertiary",children:e.jsx(i,{...m.addTeammatesUpsell})})]})})]})})})}),a!=null?e.jsx(ta,{workspace:a}):null]})},ia=({wasPaidCustomer:a,showFreeTrialLoadingPayment:s,hasPlusSubscription:t,hasPaidSubscription:n})=>s?e.jsx(Ce,{className:"icon-sm shrink-0"}):n&&!t?null:e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"flex h-7 w-7 shrink-0 items-center justify-center rounded-full border border-token-border-light",children:e.jsx(Ee,{className:"icon-sm"})}),e.jsx("div",{className:"flex flex-col",children:a?e.jsx(i,{...m.renewPlus}):e.jsxs(e.Fragment,{children:[e.jsx("span",{children:t?e.jsx(i,{...m.viewPlans}):!n&&e.jsx(i,{...m.upgradePlan})}),e.jsx("span",{className:"line-clamp-1 text-xs text-token-text-tertiary",children:t?e.jsx(i,{...m.upgradeToProOrTeamUpsell}):!n&&e.jsx(i,{...m.upgradeToPlusUpsell})})]})})]}),m=P({upgradePlan:{id:"PaymentMenuItems.upgradePlan",defaultMessage:"Upgrade plan"},createATeamWorkspace:{id:"PaymentMenuItems.createATeamWorkspace",defaultMessage:"Add Team workspace"},viewPlans:{id:"PaymentMenuItems.viewPlans",defaultMessage:"View plans"},upgradeToTeamUpsell:{id:"PaymentMenuItems.upgradeToTeamUpsell",defaultMessage:"Collaborate on a Team plan"},upgradeToProOrTeamUpsell:{id:"PaymentMenuItems.upgradeToProOrTeamUpsell",defaultMessage:"Unlimited access, team features, and more"},upgradeToPlusUpsell:{id:"PaymentMenuItems.upgradeToPlusUpsell.0",defaultMessage:"More access to the best models"},renewPlus:{id:"PaymentMenuItems.renewPlus",defaultMessage:"Renew Plus"},inviteReferral:{id:"PaymentMenuItems.inviteReferral",defaultMessage:"Refer a friend"},addTeammates:{id:"PaymentMenuItems.addTeammates.0",defaultMessage:"Add teammates"},addTeammatesUpsell:{id:"PaymentMenuItems.addTeammatesUpsell.0",defaultMessage:"Invite coworkers to ChatGPT"},inviteMembers:{id:"PaymentMenuItems.inviteMembers.0",defaultMessage:"Invite members"},paymentErrorWarning:{id:"PaymentMenuItems.paymentErrorWarning",defaultMessage:"The payments page encountered an error. Please try again. If the problem continues, please visit help.openai.com."}});function xa({navHeader:a,children:s,className:t}){const n=U(),l=f.useRef(null),o=ke(),{isUnauthenticated:c}=T(),r=Ne("include_legacy_sidebar_contents"),{layer:d}=z("1578749296"),u=d.get("is_sticky_toggle_off",!1);return f.useEffect(()=>{u&&v.toggleDesktopNavCollapsed()},[u]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:"draggable relative h-full w-full flex-1 items-start border-white/20",children:[e.jsx(Te,{asChild:!0,children:e.jsx("h2",{children:e.jsx(i,{...b.chatHistoryLabel})})}),e.jsxs("nav",{className:p("flex h-full w-full flex-col px-3",r()&&"max-h-[100lvh]",t),"aria-label":n.formatMessage(b.chatHistoryLabel),children:[a,e.jsx(oa,{ref:l,$disableScroll:o&&!c,children:s}),e.jsx(Pe,{children:e.jsx(ra,{})})]})]})})}function ra(){const[a]=f.useState(()=>{const o=we.getCookie(Ie.Workspace);return typeof o=="string"&&o!==_e}),s=A(),t=s?.data==null,{isUnauthenticated:n}=T(),{openSettings:l}=J();return a&&t||!s?null:n?e.jsx(Y,{}):e.jsxs("div",{className:p("flex flex-col py-2 empty:hidden dark:border-white/20"),children:[e.jsx(De,{}),e.jsx(sa,{}),e.jsx("div",{className:"flex w-full items-center md:hidden",children:e.jsx("div",{className:"max-w-[100%] grow",children:e.jsx(Xe,{onClickSettings:()=>l()})})})]})}const Y=()=>{const a=K(),s=L(),t=$(b.unauthSignupCta),n=()=>{s({authType:"login",callback:r=>{g.logLogInButtonClicked({location:"Sidebar bottom unit",provider:r}),k.logEvent("chatgpt_sidebar_login_button_clicked")}})},l=()=>{s({authType:"signup",callback:r=>{g.logSignUpButtonClicked({location:"Sidebar bottom unit",provider:r}),k.logEvent("chatgpt_sidebar_signup_button_clicked")}})},o=e.jsx(C,{as:"button",size:"medium",color:a?"secondary":"primary","data-testid":"signup-button",onClick:l,children:e.jsx(i,{...t})}),c=e.jsx(C,{as:"button",size:"medium",color:a?"primary":"secondary","data-testid":"login-button",onClick:n,children:e.jsx(i,{...b.unauthLoginCta})});return e.jsxs("div",{className:"p-2",children:[e.jsxs("div",{className:"mb-4 mt-2",children:[e.jsx("p",{className:"mb-1 text-sm font-semibold text-token-text-primary",children:e.jsx(i,{...a?b.logInOrSignUp:b.signUpOrLogIn})}),e.jsx("p",{className:"text-sm text-token-text-secondary",children:e.jsx(i,{id:"4qlPtW",defaultMessage:"Get smarter responses, upload files and images, and more."})})]}),e.jsx("div",{className:"flex flex-row items-start gap-2",children:a?[c,o]:[o,c]})]})},oa=H.div`flex-col flex-1 transition-opacity duration-500 relative -mr-2 pr-2
  ${({$disableScroll:a})=>a?"overflow-y-hidden opacity-20 pointer-events-none":"overflow-y-auto"}`,b=P({chatHistoryLabel:{id:"NavigationContent.chatHistoryLabel",defaultMessage:"Chat history"},closeSidebar:{id:"NavigationContent.closeSidebar",defaultMessage:"Close sidebar"},signInToChat:{id:"NavigationContent.signInToChat",defaultMessage:"Sign in to ChatGPT"},signUpOrLogIn:{id:"NavigationContent.signUpOrLogIn",defaultMessage:"Sign up or log in"},logInOrSignUp:{id:"NavigationContent.logInOrSignUp",defaultMessage:"Log in or sign up"},unauthSignupCta:{id:"NavigationContent.unauthSignupCta",defaultMessage:"Sign up"},unauthLoginCta:{id:"NavigationContent.unauthLoginCta",defaultMessage:"Log in"}}),ba=()=>{const{openSettings:a}=J(),s=Ae("3376455464")?.value,t=W();return e.jsxs("div",{className:"flex h-full flex-col gap-2 p-3",children:[e.jsx(R,{icon:We,onClick:()=>{He(t),v.closeActiveSidebar()},children:e.jsx(i,{id:"0FupYP",defaultMessage:"New chat"})}),e.jsx("div",{className:"flex grow items-center justify-center",children:e.jsx(Y,{})}),e.jsxs(Ue,{contentClassName:"w-[298px]",triggerButton:e.jsx(R,{icon:Ge,children:e.jsx(i,{id:"y4Lkp7",defaultMessage:"Settings and more"})}),children:[e.jsx(I.Item,{onClick:()=>a(),icon:ze,children:e.jsx(i,{id:"HrRLkZ",defaultMessage:"Settings"})}),s&&e.jsx(I.Item,{icon:Ke,onClick:()=>{v.openModal(X.ReportConversation)},children:e.jsx(i,{id:"thread.report.0",defaultMessage:"Report illegal content"})}),e.jsx(I.Separator,{}),e.jsx($e,{})]})]})};export{xa as N,sa as P,ma as S,ba as U,fa as a,ha as b,pa as c,ga as d,Y as e};
//# sourceMappingURL=gruuolgwd1up46vp.js.map
