const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/kheo25b214azjmcr.js","assets/lklglvrzltpv3f05.js","assets/dvitv0c7q5c06c87.js","assets/ntw4l0fkgqdiln85.js","assets/ltrr4mhf6s4m7a72.js","assets/root-bh5spu2n.css","assets/conversation-small-iybhw0ps.css","assets/hzzlkn5ny7a6v61q.js","assets/m5cd4p680vhusvsg.js","assets/dz00r7qlzgek59uu.js","assets/bwsmtgh34vk8igjb.js","assets/vyarha3ckzwu9yf1.js","assets/lnovrxcizvfadwta.js"])))=>i.map(i=>d[i]);
import{j as e,r as x}from"./lklglvrzltpv3f05.js";import{hr as J,hs as Q,ht as Z,gP as K,b_ as Y,hu as ee,hv as se,hw as ae,hx as D,hy as ne,hz as te,hA as re,hB as oe,hC as ie,bA as ce,hD as de,hE as B,hF as le,aL as A,hG as he,cX as ue,cG as M,hH as me,fy as pe,cH as Ce,co as xe,hI as Se,hJ as ve,cp as ge,cq as Te,cr as fe,cs as je,cv as be,ct as R,cu as ye,cw as Ne}from"./ntw4l0fkgqdiln85.js";import{aN as W,aO as z,gH as V,cj as Ie,cw as Le,dO as we,fW as Ee,as as q,fi as r,ao as m,ak as He,$ as ke,aj as _e,d3 as De,d$ as Ae,dd as G,fH as Me,aX as Oe,fI as Pe,dT as Fe,gI as Re,b6 as Ue}from"./ltrr4mhf6s4m7a72.js";import{S as Be,u as $,E as We,C as U,c as ze,T as Ve,d as qe}from"./m5cd4p680vhusvsg.js";import{f as O,g as Ge,u as $e}from"./hzzlkn5ny7a6v61q.js";import{C as Xe}from"./p8eg3euad9gvin3k.js";import{C as Je}from"./lweu58rz02vpanvm.js";import{S as Qe,C as Ze}from"./jebvbwlsp750x4d4.js";import{b as Ke,U as Ye,N as es}from"./gruuolgwd1up46vp.js";function ss({clientThreadId:s,currentModelId:o,isModelLoaded:i,onRequestCompletion:a,v2HomepageDisclaimer:n}){return e.jsx(Be,{clientThreadId:s,currentModelId:o,isModelLoaded:i,onRequestCompletion:a,v2HomepageDisclaimer:n})}const as=W(()=>z(()=>import("./kheo25b214azjmcr.js"),__vite__mapDeps([0,1,2,3,4,5,6,7])).then(s=>s.ChatScreenContentModals));function ns({disableEmptyState:s,fullWidth:o,renderEmptyState:i}){const{clientThreadId:a,currentModelId:n,conversationLeafId:t,isCompanionWindow:c,isEmbeddedInFocusedView:h,onChangeItemInView:p,onChangeRating:u,onRequestCompletion:l,onRequestMoreCompletions:b,isModelLoaded:C,prefetchSearch:S}=x.useContext(O),v=V(a,t),T=Ie(a,Le.getScrollToMessageId),y={clientThreadId:a,conversationLeafId:t,currentModelId:n,onChangeItemInView:p,onChangeRating:u,onRequestMoreCompletions:b,onRequestCompletion:l,showAvatar:!1},f=we(a),E=J({clientThreadId:a,currentLeafId:t,handleRequestCompletion:l,prefetchSearchPromise:S}),N=f||E||s,g=Ee(),{initialConversationTurns:j,continuedConversationTurns:I}=Q(v,g),{canUseNewHomepage:L,showEmptyState:H}=$({clientThreadId:a,currentLeafId:t}),k=v>=2;Z(k);const{setTargetedContent:w}=K(),X=Y(n),P=ee(a);se(v,a,t),x.useEffect(()=>{h||w(void 0)},[a,w,h]);const F=ae(a,t);if(H){if(i!=null)return i();if(L&&!N){const d=c?null:e.jsx("div",{className:"text-center text-xs text-token-text-secondary",children:e.jsx(D,{clientThreadId:a})});return e.jsx(ss,{clientThreadId:a,currentModelId:n,isModelLoaded:C,onRequestCompletion:l,v2HomepageDisclaimer:d})}else if(!L&&!N)return e.jsx(We,{clientThreadId:a,currentModelId:n,isModelLoaded:C,onRequestCompletion:l,enableV2Homepage:!X,v2HomepageDisclaimer:e.jsx(D,{clientThreadId:a})})}return e.jsxs(e.Fragment,{children:[g&&e.jsx(ne,{}),g&&I.length===0&&e.jsx(te,{}),e.jsx(q,{children:e.jsxs(x.Suspense,{fallback:null,children:[e.jsx(re,{}),j.length>0&&e.jsx("ol",{className:r.conversationTurnList,onCopy:P,children:j.map(({turnIndex:d,isFinalTurn:_})=>e.jsx("li",{className:m(r.conversationTurnWrapper,o&&"w-full"),children:x.createElement(U,{...y,key:`${a}-${d}`,turnIndex:d,isFinalTurn:_,scrollToMessageId:T,dateHeaderType:F(d)})},d))}),g&&e.jsx(oe,{}),e.jsx("ol",{className:r.conversationTurnList,onCopy:P,children:I.map(({turnIndex:d,isFinalTurn:_})=>e.jsx("li",{className:m(r.conversationTurnWrapper,o&&"w-full"),children:x.createElement(U,{...y,key:`${a}-${d}`,turnIndex:d,isFinalTurn:_,scrollToMessageId:T,dateHeaderType:F(d)})},d))})]})}),e.jsx(as,{}),v>0&&e.jsx(ie,{})]})}function ts({renderEmptyState:s}){return e.jsx(ns,{renderEmptyState:s})}const rs=W(()=>z(()=>import("./m5cd4p680vhusvsg.js").then(s=>s.e),__vite__mapDeps([8,4,1,5,3,6,7,9,10,11,12])).then(s=>s.ChatScreenComposerAlerts));function os(){const{clientThreadId:s,currentModelId:o,isCompanionWindow:i,onRequestCompletion:a}=x.useContext(O),n=ce(s),t=He(s),h=V(s,t)>=2,p=ke(s,t),u=_e(s)&&!h&&de(n),{setComposerFooterElement:l}=x.useContext(B);return e.jsx("div",{className:r.footer,children:e.jsxs(le,{style:{"--bar-gap":"0.5rem","--bar-background-color":"transparent"},children:[e.jsxs(A,{type:"secondary",className:"relative",children:[h&&e.jsx(he,{className:r.scrollButton}),e.jsx(rs,{})]}),e.jsxs(A,{type:"primary",ref:l,name:"composer-bar",className:"bottom-[var(--screen-keyboard-bottom,env(keyboard-inset-bottom,0px))] has-thread-error:bg-token-main-surface-primary has-thread-error:pt-8",children:[e.jsx(ze,{clientThreadId:s,currentModelId:o,isNewThread:u,noWrap:!0,onRequestCompletion:a,showPromptStarters:u||!p}),!i&&e.jsx("div",{className:"text-center text-xs text-token-text-secondary keyboard-open:hidden",children:e.jsx(D,{clientThreadId:s})})]})]})})}function is(){const{clientThreadId:s,isLoggedInUser:o,onNewThread:i}=x.useContext(O),a=De(s),n=ue(a),t=Ae(),c=G(),h=M(S=>!S.isDesktopNavCollapsed),p=Me(),u=c.get("include_legacy_sidebar_contents",!1),{useStore:l}=me(),C=l(S=>S.isSidebarOpen)||u&&h&&!p;return e.jsxs(A,{leading:!0,type:"primary",className:r.header,children:[e.jsxs("div",{className:r.headerLeading,children:[!t&&n&&e.jsx(Ge,{clientThreadId:s,hideNewChat:!0}),o&&e.jsx(pe,{className:m(C&&"invisible")}),!n&&(!o||!C)&&e.jsx(Xe,{onNewThread:i,className:m(o&&"hidden @lg/thread:inline-flex",C&&"invisible"),location:"thread"}),e.jsx("div",{className:m(r.threadDropdown),children:e.jsx(Ve,{clientThreadId:s})})]}),e.jsx("div",{className:r.headerTrailing,children:e.jsx(q,{children:e.jsx(qe,{clientThreadId:s})})})]})}function cs({clientThreadId:s,onNewThread:o}){const i=Ce(),[a]=M(t=>[t.activeStageSidebar]),{isUnauthenticated:n}=Oe();return e.jsx(Ke,{isExpanded:!i,isPopoverOnDesktop:a,children:n?e.jsx(Ye,{}):e.jsx(es,{navHeader:s?e.jsx(Qe,{className:"flex h-[60px] items-center md:h-header-height",onNewThread:o}):null,children:e.jsx(Ze,{clientThreadId:s})})})}function vs({hideHeader:s=!1,hideFooter:o=!1,hideTools:i=!1,embedded:a=!1,renderEmptyState:n,ref:t}){const{clientThreadId:c,currentModelId:h,conversationLeafId:p,isCompanionWindow:u,isInstalledApp:l,onNewThread:b,onRequestCompletion:C,routeType:S}=$e(),{canUseNewHomepage:v,showEmptyState:T}=$({clientThreadId:c,currentLeafId:p}),y=G(),f=Pe("include_legacy_sidebar_contents"),E=xe()[h],[N,g]=Se({name:"composer-bar",track:"height"}),j=ve(c),I=ge(),L=Fe(),H=o||T&&v,k=M(w=>f()&&!w.isDesktopNavCollapsed);return Re(c),e.jsx(Ue.Provider,{value:C,children:e.jsx(Te,{children:e.jsxs(fe,{clientThreadId:c,currentLeafId:p,children:[e.jsx(je,{children:j!=null&&e.jsx("title",{children:j})}),e.jsx(be,{clientThreadId:c,className:m(a&&"h-full","flex-1"),currentModelConfig:E,children:e.jsx(B.Provider,{value:{setComposerFooterElement:g},children:e.jsxs("div",{className:m("h-full",f()&&"flex"),style:{container:"thread-container / inline-size","--legacy-sidebar-offset":k?"260px":""},children:[e.jsx(R,{id:"canvas-state",name:"canvas-state",checked:I}),e.jsx(R,{id:"thread-extended-info-sidebar-state",name:"thread-extended-info-sidebar-state",checked:L}),f()&&e.jsx(cs,{clientThreadId:c,onNewThread:b}),e.jsx(ye,{anchor:"vertical",className:m(r.screen,T&&v&&r.screenEmptyState,u&&r.screenCompanionWindow,l&&r.screenInstalledApp,a&&r.screenEmbedded),contentClassName:m(S==="snorlax"&&"mx-auto max-w-screen-md"),primaryScrollContainer:!0,name:"thread",leading:!s&&e.jsx(is,{}),style:N,ref:t,trackLeading:!0,trackTrailing:!0,trailing:!H&&e.jsx(os,{}),children:e.jsx(ts,{renderEmptyState:n})}),!u&&!i&&e.jsxs(e.Fragment,{children:[y.get("include_account_settings_move",!1)&&e.jsx(Je,{}),e.jsx(Ne,{})]})]})})})]})})})}export{vs as C,is as a,ts as b};
//# sourceMappingURL=n7xaphlc0h5m9xjk.js.map
