import{r as c,j as n}from"./lklglvrzltpv3f05.js";import{dX as p,dY as h,dZ as f,d_ as x,d$ as S,e0 as _,e1 as w}from"./ntw4l0fkgqdiln85.js";import{J as g,a as A}from"./n56psomdxg8obhd8.js";import{h as b,r as j}from"./ltrr4mhf6s4m7a72.js";function E(r,i){const t=i.find(s=>s.message.author.role===b.Assistant),e=j.getTree(r),a=(t?e.getParentPromptNode(t.nodeId):null)?.message.metadata,o=a?.real_author_type==="automation"?a?.real_author_id:null,l=a?.real_author_title,m=p(s=>h.getAutomation(o??"",s));return c.useEffect(()=>{o&&!m&&f.getAutomation(o).then(s=>{x.setAutomation(o,s)})},[m,o]),{automationId:o,automation:m,automationTitle:l}}function y({clientThreadId:r,messages:i}){const{automationId:t,automation:e,automationTitle:d}=E(r,i),[a,u]=c.useState(!1);return c.useEffect(()=>{t&&S.count(_.JAWBONE,"jawbone_automation_source_header.open")},[t]),t?n.jsxs("div",{className:"mb-1 flex items-center gap-1.5 text-sm text-token-text-secondary hover:text-token-text-primary",children:[n.jsx(w,{className:"icon-sm"}),n.jsx("button",{onClick:()=>{u(!0)},children:e?.title??d}),a&&n.jsx(g,{initialScheduleComponents:e.schedule_components,nextRunTimes:e.next_run_times,children:n.jsx(A,{item:e,onClose:()=>{u(!1)}})})]}):null}export{y as AutomationSourceHeader};
//# sourceMappingURL=h2wrxznmzvsliwms.js.map
