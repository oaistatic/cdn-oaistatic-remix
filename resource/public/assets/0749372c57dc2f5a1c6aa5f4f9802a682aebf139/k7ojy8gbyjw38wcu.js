import{f as P,e as _,X as d,r as s,ae as h,j as l}from"./lklglvrzltpv3f05.js";import{b1 as A}from"./ntw4l0fkgqdiln85.js";import{aQ as C,L as R,d5 as g,bB as y,bC as E,N as M,P as O,j as L}from"./ltrr4mhf6s4m7a72.js";import{C as T}from"./j60v91uv8yx3ab7u.js";const m={pro:"chatgptpro",plus:"chatgptplusplan"},f=Object.keys(T),j={oiw216z:"sora_redirect"};function N(){const[p]=P(),a=_(),r=C(),{plan:t}=d(),e=p.get("checkout_from"),c=s.useRef(!1),o=R(),n=s.useMemo(()=>o?.subscriptionAnalyticsParams,[o]);if(!t||!(t in m))throw h("/");return s.useEffect(()=>{if(c.current)return;c.current=!0,(async()=>{const u=e&&f.includes(e)?j[e]:"purchase_plan_redirect";try{e&&f.includes(e)&&y.setItem(E.CheckoutFrom,e);const i=await M.getCheckoutLink(r,{plan_name:m[t]});O.logEvent(L.accountPaymentRedirect,{...n,plan:t,location:u}),window.location.href=i.url}catch{A(a,u)}})()},[a,r,t,e,n]),l.jsx("div",{className:"flex h-full w-full items-center justify-center",children:l.jsx(g,{})})}export{N as default};
//# sourceMappingURL=k7ojy8gbyjw38wcu.js.map
