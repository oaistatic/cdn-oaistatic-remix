const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/es9zmbav1dbq96af.js","assets/muemwvh3ybsggbb1.js","assets/lklglvrzltpv3f05.js","assets/root-cao1t5wk.css","assets/cp734xu9t8fnlezn.js","assets/conversation-small-bez2bigx.css","assets/k94b31cfx666o95o.js","assets/knmpwptd3ukv8lhn.js","assets/fjuwhhig9g0xhokn.js","assets/ihngep0rskaxnh6j.js","assets/c4bxzbp1808foto4.js","assets/is0m8tfqgil3c7at.js","assets/n2org3lp2h7qg1d3.js","assets/ergkj5c0fieprx2t.js","assets/gt9bqxxv5tm4mxgb.js","assets/zcwaehho7sns4ks4.js","assets/d3fq140zc3twd2zv.js","assets/784s8wahottjk0mt.js","assets/niv09ftczy3amt99.js","assets/hd9epd94ws110vxy.js","assets/k5u3zqwwbhrcvwt6.js","assets/hrqebt1cy2m73e7b.js","assets/j9qctek7saq0riwf.js","assets/6pnkzr9mb29nz1pz.js","assets/cfomm9pr8dm8j2s1.js","assets/e6u6phn5arngbzxw.js","assets/mvzr12kyv6trp09q.js","assets/c1eij8y6uricwssg.js","assets/k3hicc8rbwef28my.js","assets/j8ywpfcjmq1mweip.js","assets/cyqh5pewhk34cwzb.js","assets/ijwsqx5b9y4rlvqu.js","assets/d197qvlrpr6mqktk.js","assets/dbl63n4yi7gabe5l.js","assets/fzrn137102spawew.js","assets/j9pn3dpqp3dnyeg5.js","assets/lr2wtvbk3k0uolp8.js","assets/dvvege5f8or8rz89.js","assets/btagl6w1gub4aw61.js","assets/d9qmae552ciib3ri.js","assets/g4tl5lt9yqf20m4s.js"])))=>i.map(i=>d[i]);
import{d_ as K,cf as G,em as q,dW as M,gd as _,aV as p,aW as b,dN as w,gu as Q,dL as X,aw as J,cB as S,N as Y,ao as $,aa as Z,d6 as N,v as P,bo as ee,D as se,cJ as ae,cK as te,ds as re,fp as ie,J as oe}from"./muemwvh3ybsggbb1.js";import{r as n,j as e,ad as D,e as ne,a as de,c as ce,ac as h,d as A,f as le,u as ue}from"./lklglvrzltpv3f05.js";import{il as he,im as L,io as me,hh as fe,ip as k,hj as g,gS as xe,bL as y,bM as F,o as ge,u as pe,p as be,cp as ve,g0 as je,v as we,w as Se,D as ye,iq as Ce,m as Te,co as Ee,T as Ie,q as _e,x as Ne,ir as Pe,cc as Ae,is as ke,it as Fe,cC as Ve,cD as V,iu as Oe,aK as Me,iv as De,iw as Le,bu as Re,cn as Ue,di as ze,ix as We,iy as Be,iz as He,dj as Ke,iA as Ge,cd as qe}from"./cp734xu9t8fnlezn.js";import{C as Qe}from"./is0m8tfqgil3c7at.js";import{a as R,u as C}from"./gt9bqxxv5tm4mxgb.js";import{C as U}from"./6pnkzr9mb29nz1pz.js";import{a as Xe}from"./niv09ftczy3amt99.js";import{C as Je}from"./784s8wahottjk0mt.js";function Ye(){const a=he(t=>t.notifications),{activeThreadIds:s}=K();return n.useEffect(()=>{a.filter(r=>r.clientThreadId===void 0||s.has(r.clientThreadId)).map(r=>r.id).filter(r=>r!==void 0).forEach(r=>L(r))},[s,a]),a.length===0||G?null:e.jsx("div",{className:"fixed right-4 top-8 my-2 flex max-h-[90vh] flex-col-reverse space-y-2 space-y-reverse overflow-y-auto px-2 py-4",children:e.jsx(D,{children:a.map(t=>e.jsx($e,{...t},t.id))})})}function $e({...a}){const s=ne(),t=de(),r=ce(),o=q(a.clientThreadId),d=()=>{o&&fe(s,t,o),a.id&&L(a.id)};return e.jsxs(h.div,{onClick:d,className:"inline-flex w-80 cursor-pointer items-center justify-start gap-2.5 rounded-2xl border border-token-border-light bg-token-main-surface-primary px-3 py-3 align-middle shadow-lg",initial:{opacity:0,x:320},animate:{opacity:1,x:0},exit:{opacity:0,x:320},transition:{duration:.5},children:[e.jsx(me,{iconName:"openai",size:"medium",className:"border-token-secondary rounded-full border bg-token-main-surface-primary text-token-text-primary"}),e.jsxs("div",{className:"inline-flex w-full shrink grow basis-0 flex-col items-start justify-start overflow-hidden",children:[e.jsx("div",{className:"w-full truncate text-sm font-medium text-token-text-primary",children:a.title??r.formatMessage({id:"mpXAeu",defaultMessage:"New chat"})}),e.jsx("div",{className:"w-full truncate text-sm text-token-text-tertiary",children:a.subtitle??r.formatMessage({id:"qMEc8J",defaultMessage:"New Message"})})]})]})}const O=450;function Ze({children:a,clientThreadId:s,isOpen:t,onClose:r}){const o=M();return e.jsxs(D,{children:[t&&o&&e.jsx(R,{clientThreadId:s,children:e.jsx(_,{children:e.jsx(k.Provider,{value:{isEmbeddedInFocusedView:!0},children:e.jsxs("div",{className:"absolute inset-0 flex flex-col",children:[e.jsx(h.div,{className:"h-full w-full bg-token-main-surface-secondary",...g}),e.jsxs("div",{className:"absolute inset-0 flex",children:[e.jsx(h.div,{className:"relative shrink-0 border-r border-token-border-medium bg-token-main-surface-primary",style:{width:O},...g,children:e.jsx(U,{hideHeader:!0,hideTools:!0})}),e.jsx("div",{className:"relative flex-grow overflow-auto",children:a})]})]})})})}),t&&!o&&e.jsx(_,{children:e.jsx(k.Provider,{value:{isEmbeddedInFocusedView:!0},children:e.jsxs("div",{className:"absolute inset-0 flex flex-col",children:[e.jsx(h.div,{className:"h-full w-full bg-token-main-surface-secondary",...g}),e.jsxs("div",{className:"absolute inset-0 flex",children:[e.jsx("div",{className:"flex-grow overflow-auto",children:a}),e.jsx(h.div,{className:"relative shrink-0 border-l border-token-border-medium bg-token-main-surface-primary",style:{width:O},...g,children:e.jsx("div",{className:"h-[100vh] pb-4",children:e.jsx(Xe,{clientThreadId:s,hideHeader:!0,hideFooter:!0,hideToolsOverlay:!0,messagesVerticalAlign:"bottom"},s)})})]})]})})})]})}const es=p(()=>b(()=>import("./es9zmbav1dbq96af.js"),__vite__mapDeps([0,1,2,3,4,5]))),ss=p(()=>b(()=>import("./k94b31cfx666o95o.js"),__vite__mapDeps([6,1,2,3,4,5,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24])).then(a=>a.ImageEditor));function as({clientThreadId:a}){const s=xe();n.useEffect(()=>{y.close()},[a]);let t;return s?.type===F.ADAVisualization?t=e.jsx(es,{clientThreadId:a,visualization:s.visualization}):s?.type===F.Image&&(t=e.jsx(ss,{clientThreadId:a,messageId:s.messageId,image:s.image,allImages:s.allImages},s.image.asset_pointer)),e.jsx(Ze,{clientThreadId:a,isOpen:s!=null,onClose:y.close,children:t})}function ts(){const{clientThreadId:a,resetThread:s}=C();return ge({resetThreadAction:s,clientThreadId:a}),null}const rs=p(()=>b(()=>import("./e6u6phn5arngbzxw.js"),__vite__mapDeps([25,2,4,1,3,5,26,19,27,28,29,30,31,32,14,33,34,35,20,21,36,37,38])).then(a=>a.CanvasFocusedViewManager)),is=64;function os(){const{focusedObject:a,clientThreadId:s}=C();w(void 0);const t=n.useRef(null),r=Q(x=>x.height),o=pe(),d=w("searchSources"),m=w("summarizer"),i=X(),[c,v]=n.useState(!1),j=!o&&!!a;let u=r??0;c&&(u+=is);const f=be();return e.jsx(ve,{className:J(S.application,"keyboard-open:[--keyboard-height-multiplier:1]",{[S.withCanvasFocusedView]:!!o,[S.withEmbeddedFocusedView]:j}),banner:e.jsx(Y,{children:e.jsx(je,{setIsMobileAppUpsellBannerVisible:v})}),sidebar:e.jsx(Je,{}),thread:e.jsx(U,{ref:t},s),details:e.jsx(rs,{clientThreadId:s}),threadExtendedInfo:i&&e.jsxs(e.Fragment,{children:[!1,d&&e.jsx(we,{clientThreadId:s}),f&&m&&e.jsx(Se,{clientThreadId:s})]}),debugger:e.jsx(ye,{clientThreadId:s}),name:"application-root",style:{"--screen-height-offset":u>0?`${u}px`:""}})}function ns(){const{clientThreadId:a,currentModelId:s,isCompanionWindow:t}=C();return e.jsx(Ce,{conversationId:a,currentModelId:s,isActiveWindow:!t})}function ds({clientThreadId:a,urlThreadId:s}){return Te({clientThreadId:a}),e.jsxs(Ee,{children:[e.jsx(ns,{}),e.jsx(ts,{}),e.jsxs(Ie,{enableSandbox:!0,clientThreadId:a,children:[e.jsx(_e,{clientThreadId:a,urlThreadId:s}),e.jsx(Ne,{}),e.jsx(os,{})]})]})}var cs={};const ls=p(()=>b(()=>import("./d9qmae552ciib3ri.js"),__vite__mapDeps([39,2,1,3,4,5,14,23,18,19,20,21,22,24,40])));function js(a){const{urlThreadId:s,clientThreadId:t,prefetchSearch:r}=a;us();const o=$(),d=A(),[m]=le(),[i,c]=n.useState(()=>s!==void 0?Z.getClientNewThreadIdForServerThreadId(s)??s:t!==void 0?t:N());s!==void 0&&i!==s&&(P.getServerThreadId(i)===s||c(s));const v=Pe(A());n.useEffect(()=>{s===void 0&&P.getServerThreadId(i)!==void 0&&c(N())},[s,i,v]);const j=Ae(qe.workspaceId),u=M(),{eligible:f,isLoading:x,markAsViewed:T}=ke(),E=Fe(),z=ee("3435450078");n.useEffect(()=>{(d.pathname==="/"||d.pathname.startsWith("/c/"))&&Ve({namespace:V.ChatPageLoad})==null&&(Oe({namespace:V.ChatPageLoad,opts:{expectedTimingLogs:[{name:"render_model_switcher",expectedInMs:1e4},{name:"render_history_items",expectedInMs:25e3}]}}),se.addTiming("chatgpt.web.chatPage.mounted"))},[]);const I=Me();n.useEffect(()=>{ae(!0).then(l=>{l.force_login&&I({authType:"login"}),De.initializeAndGatherData(l),te.initializeAndGatherData(l)})},[I]),n.useEffect(()=>{const l=m.get(Le)==="true";o!==l&&re.setIsTemporaryChatEnabled(l)},[o,m]),n.useEffect(()=>{d.state?.focusObject&&y.setFocusedObject(d.state.focusObject)},[d.state?.focusObject]),n.useEffect(()=>{!x&&f&&(T(),E())},[f,x,T,E]);const{isOpen:W,isLoading:B}=Re(),H=u?ds:Qe;return e.jsx(ie.Provider,{value:null,children:e.jsx(Ue,{children:e.jsxs(ze,{clientThreadId:i,children:[e.jsx(We,{clientThreadId:i},j),!B&&W&&e.jsx(ls,{clientThreadId:i,setClientThreadId:c}),e.jsx(Be,{}),e.jsx(He,{}),e.jsx(R,{clientThreadId:i,setClientThreadId:c,prefetchSearch:r,children:e.jsx(H,{urlThreadId:s,clientThreadId:i,setClientThreadId:c,prefetchSearch:r})}),e.jsx(as,{clientThreadId:i}),e.jsx(Ke,{clientThreadId:i}),e.jsx(Ge,{}),z?e.jsx(Ye,{}):!1]})})})}function us(){ue({queryKey:["pingEdge"],queryFn:()=>oe.pingEdge(),enabled:!0,staleTime:1/0})}typeof window<"u"&&(window._g=cs.GOKU_SERVICE);export{js as C,O as F};
//# sourceMappingURL=baoyeygjfosl813s.js.map
