import{X as w,f as P,e as b,r as a,a as F,j as e}from"./lklglvrzltpv3f05.js";import{a9 as I,al as S,v as p,fm as E}from"./muemwvh3ybsggbb1.js";import{t as C,a as r,u as M,s as R,C as f,b as B,g as h,T as O,i as N}from"./cp734xu9t8fnlezn.js";import{T as Q,C as q}from"./38wgdyaoqz9r7rg1.js";import{C as v,T as A}from"./j8ywpfcjmq1mweip.js";import{C as H}from"./gt9bqxxv5tm4mxgb.js";import"./mvzr12kyv6trp09q.js";import"./hd9epd94ws110vxy.js";import"./c1eij8y6uricwssg.js";import"./cyqh5pewhk34cwzb.js";import"./ijwsqx5b9y4rlvqu.js";import"./d197qvlrpr6mqktk.js";import"./dbl63n4yi7gabe5l.js";import"./fzrn137102spawew.js";import"./j9pn3dpqp3dnyeg5.js";import"./k5u3zqwwbhrcvwt6.js";import"./hrqebt1cy2m73e7b.js";import"./lr2wtvbk3k0uolp8.js";import"./dvvege5f8or8rz89.js";import"./k3hicc8rbwef28my.js";const re=()=>(E(),null);function ne(){const d=w(),[o]=P(),c=b(),x=C(d.conversationId),n=r(o.get("readonly"),!1),T=r(o.get("isFullScreen"),!1),m=r(o.get("header"),!0),l=I(()=>N()),y=r(o.get("hideBottomComposer"),!!n),s=C(d.canmoreId),t=x,i=M();a.useEffect(()=>{R({type:f.Textdoc,textdocId:s})},[s]),B(t,{kind:S.PrimaryAssistant});const u=F();if(a.useEffect(()=>(p.retainThread(t),()=>{setTimeout(()=>{u.invalidateQueries({queryKey:["conversation",t]})},0),p.releaseThread(t)}),[t,u]),a.useEffect(()=>{s||c("/")},[s,c]),a.useEffect(()=>{h().sendMessage({type:v.Loaded})},[s]),!s||i?.type!==f.Textdoc)return null;const g=()=>{h().sendMessage({type:v.Close})},j=n&&!m;return e.jsxs("div",{className:"h-full w-full overflow-hidden contain-content",children:[e.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1, maximum-scale=1"}),e.jsx(H,{clientThreadId:t,children:e.jsx(O,{enableSandbox:l,clientThreadId:t,children:j?e.jsxs(e.Fragment,{children:[e.jsx(Q,{textdocId:i.textdocId}),e.jsx(q,{})]}):e.jsx(A,{isEmbedded:!0,isFullScreen:T,hideHeader:!m,hideBottomComposer:y,isReadonlyFromQueryParam:n,hideRunCode:!l,clientThreadId:t,focusedTextdoc:i,onClose:g},"textdocContent")})})]})}export{re as clientLoader,ne as default};
//# sourceMappingURL=iiyu55pm6pf4uppp.js.map
